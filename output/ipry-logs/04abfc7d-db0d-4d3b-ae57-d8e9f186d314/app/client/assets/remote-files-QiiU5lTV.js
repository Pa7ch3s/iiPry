import{h as i}from"./chunk-WY5IRSCW-1dc6FieG.js";import{u as g,b as u,e as I}from"./index-BnTlsbFl.js";import{i as z}from"./insomnia-fetch-B_XbrnGh.js";import{b as f}from"./router-BoVIwh1i.js";async function L(n){const{id:r,accountId:s}=await g.get();if(!r)return{files:[]};try{const o=await z({method:"GET",path:"/v1/user/files",sessionId:r}),c=JSON.parse(localStorage.getItem(`${s}:organizations`)||"[]"),d=o.map(t=>t.organizationId),m=o.map(t=>t.teamProjectId),l=c.filter(t=>d.includes(t.id)),p=await u.find(I.type,{remoteId:{$in:m}});return{files:o.map(t=>{const e=p.find(a=>a.remoteId===t.teamProjectId);return{id:t.id,url:i("/organization/:organizationId",{organizationId:t.organizationId}),pullUrl:e?`/organization/${t.organizationId}/project/${t.teamProjectId}/remote-collections/pull`:"",name:t.name,item:{...t,teamProjectLocalId:e?._id||"",scope:"unsynced"},organizationName:l.find(a=>a.id===t.organizationId)?.display_name||"",projectName:e?.name||""}})}}catch{return{files:[]}}}const $=f(n=>()=>n(i("/remote-files")));export{L as c,$ as u};
//# sourceMappingURL=remote-files-QiiU5lTV.js.map
