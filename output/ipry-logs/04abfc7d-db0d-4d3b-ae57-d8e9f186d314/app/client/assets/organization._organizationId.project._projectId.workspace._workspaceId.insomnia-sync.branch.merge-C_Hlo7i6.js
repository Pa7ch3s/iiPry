import{h as m}from"./chunk-WY5IRSCW-1dc6FieG.js";import{b as h}from"./index-BnTlsbFl.js";import{V as f,bW as g,bZ as b,bX as p}from"./trial.start-yrr1pYcE.js";import{i as l}from"./invariant-DVddvGrP.js";import{c as u}from"./router-BoVIwh1i.js";async function M({request:o,params:n}){const{workspaceId:e}=n,t=(await o.formData()).get("branch");l(typeof t=="string","Branch is required");const a=f(),{syncItems:i}=await g({workspaceId:e});let s;try{s=await a.merge(i,t)}catch(r){if(r instanceof b)return null;throw r}try{await h.batchModifyDocs(s),delete p[e]}catch(r){return{error:r instanceof Error?r.message:"Unknown error while merging branch."}}return null}const S=u(o=>({branch:n,organizationId:e,projectId:c,workspaceId:t})=>{const a=new FormData;return a.set("branch",n),o(a,{method:"POST",action:m("/organization/:organizationId/project/:projectId/workspace/:workspaceId/insomnia-sync/branch/merge",{organizationId:e,projectId:c,workspaceId:t})})});export{M as c,S as u};
//# sourceMappingURL=organization._organizationId.project._projectId.workspace._workspaceId.insomnia-sync.branch.merge-C_Hlo7i6.js.map
