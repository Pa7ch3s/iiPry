import{h as f}from"./chunk-WY5IRSCW-1dc6FieG.js";import{k as m,b as g,aF as w,cE as r,aA as k,cF as I}from"./index-BnTlsbFl.js";import{i as h}from"./invariant-DVddvGrP.js";import{c as q}from"./router-BoVIwh1i.js";async function F({request:a,params:o}){const{workspaceId:s}=o,t=await m.getById(s);h(t,"Workspace not found");const e=(await a.json()).toggle==="collapse-all",c=await g.getWithDescendants(t,[w.type,r.type]),l=c.filter(k),d=c.filter(I);return await Promise.all(l.map(i=>{const p=d.find(u=>u.parentId===i._id);return p?r.update(p,{collapsed:e}):r.create({parentId:i._id,collapsed:e})})),null}const M=q(a=>({organizationId:o,projectId:s,workspaceId:t,toggle:n})=>{const e=f("/organization/:organizationId/project/:projectId/workspace/:workspaceId/toggle-expand-all",{organizationId:o,projectId:s,workspaceId:t});return a(JSON.stringify({toggle:n}),{action:e,method:"POST",encType:"application/json"})});export{F as c,M as u};
//# sourceMappingURL=organization._organizationId.project._projectId.workspace._workspaceId.toggle-expand-all-B76BFS3P.js.map
