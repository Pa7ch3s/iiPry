import{h as i}from"./chunk-WY5IRSCW-1dc6FieG.js";import{b as m}from"./index-BnTlsbFl.js";import{bW as h,V as f,bX as p}from"./trial.start-yrr1pYcE.js";import{i as b}from"./invariant-DVddvGrP.js";import{c as w}from"./router-BoVIwh1i.js";async function k({request:o,params:n}){const{workspaceId:t}=n,a=(await o.formData()).get("branchName");b(typeof a=="string","Branch is required");const{syncItems:e}=await h({workspaceId:t});try{const r=f();await r.fork(a);const s=await r.checkout(e,a);await m.batchModifyDocs(s),delete p[t]}catch(r){return{error:r instanceof Error?r.message:"Unknown error while merging branch."}}return null}const l=w(o=>(n,t,c,a)=>{const e=new FormData;return e.set("branchName",n),o(e,{method:"POST",action:i("/organization/:organizationId/project/:projectId/workspace/:workspaceId/insomnia-sync/branch/create",{organizationId:t,projectId:c,workspaceId:a})})});export{k as c,l as u};
//# sourceMappingURL=organization._organizationId.project._projectId.workspace._workspaceId.insomnia-sync.branch.create-BD-JEB_S.js.map
