import{i as L}from"./invariant-DVddvGrP.js";import{ag as $,ab as N,ah as se,ai as re,aj as j,ak as Y,al as oe,am as ae,an as ce,ao as ie,ap as pe,a8 as ue,aq as z,ar as G,as as le,at as he}from"./index-BnTlsbFl.js";import{Curl as r,CurlInfoDebug as x,CurlFeature as de,CurlCode as Z,CurlSslOpt as fe,CurlAuth as K,CurlNetrc as me,CurlHttpVersion as b}from"@getinsomnia/node-libcurl";import{x as ge,y as Se,z as k}from"./import-DfaWnrdO.js";import{m as Te}from"./index-BKSSlv8C.js";import{g as ye}from"./_commonjsHelpers-CE1G-McA.js";import{a as Oe}from"./index-wZAP8gf2.js";import{i as Ae}from"./format-i_2FlR3N.js";import"./sax-DTOkft0z.js";import"./event-bus-gjQB7sSy.js";if(process.type==="renderer")throw new Error("multipart.ts unavailable in renderer");const F="X-INSOMNIA-BOUNDARY";async function Ee(o){return new Promise(async(d,c)=>{const i=$.join(ge.tmpdir(),Math.random()+".body"),f=N.createWriteStream(i),a=`\r
`;let S=0;function g(l){return new Promise((m,T)=>{let v;try{v=N.statSync(l).size}catch(e){T(e)}const u=N.createReadStream(l);u.once("end",()=>{m()}),u.once("error",e=>{T(e)}),u.pipe(f,{end:!1}),S+=v})}const s=l=>{const m=Buffer.from(l);f.write(m),S+=m.length};for(const l of o){const m=!l.name,T=!(l.value||l.fileName);if(!(m&&T)){if(s(`--${F}`),s(a),l.type==="file"&&l.fileName){const v=l.name||"",u=l.fileName,e=Te.lookup(u)||"application/octet-stream";s(`Content-Disposition: form-data; name="${v.replace(/"/g,'\\"')}"; filename="${$.basename(u).replace(/"/g,'\\"')}"`),s(a),s(`Content-Type: ${e}`),s(a),s(a);try{await g(u)}catch(t){return c(t)}}else{const v=l.name||"",u=l.value||"",e=l.multiline;s(`Content-Disposition: form-data; name="${v}"`),s(a),typeof e=="string"&&(s(`Content-Type: ${e}`),s(a)),s(a),s(u)}s(a)}}s(`--${F}--`),s(a),f.once("error",l=>{c(l)}),f.once("close",()=>{d({boundary:F,filePath:i,contentLength:S})}),f.end()})}var V={},X,J;function ve(){if(J)return X;J=1,X=function(i){return new o(i)};function o(i){this.capacity=i|0,this.map=Object.create(null),this.list=new d}o.prototype.get=function(i){var f=this.map[i];if(f!=null)return this.used(f),f.val},o.prototype.set=function(i,f){var a=this.map[i];if(a!=null)a.val=f;else{if(this.capacity||this.prune(),!this.capacity)return!1;a=new c(i,f),this.map[i]=a,this.capacity--}return this.used(a),!0},o.prototype.used=function(i){this.list.moveToFront(i)},o.prototype.prune=function(){var i=this.list.pop();i!=null&&(delete this.map[i.key],this.capacity++)};function d(){this.firstNode=null,this.lastNode=null}d.prototype.moveToFront=function(i){this.firstNode!=i&&(this.remove(i),this.firstNode==null?(this.firstNode=i,this.lastNode=i,i.prev=null,i.next=null):(i.prev=null,i.next=this.firstNode,i.next.prev=i,this.firstNode=i))},d.prototype.pop=function(){var i=this.lastNode;return i!=null&&this.remove(i),i},d.prototype.remove=function(i){this.firstNode==i?this.firstNode=i.next:i.prev!=null&&(i.prev.next=i.next),this.lastNode==i?this.lastNode=i.prev:i.next!=null&&(i.next.prev=i.prev)};function c(i,f){this.key=i,this.val=f,this.prev=null,this.next=null}return X}var Q;function Ce(){return Q||(Q=1,(function(o){var d={},c=o,i=require("url"),f=require("querystring"),a=require("crypto"),S=ve(),g=S(1e3);function s(e,t,n){return a.createHmac("sha256",e).update(t,"utf8").digest(n)}function l(e,t){return a.createHash("sha256").update(e,"utf8").digest(t)}function m(e){return e.replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function T(e){return m(encodeURIComponent(e))}var v={authorization:!0,connection:!0,"x-amzn-trace-id":!0,"user-agent":!0,expect:!0,"presigned-expires":!0,range:!0};function u(e,t){typeof e=="string"&&(e=i.parse(e));var n=e.headers=Object.assign({},e.headers||{}),p=(!this.service||!this.region)&&this.matchHost(e.hostname||e.host||n.Host||n.host);this.request=e,this.credentials=t||this.defaultCredentials(),this.service=e.service||p[0]||"",this.region=e.region||p[1]||"us-east-1",this.service==="email"&&(this.service="ses"),!e.method&&e.body&&(e.method="POST"),!n.Host&&!n.host&&(n.Host=e.hostname||e.host||this.createHost(),e.port&&(n.Host+=":"+e.port)),!e.hostname&&!e.host&&(e.hostname=n.Host||n.host),this.isCodeCommitGit=this.service==="codecommit"&&e.method==="GIT",this.extraHeadersToIgnore=e.extraHeadersToIgnore||Object.create(null),this.extraHeadersToInclude=e.extraHeadersToInclude||Object.create(null)}u.prototype.matchHost=function(e){var t=(e||"").match(/([^\.]{1,63})\.(?:([^\.]{0,63})\.)?amazonaws\.com(\.cn)?$/),n=(t||[]).slice(1,3);if((n[1]==="es"||n[1]==="aoss")&&(n=n.reverse()),n[1]=="s3")n[0]="s3",n[1]="us-east-1";else for(var p=0;p<2;p++)if(/^s3-/.test(n[p])){n[1]=n[p].slice(3),n[0]="s3";break}return n},u.prototype.isSingleRegion=function(){return["s3","sdb"].indexOf(this.service)>=0&&this.region==="us-east-1"?!0:["cloudfront","ls","route53","iam","importexport","sts"].indexOf(this.service)>=0},u.prototype.createHost=function(){var e=this.isSingleRegion()?"":"."+this.region,t=this.service==="ses"?"email":this.service;return t+e+".amazonaws.com"},u.prototype.prepareRequest=function(){this.parsePath();var e=this.request,t=e.headers,n;e.signQuery?(this.parsedPath.query=n=this.parsedPath.query||{},this.credentials.sessionToken&&(n["X-Amz-Security-Token"]=this.credentials.sessionToken),this.service==="s3"&&!n["X-Amz-Expires"]&&(n["X-Amz-Expires"]=86400),n["X-Amz-Date"]?this.datetime=n["X-Amz-Date"]:n["X-Amz-Date"]=this.getDateTime(),n["X-Amz-Algorithm"]="AWS4-HMAC-SHA256",n["X-Amz-Credential"]=this.credentials.accessKeyId+"/"+this.credentialString(),n["X-Amz-SignedHeaders"]=this.signedHeaders()):(!e.doNotModifyHeaders&&!this.isCodeCommitGit&&(e.body&&!t["Content-Type"]&&!t["content-type"]&&(t["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8"),e.body&&!t["Content-Length"]&&!t["content-length"]&&(t["Content-Length"]=Buffer.byteLength(e.body)),this.credentials.sessionToken&&!t["X-Amz-Security-Token"]&&!t["x-amz-security-token"]&&(t["X-Amz-Security-Token"]=this.credentials.sessionToken),this.service==="s3"&&!t["X-Amz-Content-Sha256"]&&!t["x-amz-content-sha256"]&&(t["X-Amz-Content-Sha256"]=l(this.request.body||"","hex")),t["X-Amz-Date"]||t["x-amz-date"]?this.datetime=t["X-Amz-Date"]||t["x-amz-date"]:t["X-Amz-Date"]=this.getDateTime()),delete t.Authorization,delete t.authorization)},u.prototype.sign=function(){return this.parsedPath||this.prepareRequest(),this.request.signQuery?this.parsedPath.query["X-Amz-Signature"]=this.signature():this.request.headers.Authorization=this.authHeader(),this.request.path=this.formatPath(),this.request},u.prototype.getDateTime=function(){if(!this.datetime){var e=this.request.headers,t=new Date(e.Date||e.date||new Date);this.datetime=t.toISOString().replace(/[:\-]|\.\d{3}/g,""),this.isCodeCommitGit&&(this.datetime=this.datetime.slice(0,-1))}return this.datetime},u.prototype.getDate=function(){return this.getDateTime().substr(0,8)},u.prototype.authHeader=function(){return["AWS4-HMAC-SHA256 Credential="+this.credentials.accessKeyId+"/"+this.credentialString(),"SignedHeaders="+this.signedHeaders(),"Signature="+this.signature()].join(", ")},u.prototype.signature=function(){var e=this.getDate(),t=[this.credentials.secretAccessKey,e,this.region,this.service].join(),n,p,O,h=g.get(t);return h||(n=s("AWS4"+this.credentials.secretAccessKey,e),p=s(n,this.region),O=s(p,this.service),h=s(O,"aws4_request"),g.set(t,h)),s(h,this.stringToSign(),"hex")},u.prototype.stringToSign=function(){return["AWS4-HMAC-SHA256",this.getDateTime(),this.credentialString(),l(this.canonicalString(),"hex")].join(`
`)},u.prototype.canonicalString=function(){this.parsedPath||this.prepareRequest();var e=this.parsedPath.path,t=this.parsedPath.query,n=this.request.headers,p="",O=this.service!=="s3",h=this.service==="s3"||this.request.doNotEncodePath,A=this.service==="s3",H=this.service==="s3",y;if(this.service==="s3"&&this.request.signQuery?y="UNSIGNED-PAYLOAD":this.isCodeCommitGit?y="":y=n["X-Amz-Content-Sha256"]||n["x-amz-content-sha256"]||l(this.request.body||"","hex"),t){var P=Object.keys(t).reduce(function(E,C){return C&&(E[T(C)]=Array.isArray(t[C])&&H?t[C][0]:t[C]),E},{}),U=[];Object.keys(P).sort().forEach(function(E){Array.isArray(P[E])?P[E].map(T).sort().forEach(function(C){U.push(E+"="+C)}):U.push(E+"="+T(P[E]))}),p=U.join("&")}return e!=="/"&&(O&&(e=e.replace(/\/{2,}/g,"/")),e=e.split("/").reduce(function(E,C){return O&&C===".."?E.pop():(!O||C!==".")&&(h&&(C=decodeURIComponent(C.replace(/\+/g," "))),E.push(T(C))),E},[]).join("/"),e[0]!=="/"&&(e="/"+e),A&&(e=e.replace(/%2F/g,"/"))),[this.request.method||"GET",e,p,this.canonicalHeaders()+`
`,this.signedHeaders(),y].join(`
`)},u.prototype.filterHeaders=function(){var e=this.request.headers,t=this.extraHeadersToInclude,n=this.extraHeadersToIgnore;this.filteredHeaders=Object.keys(e).map(function(p){return[p.toLowerCase(),e[p]]}).filter(function(p){return t[p[0]]||v[p[0]]==null&&!n[p[0]]}).sort(function(p,O){return p[0]<O[0]?-1:1})},u.prototype.canonicalHeaders=function(){return this.filteredHeaders||this.filterHeaders(),this.filteredHeaders.map(function(e){return e[0]+":"+e[1].toString().trim().replace(/\s+/g," ")}).join(`
`)},u.prototype.signedHeaders=function(){return this.filteredHeaders||this.filterHeaders(),this.filteredHeaders.map(function(e){return e[0]}).join(";")},u.prototype.credentialString=function(){return[this.getDate(),this.region,this.service,"aws4_request"].join("/")},u.prototype.defaultCredentials=function(){var e=d;return{accessKeyId:e.AWS_ACCESS_KEY_ID||e.AWS_ACCESS_KEY,secretAccessKey:e.AWS_SECRET_ACCESS_KEY||e.AWS_SECRET_KEY,sessionToken:e.AWS_SESSION_TOKEN}},u.prototype.parsePath=function(){var e=this.request.path||"/";/[^0-9A-Za-z;,/?:@&=+$\-_.!~*'()#%]/.test(e)&&(e=encodeURI(decodeURI(e)));var t=e.indexOf("?"),n=null;t>=0&&(n=f.parse(e.slice(t+1)),e=e.slice(0,t)),this.parsedPath={path:e,query:n}},u.prototype.formatPath=function(){var e=this.parsedPath.path,t=this.parsedPath.query;return t?(t[""]!=null&&delete t[""],e+"?"+m(f.stringify(t))):e},c.RequestSigner=u,c.sign=function(e,t){return new u(e,t).sign()}})(V)),V}var He=Ce();const De=ye(He),M="__Di$aB13d__",Re=({req:o,finalUrl:d,requestBody:c,requestBodyPath:i,authHeader:f})=>{const a=Oe(o.headers);(c!==void 0||i)&&(a.push({name:"Expect",value:M}),a.push({name:"Transfer-Encoding",value:M}));const{authentication:g,method:s}=o;if(g&&"type"in g){const m=g.type==="digest",T=g.type==="ntlm",v=g.type==="iam";if(!se(a)&&!g.disabled&&!v&&!m&&!T&&f&&a.push(f),v){const e=re(a)?.value,t=j(a)?.value;Pe({authentication:g,url:d,hostHeader:e,contentTypeHeader:t,body:c,method:s}).forEach(n=>a.push(n))}}if(o.body.mimeType===Y&&i){const m=j(a);m?m.value=`multipart/form-data; boundary=${F}`:a.push({name:"Content-Type",value:`multipart/form-data; boundary=${F}`})}return oe(a)||a.push({name:"Accept",value:"*/*"}),ae(a)||a.push({name:"Accept-Encoding",value:M}),ce(a)||a.push({name:"content-type",value:M}),a.filter(m=>m.name).map(({name:m,value:T})=>T===""?`${m};`:T===M?`${m}:`:`${m}: ${T}`)};function Pe({authentication:o,url:d,method:c,hostHeader:i,contentTypeHeader:f,body:a}){const{path:S,host:g}=ie(d),s=f?{"content-type":f}:{},{service:l,region:m,accessKeyId:T,secretAccessKey:v,sessionToken:u}=o,e=De.sign({service:l,region:m,body:a,method:c,headers:s,path:S||void 0,host:i||g||void 0},{accessKeyId:T,secretAccessKey:v,sessionToken:u});return e.headers?Object.entries(e.headers).filter(([t])=>t!=="content-type").map(([t,n])=>({name:t,value:n})):[]}var ee={};L(process.type!=="renderer","Native abstractions for Nodejs module unavailable in renderer");const Ne={},we=o=>new Promise(async d=>{try{const c=ee.INSOMNIA_DATA_PATH||pe.app.getPath("userData"),i=$.join(c,"responses");await N.promises.mkdir(i,{recursive:!0});const f=$.join(i,ue()+".response"),{requestId:a,req:S,finalUrl:g,settings:s,certificates:l,caCertficatePath:m,socketPath:T,authHeader:v,noDecompress:u=!1}=o,e=m&&await Se(m),{curl:t,debugTimeline:n}=_e({req:S,finalUrl:g,settings:s,caCert:e,certificates:l,socketPath:T,noDecompress:u}),{method:p,body:O}=S;p.toUpperCase()==="HEAD"?t.setOpt(r.option.NOBODY,1):p.toUpperCase()==="POST"?t.setOpt(r.option.POST,1):t.setOpt(r.option.CUSTOMREQUEST,p);const h=await Le(O),A=xe({body:O,method:p}),H=O.mimeType===Y&&h;let y;const{authentication:P}=S;if(h){const{isAllowed:D,securedPath:R}=k(h,s.dataFolders);L(D,z(R));const _="type"in P&&P.type==="iam";L(!_,"AWS authentication not supported for provided body type");const{size:w}=N.statSync(R);t.setOpt(r.option.INFILESIZE_LARGE,w),t.setOpt(r.option.UPLOAD,1),t.setOpt(r.option.CUSTOMREQUEST,p),y=N.openSync(R,"r"),t.setOpt(r.option.READDATA,y),t.on("end",()=>W(H,y,h)),t.on("error",()=>W(H,y,h))}else A!==void 0&&t.setOpt(r.option.POSTFIELDS,A);ee.PLAYWRIGHT&&(S.headers=[...S.headers,{name:"X-Mockbin-Test",value:"true"}]);const U=Re({req:S,requestBody:A,requestBodyPath:h,finalUrl:g,authHeader:v});t.setOpt(r.option.HTTPHEADER,U);const E=N.createWriteStream(f);Ne[a]=()=>{y&&f&&W(H,y,h),t.isOpen&&t.close()};let C=0;t.setOpt(r.option.WRITEFUNCTION,D=>(C+=D.length,E.write(D),D.length)),t.setOpt(r.option.DEBUGFUNCTION,(D,R)=>{const _=D===x.SslDataIn||D===x.SslDataOut,w=R.length===0,I=D===x.Text&&R.toString("utf8").indexOf("Added cookie")===0;if(_||w||I)return 0;let B=x[D],q;D===x.DataOut&&(q=R.length/1024<(s.maxTimelineDataSizeKB||1)?R.toString("utf8"):`(${G(R.length)} hidden)`),D===x.DataIn&&(q=`Received ${G(R.length)} chunk`,B="Text");const ne=q||R.toString("utf8");return n.push({name:B,value:ne,timestamp:Date.now()}),0}),t.enable(de.Raw),t.on("end",()=>E.end()),t.on("end",async(D,R,_)=>{const w={bytesContent:C,bytesRead:t.getInfo(r.info.SIZE_DOWNLOAD),elapsedTime:t.getInfo(r.info.TOTAL_TIME)*1e3,url:t.getInfo(r.info.EFFECTIVE_URL)};t.isOpen&&t.close(),await te(E);const I=Ie(_);d({patch:w,debugTimeline:n,headerResults:I,responseBodyPath:f})}),t.on("error",()=>E.end()),t.on("error",async(D,R)=>{const _=t.getInfo(r.info.TOTAL_TIME)*1e3;if(t.isOpen&&t.close(),await te(E),R===Z.CURLE_BAD_CONTENT_ENCODING&&!u){d(we({...o,noDecompress:!0}));return}let w=D+"",I="Error";R===Z.CURLE_ABORTED_BY_CALLBACK&&(w="Request aborted",I="Abort"),d({patch:{statusMessage:I,error:w||"Something went wrong inside libcurl",elapsedTime:_},debugTimeline:n,headerResults:[{version:"",code:0,reason:"",headers:[]}]})}),t.perform()}catch(c){console.error(c);const i={statusMessage:"Error",error:c.toString()||"Something went wrong performing curl",elapsedTime:0};d({patch:i,debugTimeline:[],headerResults:[{version:"",code:0,reason:"",headers:[]}]})}}),_e=({req:o,finalUrl:d,settings:c,caCert:i,certificates:f,socketPath:a,noDecompress:S=!1})=>{const g=[],s=new r;s.setOpt(r.option.URL,d),a&&s.setOpt(r.option.UNIX_SOCKET_PATH,a),s.setOpt(r.option.VERBOSE,!0),s.setOpt(r.option.NOPROGRESS,!0),s.setOpt(r.option.ACCEPT_ENCODING,S?null:""),i&&s.setOpt(r.option.CAINFO_BLOB,i),s.setOpt(r.option.SSL_OPTIONS,fe.NativeCa),f.forEach(p=>{const{passphrase:O,cert:h,key:A,pfx:H}=p;if(h){const{isAllowed:y,securedPath:P}=k(h,c.dataFolders);L(y,z(P)),s.setOpt(r.option.SSLCERT,h),s.setOpt(r.option.SSLCERTTYPE,"PEM"),g.push({value:"Adding SSL PEM certificate",name:"Text",timestamp:Date.now()})}if(H){const{isAllowed:y,securedPath:P}=k(H,c.dataFolders);L(y,z(P)),s.setOpt(r.option.SSLCERT,H),s.setOpt(r.option.SSLCERTTYPE,"P12"),g.push({value:"Adding SSL P12 certificate",name:"Text",timestamp:Date.now()})}if(A){const{isAllowed:y,securedPath:P}=k(A,c.dataFolders);L(y,z(P)),s.setOpt(r.option.SSLKEY,A),g.push({value:"Adding SSL KEY certificate",name:"Text",timestamp:Date.now()})}O&&s.setOpt(r.option.KEYPASSWD,O)});const l=Ue(c.preferredHttpVersion);if(g.push({value:l.log,name:"Text",timestamp:Date.now()}),l.curlHttpVersion&&s.setOpt(r.option.HTTP_VERSION,l.curlHttpVersion),c.maxRedirects>0&&s.setOpt(r.option.MAXREDIRS,c.maxRedirects),!c.proxyEnabled)s.setOpt(r.option.PROXY,"");else{const{protocol:p}=ie(o.url),{httpProxy:O,httpsProxy:h,noProxy:A}=c,H=p==="https:"?h:O,y=H?be(H):null;g.push({value:`Enable network proxy for ${p||""}`,name:"Text",timestamp:Date.now()}),y&&(s.setOpt(r.option.PROXY,y),s.setOpt(r.option.PROXYAUTH,K.Any)),A&&s.setOpt(r.option.NOPROXY,A)}const{timeout:m}=c;m<=0?s.setOpt(r.option.TIMEOUT_MS,0):(s.setOpt(r.option.TIMEOUT_MS,m),g.push({value:`Enable timeout of ${m}ms`,name:"Text",timestamp:Date.now()}));const{validateSSL:T}=c;T||(s.setOpt(r.option.SSL_VERIFYHOST,0),s.setOpt(r.option.SSL_VERIFYPEER,0)),g.push({value:`${T?"Enable":"Disable"} SSL validation`,name:"Text",timestamp:Date.now()});const v={off:!1,on:!0,global:c.followRedirects}[o.settingFollowRedirects]??!0;if(s.setOpt(r.option.FOLLOWLOCATION,v),o.settingRebuildPath||s.setOpt(r.option.PATH_AS_IS,!0),o.settingSendCookies){const{cookieJar:p,cookies:O}=o;s.setOpt(r.option.COOKIEFILE,"");for(const{name:h,value:A}of O)s.setOpt(r.option.COOKIE,`${h}=${A}`);if(p.cookies.length){g.push({value:`Enable cookie sending with jar of ${p.cookies.length} cookie${p.cookies.length!==1?"s":""}`,name:"Text",timestamp:Date.now()});for(const h of p.cookies){const A=[h.httpOnly?`#HttpOnly_${h.domain}`:h.domain,h.hostOnly?"FALSE":"TRUE",h.path,h.secure?"TRUE":"FALSE",h.expires&&Ae(new Date(h.expires))?Math.round(new Date(h.expires).getTime()/1e3):0,h.key,h.value].join("	");s.setOpt(r.option.COOKIELIST,A)}}}const{headers:u,authentication:e}=o,t=u.find(p=>p.name.toLowerCase()==="user-agent")||null,n=typeof t?.value=="string"?t?.value:"insomnia/"+le;if(s.setOpt(r.option.USERAGENT,n),o.suppressUserAgent&&s.setOpt(r.option.USERAGENT,""),e&&"type"in e){const{username:p,password:O,disabled:h}=e,A=e.type==="digest",H=e.type==="ntlm",y=A||H;!se(u)&&!h&&y&&(A&&s.setOpt(r.option.HTTPAUTH,K.Digest),H&&s.setOpt(r.option.HTTPAUTH,K.Ntlm),s.setOpt(r.option.USERNAME,p||""),s.setOpt(r.option.PASSWORD,O||"")),e.type==="netrc"&&s.setOpt(r.option.NETRC,me.Required)}return{curl:s,debugTimeline:g}},W=(o,d,c)=>{d&&N.closeSync(d),o&&c&&N.unlink(c,()=>{})};function Ie(o){return o.toString("utf8").split(/\r?\n\r?\n|\r\r/g).filter(c=>!!c.trim()).map(c=>{const[i,...f]=c.split(/\r?\n|\r/g),a=f.map(l=>l.split(/:\s(.+)/)).filter(([l])=>!!l).map(([l,m=""])=>({name:l,value:m})),[S,g,...s]=i.split(/ +/g);return{version:S,code:parseInt(g,10),reason:s.join(" "),headers:a}})}async function te(o){return new Promise(d=>{if(o._readableState?.finished||o._writableState?.finished)return d();o.on("close",()=>{d()}),o.on("error",()=>{d()})})}const xe=({body:o,method:d})=>{const c=o.mimeType===he,i=["POST","PUT","PATCH"].includes(d.toUpperCase()),f=typeof o.mimeType=="string"||i;if(c){const a=new URLSearchParams;return(o.params||[]).map(S=>a.append(S.name,S?.value||"")),a.toString()}if(f)return o.text||""},Le=async o=>{if(!(o.mimeType===Y))return o.fileName;const{filePath:c}=await Ee(o.params||[]);return c},Ue=o=>{switch(o){case"V1_0":return{log:"Using HTTP 1.0",curlHttpVersion:b.V1_0};case"V1_1":return{log:"Using HTTP 1.1",curlHttpVersion:b.V1_1};case"V2PriorKnowledge":return{log:"Using HTTP/2 PriorKnowledge",curlHttpVersion:b.V2PriorKnowledge};case"V2_0":return{log:"Using HTTP/2",curlHttpVersion:b.V2_0};case"v3":return{log:"Using HTTP/3",curlHttpVersion:b.v3};case"default":return{log:"Using default HTTP version"};default:return{log:`Unknown HTTP version specified ${o}`}}},be=(o,d)=>{const c=o.trim();return d=d||"http:",c?c.includes("://")?c:`${d}//${c}`:""};export{Ie as _parseHeaders,_e as createConfiguredCurlInstance,we as curlRequest,Ue as getHttpVersion,be as setDefaultProtocol};
//# sourceMappingURL=libcurl-promise-DZIx2Zxy.js.map
