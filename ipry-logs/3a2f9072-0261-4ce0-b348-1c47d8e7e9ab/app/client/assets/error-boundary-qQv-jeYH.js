import{r as f,a as yn}from"./index-b8gibUUP.js";import{j as Se}from"./jsx-runtime-cpqHEc2t.js";import{g as zn}from"./index-CiWR7xsz.js";const we=f.createContext(null);we.displayName="PanelGroupContext";const k={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},_e=10,ne=f.useLayoutEffect,Ke=yn.useId,xn=typeof Ke=="function"?Ke:()=>null;let vn=0;function Ge(e=null){const n=xn(),t=f.useRef(e||n||null);return t.current===null&&(t.current=""+vn++),e??t.current}function Je({children:e,className:n="",collapsedSize:t,collapsible:r,defaultSize:i,forwardedRef:o,id:l,maxSize:s,minSize:a,onCollapse:h,onExpand:E,onResize:p,order:u,style:v,tagName:y="div",...C}){const w=f.useContext(we);if(w===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:b,expandPanel:A,getPanelSize:H,getPanelStyle:N,groupId:j,isPanelCollapsed:R,reevaluatePanelConstraints:P,registerPanel:W,resizePanel:X,unregisterPanel:T}=w,G=Ge(l),D=f.useRef({callbacks:{onCollapse:h,onExpand:E,onResize:p},constraints:{collapsedSize:t,collapsible:r,defaultSize:i,maxSize:s,minSize:a},id:G,idIsFromProps:l!==void 0,order:u});f.useRef({didLogMissingDefaultSizeWarning:!1}),ne(()=>{const{callbacks:_,constraints:$}=D.current,B={...$};D.current.id=G,D.current.idIsFromProps=l!==void 0,D.current.order=u,_.onCollapse=h,_.onExpand=E,_.onResize=p,$.collapsedSize=t,$.collapsible=r,$.defaultSize=i,$.maxSize=s,$.minSize=a,(B.collapsedSize!==$.collapsedSize||B.collapsible!==$.collapsible||B.maxSize!==$.maxSize||B.minSize!==$.minSize)&&P(D.current,B)}),ne(()=>{const _=D.current;return W(_),()=>{T(_)}},[u,G,W,T]),f.useImperativeHandle(o,()=>({collapse:()=>{b(D.current)},expand:_=>{A(D.current,_)},getId(){return G},getSize(){return H(D.current)},isCollapsed(){return R(D.current)},isExpanded(){return!R(D.current)},resize:_=>{X(D.current,_)}}),[b,A,H,R,G,X]);const Q=N(D.current,i);return f.createElement(y,{...C,children:e,className:n,id:G,style:{...Q,...v},[k.groupId]:j,[k.panel]:"",[k.panelCollapsible]:r||void 0,[k.panelId]:G,[k.panelSize]:parseFloat(""+Q.flexGrow).toFixed(1)})}const Sn=f.forwardRef((e,n)=>f.createElement(Je,{...e,forwardedRef:n}));Je.displayName="Panel";Sn.displayName="forwardRef(Panel)";let $e=null,be=-1,Y=null;function bn(e,n,t){const r=(n&nn)!==0,i=(n&tn)!==0,o=(n&rn)!==0,l=(n&on)!==0;if(n){if(r)return o?"se-resize":l?"ne-resize":"e-resize";if(i)return o?"sw-resize":l?"nw-resize":"w-resize";if(o)return"s-resize";if(l)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Pn(){Y!==null&&(document.head.removeChild(Y),$e=null,Y=null,be=-1)}function ke(e,n,t){var r,i;const o=bn(e,n);if($e!==o){if($e=o,Y===null&&(Y=document.createElement("style"),document.head.appendChild(Y)),be>=0){var l;(l=Y.sheet)===null||l===void 0||l.removeRule(be)}be=(r=(i=Y.sheet)===null||i===void 0?void 0:i.insertRule(`*{cursor: ${o} !important;}`))!==null&&r!==void 0?r:-1}}function Ye(e){return e.type==="keydown"}function Ze(e){return e.type.startsWith("pointer")}function Qe(e){return e.type.startsWith("mouse")}function Ce(e){if(Ze(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(Qe(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function En(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function wn(e,n,t){return e.x<n.x+n.width&&e.x+e.width>n.x&&e.y<n.y+n.height&&e.y+e.height>n.y}function Cn(e,n){if(e===n)throw new Error("Cannot compare node with itself");const t={a:Ve(e),b:Ve(n)};let r;for(;t.a.at(-1)===t.b.at(-1);)e=t.a.pop(),n=t.b.pop(),r=e;x(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:Ue(We(t.a)),b:Ue(We(t.b))};if(i.a===i.b){const o=r.childNodes,l={a:t.a.at(-1),b:t.b.at(-1)};let s=o.length;for(;s--;){const a=o[s];if(a===l.a)return 1;if(a===l.b)return-1}}return Math.sign(i.a-i.b)}const In=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Rn(e){var n;const t=getComputedStyle((n=en(e))!==null&&n!==void 0?n:e).display;return t==="flex"||t==="inline-flex"}function An(e){const n=getComputedStyle(e);return!!(n.position==="fixed"||n.zIndex!=="auto"&&(n.position!=="static"||Rn(e))||+n.opacity<1||"transform"in n&&n.transform!=="none"||"webkitTransform"in n&&n.webkitTransform!=="none"||"mixBlendMode"in n&&n.mixBlendMode!=="normal"||"filter"in n&&n.filter!=="none"||"webkitFilter"in n&&n.webkitFilter!=="none"||"isolation"in n&&n.isolation==="isolate"||In.test(n.willChange)||n.webkitOverflowScrolling==="touch")}function We(e){let n=e.length;for(;n--;){const t=e[n];if(x(t,"Missing node"),An(t))return t}return null}function Ue(e){return e&&Number(getComputedStyle(e).zIndex)||0}function Ve(e){const n=[];for(;e;)n.push(e),e=en(e);return n}function en(e){const{parentNode:n}=e;return n&&n instanceof ShadowRoot?n.host:n}const nn=1,tn=2,rn=4,on=8,Ln=En()==="coarse";let V=[],se=!1,Z=new Map,Ie=new Map;const he=new Set;function kn(e,n,t,r,i){var o;const{ownerDocument:l}=n,s={direction:t,element:n,hitAreaMargins:r,setResizeHandlerState:i},a=(o=Z.get(l))!==null&&o!==void 0?o:0;return Z.set(l,a+1),he.add(s),Pe(),function(){var E;Ie.delete(e),he.delete(s);const p=(E=Z.get(l))!==null&&E!==void 0?E:1;if(Z.set(l,p-1),Pe(),p===1&&Z.delete(l),V.includes(s)){const u=V.indexOf(s);u>=0&&V.splice(u,1),Re(),i("up",!0,null)}}}function Dn(e){const{target:n}=e,{x:t,y:r}=Ce(e);se=!0,Be({target:n,x:t,y:r}),Pe(),V.length>0&&(Ee("down",e),Re(),e.preventDefault(),ln(n)||e.stopImmediatePropagation())}function De(e){const{x:n,y:t}=Ce(e);if(se&&e.type!=="pointerleave"&&e.buttons===0&&(se=!1,Ee("up",e)),!se){const{target:r}=e;Be({target:r,x:n,y:t})}Ee("move",e),Re(),V.length>0&&e.preventDefault()}function He(e){const{target:n}=e,{x:t,y:r}=Ce(e);Ie.clear(),se=!1,V.length>0&&(e.preventDefault(),ln(n)||e.stopImmediatePropagation()),Ee("up",e),Be({target:n,x:t,y:r}),Re(),Pe()}function ln(e){let n=e;for(;n;){if(n.hasAttribute(k.resizeHandle))return!0;n=n.parentElement}return!1}function Be({target:e,x:n,y:t}){V.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),he.forEach(i=>{const{element:o,hitAreaMargins:l}=i,s=o.getBoundingClientRect(),{bottom:a,left:h,right:E,top:p}=s,u=Ln?l.coarse:l.fine;if(n>=h-u&&n<=E+u&&t>=p-u&&t<=a+u){if(r!==null&&document.contains(r)&&o!==r&&!o.contains(r)&&!r.contains(o)&&Cn(r,o)>0){let y=r,C=!1;for(;y&&!y.contains(o);){if(wn(y.getBoundingClientRect(),s)){C=!0;break}y=y.parentElement}if(C)return}V.push(i)}})}function Me(e,n){Ie.set(e,n)}function Re(){let e=!1,n=!1;V.forEach(r=>{const{direction:i}=r;i==="horizontal"?e=!0:n=!0});let t=0;Ie.forEach(r=>{t|=r}),e&&n?ke("intersection",t):e?ke("horizontal",t):n?ke("vertical",t):Pn()}let Ne;function Pe(){var e;(e=Ne)===null||e===void 0||e.abort(),Ne=new AbortController;const n={capture:!0,signal:Ne.signal};he.size&&(se?(V.length>0&&Z.forEach((t,r)=>{const{body:i}=r;t>0&&(i.addEventListener("contextmenu",He,n),i.addEventListener("pointerleave",De,n),i.addEventListener("pointermove",De,n))}),Z.forEach((t,r)=>{const{body:i}=r;i.addEventListener("pointerup",He,n),i.addEventListener("pointercancel",He,n)})):Z.forEach((t,r)=>{const{body:i}=r;t>0&&(i.addEventListener("pointerdown",Dn,n),i.addEventListener("pointermove",De,n))}))}function Ee(e,n){he.forEach(t=>{const{setResizeHandlerState:r}=t,i=V.includes(t);r(e,i,n)})}function Hn(){const[e,n]=f.useState(0);return f.useCallback(()=>n(t=>t+1),[])}function x(e,n){if(!e)throw console.error(n),Error(n)}function te(e,n,t=_e){return e.toFixed(t)===n.toFixed(t)?0:e>n?1:-1}function J(e,n,t=_e){return te(e,n,t)===0}function K(e,n,t){return te(e,n,t)===0}function Mn(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){const i=e[r],o=n[r];if(!K(i,o,t))return!1}return!0}function le({panelConstraints:e,panelIndex:n,size:t}){const r=e[n];x(r!=null,`Panel constraints not found for index ${n}`);let{collapsedSize:i=0,collapsible:o,maxSize:l=100,minSize:s=0}=r;if(te(t,s)<0)if(o){const a=(i+s)/2;te(t,a)<0?t=i:t=s}else t=s;return t=Math.min(l,t),t=parseFloat(t.toFixed(_e)),t}function me({delta:e,initialLayout:n,panelConstraints:t,pivotIndices:r,prevLayout:i,trigger:o}){if(K(e,0))return n;const l=[...n],[s,a]=r;x(s!=null,"Invalid first pivot index"),x(a!=null,"Invalid second pivot index");let h=0;if(o==="keyboard"){{const p=e<0?a:s,u=t[p];x(u,`Panel constraints not found for index ${p}`);const{collapsedSize:v=0,collapsible:y,minSize:C=0}=u;if(y){const w=n[p];if(x(w!=null,`Previous layout not found for panel index ${p}`),K(w,v)){const b=C-w;te(b,Math.abs(e))>0&&(e=e<0?0-b:b)}}}{const p=e<0?s:a,u=t[p];x(u,`No panel constraints found for index ${p}`);const{collapsedSize:v=0,collapsible:y,minSize:C=0}=u;if(y){const w=n[p];if(x(w!=null,`Previous layout not found for panel index ${p}`),K(w,C)){const b=w-v;te(b,Math.abs(e))>0&&(e=e<0?0-b:b)}}}}{const p=e<0?1:-1;let u=e<0?a:s,v=0;for(;;){const C=n[u];x(C!=null,`Previous layout not found for panel index ${u}`);const b=le({panelConstraints:t,panelIndex:u,size:100})-C;if(v+=b,u+=p,u<0||u>=t.length)break}const y=Math.min(Math.abs(e),Math.abs(v));e=e<0?0-y:y}{let u=e<0?s:a;for(;u>=0&&u<t.length;){const v=Math.abs(e)-Math.abs(h),y=n[u];x(y!=null,`Previous layout not found for panel index ${u}`);const C=y-v,w=le({panelConstraints:t,panelIndex:u,size:C});if(!K(y,w)&&(h+=y-w,l[u]=w,h.toFixed(3).localeCompare(Math.abs(e).toFixed(3),void 0,{numeric:!0})>=0))break;e<0?u--:u++}}if(Mn(i,l))return i;{const p=e<0?a:s,u=n[p];x(u!=null,`Previous layout not found for panel index ${p}`);const v=u+h,y=le({panelConstraints:t,panelIndex:p,size:v});if(l[p]=y,!K(y,v)){let C=v-y,b=e<0?a:s;for(;b>=0&&b<t.length;){const A=l[b];x(A!=null,`Previous layout not found for panel index ${b}`);const H=A+C,N=le({panelConstraints:t,panelIndex:b,size:H});if(K(A,N)||(C-=N-A,l[b]=N),K(C,0))break;e>0?b--:b++}}}const E=l.reduce((p,u)=>u+p,0);return K(E,100)?l:i}function Nn({layout:e,panelsArray:n,pivotIndices:t}){let r=0,i=100,o=0,l=0;const s=t[0];x(s!=null,"No pivot index found"),n.forEach((p,u)=>{const{constraints:v}=p,{maxSize:y=100,minSize:C=0}=v;u===s?(r=C,i=y):(o+=C,l+=y)});const a=Math.min(i,100-o),h=Math.max(r,100-l),E=e[s];return{valueMax:a,valueMin:h,valueNow:E}}function ye(e,n=document){return Array.from(n.querySelectorAll(`[${k.resizeHandleId}][data-panel-group-id="${e}"]`))}function sn(e,n,t=document){const i=ye(e,t).findIndex(o=>o.getAttribute(k.resizeHandleId)===n);return i??null}function an(e,n,t){const r=sn(e,n,t);return r!=null?[r,r+1]:[-1,-1]}function $n(e){return e instanceof HTMLElement?!0:typeof e=="object"&&e!==null&&"tagName"in e&&"getAttribute"in e}function un(e,n=document){if($n(n)&&n.dataset.panelGroupId==e)return n;const t=n.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return t||null}function Ae(e,n=document){const t=n.querySelector(`[${k.resizeHandleId}="${e}"]`);return t||null}function _n(e,n,t,r=document){var i,o,l,s;const a=Ae(n,r),h=ye(e,r),E=a?h.indexOf(a):-1,p=(i=(o=t[E])===null||o===void 0?void 0:o.id)!==null&&i!==void 0?i:null,u=(l=(s=t[E+1])===null||s===void 0?void 0:s.id)!==null&&l!==void 0?l:null;return[p,u]}function Gn({committedValuesRef:e,eagerValuesRef:n,groupId:t,layout:r,panelDataArray:i,panelGroupElement:o,setLayout:l}){f.useRef({didWarnAboutMissingResizeHandle:!1}),ne(()=>{if(!o)return;const s=ye(t,o);for(let a=0;a<i.length-1;a++){const{valueMax:h,valueMin:E,valueNow:p}=Nn({layout:r,panelsArray:i,pivotIndices:[a,a+1]}),u=s[a];if(u!=null){const v=i[a];x(v,`No panel data found for index "${a}"`),u.setAttribute("aria-controls",v.id),u.setAttribute("aria-valuemax",""+Math.round(h)),u.setAttribute("aria-valuemin",""+Math.round(E)),u.setAttribute("aria-valuenow",p!=null?""+Math.round(p):"")}}return()=>{s.forEach((a,h)=>{a.removeAttribute("aria-controls"),a.removeAttribute("aria-valuemax"),a.removeAttribute("aria-valuemin"),a.removeAttribute("aria-valuenow")})}},[t,r,i,o]),f.useEffect(()=>{if(!o)return;const s=n.current;x(s,"Eager values not found");const{panelDataArray:a}=s,h=un(t,o);x(h!=null,`No group found for id "${t}"`);const E=ye(t,o);x(E,`No resize handles found for group id "${t}"`);const p=E.map(u=>{const v=u.getAttribute(k.resizeHandleId);x(v,"Resize handle element has no handle id attribute");const[y,C]=_n(t,v,a,o);if(y==null||C==null)return()=>{};const w=b=>{if(!b.defaultPrevented)switch(b.key){case"Enter":{b.preventDefault();const A=a.findIndex(H=>H.id===y);if(A>=0){const H=a[A];x(H,`No panel data found for index ${A}`);const N=r[A],{collapsedSize:j=0,collapsible:R,minSize:P=0}=H.constraints;if(N!=null&&R){const W=me({delta:K(N,j)?P-j:j-N,initialLayout:r,panelConstraints:a.map(X=>X.constraints),pivotIndices:an(t,v,o),prevLayout:r,trigger:"keyboard"});r!==W&&l(W)}}break}}};return u.addEventListener("keydown",w),()=>{u.removeEventListener("keydown",w)}});return()=>{p.forEach(u=>u())}},[o,e,n,t,r,i,l])}function je(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}function cn(e,n){const t=e==="horizontal",{x:r,y:i}=Ce(n);return t?r:i}function Bn(e,n,t,r,i){const o=t==="horizontal",l=Ae(n,i);x(l,`No resize handle element found for id "${n}"`);const s=l.getAttribute(k.groupId);x(s,"Resize handle element has no group id attribute");let{initialCursorPosition:a}=r;const h=cn(t,e),E=un(s,i);x(E,`No group element found for id "${s}"`);const p=E.getBoundingClientRect(),u=o?p.width:p.height;return(h-a)/u*100}function Fn(e,n,t,r,i,o){if(Ye(e)){const l=t==="horizontal";let s=0;e.shiftKey?s=100:i!=null?s=i:s=10;let a=0;switch(e.key){case"ArrowDown":a=l?0:s;break;case"ArrowLeft":a=l?-s:0;break;case"ArrowRight":a=l?s:0;break;case"ArrowUp":a=l?0:-s;break;case"End":a=100;break;case"Home":a=-100;break}return a}else return r==null?0:Bn(e,n,t,r,o)}function Tn({panelDataArray:e}){const n=Array(e.length),t=e.map(o=>o.constraints);let r=0,i=100;for(let o=0;o<e.length;o++){const l=t[o];x(l,`Panel constraints not found for index ${o}`);const{defaultSize:s}=l;s!=null&&(r++,n[o]=s,i-=s)}for(let o=0;o<e.length;o++){const l=t[o];x(l,`Panel constraints not found for index ${o}`);const{defaultSize:s}=l;if(s!=null)continue;const a=e.length-r,h=i/a;r++,n[o]=h,i-=h}return n}function oe(e,n,t){n.forEach((r,i)=>{const o=e[i];x(o,`Panel data not found for index ${i}`);const{callbacks:l,constraints:s,id:a}=o,{collapsedSize:h=0,collapsible:E}=s,p=t[a];if(p==null||r!==p){t[a]=r;const{onCollapse:u,onExpand:v,onResize:y}=l;y&&y(r,p),E&&(u||v)&&(v&&(p==null||J(p,h))&&!J(r,h)&&v(),u&&(p==null||!J(p,h))&&J(r,h)&&u())}})}function ve(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!=n[t])return!1;return!0}function Kn({defaultSize:e,dragState:n,layout:t,panelData:r,panelIndex:i,precision:o=3}){const l=t[i];let s;return l==null?s=e!=null?e.toFixed(o):"1":r.length===1?s="1":s=l.toFixed(o),{flexBasis:0,flexGrow:s,flexShrink:1,overflow:"hidden",pointerEvents:n!==null?"none":void 0}}function Wn(e,n=10){let t=null;return(...i)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{e(...i)},n)}}function Oe(e){try{if(typeof localStorage<"u")e.getItem=n=>localStorage.getItem(n),e.setItem=(n,t)=>{localStorage.setItem(n,t)};else throw new Error("localStorage not supported in this environment")}catch(n){console.error(n),e.getItem=()=>null,e.setItem=()=>{}}}function fn(e){return`react-resizable-panels:${e}`}function dn(e){return e.map(n=>{const{constraints:t,id:r,idIsFromProps:i,order:o}=n;return i?r:o?`${o}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((n,t)=>n.localeCompare(t)).join(",")}function pn(e,n){try{const t=fn(e),r=n.getItem(t);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function Un(e,n,t){var r,i;const o=(r=pn(e,t))!==null&&r!==void 0?r:{},l=dn(n);return(i=o[l])!==null&&i!==void 0?i:null}function Vn(e,n,t,r,i){var o;const l=fn(e),s=dn(n),a=(o=pn(e,i))!==null&&o!==void 0?o:{};a[s]={expandToSizes:Object.fromEntries(t.entries()),layout:r};try{i.setItem(l,JSON.stringify(a))}catch(h){console.error(h)}}function qe({layout:e,panelConstraints:n}){const t=[...e],r=t.reduce((o,l)=>o+l,0);if(t.length!==n.length)throw Error(`Invalid ${n.length} panel layout: ${t.map(o=>`${o}%`).join(", ")}`);if(!K(r,100)&&t.length>0)for(let o=0;o<n.length;o++){const l=t[o];x(l!=null,`No layout data found for index ${o}`);const s=100/r*l;t[o]=s}let i=0;for(let o=0;o<n.length;o++){const l=t[o];x(l!=null,`No layout data found for index ${o}`);const s=le({panelConstraints:n,panelIndex:o,size:l});l!=s&&(i+=l-s,t[o]=s)}if(!K(i,0))for(let o=0;o<n.length;o++){const l=t[o];x(l!=null,`No layout data found for index ${o}`);const s=l+i,a=le({panelConstraints:n,panelIndex:o,size:s});if(l!==a&&(i-=a-l,t[o]=a,K(i,0)))break}return t}const jn=100,ge={getItem:e=>(Oe(ge),ge.getItem(e)),setItem:(e,n)=>{Oe(ge),ge.setItem(e,n)}},Xe={};function mn({autoSaveId:e=null,children:n,className:t="",direction:r,forwardedRef:i,id:o=null,onLayout:l=null,keyboardResizeBy:s=null,storage:a=ge,style:h,tagName:E="div",...p}){const u=Ge(o),v=f.useRef(null),[y,C]=f.useState(null),[w,b]=f.useState([]),A=Hn(),H=f.useRef({}),N=f.useRef(new Map),j=f.useRef(0),R=f.useRef({autoSaveId:e,direction:r,dragState:y,id:u,keyboardResizeBy:s,onLayout:l,storage:a}),P=f.useRef({layout:w,panelDataArray:[],panelDataArrayChanged:!1});f.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),f.useImperativeHandle(i,()=>({getId:()=>R.current.id,getLayout:()=>{const{layout:c}=P.current;return c},setLayout:c=>{const{onLayout:g}=R.current,{layout:S,panelDataArray:m}=P.current,d=qe({layout:c,panelConstraints:m.map(z=>z.constraints)});je(S,d)||(b(d),P.current.layout=d,g&&g(d),oe(m,d,H.current))}}),[]),ne(()=>{R.current.autoSaveId=e,R.current.direction=r,R.current.dragState=y,R.current.id=u,R.current.onLayout=l,R.current.storage=a}),Gn({committedValuesRef:R,eagerValuesRef:P,groupId:u,layout:w,panelDataArray:P.current.panelDataArray,setLayout:b,panelGroupElement:v.current}),f.useEffect(()=>{const{panelDataArray:c}=P.current;if(e){if(w.length===0||w.length!==c.length)return;let g=Xe[e];g==null&&(g=Wn(Vn,jn),Xe[e]=g);const S=[...c],m=new Map(N.current);g(e,S,m,w,a)}},[e,w,a]),f.useEffect(()=>{});const W=f.useCallback(c=>{const{onLayout:g}=R.current,{layout:S,panelDataArray:m}=P.current;if(c.constraints.collapsible){const d=m.map(O=>O.constraints),{collapsedSize:z=0,panelSize:I,pivotIndices:M}=ee(m,c,S);if(x(I!=null,`Panel size not found for panel "${c.id}"`),!J(I,z)){N.current.set(c.id,I);const q=ie(m,c)===m.length-1?I-z:z-I,L=me({delta:q,initialLayout:S,panelConstraints:d,pivotIndices:M,prevLayout:S,trigger:"imperative-api"});ve(S,L)||(b(L),P.current.layout=L,g&&g(L),oe(m,L,H.current))}}},[]),X=f.useCallback((c,g)=>{const{onLayout:S}=R.current,{layout:m,panelDataArray:d}=P.current;if(c.constraints.collapsible){const z=d.map(U=>U.constraints),{collapsedSize:I=0,panelSize:M=0,minSize:O=0,pivotIndices:q}=ee(d,c,m),L=g??O;if(J(M,I)){const U=N.current.get(c.id),de=U!=null&&U>=L?U:L,Le=ie(d,c)===d.length-1?M-de:de-M,F=me({delta:Le,initialLayout:m,panelConstraints:z,pivotIndices:q,prevLayout:m,trigger:"imperative-api"});ve(m,F)||(b(F),P.current.layout=F,S&&S(F),oe(d,F,H.current))}}},[]),T=f.useCallback(c=>{const{layout:g,panelDataArray:S}=P.current,{panelSize:m}=ee(S,c,g);return x(m!=null,`Panel size not found for panel "${c.id}"`),m},[]),G=f.useCallback((c,g)=>{const{panelDataArray:S}=P.current,m=ie(S,c);return Kn({defaultSize:g,dragState:y,layout:w,panelData:S,panelIndex:m})},[y,w]),D=f.useCallback(c=>{const{layout:g,panelDataArray:S}=P.current,{collapsedSize:m=0,collapsible:d,panelSize:z}=ee(S,c,g);return x(z!=null,`Panel size not found for panel "${c.id}"`),d===!0&&J(z,m)},[]),Q=f.useCallback(c=>{const{layout:g,panelDataArray:S}=P.current,{collapsedSize:m=0,collapsible:d,panelSize:z}=ee(S,c,g);return x(z!=null,`Panel size not found for panel "${c.id}"`),!d||te(z,m)>0},[]),_=f.useCallback(c=>{const{panelDataArray:g}=P.current;g.push(c),g.sort((S,m)=>{const d=S.order,z=m.order;return d==null&&z==null?0:d==null?-1:z==null?1:d-z}),P.current.panelDataArrayChanged=!0,A()},[A]);ne(()=>{if(P.current.panelDataArrayChanged){P.current.panelDataArrayChanged=!1;const{autoSaveId:c,onLayout:g,storage:S}=R.current,{layout:m,panelDataArray:d}=P.current;let z=null;if(c){const M=Un(c,d,S);M&&(N.current=new Map(Object.entries(M.expandToSizes)),z=M.layout)}z==null&&(z=Tn({panelDataArray:d}));const I=qe({layout:z,panelConstraints:d.map(M=>M.constraints)});je(m,I)||(b(I),P.current.layout=I,g&&g(I),oe(d,I,H.current))}}),ne(()=>{const c=P.current;return()=>{c.layout=[]}},[]);const $=f.useCallback(c=>{let g=!1;const S=v.current;return S&&window.getComputedStyle(S,null).getPropertyValue("direction")==="rtl"&&(g=!0),function(d){d.preventDefault();const z=v.current;if(!z)return()=>null;const{direction:I,dragState:M,id:O,keyboardResizeBy:q,onLayout:L}=R.current,{layout:U,panelDataArray:de}=P.current,{initialLayout:xe}=M??{},Le=an(O,c,z);let F=Fn(d,c,I,M,q,z);const Fe=I==="horizontal";Fe&&g&&(F=-F);const gn=de.map(hn=>hn.constraints),pe=me({delta:F,initialLayout:xe??U,panelConstraints:gn,pivotIndices:Le,prevLayout:U,trigger:Ye(d)?"keyboard":"mouse-or-touch"}),Te=!ve(U,pe);(Ze(d)||Qe(d))&&j.current!=F&&(j.current=F,!Te&&F!==0?Fe?Me(c,F<0?nn:tn):Me(c,F<0?rn:on):Me(c,0)),Te&&(b(pe),P.current.layout=pe,L&&L(pe),oe(de,pe,H.current))}},[]),B=f.useCallback((c,g)=>{const{onLayout:S}=R.current,{layout:m,panelDataArray:d}=P.current,z=d.map(U=>U.constraints),{panelSize:I,pivotIndices:M}=ee(d,c,m);x(I!=null,`Panel size not found for panel "${c.id}"`);const q=ie(d,c)===d.length-1?I-g:g-I,L=me({delta:q,initialLayout:m,panelConstraints:z,pivotIndices:M,prevLayout:m,trigger:"imperative-api"});ve(m,L)||(b(L),P.current.layout=L,S&&S(L),oe(d,L,H.current))},[]),ae=f.useCallback((c,g)=>{const{layout:S,panelDataArray:m}=P.current,{collapsedSize:d=0,collapsible:z}=g,{collapsedSize:I=0,collapsible:M,maxSize:O=100,minSize:q=0}=c.constraints,{panelSize:L}=ee(m,c,S);L!=null&&(z&&M&&J(L,d)?J(d,I)||B(c,I):L<q?B(c,q):L>O&&B(c,O))},[B]),ue=f.useCallback((c,g)=>{const{direction:S}=R.current,{layout:m}=P.current;if(!v.current)return;const d=Ae(c,v.current);x(d,`Drag handle element not found for id "${c}"`);const z=cn(S,g);C({dragHandleId:c,dragHandleRect:d.getBoundingClientRect(),initialCursorPosition:z,initialLayout:m})},[]),ce=f.useCallback(()=>{C(null)},[]),ze=f.useCallback(c=>{const{panelDataArray:g}=P.current,S=ie(g,c);S>=0&&(g.splice(S,1),delete H.current[c.id],P.current.panelDataArrayChanged=!0,A())},[A]),re=f.useMemo(()=>({collapsePanel:W,direction:r,dragState:y,expandPanel:X,getPanelSize:T,getPanelStyle:G,groupId:u,isPanelCollapsed:D,isPanelExpanded:Q,reevaluatePanelConstraints:ae,registerPanel:_,registerResizeHandle:$,resizePanel:B,startDragging:ue,stopDragging:ce,unregisterPanel:ze,panelGroupElement:v.current}),[W,y,r,X,T,G,u,D,Q,ae,_,$,B,ue,ce,ze]),fe={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return f.createElement(we.Provider,{value:re},f.createElement(E,{...p,children:n,className:t,id:o,ref:v,style:{...fe,...h},[k.group]:"",[k.groupDirection]:r,[k.groupId]:u}))}const On=f.forwardRef((e,n)=>f.createElement(mn,{...e,forwardedRef:n}));mn.displayName="PanelGroup";On.displayName="forwardRef(PanelGroup)";function ie(e,n){return e.findIndex(t=>t===n||t.id===n.id)}function ee(e,n,t){const r=ie(e,n),o=r===e.length-1?[r-1,r]:[r,r+1],l=t[r];return{...n.constraints,panelSize:l,pivotIndices:o}}function qn({disabled:e,handleId:n,resizeHandler:t,panelGroupElement:r}){f.useEffect(()=>{if(e||t==null||r==null)return;const i=Ae(n,r);if(i==null)return;const o=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{l.preventDefault(),t(l);break}case"F6":{l.preventDefault();const s=i.getAttribute(k.groupId);x(s,`No group element found for id "${s}"`);const a=ye(s,r),h=sn(s,n,r);x(h!==null,`No resize element found for id "${n}"`);const E=l.shiftKey?h>0?h-1:a.length-1:h+1<a.length?h+1:0;a[E].focus();break}}};return i.addEventListener("keydown",o),()=>{i.removeEventListener("keydown",o)}},[r,e,n,t])}function Xn({children:e=null,className:n="",disabled:t=!1,hitAreaMargins:r,id:i,onBlur:o,onClick:l,onDragging:s,onFocus:a,onPointerDown:h,onPointerUp:E,style:p={},tabIndex:u=0,tagName:v="div",...y}){var C,w;const b=f.useRef(null),A=f.useRef({onClick:l,onDragging:s,onPointerDown:h,onPointerUp:E});f.useEffect(()=>{A.current.onClick=l,A.current.onDragging=s,A.current.onPointerDown=h,A.current.onPointerUp=E});const H=f.useContext(we);if(H===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:N,groupId:j,registerResizeHandle:R,startDragging:P,stopDragging:W,panelGroupElement:X}=H,T=Ge(i),[G,D]=f.useState("inactive"),[Q,_]=f.useState(!1),[$,B]=f.useState(null),ae=f.useRef({state:G});ne(()=>{ae.current.state=G}),f.useEffect(()=>{if(t)B(null);else{const re=R(T);B(()=>re)}},[t,T,R]);const ue=(C=r?.coarse)!==null&&C!==void 0?C:15,ce=(w=r?.fine)!==null&&w!==void 0?w:5;f.useEffect(()=>{if(t||$==null)return;const re=b.current;x(re,"Element ref not attached");let fe=!1;return kn(T,re,N,{coarse:ue,fine:ce},(g,S,m)=>{if(!S){D("inactive");return}switch(g){case"down":{D("drag"),fe=!1,x(m,'Expected event to be defined for "down" action'),P(T,m);const{onDragging:d,onPointerDown:z}=A.current;d?.(!0),z?.();break}case"move":{const{state:d}=ae.current;fe=!0,d!=="drag"&&D("hover"),x(m,'Expected event to be defined for "move" action'),$(m);break}case"up":{D("hover"),W();const{onClick:d,onDragging:z,onPointerUp:I}=A.current;z?.(!1),I?.(),fe||d?.();break}}})},[ue,N,t,ce,R,T,$,P,W]),qn({disabled:t,handleId:T,resizeHandler:$,panelGroupElement:X});const ze={touchAction:"none",userSelect:"none"};return f.createElement(v,{...y,children:e,className:n,id:i,onBlur:()=>{_(!1),o?.()},onFocus:()=>{_(!0),a?.()},ref:b,role:"separator",style:{...ze,...p},tabIndex:u,[k.groupDirection]:N,[k.groupId]:j,[k.resizeHandle]:"",[k.resizeHandleActive]:G==="drag"?"pointer":Q?"keyboard":void 0,[k.resizeHandleEnabled]:!t,[k.resizeHandleId]:T,[k.resizeHandleState]:G})}Xn.displayName="PanelResizeHandle";class Jn extends f.PureComponent{constructor(){super(...arguments),this.state={error:null,info:null}}componentDidCatch(n,t){const{children:r}=this.props,i=Array.isArray(r)&&r.length===1?r[0]:r;this.setState({error:n,info:t});let o="component";try{o=i.type.name}catch{}if(this.props.showAlert)try{zn({error:n,title:"Application Error",message:Se.jsxs("p",{children:["Failed to render ",o,". Please report the error to"," ",Se.jsx("a",{href:"https://github.com/Kong/insomnia/issues",children:"our GitHub Issues"})]})})}catch{}}render(){return this.state.error?Se.jsxs("div",{className:this.props.errorClassName??"font-error",children:["Render Failure: ",this.state.error.message]}):this.props.children}}const et=e=>{const{children:n,...t}=e;return n?Se.jsx(Jn,{...t,children:n}):null};export{et as E,On as P,Sn as a,Xn as b};
//# sourceMappingURL=error-boundary-qQv-jeYH.js.map
