import{r as ee}from"./index-BMm92w-c.js";import{r as qr}from"./sax-DTOkft0z.js";function Nn(r,s){for(var n=0;n<s.length;n++){const i=s[n];if(typeof i!="string"&&!Array.isArray(i)){for(const t in i)if(t!=="default"&&!(t in r)){const u=Object.getOwnPropertyDescriptor(i,t);u&&Object.defineProperty(r,t,u.get?u:{enumerable:!0,get:()=>i[t]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}var z={},ce,Fr;function ln(){if(Fr)return ce;Fr=1;var r=ee().Buffer,s=require("stream"),n=require("util");function i(t){if(this.buffer=null,this.writable=!0,this.readable=!0,!t)return this.buffer=r.alloc(0),this;if(typeof t.pipe=="function")return this.buffer=r.alloc(0),t.pipe(this),this;if(t.length||typeof t=="object")return this.buffer=t,this.writable=!1,process.nextTick(function(){this.emit("end",t),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof t+")")}return n.inherits(i,s),i.prototype.write=function(u){this.buffer=r.concat([this.buffer,r.from(u)]),this.emit("data",u)},i.prototype.end=function(u){u&&this.write(u),this.emit("end",u),this.emit("close"),this.writable=!1,this.readable=!1},ce=i,ce}var fe,kr;function qn(){if(kr)return fe;kr=1;var r=qr().Buffer,s=qr().SlowBuffer;fe=n;function n(u,l){if(!r.isBuffer(u)||!r.isBuffer(l)||u.length!==l.length)return!1;for(var v=0,o=0;o<u.length;o++)v|=u[o]^l[o];return v===0}n.install=function(){r.prototype.equal=s.prototype.equal=function(l){return n(this,l)}};var i=r.prototype.equal,t=s.prototype.equal;return n.restore=function(){r.prototype.equal=i,s.prototype.equal=t},fe}var le,Vr;function Pn(){if(Vr)return le;Vr=1;function r(i){var t=(i/8|0)+(i%8===0?0:1);return t}var s={ES256:r(256),ES384:r(384),ES512:r(521)};function n(i){var t=s[i];if(t)return t;throw new Error('Unknown algorithm "'+i+'"')}return le=n,le}var he,Mr;function _n(){if(Mr)return he;Mr=1;var r=ee().Buffer,s=Pn(),n=128,i=0,t=32,u=16,l=2,v=u|t|i<<6,o=l|i<<6;function S(m){return m.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function e(m){if(r.isBuffer(m))return m;if(typeof m=="string")return r.from(m,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function a(m,g){m=e(m);var $=s(g),f=$+1,E=m.length,h=0;if(m[h++]!==v)throw new Error('Could not find expected "seq"');var w=m[h++];if(w===(n|1)&&(w=m[h++]),E-h<w)throw new Error('"seq" specified length of "'+w+'", only "'+(E-h)+'" remaining');if(m[h++]!==o)throw new Error('Could not find expected "int" for "r"');var P=m[h++];if(E-h-2<P)throw new Error('"r" specified length of "'+P+'", only "'+(E-h-2)+'" available');if(f<P)throw new Error('"r" specified length of "'+P+'", max of "'+f+'" is acceptable');var I=h;if(h+=P,m[h++]!==o)throw new Error('Could not find expected "int" for "s"');var O=m[h++];if(E-h!==O)throw new Error('"s" specified length of "'+O+'", expected "'+(E-h)+'"');if(f<O)throw new Error('"s" specified length of "'+O+'", max of "'+f+'" is acceptable');var b=h;if(h+=O,h!==E)throw new Error('Expected to consume entire buffer, but "'+(E-h)+'" bytes remain');var _=$-P,B=$-O,F=r.allocUnsafe(_+P+B+O);for(h=0;h<_;++h)F[h]=0;m.copy(F,h,I+Math.max(-_,0),I+P),h=$;for(var T=h;h<T+B;++h)F[h]=0;return m.copy(F,h,b+Math.max(-B,0),b+O),F=F.toString("base64"),F=S(F),F}function c(m,g,$){for(var f=0;g+f<$&&m[g+f]===0;)++f;var E=m[g+f]>=n;return E&&--f,f}function R(m,g){m=e(m);var $=s(g),f=m.length;if(f!==$*2)throw new TypeError('"'+g+'" signatures must be "'+$*2+'" bytes, saw "'+f+'"');var E=c(m,0,$),h=c(m,$,m.length),w=$-E,P=$-h,I=2+w+1+1+P,O=I<n,b=r.allocUnsafe((O?2:3)+I),_=0;return b[_++]=v,O?b[_++]=I:(b[_++]=n|1,b[_++]=I&255),b[_++]=o,b[_++]=w,E<0?(b[_++]=0,_+=m.copy(b,_,0,$)):_+=m.copy(b,_,E,$),b[_++]=o,b[_++]=P,h<0?(b[_++]=0,m.copy(b,_,$)):m.copy(b,_,$+h),b}return he={derToJose:a,joseToDer:R},he}var de,Hr;function hn(){if(Hr)return de;Hr=1;var r=qn(),s=ee().Buffer,n=require("crypto"),i=_n(),t=require("util"),u=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,l="secret must be a string or buffer",v="key must be a string or a buffer",o="key must be a string, a buffer or an object",S=typeof n.createPublicKey=="function";S&&(v+=" or a KeyObject",l+="or a KeyObject");function e(T){if(!s.isBuffer(T)&&typeof T!="string"&&(!S||typeof T!="object"||typeof T.type!="string"||typeof T.asymmetricKeyType!="string"||typeof T.export!="function"))throw g(v)}function a(T){if(!s.isBuffer(T)&&typeof T!="string"&&typeof T!="object")throw g(o)}function c(T){if(!s.isBuffer(T)){if(typeof T=="string")return T;if(!S||typeof T!="object"||T.type!=="secret"||typeof T.export!="function")throw g(l)}}function R(T){return T.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function m(T){T=T.toString();var j=4-T.length%4;if(j!==4)for(var y=0;y<j;++y)T+="=";return T.replace(/\-/g,"+").replace(/_/g,"/")}function g(T){var j=[].slice.call(arguments,1),y=t.format.bind(t,T).apply(null,j);return new TypeError(y)}function $(T){return s.isBuffer(T)||typeof T=="string"}function f(T){return $(T)||(T=JSON.stringify(T)),T}function E(T){return function(y,d){c(d),y=f(y);var A=n.createHmac("sha"+T,d),L=(A.update(y),A.digest("base64"));return R(L)}}function h(T){return function(y,d,A){var L=E(T)(y,A);return r(s.from(d),s.from(L))}}function w(T){return function(y,d){a(d),y=f(y);var A=n.createSign("RSA-SHA"+T),L=(A.update(y),A.sign(d,"base64"));return R(L)}}function P(T){return function(y,d,A){e(A),y=f(y),d=m(d);var L=n.createVerify("RSA-SHA"+T);return L.update(y),L.verify(A,d,"base64")}}function I(T){return function(y,d){a(d),y=f(y);var A=n.createSign("RSA-SHA"+T),L=(A.update(y),A.sign({key:d,padding:n.constants.RSA_PKCS1_PSS_PADDING,saltLength:n.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return R(L)}}function O(T){return function(y,d,A){e(A),y=f(y),d=m(d);var L=n.createVerify("RSA-SHA"+T);return L.update(y),L.verify({key:A,padding:n.constants.RSA_PKCS1_PSS_PADDING,saltLength:n.constants.RSA_PSS_SALTLEN_DIGEST},d,"base64")}}function b(T){var j=w(T);return function(){var d=j.apply(null,arguments);return d=i.derToJose(d,"ES"+T),d}}function _(T){var j=P(T);return function(d,A,L){A=i.joseToDer(A,"ES"+T).toString("base64");var N=j(d,A,L);return N}}function B(){return function(){return""}}function F(){return function(j,y){return y===""}}return de=function(j){var y={hs:E,rs:w,ps:I,es:b,none:B},d={hs:h,rs:P,ps:O,es:_,none:F},A=j.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!A)throw g(u,j);var L=(A[1]||A[3]).toLowerCase(),N=A[2];return{sign:y[L](N),verify:d[L](N)}},de}var pe,Ur;function dn(){if(Ur)return pe;Ur=1;var r=qr().Buffer;return pe=function(n){return typeof n=="string"?n:typeof n=="number"||r.isBuffer(n)?n.toString():JSON.stringify(n)},pe}var me,Kr;function jn(){if(Kr)return me;Kr=1;var r=ee().Buffer,s=ln(),n=hn(),i=require("stream"),t=dn(),u=require("util");function l(e,a){return r.from(e,a).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function v(e,a,c){c=c||"utf8";var R=l(t(e),"binary"),m=l(t(a),c);return u.format("%s.%s",R,m)}function o(e){var a=e.header,c=e.payload,R=e.secret||e.privateKey,m=e.encoding,g=n(a.alg),$=v(a,c,m),f=g.sign($,R);return u.format("%s.%s",$,f)}function S(e){var a=e.secret||e.privateKey||e.key,c=new s(a);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=c,this.payload=new s(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}return u.inherits(S,i),S.prototype.sign=function(){try{var a=o({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",a),this.emit("data",a),this.emit("end"),this.readable=!1,a}catch(c){this.readable=!1,this.emit("error",c),this.emit("close")}},S.sign=o,me=S,me}var Ee,Xr;function Dn(){if(Xr)return Ee;Xr=1;var r=ee().Buffer,s=ln(),n=hn(),i=require("stream"),t=dn(),u=require("util"),l=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function v(f){return Object.prototype.toString.call(f)==="[object Object]"}function o(f){if(v(f))return f;try{return JSON.parse(f)}catch{return}}function S(f){var E=f.split(".",1)[0];return o(r.from(E,"base64").toString("binary"))}function e(f){return f.split(".",2).join(".")}function a(f){return f.split(".")[2]}function c(f,E){E=E||"utf8";var h=f.split(".")[1];return r.from(h,"base64").toString(E)}function R(f){return l.test(f)&&!!S(f)}function m(f,E,h){if(!E){var w=new Error("Missing algorithm parameter for jws.verify");throw w.code="MISSING_ALGORITHM",w}f=t(f);var P=a(f),I=e(f),O=n(E);return O.verify(I,P,h)}function g(f,E){if(E=E||{},f=t(f),!R(f))return null;var h=S(f);if(!h)return null;var w=c(f);return(h.typ==="JWT"||E.json)&&(w=JSON.parse(w,E.encoding)),{header:h,payload:w,signature:a(f)}}function $(f){f=f||{};var E=f.secret||f.publicKey||f.key,h=new s(E);this.readable=!0,this.algorithm=f.algorithm,this.encoding=f.encoding,this.secret=this.publicKey=this.key=h,this.signature=new s(f.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}return u.inherits($,i),$.prototype.verify=function(){try{var E=m(this.signature.buffer,this.algorithm,this.key.buffer),h=g(this.signature.buffer,this.encoding);return this.emit("done",E,h),this.emit("data",E),this.emit("end"),this.readable=!1,E}catch(w){this.readable=!1,this.emit("error",w),this.emit("close")}},$.decode=g,$.isValid=R,$.verify=m,Ee=$,Ee}var Jr;function Pr(){if(Jr)return z;Jr=1;var r=jn(),s=Dn(),n=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];return z.ALGORITHMS=n,z.sign=r.sign,z.verify=s.verify,z.decode=s.decode,z.isValid=s.isValid,z.createSign=function(t){return new r(t)},z.createVerify=function(t){return new s(t)},z}var ye,Wr;function pn(){if(Wr)return ye;Wr=1;var r=Pr();return ye=function(s,n){n=n||{};var i=r.decode(s,n);if(!i)return null;var t=i.payload;if(typeof t=="string")try{var u=JSON.parse(t);u!==null&&typeof u=="object"&&(t=u)}catch{}return n.complete===!0?{header:i.header,payload:t,signature:i.signature}:t},ye}var ge,Yr;function ne(){if(Yr)return ge;Yr=1;var r=function(s,n){Error.call(this,s),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=s,n&&(this.inner=n)};return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,ge=r,ge}var Se,zr;function mn(){if(zr)return Se;zr=1;var r=ne(),s=function(n,i){r.call(this,n),this.name="NotBeforeError",this.date=i};return s.prototype=Object.create(r.prototype),s.prototype.constructor=s,Se=s,Se}var ve,Zr;function En(){if(Zr)return ve;Zr=1;var r=ne(),s=function(n,i){r.call(this,n),this.name="TokenExpiredError",this.expiredAt=i};return s.prototype=Object.create(r.prototype),s.prototype.constructor=s,ve=s,ve}var Re,Qr;function Cn(){if(Qr)return Re;Qr=1;var r=1e3,s=r*60,n=s*60,i=n*24,t=i*7,u=i*365.25;Re=function(e,a){a=a||{};var c=typeof e;if(c==="string"&&e.length>0)return l(e);if(c==="number"&&isFinite(e))return a.long?o(e):v(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function l(e){if(e=String(e),!(e.length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(a){var c=parseFloat(a[1]),R=(a[2]||"ms").toLowerCase();switch(R){case"years":case"year":case"yrs":case"yr":case"y":return c*u;case"weeks":case"week":case"w":return c*t;case"days":case"day":case"d":return c*i;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*s;case"seconds":case"second":case"secs":case"sec":case"s":return c*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}function v(e){var a=Math.abs(e);return a>=i?Math.round(e/i)+"d":a>=n?Math.round(e/n)+"h":a>=s?Math.round(e/s)+"m":a>=r?Math.round(e/r)+"s":e+"ms"}function o(e){var a=Math.abs(e);return a>=i?S(e,a,i,"day"):a>=n?S(e,a,n,"hour"):a>=s?S(e,a,s,"minute"):a>=r?S(e,a,r,"second"):e+" ms"}function S(e,a,c,R){var m=a>=c*1.5;return Math.round(e/c)+" "+R+(m?"s":"")}return Re}var we,et;function yn(){if(et)return we;et=1;var r=Cn();return we=function(s,n){var i=n||Math.floor(Date.now()/1e3);if(typeof s=="string"){var t=r(s);return typeof t>"u"?void 0:Math.floor(i+t/1e3)}else return typeof s=="number"?i+s:void 0},we}var te={exports:{}},be,rt;function ie(){if(rt)return be;rt=1;const r="2.0.0",s=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,i=16,t=s-6;return be={MAX_LENGTH:s,MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:t,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:r,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},be}var Ie,tt;function se(){if(tt)return Ie;tt=1;var r={};return Ie=typeof process=="object"&&r&&r.NODE_DEBUG&&/\bsemver\b/i.test(r.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{},Ie}var nt;function re(){return nt||(nt=1,(function(r,s){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:t}=ie(),u=se();s=r.exports={};const l=s.re=[],v=s.safeRe=[],o=s.src=[],S=s.safeSrc=[],e=s.t={};let a=0;const c="[a-zA-Z0-9-]",R=[["\\s",1],["\\d",t],[c,i]],m=$=>{for(const[f,E]of R)$=$.split(`${f}*`).join(`${f}{0,${E}}`).split(`${f}+`).join(`${f}{1,${E}}`);return $},g=($,f,E)=>{const h=m(f),w=a++;u($,w,f),e[$]=w,o[w]=f,S[w]=h,l[w]=new RegExp(f,E?"g":void 0),v[w]=new RegExp(h,E?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${c}*`),g("MAINVERSION",`(${o[e.NUMERICIDENTIFIER]})\\.(${o[e.NUMERICIDENTIFIER]})\\.(${o[e.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${o[e.NUMERICIDENTIFIERLOOSE]})\\.(${o[e.NUMERICIDENTIFIERLOOSE]})\\.(${o[e.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${o[e.NUMERICIDENTIFIER]}|${o[e.NONNUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${o[e.NUMERICIDENTIFIERLOOSE]}|${o[e.NONNUMERICIDENTIFIER]})`),g("PRERELEASE",`(?:-(${o[e.PRERELEASEIDENTIFIER]}(?:\\.${o[e.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${o[e.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[e.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${c}+`),g("BUILD",`(?:\\+(${o[e.BUILDIDENTIFIER]}(?:\\.${o[e.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${o[e.MAINVERSION]}${o[e.PRERELEASE]}?${o[e.BUILD]}?`),g("FULL",`^${o[e.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${o[e.MAINVERSIONLOOSE]}${o[e.PRERELEASELOOSE]}?${o[e.BUILD]}?`),g("LOOSE",`^${o[e.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${o[e.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${o[e.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${o[e.XRANGEIDENTIFIER]})(?:\\.(${o[e.XRANGEIDENTIFIER]})(?:\\.(${o[e.XRANGEIDENTIFIER]})(?:${o[e.PRERELEASE]})?${o[e.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${o[e.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[e.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[e.XRANGEIDENTIFIERLOOSE]})(?:${o[e.PRERELEASELOOSE]})?${o[e.BUILD]}?)?)?`),g("XRANGE",`^${o[e.GTLT]}\\s*${o[e.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${o[e.GTLT]}\\s*${o[e.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),g("COERCE",`${o[e.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",o[e.COERCEPLAIN]+`(?:${o[e.PRERELEASE]})?(?:${o[e.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",o[e.COERCE],!0),g("COERCERTLFULL",o[e.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${o[e.LONETILDE]}\\s+`,!0),s.tildeTrimReplace="$1~",g("TILDE",`^${o[e.LONETILDE]}${o[e.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${o[e.LONETILDE]}${o[e.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${o[e.LONECARET]}\\s+`,!0),s.caretTrimReplace="$1^",g("CARET",`^${o[e.LONECARET]}${o[e.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${o[e.LONECARET]}${o[e.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${o[e.GTLT]}\\s*(${o[e.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${o[e.GTLT]}\\s*(${o[e.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${o[e.GTLT]}\\s*(${o[e.LOOSEPLAIN]}|${o[e.XRANGEPLAIN]})`,!0),s.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${o[e.XRANGEPLAIN]})\\s+-\\s+(${o[e.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${o[e.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[e.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(te,te.exports)),te.exports}var Ae,it;function _r(){if(it)return Ae;it=1;const r=Object.freeze({loose:!0}),s=Object.freeze({});return Ae=i=>i?typeof i!="object"?r:i:s,Ae}var Te,st;function gn(){if(st)return Te;st=1;const r=/^[0-9]+$/,s=(i,t)=>{const u=r.test(i),l=r.test(t);return u&&l&&(i=+i,t=+t),i===t?0:u&&!l?-1:l&&!u?1:i<t?-1:1};return Te={compareIdentifiers:s,rcompareIdentifiers:(i,t)=>s(t,i)},Te}var $e,at;function K(){if(at)return $e;at=1;const r=se(),{MAX_LENGTH:s,MAX_SAFE_INTEGER:n}=ie(),{safeRe:i,safeSrc:t,t:u}=re(),l=_r(),{compareIdentifiers:v}=gn();class o{constructor(e,a){if(a=l(a),e instanceof o){if(e.loose===!!a.loose&&e.includePrerelease===!!a.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>s)throw new TypeError(`version is longer than ${s} characters`);r("SemVer",e,a),this.options=a,this.loose=!!a.loose,this.includePrerelease=!!a.includePrerelease;const c=e.trim().match(a.loose?i[u.LOOSE]:i[u.FULL]);if(!c)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+c[1],this.minor=+c[2],this.patch=+c[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");c[4]?this.prerelease=c[4].split(".").map(R=>{if(/^[0-9]+$/.test(R)){const m=+R;if(m>=0&&m<n)return m}return R}):this.prerelease=[],this.build=c[5]?c[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof o)){if(typeof e=="string"&&e===this.version)return 0;e=new o(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof o||(e=new o(e,this.options)),v(this.major,e.major)||v(this.minor,e.minor)||v(this.patch,e.patch)}comparePre(e){if(e instanceof o||(e=new o(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let a=0;do{const c=this.prerelease[a],R=e.prerelease[a];if(r("prerelease compare",a,c,R),c===void 0&&R===void 0)return 0;if(R===void 0)return 1;if(c===void 0)return-1;if(c===R)continue;return v(c,R)}while(++a)}compareBuild(e){e instanceof o||(e=new o(e,this.options));let a=0;do{const c=this.build[a],R=e.build[a];if(r("build compare",a,c,R),c===void 0&&R===void 0)return 0;if(R===void 0)return 1;if(c===void 0)return-1;if(c===R)continue;return v(c,R)}while(++a)}inc(e,a,c){if(e.startsWith("pre")){if(!a&&c===!1)throw new Error("invalid increment argument: identifier is empty");if(a){const R=new RegExp(`^${this.options.loose?t[u.PRERELEASELOOSE]:t[u.PRERELEASE]}$`),m=`-${a}`.match(R);if(!m||m[1]!==a)throw new Error(`invalid identifier: ${a}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",a,c);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",a,c);break;case"prepatch":this.prerelease.length=0,this.inc("patch",a,c),this.inc("pre",a,c);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",a,c),this.inc("pre",a,c);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const R=Number(c)?1:0;if(this.prerelease.length===0)this.prerelease=[R];else{let m=this.prerelease.length;for(;--m>=0;)typeof this.prerelease[m]=="number"&&(this.prerelease[m]++,m=-2);if(m===-1){if(a===this.prerelease.join(".")&&c===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(R)}}if(a){let m=[a,R];c===!1&&(m=[a]),v(this.prerelease[0],a)===0?isNaN(this.prerelease[1])&&(this.prerelease=m):this.prerelease=m}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return $e=o,$e}var Le,ot;function Q(){if(ot)return Le;ot=1;const r=K();return Le=(n,i,t=!1)=>{if(n instanceof r)return n;try{return new r(n,i)}catch(u){if(!t)return null;throw u}},Le}var Oe,ut;function xn(){if(ut)return Oe;ut=1;const r=Q();return Oe=(n,i)=>{const t=r(n,i);return t?t.version:null},Oe}var Ne,ct;function Bn(){if(ct)return Ne;ct=1;const r=Q();return Ne=(n,i)=>{const t=r(n.trim().replace(/^[=v]+/,""),i);return t?t.version:null},Ne}var qe,ft;function Gn(){if(ft)return qe;ft=1;const r=K();return qe=(n,i,t,u,l)=>{typeof t=="string"&&(l=u,u=t,t=void 0);try{return new r(n instanceof r?n.version:n,t).inc(i,u,l).version}catch{return null}},qe}var Pe,lt;function Fn(){if(lt)return Pe;lt=1;const r=Q();return Pe=(n,i)=>{const t=r(n,null,!0),u=r(i,null,!0),l=t.compare(u);if(l===0)return null;const v=l>0,o=v?t:u,S=v?u:t,e=!!o.prerelease.length;if(!!S.prerelease.length&&!e){if(!S.patch&&!S.minor)return"major";if(S.compareMain(o)===0)return S.minor&&!S.patch?"minor":"patch"}const c=e?"pre":"";return t.major!==u.major?c+"major":t.minor!==u.minor?c+"minor":t.patch!==u.patch?c+"patch":"prerelease"},Pe}var _e,ht;function kn(){if(ht)return _e;ht=1;const r=K();return _e=(n,i)=>new r(n,i).major,_e}var je,dt;function Vn(){if(dt)return je;dt=1;const r=K();return je=(n,i)=>new r(n,i).minor,je}var De,pt;function Mn(){if(pt)return De;pt=1;const r=K();return De=(n,i)=>new r(n,i).patch,De}var Ce,mt;function Hn(){if(mt)return Ce;mt=1;const r=Q();return Ce=(n,i)=>{const t=r(n,i);return t&&t.prerelease.length?t.prerelease:null},Ce}var xe,Et;function J(){if(Et)return xe;Et=1;const r=K();return xe=(n,i,t)=>new r(n,t).compare(new r(i,t)),xe}var Be,yt;function Un(){if(yt)return Be;yt=1;const r=J();return Be=(n,i,t)=>r(i,n,t),Be}var Ge,gt;function Kn(){if(gt)return Ge;gt=1;const r=J();return Ge=(n,i)=>r(n,i,!0),Ge}var Fe,St;function jr(){if(St)return Fe;St=1;const r=K();return Fe=(n,i,t)=>{const u=new r(n,t),l=new r(i,t);return u.compare(l)||u.compareBuild(l)},Fe}var ke,vt;function Xn(){if(vt)return ke;vt=1;const r=jr();return ke=(n,i)=>n.sort((t,u)=>r(t,u,i)),ke}var Ve,Rt;function Jn(){if(Rt)return Ve;Rt=1;const r=jr();return Ve=(n,i)=>n.sort((t,u)=>r(u,t,i)),Ve}var Me,wt;function ae(){if(wt)return Me;wt=1;const r=J();return Me=(n,i,t)=>r(n,i,t)>0,Me}var He,bt;function Dr(){if(bt)return He;bt=1;const r=J();return He=(n,i,t)=>r(n,i,t)<0,He}var Ue,It;function Sn(){if(It)return Ue;It=1;const r=J();return Ue=(n,i,t)=>r(n,i,t)===0,Ue}var Ke,At;function vn(){if(At)return Ke;At=1;const r=J();return Ke=(n,i,t)=>r(n,i,t)!==0,Ke}var Xe,Tt;function Cr(){if(Tt)return Xe;Tt=1;const r=J();return Xe=(n,i,t)=>r(n,i,t)>=0,Xe}var Je,$t;function xr(){if($t)return Je;$t=1;const r=J();return Je=(n,i,t)=>r(n,i,t)<=0,Je}var We,Lt;function Rn(){if(Lt)return We;Lt=1;const r=Sn(),s=vn(),n=ae(),i=Cr(),t=Dr(),u=xr();return We=(v,o,S,e)=>{switch(o){case"===":return typeof v=="object"&&(v=v.version),typeof S=="object"&&(S=S.version),v===S;case"!==":return typeof v=="object"&&(v=v.version),typeof S=="object"&&(S=S.version),v!==S;case"":case"=":case"==":return r(v,S,e);case"!=":return s(v,S,e);case">":return n(v,S,e);case">=":return i(v,S,e);case"<":return t(v,S,e);case"<=":return u(v,S,e);default:throw new TypeError(`Invalid operator: ${o}`)}},We}var Ye,Ot;function Wn(){if(Ot)return Ye;Ot=1;const r=K(),s=Q(),{safeRe:n,t:i}=re();return Ye=(u,l)=>{if(u instanceof r)return u;if(typeof u=="number"&&(u=String(u)),typeof u!="string")return null;l=l||{};let v=null;if(!l.rtl)v=u.match(l.includePrerelease?n[i.COERCEFULL]:n[i.COERCE]);else{const R=l.includePrerelease?n[i.COERCERTLFULL]:n[i.COERCERTL];let m;for(;(m=R.exec(u))&&(!v||v.index+v[0].length!==u.length);)(!v||m.index+m[0].length!==v.index+v[0].length)&&(v=m),R.lastIndex=m.index+m[1].length+m[2].length;R.lastIndex=-1}if(v===null)return null;const o=v[2],S=v[3]||"0",e=v[4]||"0",a=l.includePrerelease&&v[5]?`-${v[5]}`:"",c=l.includePrerelease&&v[6]?`+${v[6]}`:"";return s(`${o}.${S}.${e}${a}${c}`,l)},Ye}var ze,Nt;function Yn(){if(Nt)return ze;Nt=1;class r{constructor(){this.max=1e3,this.map=new Map}get(n){const i=this.map.get(n);if(i!==void 0)return this.map.delete(n),this.map.set(n,i),i}delete(n){return this.map.delete(n)}set(n,i){if(!this.delete(n)&&i!==void 0){if(this.map.size>=this.max){const u=this.map.keys().next().value;this.delete(u)}this.map.set(n,i)}return this}}return ze=r,ze}var Ze,qt;function W(){if(qt)return Ze;qt=1;const r=/\s+/g;class s{constructor(d,A){if(A=t(A),d instanceof s)return d.loose===!!A.loose&&d.includePrerelease===!!A.includePrerelease?d:new s(d.raw,A);if(d instanceof u)return this.raw=d.value,this.set=[[d]],this.formatted=void 0,this;if(this.options=A,this.loose=!!A.loose,this.includePrerelease=!!A.includePrerelease,this.raw=d.trim().replace(r," "),this.set=this.raw.split("||").map(L=>this.parseRange(L.trim())).filter(L=>L.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const L=this.set[0];if(this.set=this.set.filter(N=>!g(N[0])),this.set.length===0)this.set=[L];else if(this.set.length>1){for(const N of this.set)if(N.length===1&&$(N[0])){this.set=[N];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let d=0;d<this.set.length;d++){d>0&&(this.formatted+="||");const A=this.set[d];for(let L=0;L<A.length;L++)L>0&&(this.formatted+=" "),this.formatted+=A[L].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(d){const L=((this.options.includePrerelease&&R)|(this.options.loose&&m))+":"+d,N=i.get(L);if(N)return N;const q=this.options.loose,C=q?o[S.HYPHENRANGELOOSE]:o[S.HYPHENRANGE];d=d.replace(C,T(this.options.includePrerelease)),l("hyphen replace",d),d=d.replace(o[S.COMPARATORTRIM],e),l("comparator trim",d),d=d.replace(o[S.TILDETRIM],a),l("tilde trim",d),d=d.replace(o[S.CARETTRIM],c),l("caret trim",d);let k=d.split(" ").map(M=>E(M,this.options)).join(" ").split(/\s+/).map(M=>F(M,this.options));q&&(k=k.filter(M=>(l("loose invalid filter",M,this.options),!!M.match(o[S.COMPARATORLOOSE])))),l("range list",k);const G=new Map,V=k.map(M=>new u(M,this.options));for(const M of V){if(g(M))return[M];G.set(M.value,M)}G.size>1&&G.has("")&&G.delete("");const H=[...G.values()];return i.set(L,H),H}intersects(d,A){if(!(d instanceof s))throw new TypeError("a Range is required");return this.set.some(L=>f(L,A)&&d.set.some(N=>f(N,A)&&L.every(q=>N.every(C=>q.intersects(C,A)))))}test(d){if(!d)return!1;if(typeof d=="string")try{d=new v(d,this.options)}catch{return!1}for(let A=0;A<this.set.length;A++)if(j(this.set[A],d,this.options))return!0;return!1}}Ze=s;const n=Yn(),i=new n,t=_r(),u=oe(),l=se(),v=K(),{safeRe:o,t:S,comparatorTrimReplace:e,tildeTrimReplace:a,caretTrimReplace:c}=re(),{FLAG_INCLUDE_PRERELEASE:R,FLAG_LOOSE:m}=ie(),g=y=>y.value==="<0.0.0-0",$=y=>y.value==="",f=(y,d)=>{let A=!0;const L=y.slice();let N=L.pop();for(;A&&L.length;)A=L.every(q=>N.intersects(q,d)),N=L.pop();return A},E=(y,d)=>(l("comp",y,d),y=I(y,d),l("caret",y),y=w(y,d),l("tildes",y),y=b(y,d),l("xrange",y),y=B(y,d),l("stars",y),y),h=y=>!y||y.toLowerCase()==="x"||y==="*",w=(y,d)=>y.trim().split(/\s+/).map(A=>P(A,d)).join(" "),P=(y,d)=>{const A=d.loose?o[S.TILDELOOSE]:o[S.TILDE];return y.replace(A,(L,N,q,C,k)=>{l("tilde",y,L,N,q,C,k);let G;return h(N)?G="":h(q)?G=`>=${N}.0.0 <${+N+1}.0.0-0`:h(C)?G=`>=${N}.${q}.0 <${N}.${+q+1}.0-0`:k?(l("replaceTilde pr",k),G=`>=${N}.${q}.${C}-${k} <${N}.${+q+1}.0-0`):G=`>=${N}.${q}.${C} <${N}.${+q+1}.0-0`,l("tilde return",G),G})},I=(y,d)=>y.trim().split(/\s+/).map(A=>O(A,d)).join(" "),O=(y,d)=>{l("caret",y,d);const A=d.loose?o[S.CARETLOOSE]:o[S.CARET],L=d.includePrerelease?"-0":"";return y.replace(A,(N,q,C,k,G)=>{l("caret",y,N,q,C,k,G);let V;return h(q)?V="":h(C)?V=`>=${q}.0.0${L} <${+q+1}.0.0-0`:h(k)?q==="0"?V=`>=${q}.${C}.0${L} <${q}.${+C+1}.0-0`:V=`>=${q}.${C}.0${L} <${+q+1}.0.0-0`:G?(l("replaceCaret pr",G),q==="0"?C==="0"?V=`>=${q}.${C}.${k}-${G} <${q}.${C}.${+k+1}-0`:V=`>=${q}.${C}.${k}-${G} <${q}.${+C+1}.0-0`:V=`>=${q}.${C}.${k}-${G} <${+q+1}.0.0-0`):(l("no pr"),q==="0"?C==="0"?V=`>=${q}.${C}.${k}${L} <${q}.${C}.${+k+1}-0`:V=`>=${q}.${C}.${k}${L} <${q}.${+C+1}.0-0`:V=`>=${q}.${C}.${k} <${+q+1}.0.0-0`),l("caret return",V),V})},b=(y,d)=>(l("replaceXRanges",y,d),y.split(/\s+/).map(A=>_(A,d)).join(" ")),_=(y,d)=>{y=y.trim();const A=d.loose?o[S.XRANGELOOSE]:o[S.XRANGE];return y.replace(A,(L,N,q,C,k,G)=>{l("xRange",y,L,N,q,C,k,G);const V=h(q),H=V||h(C),M=H||h(k),Z=M;return N==="="&&Z&&(N=""),G=d.includePrerelease?"-0":"",V?N===">"||N==="<"?L="<0.0.0-0":L="*":N&&Z?(H&&(C=0),k=0,N===">"?(N=">=",H?(q=+q+1,C=0,k=0):(C=+C+1,k=0)):N==="<="&&(N="<",H?q=+q+1:C=+C+1),N==="<"&&(G="-0"),L=`${N+q}.${C}.${k}${G}`):H?L=`>=${q}.0.0${G} <${+q+1}.0.0-0`:M&&(L=`>=${q}.${C}.0${G} <${q}.${+C+1}.0-0`),l("xRange return",L),L})},B=(y,d)=>(l("replaceStars",y,d),y.trim().replace(o[S.STAR],"")),F=(y,d)=>(l("replaceGTE0",y,d),y.trim().replace(o[d.includePrerelease?S.GTE0PRE:S.GTE0],"")),T=y=>(d,A,L,N,q,C,k,G,V,H,M,Z)=>(h(L)?A="":h(N)?A=`>=${L}.0.0${y?"-0":""}`:h(q)?A=`>=${L}.${N}.0${y?"-0":""}`:C?A=`>=${A}`:A=`>=${A}${y?"-0":""}`,h(V)?G="":h(H)?G=`<${+V+1}.0.0-0`:h(M)?G=`<${V}.${+H+1}.0-0`:Z?G=`<=${V}.${H}.${M}-${Z}`:y?G=`<${V}.${H}.${+M+1}-0`:G=`<=${G}`,`${A} ${G}`.trim()),j=(y,d,A)=>{for(let L=0;L<y.length;L++)if(!y[L].test(d))return!1;if(d.prerelease.length&&!A.includePrerelease){for(let L=0;L<y.length;L++)if(l(y[L].semver),y[L].semver!==u.ANY&&y[L].semver.prerelease.length>0){const N=y[L].semver;if(N.major===d.major&&N.minor===d.minor&&N.patch===d.patch)return!0}return!1}return!0};return Ze}var Qe,Pt;function oe(){if(Pt)return Qe;Pt=1;const r=Symbol("SemVer ANY");class s{static get ANY(){return r}constructor(e,a){if(a=n(a),e instanceof s){if(e.loose===!!a.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),l("comparator",e,a),this.options=a,this.loose=!!a.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const a=this.options.loose?i[t.COMPARATORLOOSE]:i[t.COMPARATOR],c=e.match(a);if(!c)throw new TypeError(`Invalid comparator: ${e}`);this.operator=c[1]!==void 0?c[1]:"",this.operator==="="&&(this.operator=""),c[2]?this.semver=new v(c[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if(typeof e=="string")try{e=new v(e,this.options)}catch{return!1}return u(e,this.operator,this.semver,this.options)}intersects(e,a){if(!(e instanceof s))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new o(e.value,a).test(this.value):e.operator===""?e.value===""?!0:new o(this.value,a).test(e.semver):(a=n(a),a.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!a.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||u(this.semver,"<",e.semver,a)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||u(this.semver,">",e.semver,a)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}Qe=s;const n=_r(),{safeRe:i,t}=re(),u=Rn(),l=se(),v=K(),o=W();return Qe}var er,_t;function ue(){if(_t)return er;_t=1;const r=W();return er=(n,i,t)=>{try{i=new r(i,t)}catch{return!1}return i.test(n)},er}var rr,jt;function zn(){if(jt)return rr;jt=1;const r=W();return rr=(n,i)=>new r(n,i).set.map(t=>t.map(u=>u.value).join(" ").trim().split(" ")),rr}var tr,Dt;function Zn(){if(Dt)return tr;Dt=1;const r=K(),s=W();return tr=(i,t,u)=>{let l=null,v=null,o=null;try{o=new s(t,u)}catch{return null}return i.forEach(S=>{o.test(S)&&(!l||v.compare(S)===-1)&&(l=S,v=new r(l,u))}),l},tr}var nr,Ct;function Qn(){if(Ct)return nr;Ct=1;const r=K(),s=W();return nr=(i,t,u)=>{let l=null,v=null,o=null;try{o=new s(t,u)}catch{return null}return i.forEach(S=>{o.test(S)&&(!l||v.compare(S)===1)&&(l=S,v=new r(l,u))}),l},nr}var ir,xt;function ei(){if(xt)return ir;xt=1;const r=K(),s=W(),n=ae();return ir=(t,u)=>{t=new s(t,u);let l=new r("0.0.0");if(t.test(l)||(l=new r("0.0.0-0"),t.test(l)))return l;l=null;for(let v=0;v<t.set.length;++v){const o=t.set[v];let S=null;o.forEach(e=>{const a=new r(e.semver.version);switch(e.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!S||n(a,S))&&(S=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}}),S&&(!l||n(l,S))&&(l=S)}return l&&t.test(l)?l:null},ir}var sr,Bt;function ri(){if(Bt)return sr;Bt=1;const r=W();return sr=(n,i)=>{try{return new r(n,i).range||"*"}catch{return null}},sr}var ar,Gt;function Br(){if(Gt)return ar;Gt=1;const r=K(),s=oe(),{ANY:n}=s,i=W(),t=ue(),u=ae(),l=Dr(),v=xr(),o=Cr();return ar=(e,a,c,R)=>{e=new r(e,R),a=new i(a,R);let m,g,$,f,E;switch(c){case">":m=u,g=v,$=l,f=">",E=">=";break;case"<":m=l,g=o,$=u,f="<",E="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(t(e,a,R))return!1;for(let h=0;h<a.set.length;++h){const w=a.set[h];let P=null,I=null;if(w.forEach(O=>{O.semver===n&&(O=new s(">=0.0.0")),P=P||O,I=I||O,m(O.semver,P.semver,R)?P=O:$(O.semver,I.semver,R)&&(I=O)}),P.operator===f||P.operator===E||(!I.operator||I.operator===f)&&g(e,I.semver))return!1;if(I.operator===E&&$(e,I.semver))return!1}return!0},ar}var or,Ft;function ti(){if(Ft)return or;Ft=1;const r=Br();return or=(n,i,t)=>r(n,i,">",t),or}var ur,kt;function ni(){if(kt)return ur;kt=1;const r=Br();return ur=(n,i,t)=>r(n,i,"<",t),ur}var cr,Vt;function ii(){if(Vt)return cr;Vt=1;const r=W();return cr=(n,i,t)=>(n=new r(n,t),i=new r(i,t),n.intersects(i,t)),cr}var fr,Mt;function si(){if(Mt)return fr;Mt=1;const r=ue(),s=J();return fr=(n,i,t)=>{const u=[];let l=null,v=null;const o=n.sort((c,R)=>s(c,R,t));for(const c of o)r(c,i,t)?(v=c,l||(l=c)):(v&&u.push([l,v]),v=null,l=null);l&&u.push([l,null]);const S=[];for(const[c,R]of u)c===R?S.push(c):!R&&c===o[0]?S.push("*"):R?c===o[0]?S.push(`<=${R}`):S.push(`${c} - ${R}`):S.push(`>=${c}`);const e=S.join(" || "),a=typeof i.raw=="string"?i.raw:String(i);return e.length<a.length?e:i},fr}var lr,Ht;function ai(){if(Ht)return lr;Ht=1;const r=W(),s=oe(),{ANY:n}=s,i=ue(),t=J(),u=(a,c,R={})=>{if(a===c)return!0;a=new r(a,R),c=new r(c,R);let m=!1;e:for(const g of a.set){for(const $ of c.set){const f=o(g,$,R);if(m=m||f!==null,f)continue e}if(m)return!1}return!0},l=[new s(">=0.0.0-0")],v=[new s(">=0.0.0")],o=(a,c,R)=>{if(a===c)return!0;if(a.length===1&&a[0].semver===n){if(c.length===1&&c[0].semver===n)return!0;R.includePrerelease?a=l:a=v}if(c.length===1&&c[0].semver===n){if(R.includePrerelease)return!0;c=v}const m=new Set;let g,$;for(const b of a)b.operator===">"||b.operator===">="?g=S(g,b,R):b.operator==="<"||b.operator==="<="?$=e($,b,R):m.add(b.semver);if(m.size>1)return null;let f;if(g&&$){if(f=t(g.semver,$.semver,R),f>0)return null;if(f===0&&(g.operator!==">="||$.operator!=="<="))return null}for(const b of m){if(g&&!i(b,String(g),R)||$&&!i(b,String($),R))return null;for(const _ of c)if(!i(b,String(_),R))return!1;return!0}let E,h,w,P,I=$&&!R.includePrerelease&&$.semver.prerelease.length?$.semver:!1,O=g&&!R.includePrerelease&&g.semver.prerelease.length?g.semver:!1;I&&I.prerelease.length===1&&$.operator==="<"&&I.prerelease[0]===0&&(I=!1);for(const b of c){if(P=P||b.operator===">"||b.operator===">=",w=w||b.operator==="<"||b.operator==="<=",g){if(O&&b.semver.prerelease&&b.semver.prerelease.length&&b.semver.major===O.major&&b.semver.minor===O.minor&&b.semver.patch===O.patch&&(O=!1),b.operator===">"||b.operator===">="){if(E=S(g,b,R),E===b&&E!==g)return!1}else if(g.operator===">="&&!i(g.semver,String(b),R))return!1}if($){if(I&&b.semver.prerelease&&b.semver.prerelease.length&&b.semver.major===I.major&&b.semver.minor===I.minor&&b.semver.patch===I.patch&&(I=!1),b.operator==="<"||b.operator==="<="){if(h=e($,b,R),h===b&&h!==$)return!1}else if($.operator==="<="&&!i($.semver,String(b),R))return!1}if(!b.operator&&($||g)&&f!==0)return!1}return!(g&&w&&!$&&f!==0||$&&P&&!g&&f!==0||O||I)},S=(a,c,R)=>{if(!a)return c;const m=t(a.semver,c.semver,R);return m>0?a:m<0||c.operator===">"&&a.operator===">="?c:a},e=(a,c,R)=>{if(!a)return c;const m=t(a.semver,c.semver,R);return m<0?a:m>0||c.operator==="<"&&a.operator==="<="?c:a};return lr=u,lr}var hr,Ut;function Gr(){if(Ut)return hr;Ut=1;const r=re(),s=ie(),n=K(),i=gn(),t=Q(),u=xn(),l=Bn(),v=Gn(),o=Fn(),S=kn(),e=Vn(),a=Mn(),c=Hn(),R=J(),m=Un(),g=Kn(),$=jr(),f=Xn(),E=Jn(),h=ae(),w=Dr(),P=Sn(),I=vn(),O=Cr(),b=xr(),_=Rn(),B=Wn(),F=oe(),T=W(),j=ue(),y=zn(),d=Zn(),A=Qn(),L=ei(),N=ri(),q=Br(),C=ti(),k=ni(),G=ii(),V=si(),H=ai();return hr={parse:t,valid:u,clean:l,inc:v,diff:o,major:S,minor:e,patch:a,prerelease:c,compare:R,rcompare:m,compareLoose:g,compareBuild:$,sort:f,rsort:E,gt:h,lt:w,eq:P,neq:I,gte:O,lte:b,cmp:_,coerce:B,Comparator:F,Range:T,satisfies:j,toComparators:y,maxSatisfying:d,minSatisfying:A,minVersion:L,validRange:N,outside:q,gtr:C,ltr:k,intersects:G,simplifyRange:V,subset:H,SemVer:n,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:s.SEMVER_SPEC_VERSION,RELEASE_TYPES:s.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers},hr}var dr,Kt;function oi(){return Kt||(Kt=1,dr=Gr().satisfies(process.version,">=15.7.0")),dr}var pr,Xt;function ui(){return Xt||(Xt=1,pr=Gr().satisfies(process.version,">=16.9.0")),pr}var mr,Jt;function wn(){if(Jt)return mr;Jt=1;const r=oi(),s=ui(),n={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},i={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};return mr=function(t,u){if(!t||!u)return;const l=u.asymmetricKeyType;if(!l)return;const v=n[l];if(!v)throw new Error(`Unknown key type "${l}".`);if(!v.includes(t))throw new Error(`"alg" parameter for "${l}" key type must be one of: ${v.join(", ")}.`);if(r)switch(l){case"ec":const o=u.asymmetricKeyDetails.namedCurve,S=i[t];if(o!==S)throw new Error(`"alg" parameter "${t}" requires curve "${S}".`);break;case"rsa-pss":if(s){const e=parseInt(t.slice(-3),10),{hashAlgorithm:a,mgf1HashAlgorithm:c,saltLength:R}=u.asymmetricKeyDetails;if(a!==`sha${e}`||c!==a)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${t}.`);if(R!==void 0&&R>e>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${t}.`)}break}},mr}var Er,Wt;function bn(){if(Wt)return Er;Wt=1;var r=Gr();return Er=r.satisfies(process.version,"^6.12.0 || >=8.0.0"),Er}var yr,Yt;function ci(){if(Yt)return yr;Yt=1;const r=ne(),s=mn(),n=En(),i=pn(),t=yn(),u=wn(),l=bn(),v=Pr(),{KeyObject:o,createSecretKey:S,createPublicKey:e}=require("crypto"),a=["RS256","RS384","RS512"],c=["ES256","ES384","ES512"],R=["RS256","RS384","RS512"],m=["HS256","HS384","HS512"];return l&&(a.splice(a.length,0,"PS256","PS384","PS512"),R.splice(R.length,0,"PS256","PS384","PS512")),yr=function(g,$,f,E){typeof f=="function"&&!E&&(E=f,f={}),f||(f={}),f=Object.assign({},f);let h;if(E?h=E:h=function(_,B){if(_)throw _;return B},f.clockTimestamp&&typeof f.clockTimestamp!="number")return h(new r("clockTimestamp must be a number"));if(f.nonce!==void 0&&(typeof f.nonce!="string"||f.nonce.trim()===""))return h(new r("nonce must be a non-empty string"));if(f.allowInvalidAsymmetricKeyTypes!==void 0&&typeof f.allowInvalidAsymmetricKeyTypes!="boolean")return h(new r("allowInvalidAsymmetricKeyTypes must be a boolean"));const w=f.clockTimestamp||Math.floor(Date.now()/1e3);if(!g)return h(new r("jwt must be provided"));if(typeof g!="string")return h(new r("jwt must be a string"));const P=g.split(".");if(P.length!==3)return h(new r("jwt malformed"));let I;try{I=i(g,{complete:!0})}catch(_){return h(_)}if(!I)return h(new r("invalid token"));const O=I.header;let b;if(typeof $=="function"){if(!E)return h(new r("verify must be called asynchronous if secret or public key is provided as a callback"));b=$}else b=function(_,B){return B(null,$)};return b(O,function(_,B){if(_)return h(new r("error in secret or public key callback: "+_.message));const F=P[2].trim()!=="";if(!F&&B)return h(new r("jwt signature is required"));if(F&&!B)return h(new r("secret or public key must be provided"));if(!F&&!f.algorithms)return h(new r('please specify "none" in "algorithms" to verify unsigned tokens'));if(B!=null&&!(B instanceof o))try{B=e(B)}catch{try{B=S(typeof B=="string"?Buffer.from(B):B)}catch{return h(new r("secretOrPublicKey is not valid key material"))}}if(f.algorithms||(B.type==="secret"?f.algorithms=m:["rsa","rsa-pss"].includes(B.asymmetricKeyType)?f.algorithms=R:B.asymmetricKeyType==="ec"?f.algorithms=c:f.algorithms=a),f.algorithms.indexOf(I.header.alg)===-1)return h(new r("invalid algorithm"));if(O.alg.startsWith("HS")&&B.type!=="secret")return h(new r(`secretOrPublicKey must be a symmetric key when using ${O.alg}`));if(/^(?:RS|PS|ES)/.test(O.alg)&&B.type!=="public")return h(new r(`secretOrPublicKey must be an asymmetric key when using ${O.alg}`));if(!f.allowInvalidAsymmetricKeyTypes)try{u(O.alg,B)}catch(y){return h(y)}let T;try{T=v.verify(g,I.header.alg,B)}catch(y){return h(y)}if(!T)return h(new r("invalid signature"));const j=I.payload;if(typeof j.nbf<"u"&&!f.ignoreNotBefore){if(typeof j.nbf!="number")return h(new r("invalid nbf value"));if(j.nbf>w+(f.clockTolerance||0))return h(new s("jwt not active",new Date(j.nbf*1e3)))}if(typeof j.exp<"u"&&!f.ignoreExpiration){if(typeof j.exp!="number")return h(new r("invalid exp value"));if(w>=j.exp+(f.clockTolerance||0))return h(new n("jwt expired",new Date(j.exp*1e3)))}if(f.audience){const y=Array.isArray(f.audience)?f.audience:[f.audience];if(!(Array.isArray(j.aud)?j.aud:[j.aud]).some(function(L){return y.some(function(N){return N instanceof RegExp?N.test(L):N===L})}))return h(new r("jwt audience invalid. expected: "+y.join(" or ")))}if(f.issuer&&(typeof f.issuer=="string"&&j.iss!==f.issuer||Array.isArray(f.issuer)&&f.issuer.indexOf(j.iss)===-1))return h(new r("jwt issuer invalid. expected: "+f.issuer));if(f.subject&&j.sub!==f.subject)return h(new r("jwt subject invalid. expected: "+f.subject));if(f.jwtid&&j.jti!==f.jwtid)return h(new r("jwt jwtid invalid. expected: "+f.jwtid));if(f.nonce&&j.nonce!==f.nonce)return h(new r("jwt nonce invalid. expected: "+f.nonce));if(f.maxAge){if(typeof j.iat!="number")return h(new r("iat required when maxAge is specified"));const y=t(f.maxAge,j.iat);if(typeof y>"u")return h(new r('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(w>=y+(f.clockTolerance||0))return h(new n("maxAge exceeded",new Date(y*1e3)))}if(f.complete===!0){const y=I.signature;return h(null,{header:O,payload:j,signature:y})}return h(null,j)})},yr}var gr,zt;function fi(){if(zt)return gr;zt=1;var r=1/0,s=9007199254740991,n=17976931348623157e292,i=NaN,t="[object Arguments]",u="[object Function]",l="[object GeneratorFunction]",v="[object String]",o="[object Symbol]",S=/^\s+|\s+$/g,e=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,R=/^(?:0|[1-9]\d*)$/,m=parseInt;function g(p,D){for(var x=-1,U=p?p.length:0,X=Array(U);++x<U;)X[x]=D(p[x],x,p);return X}function $(p,D,x,U){for(var X=p.length,Y=x+-1;++Y<X;)if(D(p[Y],Y,p))return Y;return-1}function f(p,D,x){if(D!==D)return $(p,E,x);for(var U=x-1,X=p.length;++U<X;)if(p[U]===D)return U;return-1}function E(p){return p!==p}function h(p,D){for(var x=-1,U=Array(p);++x<p;)U[x]=D(x);return U}function w(p,D){return g(D,function(x){return p[x]})}function P(p,D){return function(x){return p(D(x))}}var I=Object.prototype,O=I.hasOwnProperty,b=I.toString,_=I.propertyIsEnumerable,B=P(Object.keys,Object),F=Math.max;function T(p,D){var x=N(p)||L(p)?h(p.length,String):[],U=x.length,X=!!U;for(var Y in p)O.call(p,Y)&&!(X&&(Y=="length"||y(Y,U)))&&x.push(Y);return x}function j(p){if(!d(p))return B(p);var D=[];for(var x in Object(p))O.call(p,x)&&x!="constructor"&&D.push(x);return D}function y(p,D){return D=D??s,!!D&&(typeof p=="number"||R.test(p))&&p>-1&&p%1==0&&p<D}function d(p){var D=p&&p.constructor,x=typeof D=="function"&&D.prototype||I;return p===x}function A(p,D,x,U){p=q(p)?p:On(p),x=x&&!U?Tn(x):0;var X=p.length;return x<0&&(x=F(X+x,0)),M(p)?x<=X&&p.indexOf(D,x)>-1:!!X&&f(p,D,x)>-1}function L(p){return C(p)&&O.call(p,"callee")&&(!_.call(p,"callee")||b.call(p)==t)}var N=Array.isArray;function q(p){return p!=null&&G(p.length)&&!k(p)}function C(p){return H(p)&&q(p)}function k(p){var D=V(p)?b.call(p):"";return D==u||D==l}function G(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=s}function V(p){var D=typeof p;return!!p&&(D=="object"||D=="function")}function H(p){return!!p&&typeof p=="object"}function M(p){return typeof p=="string"||!N(p)&&H(p)&&b.call(p)==v}function Z(p){return typeof p=="symbol"||H(p)&&b.call(p)==o}function An(p){if(!p)return p===0?p:0;if(p=$n(p),p===r||p===-r){var D=p<0?-1:1;return D*n}return p===p?p:0}function Tn(p){var D=An(p),x=D%1;return D===D?x?D-x:D:0}function $n(p){if(typeof p=="number")return p;if(Z(p))return i;if(V(p)){var D=typeof p.valueOf=="function"?p.valueOf():p;p=V(D)?D+"":D}if(typeof p!="string")return p===0?p:+p;p=p.replace(S,"");var x=a.test(p);return x||c.test(p)?m(p.slice(2),x?2:8):e.test(p)?i:+p}function Ln(p){return q(p)?T(p):j(p)}function On(p){return p?w(p,Ln(p)):[]}return gr=A,gr}var Sr,Zt;function li(){if(Zt)return Sr;Zt=1;var r="[object Boolean]",s=Object.prototype,n=s.toString;function i(u){return u===!0||u===!1||t(u)&&n.call(u)==r}function t(u){return!!u&&typeof u=="object"}return Sr=i,Sr}var vr,Qt;function hi(){if(Qt)return vr;Qt=1;var r=1/0,s=17976931348623157e292,n=NaN,i="[object Symbol]",t=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,v=/^0o[0-7]+$/i,o=parseInt,S=Object.prototype,e=S.toString;function a(E){return typeof E=="number"&&E==$(E)}function c(E){var h=typeof E;return!!E&&(h=="object"||h=="function")}function R(E){return!!E&&typeof E=="object"}function m(E){return typeof E=="symbol"||R(E)&&e.call(E)==i}function g(E){if(!E)return E===0?E:0;if(E=f(E),E===r||E===-r){var h=E<0?-1:1;return h*s}return E===E?E:0}function $(E){var h=g(E),w=h%1;return h===h?w?h-w:h:0}function f(E){if(typeof E=="number")return E;if(m(E))return n;if(c(E)){var h=typeof E.valueOf=="function"?E.valueOf():E;E=c(h)?h+"":h}if(typeof E!="string")return E===0?E:+E;E=E.replace(t,"");var w=l.test(E);return w||v.test(E)?o(E.slice(2),w?2:8):u.test(E)?n:+E}return vr=a,vr}var Rr,en;function di(){if(en)return Rr;en=1;var r="[object Number]",s=Object.prototype,n=s.toString;function i(u){return!!u&&typeof u=="object"}function t(u){return typeof u=="number"||i(u)&&n.call(u)==r}return Rr=t,Rr}var wr,rn;function pi(){if(rn)return wr;rn=1;var r="[object Object]";function s(c){var R=!1;if(c!=null&&typeof c.toString!="function")try{R=!!(c+"")}catch{}return R}function n(c,R){return function(m){return c(R(m))}}var i=Function.prototype,t=Object.prototype,u=i.toString,l=t.hasOwnProperty,v=u.call(Object),o=t.toString,S=n(Object.getPrototypeOf,Object);function e(c){return!!c&&typeof c=="object"}function a(c){if(!e(c)||o.call(c)!=r||s(c))return!1;var R=S(c);if(R===null)return!0;var m=l.call(R,"constructor")&&R.constructor;return typeof m=="function"&&m instanceof m&&u.call(m)==v}return wr=a,wr}var br,tn;function mi(){if(tn)return br;tn=1;var r="[object String]",s=Object.prototype,n=s.toString,i=Array.isArray;function t(l){return!!l&&typeof l=="object"}function u(l){return typeof l=="string"||!i(l)&&t(l)&&n.call(l)==r}return br=u,br}var Ir,nn;function Ei(){if(nn)return Ir;nn=1;var r="Expected a function",s=1/0,n=17976931348623157e292,i=NaN,t="[object Symbol]",u=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,o=/^0o[0-7]+$/i,S=parseInt,e=Object.prototype,a=e.toString;function c(w,P){var I;if(typeof P!="function")throw new TypeError(r);return w=E(w),function(){return--w>0&&(I=P.apply(this,arguments)),w<=1&&(P=void 0),I}}function R(w){return c(2,w)}function m(w){var P=typeof w;return!!w&&(P=="object"||P=="function")}function g(w){return!!w&&typeof w=="object"}function $(w){return typeof w=="symbol"||g(w)&&a.call(w)==t}function f(w){if(!w)return w===0?w:0;if(w=h(w),w===s||w===-s){var P=w<0?-1:1;return P*n}return w===w?w:0}function E(w){var P=f(w),I=P%1;return P===P?I?P-I:P:0}function h(w){if(typeof w=="number")return w;if($(w))return i;if(m(w)){var P=typeof w.valueOf=="function"?w.valueOf():w;w=m(P)?P+"":P}if(typeof w!="string")return w===0?w:+w;w=w.replace(u,"");var I=v.test(w);return I||o.test(w)?S(w.slice(2),I?2:8):l.test(w)?i:+w}return Ir=R,Ir}var Ar,sn;function yi(){if(sn)return Ar;sn=1;const r=yn(),s=bn(),n=wn(),i=Pr(),t=fi(),u=li(),l=hi(),v=di(),o=pi(),S=mi(),e=Ei(),{KeyObject:a,createSecretKey:c,createPrivateKey:R}=require("crypto"),m=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];s&&m.splice(3,0,"PS256","PS384","PS512");const g={expiresIn:{isValid:function(I){return l(I)||S(I)&&I},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(I){return l(I)||S(I)&&I},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(I){return S(I)||Array.isArray(I)},message:'"audience" must be a string or array'},algorithm:{isValid:t.bind(null,m),message:'"algorithm" must be a valid string enum value'},header:{isValid:o,message:'"header" must be an object'},encoding:{isValid:S,message:'"encoding" must be a string'},issuer:{isValid:S,message:'"issuer" must be a string'},subject:{isValid:S,message:'"subject" must be a string'},jwtid:{isValid:S,message:'"jwtid" must be a string'},noTimestamp:{isValid:u,message:'"noTimestamp" must be a boolean'},keyid:{isValid:S,message:'"keyid" must be a string'},mutatePayload:{isValid:u,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:u,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:u,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},$={iat:{isValid:v,message:'"iat" should be a number of seconds'},exp:{isValid:v,message:'"exp" should be a number of seconds'},nbf:{isValid:v,message:'"nbf" should be a number of seconds'}};function f(I,O,b,_){if(!o(b))throw new Error('Expected "'+_+'" to be a plain object.');Object.keys(b).forEach(function(B){const F=I[B];if(!F){if(!O)throw new Error('"'+B+'" is not allowed in "'+_+'"');return}if(!F.isValid(b[B]))throw new Error(F.message)})}function E(I){return f(g,!1,I,"options")}function h(I){return f($,!0,I,"payload")}const w={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},P=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];return Ar=function(I,O,b,_){typeof b=="function"?(_=b,b={}):b=b||{};const B=typeof I=="object"&&!Buffer.isBuffer(I),F=Object.assign({alg:b.algorithm||"HS256",typ:B?"JWT":void 0,kid:b.keyid},b.header);function T(d){if(_)return _(d);throw d}if(!O&&b.algorithm!=="none")return T(new Error("secretOrPrivateKey must have a value"));if(O!=null&&!(O instanceof a))try{O=R(O)}catch{try{O=c(typeof O=="string"?Buffer.from(O):O)}catch{return T(new Error("secretOrPrivateKey is not valid key material"))}}if(F.alg.startsWith("HS")&&O.type!=="secret")return T(new Error(`secretOrPrivateKey must be a symmetric key when using ${F.alg}`));if(/^(?:RS|PS|ES)/.test(F.alg)){if(O.type!=="private")return T(new Error(`secretOrPrivateKey must be an asymmetric key when using ${F.alg}`));if(!b.allowInsecureKeySizes&&!F.alg.startsWith("ES")&&O.asymmetricKeyDetails!==void 0&&O.asymmetricKeyDetails.modulusLength<2048)return T(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${F.alg}`))}if(typeof I>"u")return T(new Error("payload is required"));if(B){try{h(I)}catch(d){return T(d)}b.mutatePayload||(I=Object.assign({},I))}else{const d=P.filter(function(A){return typeof b[A]<"u"});if(d.length>0)return T(new Error("invalid "+d.join(",")+" option for "+typeof I+" payload"))}if(typeof I.exp<"u"&&typeof b.expiresIn<"u")return T(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof I.nbf<"u"&&typeof b.notBefore<"u")return T(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{E(b)}catch(d){return T(d)}if(!b.allowInvalidAsymmetricKeyTypes)try{n(F.alg,O)}catch(d){return T(d)}const j=I.iat||Math.floor(Date.now()/1e3);if(b.noTimestamp?delete I.iat:B&&(I.iat=j),typeof b.notBefore<"u"){try{I.nbf=r(b.notBefore,j)}catch(d){return T(d)}if(typeof I.nbf>"u")return T(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof b.expiresIn<"u"&&typeof I=="object"){try{I.exp=r(b.expiresIn,j)}catch(d){return T(d)}if(typeof I.exp>"u")return T(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(w).forEach(function(d){const A=w[d];if(typeof b[d]<"u"){if(typeof I[A]<"u")return T(new Error('Bad "options.'+d+'" option. The payload already has an "'+A+'" property.'));I[A]=b[d]}});const y=b.encoding||"utf8";if(typeof _=="function")_=_&&e(_),i.createSign({header:F,privateKey:O,payload:I,encoding:y}).once("error",_).once("done",function(d){if(!b.allowInsecureKeySizes&&/^(?:RS|PS)/.test(F.alg)&&d.length<256)return _(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${F.alg}`));_(null,d)});else{let d=i.sign({header:F,payload:I,secret:O,encoding:y});if(!b.allowInsecureKeySizes&&/^(?:RS|PS)/.test(F.alg)&&d.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${F.alg}`);return d}},Ar}var Tr,an;function gi(){return an||(an=1,Tr={decode:pn(),verify:ci(),sign:yi(),JsonWebTokenError:ne(),NotBeforeError:mn(),TokenExpiredError:En()}),Tr}var $r,on;function In(){if(on)return $r;on=1;const r=require("crypto"),s=gi();function n(t,u){if(t==null||t==="")throw new Error(u)}function i(t){n(t.privateKey,"jwtConfig.privateKey must be set"),n(t.keyId,"jwtConfig.keyId must be set"),n(t.issuer,"jwtConfig.issuer must be set"),n(t.audience,"jwtConfig.audience must be set");const u=t.privateKey.replace(/\\n/g,`
`).replace(/"/g,""),l=t.tokenExpiryMs||600*1e3,v=t.tokenMaxAgeMs||540*1e3,o=t.additionalClaims||{};let S=0,e;function a(m){return m-S>v}function c(m){return{aud:t.audience,iss:t.issuer,sub:t.subject||t.issuer,iat:Math.floor(m/1e3),nbf:Math.floor(m/1e3),exp:Math.floor((m+l)/1e3),jti:r.randomBytes(20).toString("hex")}}function R(){const m=Date.now();if(!a(m))return e;const g=Object.assign({},c(m),o),$={algorithm:"RS256",header:{kid:t.keyId}};return e="Bearer "+s.sign(g,u,$),S=m,e}return R(),R}return $r=i,$r}var Lr,un;function Si(){if(un)return Lr;un=1;const r=In();function s(n){const i=r(n);return function(u,l){return u.httpOptions.headers.authorization=i(),l(u)}}return Lr=s,Lr}var Or,cn;function vi(){if(cn)return Or;cn=1;const r=require("crypto"),s=/^data:application\/pkcs8;kid=([\w.\-+/]+);base64,([a-zA-Z0-9+/=]+)$/;function n(t){const u=Buffer.from(t,"base64");return r.createPrivateKey({key:u,type:"pkcs8",format:"der"}).export({type:"pkcs8",format:"pem"}).toString("base64")}function i(t){const u=s.exec(decodeURIComponent(t));if(!u)throw new Error("Data URI does not match required format!");const l=u[1],v=n(u[2]);return{keyId:l,privateKey:v}}return Or=i,Or}var Nr,fn;function Ri(){return fn||(fn=1,Nr={createJwtAuthFilter:Si(),createAuthHeaderGenerator:In(),parseDataUri:vi()}),Nr}var wi=Ri();const Ai=Nn({__proto__:null},[wi]);export{Ai as i};
//# sourceMappingURL=index-Cx-yRgOY.js.map
