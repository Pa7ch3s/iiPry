import{j as r}from"./jsx-runtime-cpqHEc2t.js";import{r as a}from"./index-b8gibUUP.js";import{g}from"./trial.start-yrr1pYcE.js";import{$ as E}from"./VisuallyHidden-DFfuR22R.js";const j=({value:c="Untitled",ariaLabel:i,editable:u=!1,name:d,className:l,onSubmit:f,onEditableChange:n})=>{const[o,s]=a.useState(u),m=a.useRef(null);a.useEffect(()=>{s(u)},[u]),a.useEffect(()=>{if(!o)return;const e=["Enter","Escape"];function t(p){e.includes(p.key)||p.stopPropagation()}return window.addEventListener("keydown",t,{capture:!0}),()=>{window.removeEventListener("keydown",t,{capture:!0})}},[o]);function x(e){e.stopPropagation(),e.preventDefault(),s(!0),n?.(!0)}return r.jsxs(r.Fragment,{children:[r.jsx("div",{ref:m,className:`items-center justify-center truncate rounded-sm text-[--color-font] ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] data-[pressed]:bg-[--hl-sm] ${o?"hidden":""} ${l||"px-2"} `,onDoubleClick:x,"data-editable":!0,"aria-label":i,children:r.jsx("span",{className:"truncate",children:c})}),o&&r.jsx(E,{contain:!0,restoreFocus:!0,autoFocus:!0,children:r.jsx(g,{className:`truncate ${l||"px-2"}`,name:d,"aria-label":i,defaultValue:c,onKeyDown:e=>{const t=e.currentTarget.value;e.key==="Enter"&&(e.stopPropagation(),f(t),s(!1),n?.(!1)),e.key==="Escape"&&(e.stopPropagation(),s(!1),n?.(!1))},onBlur:e=>{const t=e.currentTarget.value;f(t),s(!1),n?.(!1)}})})]})};export{j as E};
//# sourceMappingURL=editable-input-CP0Ibhfa.js.map
