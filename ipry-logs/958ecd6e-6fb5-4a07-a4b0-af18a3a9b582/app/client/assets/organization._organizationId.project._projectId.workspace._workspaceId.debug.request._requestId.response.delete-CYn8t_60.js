import{h as R}from"./chunk-WY5IRSCW-1dc6FieG.js";import{cH as k,w as b,bZ as g,b_ as v,bm as y,cN as f,cO as m,cP as q,bd as l,c5 as S,cc as O}from"./index-BnTlsbFl.js";import{i as r}from"./invariant-DVddvGrP.js";import{c as M}from"./router-BoVIwh1i.js";async function A({request:n,params:i}){const{workspaceId:c,requestId:e}=i,p=await k(e);r(p,"Request not found");const{responseId:o}=await n.json();r(typeof o=="string","Response ID is required");const a=await b.getByParentId(c);r(a,"Active workspace meta not found");const d=g(e),I=v(e),w=y(e);let s;d?s=f:I?s=m:w?s=q:s=l;const t=await s.getById(o);r(t,"Response not found"),d?await f.remove(t):I?await m.remove(t):w?await q.remove(t):await l.remove(t);const u=await s.getLatestForRequestId(e,a.activeEnvironmentId);return u?.requestVersionId&&await S.restore(u.requestVersionId),await O.updateOrCreateByParentId(e,{activeResponseId:u?._id||null}),null}const F=M(n=>({organizationId:i,projectId:c,workspaceId:e,requestId:p,responseId:o})=>{const a=R("/organization/:organizationId/project/:projectId/workspace/:workspaceId/debug/request/:requestId/response/delete",{organizationId:i,projectId:c,workspaceId:e,requestId:p});return n(JSON.stringify({responseId:o}),{action:a,method:"POST",encType:"application/json"})});export{A as c,F as u};
//# sourceMappingURL=organization._organizationId.project._projectId.workspace._workspaceId.debug.request._requestId.response.delete-CYn8t_60.js.map
