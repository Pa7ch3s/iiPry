const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DsbqXZ-H.js","assets/_commonjsHelpers-CE1G-McA.js","assets/sax-DTOkft0z.js","assets/index-BnTlsbFl.js","assets/invariant-DVddvGrP.js","assets/index-wZAP8gf2.js","assets/import-DfaWnrdO.js","assets/format-i_2FlR3N.js","assets/event-bus-gjQB7sSy.js"])))=>i.map(i=>d[i]);
import{r as reactDomExports,R as ReactDOM,h as href}from"./chunk-WY5IRSCW-1dc6FieG.js";import{a as useParams,c as useNavigate,N as NavLink,k as useSearchParams,w as withComponentProps,r as redirect,R as Routes,d as Route,e as useFetchers}from"./chunk-OIYGIGL5-BYynBxW5.js";import{j as jsxRuntimeExports}from"./jsx-runtime-cpqHEc2t.js";import{r as reactExports,R as React}from"./index-b8gibUUP.js";import{$ as $778035c5624f61e7$export$2dc68d50d56fbbd,a as $778035c5624f61e7$export$dabcc1ec9dd9d1cc,W as WorkspaceDropdown,u as useInsomniaTab,b as WorkspaceSyncDropdown}from"./use-insomnia-tab-DPK2smQu.js";import{_ as _class_private_field_init,u as $18f2051aff69b9bf$export$43bb16f9c6d9e3f7,S as $488c6ddbf4ef74c2$export$cc77c4ff7e8673c5,n as $65484d02dcb7eb3e$export$457c3d6518dd4c6f,T as $319e236875307eab$export$a9b970dcc4ae71a9,G as $313b98861ee5dd6c$export$d6875122194c7b44,t as $f6c31cce2adf654f$export$45712eceda6fad21,E as $7215afc6de606d6b$export$de79e2c695e052f3,l as $507fabe10e71c6fb$export$630ff653c5ada6a9,U as $319e236875307eab$export$d10ae4f68404609a,D as $03deb23ff14920c4$export$4eaf04e54aa8eed6,m as $9ab94262bd0047c7$export$420e68273165f4ec,F as $c87311424ea30a05$export$fedb369cb70207f1,A as $c87311424ea30a05$export$9ac100e40613ea10,R as $d2b4bc8c273e7be6$export$24d547caef80ccd1,o as $6179b936705e76d3$export$ae780daf29e6d456,x as $f7dceffc5ad7768b$export$4e328f61c538687f,w as $01b77f81d0f07f68$export$75b6ee27786ba447,$ as $d2b4bc8c273e7be6$export$353f5b6fc5456de1,a as $01b77f81d0f07f68$export$b04be29aa201d4f5}from"./Button-Pc6dXscm.js";import{aS as differenceInMilliseconds,aT as getRoundingMethod,aU as constructNow,aV as $4f58c5f72bcf79f7$export$496315a1608d9602,aW as $bb77f239b46e8c72$export$3274cf84b703fff,ad as $a049562f99e7db0e$export$eb2fcfdbd7ba97d4,g as $3985021b0ad6602f$export$f5b8910cec6cf069,aX as $3985021b0ad6602f$export$37fb8590cf2c088c,aY as $a049562f99e7db0e$export$f9c6924e160136d1,aZ as Button,a_ as useProjectListWorkspacesLoaderFetcher,ak as HelpTooltip,a$ as revalidateWorkspaceActiveRequest,h as useRootLoaderData,au as DropdownHint,b0 as GenerateCodeModal,P as PromptModal,A as AskModal,_ as CodeEditor,b1 as revalidateWorkspaceActiveRequestByFolder,u as useWorkspaceLoaderData,k as $bcdf0525bf22703d$export$2c73285ae9390cec,b2 as CheckboxGroup,b3 as Checkbox,b4 as useLatest,b5 as useToggle,a0 as OneLineEditor,a3 as CodePromptModal,ac as useNunjucks,al as Link,b6 as ResponseDebugModal,T as TimeFromNow,a2 as $13c3c67164f4d5be$export$4c260019440d418f,b7 as KeyValueEditor,a1 as PromptButton,b8 as RequestRenderErrorModal,b9 as Dropdown,ba as $c1d7fb2ec91bae71$export$6d08773d2e66f8f2,bb as ItemContent,b as useDocBodyKeyboardShortcuts,bc as $9fc4852771d079eb$export$6e2c8f0811a474ce,bd as createKeybindingsHandler,be as Pane,a6 as $5e8ad37a45e1c704$export$b2539bed5023c21c,a7 as $5e8ad37a45e1c704$export$e51a686c67fdaa2d,a8 as $5e8ad37a45e1c704$export$3e41faf802a29e71,a9 as $5e8ad37a45e1c704$export$3d96ec278d3efce4,bf as docsMcpClient,bg as differenceInMinutes,bh as StringStatusTag,bi as StatusTag,bj as TimeTag,bk as SizeTag,az as $1910c06f0ca9905e$export$54ec01a60f47d33d,aA as $1910c06f0ca9905e$export$f850895b287ef28e,aB as $1910c06f0ca9905e$export$816b5d811295e6bc,aC as $1910c06f0ca9905e$export$76ccd210b9029917,aD as $1910c06f0ca9905e$export$b59bdbef9ce70de2,aE as $1910c06f0ca9905e$export$f6f0c3fe4ec306ea,S as SvgIcon,v as $440f4836bcb56932$export$b94867ecbd698f21,bl as $bc237834342dbd75$export$48513f6b9f8ce62d,bm as PaneHeader,bn as PlaceholderResponsePane,bo as ResponseErrorViewer,bp as docsMcpAuthentication,bq as ResponseHeadersViewer,br as ResponseTimelineViewer,I as INSOMNIA_TAB_HEIGHT,y as $4e3b923658d69c60$export$8c610744efcf8a1d,e as $efde0372d7a700fe$export$d2b052e7b4be1756,B as $4e3b923658d69c60$export$28c660c63b792dea,c as $72e60046c03fbe42$export$a7bfbda1311ca015,O as OrganizationTabList,d as $72e60046c03fbe42$export$e96fc9a8407faa6b,af as selectFileOrFolder,bs as useMount,bt as PaneBody,Z as Hotkey,bu as MarkdownEditor,bv as FileInputButton,bw as requireSchemaReference,bx as MarkdownPreview,by as astFromValue,bz as print,bA as GraphQLList,bB as GraphQLNonNull,bC as GraphQLObjectType,bD as GraphQLUnionType,bE as GraphQLInterfaceType,bF as isNamedType,bG as GraphQLEnumType,bH as reactUse,bI as typeFromAST,bJ as jsonPrettify,bK as getIntrospectionQuery,bL as buildClientSchema,bM as markdownToHTML,E as EmptyStatePane,ae as documentationLinks,z as $4f118338184dc1d9$export$a6c7ac8248d6e38a,Y as showSettingsModal,bN as CopyButton$1,aJ as useInterval,bO as useTimeoutWhen,f as InputVaultKeyModal,o as useOrganizationLoaderData,bP as useMockRoutePatcher,bQ as isInMockContentTypeList,bR as useExecutionState,bS as ResponseTimer,bT as ResponseViewer,bU as $8e59e948500a8fe1$export$b5d5cf8927ab7262,$ as $d8f176866e6dc039$export$2cfc5be7a55829f6,bV as getMethodShortHand,Q as ImportModal}from"./trial.start-yrr1pYcE.js";import{u as $ef06256079686ba0$export$f8aeda7b10753fa1,v as $2f04cbc44ee30ce0$export$c826860796309d1b,w as $62d8ded9296f3872$export$cfa2225e87938781,x as $e9faafb641e167db$export$90fc3a17d93f704c,y as $de32f1b87079253c$export$d2f961adcb0afbe,z as $07b14b47974efb58$export$9b9a0cd73afb7ca4,A as $de32f1b87079253c$export$8b93a07348a7730c,M as Modal,n as ModalHeader,o as ModalBody,$ as $3674c52c6b3c5bce$export$27d2ad3c5815583e,a as $07b14b47974efb58$export$5b6b19405a83ff9d,b as $3674c52c6b3c5bce$export$d9b273488cd8ce6f,q as $3674c52c6b3c5bce$export$4b1545b4f2016d26,r as $72a5793c14baf454$export$8b251419efc915eb,l as $e1995378a142960e$export$fb8073518f34e6ec,c as $3674c52c6b3c5bce$export$2ce376c2cc3355c8,s as showModal,g as showError,p as ModalFooter,f as $de32f1b87079253c$export$3ddf2d174ce01153,d as $f3f84453ead64de5$export$8948f78d83984c69,e as $f3f84453ead64de5$export$2b77a92f1a5ad772,E as ErrorModal}from"./index-CiWR7xsz.js";import{f as useRequestPatcher,g as useRequestMetaPatcher,A as AlertModal,h as useRequestGroupPatcher,a as $82d7e5349645de74$export$ef9b1a59e592288f,b as $82d7e5349645de74$export$e288731fd71264f0,c as $eed445e0843c11d0$export$41f133550aa26f48,d as $eed445e0843c11d0$export$a11e76429ed99b4,i as $eed445e0843c11d0$export$dca12b0bb56e4fc,e as useInsomniaTabContext,j as useRequestPayloadPatcher,u as useLocalStorage$1,C as ContentTypeDropdown,k as useSettingsPatcher,l as useRequestGroupMetaPatcher,$ as $612b8eb6cb90e02d$export$62ed72bc21f6b8a6}from"./organization._organizationId.project._projectId.workspace._workspaceId.debug.request._requestId.update-CJN0pku1.js";import{P as PanelGroup,a as Panel,b as PanelResizeHandle,E as ErrorBoundary}from"./error-boundary-qQv-jeYH.js";import{N as isScratchpadOrganizationId,F as isNotNullOrUndefined,aN as isWebSocketRequest,aO as isGrpcRequest,az as isRequest,ay as request,bV as toKebabCase,bW as incrementDeletedRequests,ad as stats,bX as HAWK_ALGORITHM_SHA256,bY as HAWK_ALGORITHM_SHA1,be as oAuth2Token,bk as getOauthRedirectUrl,n as generateId,bZ as isWebSocketRequestId,b_ as isSocketIORequestId,bm as isMcpRequestId,y as getDataFromKVPair,b$ as TRANSPORT_TYPES,c0 as MCP_TRANSPORT_TYPES,c1 as REALTIME_EVENTS_CHANNELS,c2 as isWebSocketResponse,c3 as isSocketIOResponse,c4 as isMcpResponse,c5 as requestVersion,c6 as decompressObject,ab as requiredModule,c7 as PREVIEW_MODE_SOURCE,c8 as PREVIEW_MODES,c9 as getPreviewModeName,ca as PREVIEW_MODE_FRIENDLY,cb as PREVIEW_MODE_RAW,cc as requestMeta,b6 as CONTENT_TYPE_JSON,b7 as CONTENT_TYPE_PLAINTEXT,a8 as v4,br as getSetCookieHeaders,cd as deserializeNDJSON,R as fuzzyMatchAll,D as DEFAULT_SIDEBAR_SIZE,k as workspace,b as database,ag as requiredModule$1,ce as protoFile,cf as protoDirectory,cg as isProtoDirectory,aU as isWorkspace,ch as isProtoFile,aI as grpcRequest,aF as requestGroup,aA as isRequestGroup,bO as clientCertificate,bg as setDefaultProtocol,bP as caCertificate,v as EnvironmentType,ar as describeByteSize,a7 as fuzzyMatch,ci as parse,cj as Kind,bd as response,ck as readFileSync,bf as CONTENT_TYPE_GRAPHQL,at as CONTENT_TYPE_FORM_URLENCODED,ak as CONTENT_TYPE_FORM_DATA,cl as CONTENT_TYPE_FILE,cm as getContentTypeFromHeaders,cn as isEventStreamRequest,aj as getContentTypeHeader,bh as PATH_PARAMETER_REGEX,bS as buildQueryStringFromParams,bR as joinUrlAndQueryString,bq as smartEncodeUrl,H as HTTP_METHODS,co as isGraphqlSubscriptionRequest,$ as vaultEnvironmentRuntimePath,aM as cookieJar,cp as getCombinedPathParametersFromUrl,cq as extractQueryStringFromUrl,cr as deconstructQueryStringToParams,cs as isResponse,ct as getMimeTypeFromContentType,cu as getContentTypeName,cv as webSocketPayload,w as workspaceMeta,aP as isSocketIORequest,M as isDesign,cw as SORT_ORDERS,cx as sortOrderName,bn as isRequestGroupId,aD as getProductName,cy as isGrpcRequestId,cz as isRequestId,cA as scrollElementIntoView,cB as getByParentId,cC as getByParentId$1}from"./index-BnTlsbFl.js";import{u as useDebugReorderActionFetcher}from"./organization._organizationId.project._projectId.workspace._workspaceId.debug.reorder-DBRRUfEE.js";import{u as useRequestLoaderData}from"./organization._organizationId.project._projectId.workspace._workspaceId.debug.request._requestId-CCT5t53Y.js";import{u as useRequestDuplicateActionFetcher}from"./organization._organizationId.project._projectId.workspace._workspaceId.debug.request._requestId.duplicate-Dz_9hjyg.js";import{u as useRequestDeleteActionFetcher}from"./organization._organizationId.project._projectId.workspace._workspaceId.debug.request.delete--1FlmODM.js";import{u as useRequestNewActionFetcher}from"./organization._organizationId.project._projectId.workspace._workspaceId.debug.request.new-DZNrbQ0p.js";import{u as useRequestGroupLoaderData}from"./organization._organizationId.project._projectId.workspace._workspaceId.debug.request-group._requestGroupId-ClXMvU4m.js";import{u as useRequestGroupNewActionFetcher}from"./organization._organizationId.project._projectId.workspace._workspaceId.debug.request-group.new-J8wO3zY5.js";import{R as RequestTestResultPane,a as Runner}from"./organization._organizationId.project._projectId.workspace._workspaceId.debug.runner-Dszldvp_.js";import{T as Tutorial,s as scratchPadTutorialList}from"./organization._organizationId.project._projectId.workspace._workspaceId.debug.tutorial._panel-2oM_y4K-.js";import{u as useToggleExpandAllActionFetcher}from"./organization._organizationId.project._projectId.workspace._workspaceId.toggle-expand-all-B76BFS3P.js";import{b as CACertificate,C as CookiesModal,E as EnvironmentPicker,W as WorkspaceEnvironmentsEditModal,D as DocumentTab,a as CertificatesModal}from"./cookies-modal-CEq170Q6.js";import{_ as __vitePreload,y as insecureReadFile,x as requiredModule$2}from"./import-DfaWnrdO.js";import{z as getRequestActions,A as exportHarRequest,k as init,l as init$1,m as init$2,n as init$3,B as getRequestGroupActions,D as requireFastUri,E as requireAjv,F as requireCodegen$1,G as Ajv,H as getAuthObjectOrNull,S as SIGNATURE_METHOD_HMAC_SHA1,I as GRANT_TYPE_AUTHORIZATION_CODE,J as HEADER,Q as QUERY_PARAMS,K as COOKIE,L as SIGNATURE_METHOD_HMAC_SHA256,M as SIGNATURE_METHOD_RSA_SHA1,O as SIGNATURE_METHOD_PLAINTEXT,P as GRANT_TYPE_MCP_AUTH_FLOW,T as GRANT_TYPE_IMPLICIT,U as GRANT_TYPE_PASSWORD,V as GRANT_TYPE_CLIENT_CREDENTIALS,v as initNewOAuthSession,W as getOAuth2Token,X as PKCE_CHALLENGE_S256,Y as PKCE_CHALLENGE_PLAIN,Z as getCommonHeaderValues,_ as getCommonHeaderNames,$ as getRenderContext,a0 as render,R as RenderError,a1 as getBasicAuthHeader,a2 as getBearerAuthHeader,a3 as _buildBearerHeader,C as Cookie$1,a4 as getOrInheritHeaders,a5 as urlMatchesCertHost,a6 as getRenderedGrpcRequestMessage,a7 as getRenderedGrpcRequest,a8 as Request,a9 as Url,aa as InsomniaObject,ab as ParentFolders,ac as Execution,ad as RequestInfo,ae as CookieObject,af as Response,ag as Vault,ah as Variables,ai as Environment,aj as ascendingNameSort,f as fetchRequestData,t as tryToInterpolateRequest,g as tryToTransformRequestWithPlugins,h as sendCurlAndWriteTimeline,i as responseTransform,a as clone,ak as isAuthEnabled,al as getOrInheritAuthentication,am as exportHarCurrentRequest,an as cancelRequestById}from"./index-wZAP8gf2.js";import{I as Icon}from"./icon-pbM3MSP9.js";import{i as invariant}from"./invariant-DVddvGrP.js";import{$ as $f57aed4a881a3485$export$b47c3594eab58386,T as Tooltip}from"./tooltip-BiEx1s0w.js";import{u as useRequestGroupDeleteActionFetcher}from"./organization._organizationId.project._projectId.workspace._workspaceId.debug.request-group.delete-Ciu6nm4g.js";import{u as useRequestGroupDuplicateActionFetcher}from"./organization._organizationId.project._projectId.workspace._workspaceId.debug.request-group.duplicate-OFdbtuMq.js";import{E as EditableInput}from"./editable-input-CP0Ibhfa.js";import{$ as $fc909762b330b746$export$61c6a8c84e605fb6,d as $9daab02d461809db$export$683480f191c0e3ea,c as classNames}from"./index-B0jEcytd.js";import{c as commonjsGlobal,g as getDefaultExportFromCjs,a as getAugmentedNamespace}from"./_commonjsHelpers-CE1G-McA.js";import{$ as $5cb03073d3f54797$export$a8a3e93435678ff9}from"./Heading-CJLhoRaQ.js";import{a as EnvironmentKVEditor,h as handleToggleEnvironmentType,E as EnvironmentEditor}from"./key-value-editor-CPoqROww.js";import{f as $bdb11010cef70236$export$b4cc09c592e8fdb8,b as $3ef42575df84b30b$export$9d1611c77c2fe928,e as $8ae05eaa5c114e9c$export$7f54fc3180508a52,d as $bdb11010cef70236$export$f680877a34711e37,a as $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c,$ as $64fa3d84918910a7$export$29f1550f4b0d4415,g as $64fa3d84918910a7$export$4d86445c2cf5e3,j as $64fa3d84918910a7$export$2881499e37b75b9a,h as $64fa3d84918910a7$export$fabf2dc03a41866e,k as $df56164dff5785e2$export$4338b53315abf666,i as $64fa3d84918910a7$export$9d4c57ee4c6ffdd8,m as $64fa3d84918910a7$export$ef03459518577ad4}from"./utils-BWA8Q1_N.js";import{$ as $4e85f108e88277b8$export$d688439359537581}from"./RSPContexts-DCUrjzvU.js";import{a as $514c0188e459b4c0$export$9afb8bc826b033ea}from"./Text-CNZDhubC.js";import{$ as $458b0a5536c1a7cf$export$40bfa8c7b0832715}from"./useControlledState-CVI9bVg4.js";import{$ as $fca6afa0e843324b$export$f12b703ca79dfbb1,a as $fca6afa0e843324b$export$87b761675e8eaa10,b as $5b160d28a433310d$export$c17fa47878dc55b6,c as $6db58dc88e78b024$export$2f817fcdc4b89ae0}from"./index-BBURUpBQ.js";import{d as $9bf71ea28793e738$export$c5251b9e124bf29,a as $9bf71ea28793e738$export$2d6ec8fc375ceafa,b as $5c3e21d68f1c4674$export$439d29a4e110a164,e as $5c3e21d68f1c4674$export$a966af930f325cab}from"./VisuallyHidden-DFfuR22R.js";import{d as $2baaea4c71418dea$export$294aa081a6c6f55d,b as $99facab73266f662$export$5add1d006293d136,c as $e93e671b31057976$export$b8473d3665f3a75a,h as $e5be200c675c3b3a$export$a763b9476acd3eb,e as $e5be200c675c3b3a$export$fc1a364ae1f3ff10,f as $d3e0e05bdfcf66bd$export$c24727297075ec6a,g as $ee014567cb39d3f0$export$ff05c3ac10437e03}from"./Form-xjwDMhyX.js";import{$ as $b6c3ddc6086f204d$export$a98f0dcb43a68a25,a as $b6c3ddc6086f204d$export$d7b12c4107be0d61}from"./migrate-projects-into-organization-CxpdXy_W.js";import{u as useRequestConnectActionFetcher}from"./organization._organizationId.project._projectId.workspace._workspaceId.debug.request._requestId.connect-Bc2jgc6-.js";import{u as useRequestGrantAccessFetcher}from"./organization._organizationId.project._projectId.workspace._workspaceId.debug.request._requestId.grant-access-BtZewCHa.js";import{u as useRequestResponseDeleteActionFetcher}from"./organization._organizationId.project._projectId.workspace._workspaceId.debug.request._requestId.response.delete-CYn8t_60.js";import{u as useRequestResponseDeleteAllActionFetcher}from"./organization._organizationId.project._projectId.workspace._workspaceId.debug.request._requestId.response.delete-all-Dv4z5HI6.js";import{s as startOfDay,m as millisecondsInHour,a as startOfWeek,f as format}from"./format-i_2FlR3N.js";import{u as useGitVCSVersion}from"./use-vcs-version-BYmrppUG.js";import{t as translateHandlersInScript}from"./translate-postman-script-tuFr5ozR.js";import{m as mimeTypesExports}from"./index-BKSSlv8C.js";import{u as useDebugRequestSendActionFetcher}from"./organization._organizationId.project._projectId.workspace._workspaceId.debug.request._requestId.send-DoMmw_PP.js";import{S as SegmentEvent}from"./analytics-fpOjxorv.js";import{M as MockRouteModal}from"./mock-route-modal-BnQ-7tzU.js";import"./organization._organizationId.project._projectId.workspace.update-BTK7AG3H.js";import"./router-BoVIwh1i.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.mock-server.generate-request-collection-DcBFb32H.js";import"./git.branch.checkout-24mct9lT.js";import"./git.fetch-V7uv_IT7.js";import"./git.push-C-wcZJjF.js";import"./git.repo-BBQti4ki.js";import"./git.reset-DI5KZlh1.js";import"./git.status-qLD8fOhB.js";import"./git.branch.delete-BnBpM4jO.js";import"./git.branch.new-BvBAmjXB.js";import"./git.branches-DSfOBTH4.js";import"./git.changes-CufBSoA0.js";import"./git.log-VScJjeAs.js";import"./git.update-Ct4Hysyl.js";import"./git.commit-BOTBEKdr.js";import"./git.diff-rvyD93UG.js";import"./git.stage-WRvQ9YR0.js";import"./git.unstage-BG9AvbEd.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.insomnia-sync.branch.checkout-BFdhyIzf.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.insomnia-sync.pull-BJpkfRkS.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.insomnia-sync.push-CfM5amSb.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.insomnia-sync.rollback-DbuDWqiP.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.insomnia-sync.branch.create-BD-JEB_S.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.insomnia-sync.branch.delete-Ck9dZ7bb.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.insomnia-sync.branch.merge-C_Hlo7i6.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.insomnia-sync.fetch-DiAT7xDA.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.insomnia-sync.restore-DzaYuRyT.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.insomnia-sync.create-snapshot-DMfKO0YH.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.insomnia-sync.stage-DakA5DCx.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.insomnia-sync.unstage-fOL91F5Y.js";import"./ai.generate-commit-messages-D7XzOLO8.js";import"./index-DkUPaXby.js";import"./PortalProvider-CgpNn0eI.js";import"./insomnia-fetch-B_XbrnGh.js";import"./organization._organizationId.project.new-D3C_sj1w.js";import"./lodash-CnYLY2KZ.js";import"./sax-DTOkft0z.js";import"./auth.authorize-CVUDGUam.js";import"./auth-session-provider.client-B6EymBM1.js";import"./session-Dp07jz9w.js";import"./vault-key.client-BYwC5SBL.js";import"./auth.default-browser-redirect-Dz15uuKH.js";import"./auth.logout-Bgkq1Ur9.js";import"./cloud-credentials.create-D29FOB74.js";import"./git-credentials.github.complete-sign-in-QUucA-_J.js";import"./git-credentials.gitlab.complete-sign-in-iSdK124j.js";import"./import.scan-CIM-8ira.js";import"./event-bus-gjQB7sSy.js";import"./trial.check-st6_Q4W5.js";import"./untracked-projects-Dxl3yYQQ.js";import"./commands-CpETkOnR.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.debug.request.new-mock-send-DTyjZaRX.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.mock-server.mock-route._mockRouteId.update-L_Ehr73N.js";import"./index-9z9WB_nm.js";import"./xpath-V_VlYgIe.js";import"./index-BMm92w-c.js";import"./git.migrate-legacy-insomnia-folder-to-file-Cn4qXbei.js";import"./git.commits-C721-25t.js";import"./git.discard-yWCe4llX.js";import"./organization._organizationId.permissions-ce3pUO4N.js";import"./git.remote-branches-D25XWswd.js";import"./git-credentials.github-eh2MnRiC.js";import"./git-credentials.github.init-sign-in-MvedveJK.js";import"./git-credentials.github.sign-out-HzzMex4W.js";import"./git-credentials.gitlab-C9jV75uM.js";import"./git-credentials.gitlab.init-sign-in-DZFf8KTH.js";import"./git-credentials.gitlab.sign-out-DlPqV6dO.js";import"./organization._organizationId.project._projectId.delete-Zh6QxqDG.js";import"./git.init-clone-Bwgsynf-.js";import"./organization._organizationId.project._projectId.update-CnIPYBnW.js";import"./insomnia-icon-DsDa0lSD.js";import"./organization._organizationId.project._projectId.move-CGW0jVUY.js";import"./organization._organizationId.project._projectId.move-workspace-CWMxcFOA.js";import"./git.repository-tree-jzi-oT2U.js";import"./git.clone-Dz6ZsdrO.js";import"./auth.clear-vault-key-B0vAvdAY.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.environment.set-active-DQD_GOKm.js";import"./remote-files-QiiU5lTV.js";import"./organization._organizationId.collaborators-BP2ctKnQ.js";import"./organization._organizationId.collaborators.invites._invitationId-hJMODP0K.js";import"./organization._organizationId.collaborators.invites._invitationId.reinvite-i6_4wOiO.js";import"./organization._organizationId.collaborators-check-seats-DsqfBJzh.js";import"./organization._organizationId.members._userId.roles-D3CH43Zf.js";import"./organization._organizationId.collaborators-search-DSW9uxb9.js";import"./resource.usage-CbBoS-Ts.js";import"./organization._organizationId.project._projectId-CtDmbbW4.js";import"./cloud-credentials._cloudCredentialId.delete-CHPMwoBx.js";import"./cloud-credentials._cloudCredentialId.update-RaJlpXVy.js";import"./auth.create-vault-key-B-0jQzTT.js";import"./auth.update-vault-salt-BBWvZ0Tc.js";import"./auth.reset-vault-key-YbpkP1rp.js";import"./auth.validate-vault-key-UWRH3JbX.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.debug.request._requestId.update-meta-CRlGCFc9.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.debug.request._requestId.update-payload-DHsO7wRp.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.debug.request-group._requestGroupId.update-BcedaLUm.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.debug.request-group._requestGroupId.update-meta-szcm3PeP.js";import"./settings.update-BK5WtJcK.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.environment.set-active-global-OVAdNVZK.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.cacert.delete-gmFqOotq.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.cacert.new-BAw3_PFn.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.cacert.update-RP9rRE7q.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.clientcert.delete-C7qAoH39.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.clientcert.new-cLo9gJHS.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.clientcert.update-CivLuyzL.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.environment.create-C5SrSIuz.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.environment.delete-Bbtl6Atl.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.environment.duplicate-MRGgtgUo.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.environment.update-BFDmExsV.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.update-cookie-jar-BxajqJCO.js";import"./organization._organizationId.project._projectId.workspace._workspaceId.mock-server.mock-route.new-C3GYuFkd.js";function isSameDay(e,t){const Ke=startOfDay(e),Ye=startOfDay(t);return+Ke==+Ye}function differenceInHours(e,t,Ke){const Ye=differenceInMilliseconds(e,t)/millisecondsInHour;return getRoundingMethod(Ke?.roundingMethod)(Ye)}function isSameWeek(e,t,Ke){const Ye=startOfWeek(e,Ke),Je=startOfWeek(t,Ke);return+Ye==+Je}function isThisWeek(e,t){return isSameWeek(e,constructNow(e),t)}function isToday(e){return isSameDay(e,constructNow(e))}function $5a387cc49350e6db$export$722debc0e56fea39(e,t){let Ke=reactExports.useRef(null);return e&&Ke.current&&t(e,Ke.current)&&(e=Ke.current),Ke.current=e,e}function $2b4dce13dd5a17fa$export$842a2cf37af977e1(e,t){return e-t*Math.floor(e/t)}const $3b62074eb05584b2$var$EPOCH=1721426;function $3b62074eb05584b2$export$f297eb839006d339(e,t,Ke,Ye){t=$3b62074eb05584b2$export$c36e0ecb2d4fa69d(e,t);let Je=t-1,Xe=-2;return Ke<=2?Xe=0:$3b62074eb05584b2$export$553d7fa8e3805fc0(t)&&(Xe=-1),$3b62074eb05584b2$var$EPOCH-1+365*Je+Math.floor(Je/4)-Math.floor(Je/100)+Math.floor(Je/400)+Math.floor((367*Ke-362)/12+Xe+Ye)}function $3b62074eb05584b2$export$553d7fa8e3805fc0(e){return e%4===0&&(e%100!==0||e%400===0)}function $3b62074eb05584b2$export$c36e0ecb2d4fa69d(e,t){return e==="BC"?1-t:t}function $3b62074eb05584b2$export$4475b7e617eb123c(e){let t="AD";return e<=0&&(t="BC",e=1-e),[t,e]}const $3b62074eb05584b2$var$daysInMonth={standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]};class $3b62074eb05584b2$export$80ee6245ec4f29ec{fromJulianDay(t){let Ke=t,Ye=Ke-$3b62074eb05584b2$var$EPOCH,Je=Math.floor(Ye/146097),Xe=$2b4dce13dd5a17fa$export$842a2cf37af977e1(Ye,146097),et=Math.floor(Xe/36524),tt=$2b4dce13dd5a17fa$export$842a2cf37af977e1(Xe,36524),rt=Math.floor(tt/1461),st=$2b4dce13dd5a17fa$export$842a2cf37af977e1(tt,1461),at=Math.floor(st/365),nt=Je*400+et*100+rt*4+at+(et!==4&&at!==4?1:0),[it,ot]=$3b62074eb05584b2$export$4475b7e617eb123c(nt),lt=Ke-$3b62074eb05584b2$export$f297eb839006d339(it,ot,1,1),ut=2;Ke<$3b62074eb05584b2$export$f297eb839006d339(it,ot,3,1)?ut=0:$3b62074eb05584b2$export$553d7fa8e3805fc0(ot)&&(ut=1);let ft=Math.floor(((lt+ut)*12+373)/367),ct=Ke-$3b62074eb05584b2$export$f297eb839006d339(it,ot,ft,1)+1;return new $35ea8db9cb2ccb90$export$99faa760c7908e4f(it,ot,ft,ct)}toJulianDay(t){return $3b62074eb05584b2$export$f297eb839006d339(t.era,t.year,t.month,t.day)}getDaysInMonth(t){return $3b62074eb05584b2$var$daysInMonth[$3b62074eb05584b2$export$553d7fa8e3805fc0(t.year)?"leapyear":"standard"][t.month-1]}getMonthsInYear(t){return 12}getDaysInYear(t){return $3b62074eb05584b2$export$553d7fa8e3805fc0(t.year)?366:365}getYearsInEra(t){return 9999}getEras(){return["BC","AD"]}isInverseEra(t){return t.era==="BC"}balanceDate(t){t.year<=0&&(t.era=t.era==="BC"?"AD":"BC",t.year=1-t.year)}constructor(){this.identifier="gregory"}}const $2fe286d2fb449abb$export$7a5acbd77d414bd9={"001":1,AD:1,AE:6,AF:6,AI:1,AL:1,AM:1,AN:1,AR:1,AT:1,AU:1,AX:1,AZ:1,BA:1,BE:1,BG:1,BH:6,BM:1,BN:1,BY:1,CH:1,CL:1,CM:1,CN:1,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DZ:6,EC:1,EE:1,EG:6,ES:1,FI:1,FJ:1,FO:1,FR:1,GB:1,GE:1,GF:1,GP:1,GR:1,HR:1,HU:1,IE:1,IQ:6,IR:6,IS:1,IT:1,JO:6,KG:1,KW:6,KZ:1,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MK:1,MN:1,MQ:1,MV:5,MY:1,NL:1,NO:1,NZ:1,OM:6,PL:1,QA:6,RE:1,RO:1,RS:1,RU:1,SD:6,SE:1,SI:1,SK:1,SM:1,SY:6,TJ:1,TM:1,TR:1,UA:1,UY:1,UZ:1,VA:1,VN:1,XK:1};function $14e0f24ef4ac5c92$export$ea39ec197993aef0(e,t){return t=$11d87f3f76e88657$export$b4a036af3fc0b032(t,e.calendar),e.era===t.era&&e.year===t.year&&e.month===t.month&&e.day===t.day}function $14e0f24ef4ac5c92$export$a18c89cbd24170ff(e,t){return t=$11d87f3f76e88657$export$b4a036af3fc0b032(t,e.calendar),e=$14e0f24ef4ac5c92$export$a5a3b454ada2268e(e),t=$14e0f24ef4ac5c92$export$a5a3b454ada2268e(t),e.era===t.era&&e.year===t.year&&e.month===t.month}function $14e0f24ef4ac5c92$export$91b62ebf2ba703ee(e,t){return $14e0f24ef4ac5c92$export$dbc69fd56b53d5e(e.calendar,t.calendar)&&$14e0f24ef4ac5c92$export$ea39ec197993aef0(e,t)}function $14e0f24ef4ac5c92$export$dbc69fd56b53d5e(e,t){var Ke,Ye,Je,Xe;return(Xe=(Je=(Ke=e.isEqual)===null||Ke===void 0?void 0:Ke.call(e,t))!==null&&Je!==void 0?Je:(Ye=t.isEqual)===null||Ye===void 0?void 0:Ye.call(t,e))!==null&&Xe!==void 0?Xe:e.identifier===t.identifier}function $14e0f24ef4ac5c92$export$629b0a497aa65267(e,t){return $14e0f24ef4ac5c92$export$ea39ec197993aef0(e,$14e0f24ef4ac5c92$export$d0bdf45af03a6ea3(t))}const $14e0f24ef4ac5c92$var$DAY_MAP={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};function $14e0f24ef4ac5c92$export$2061056d06d7cdf7(e,t,Ke){let Ye=e.calendar.toJulianDay(e),Je=Ke?$14e0f24ef4ac5c92$var$DAY_MAP[Ke]:$14e0f24ef4ac5c92$var$getWeekStart(t),Xe=Math.ceil(Ye+1-Je)%7;return Xe<0&&(Xe+=7),Xe}function $14e0f24ef4ac5c92$export$461939dd4422153(e){return $11d87f3f76e88657$export$1b96692a1ba042ac(Date.now(),e)}function $14e0f24ef4ac5c92$export$d0bdf45af03a6ea3(e){return $11d87f3f76e88657$export$93522d1a439f3617($14e0f24ef4ac5c92$export$461939dd4422153(e))}function $14e0f24ef4ac5c92$export$68781ddf31c0090f(e,t){return e.calendar.toJulianDay(e)-t.calendar.toJulianDay(t)}function $14e0f24ef4ac5c92$export$c19a80a9721b80f6(e,t){return $14e0f24ef4ac5c92$var$timeToMs(e)-$14e0f24ef4ac5c92$var$timeToMs(t)}function $14e0f24ef4ac5c92$var$timeToMs(e){return e.hour*36e5+e.minute*6e4+e.second*1e3+e.millisecond}let $14e0f24ef4ac5c92$var$localTimeZone=null;function $14e0f24ef4ac5c92$export$aa8b41735afcabd2(){return $14e0f24ef4ac5c92$var$localTimeZone==null&&($14e0f24ef4ac5c92$var$localTimeZone=new Intl.DateTimeFormat().resolvedOptions().timeZone),$14e0f24ef4ac5c92$var$localTimeZone}function $14e0f24ef4ac5c92$export$a5a3b454ada2268e(e){return e.subtract({days:e.day-1})}function $14e0f24ef4ac5c92$export$a2258d9c4118825c(e){return e.add({days:e.calendar.getDaysInMonth(e)-e.day})}function $14e0f24ef4ac5c92$export$f91e89d3d0406102(e){return $14e0f24ef4ac5c92$export$a5a3b454ada2268e(e.subtract({months:e.month-1}))}function $14e0f24ef4ac5c92$export$5412ac11713b72ad(e){return e.calendar.getMinimumMonthInYear?e.calendar.getMinimumMonthInYear(e):1}function $14e0f24ef4ac5c92$export$b2f4953d301981d5(e){return e.calendar.getMinimumDayInMonth?e.calendar.getMinimumDayInMonth(e):1}function $14e0f24ef4ac5c92$export$42c81a444fbfb5d4(e,t,Ke){let Ye=$14e0f24ef4ac5c92$export$2061056d06d7cdf7(e,t,Ke);return e.subtract({days:Ye})}function $14e0f24ef4ac5c92$export$ef8b6d9133084f4e(e,t,Ke){return $14e0f24ef4ac5c92$export$42c81a444fbfb5d4(e,t,Ke).add({days:6})}const $14e0f24ef4ac5c92$var$cachedRegions=new Map;function $14e0f24ef4ac5c92$var$getRegion(e){if(Intl.Locale){let Ke=$14e0f24ef4ac5c92$var$cachedRegions.get(e);return Ke||(Ke=new Intl.Locale(e).maximize().region,Ke&&$14e0f24ef4ac5c92$var$cachedRegions.set(e,Ke)),Ke}let t=e.split("-")[1];return t==="u"?void 0:t}function $14e0f24ef4ac5c92$var$getWeekStart(e){let t=$14e0f24ef4ac5c92$var$getRegion(e);return t&&$2fe286d2fb449abb$export$7a5acbd77d414bd9[t]||0}function $14e0f24ef4ac5c92$export$ccc1b2479e7dd654(e,t,Ke){let Ye=e.calendar.getDaysInMonth(e);return Math.ceil(($14e0f24ef4ac5c92$export$2061056d06d7cdf7($14e0f24ef4ac5c92$export$a5a3b454ada2268e(e),t,Ke)+Ye)/7)}function $14e0f24ef4ac5c92$export$5c333a116e949cdd(e,t){return e&&t?e.compare(t)<=0?e:t:e||t}function $14e0f24ef4ac5c92$export$a75f2bff57811055(e,t){return e&&t?e.compare(t)>=0?e:t:e||t}function $11d87f3f76e88657$export$bd4fb2bc8bb06fb(e){e=$11d87f3f76e88657$export$b4a036af3fc0b032(e,new $3b62074eb05584b2$export$80ee6245ec4f29ec);let t=$3b62074eb05584b2$export$c36e0ecb2d4fa69d(e.era,e.year);return $11d87f3f76e88657$var$epochFromParts(t,e.month,e.day,e.hour,e.minute,e.second,e.millisecond)}function $11d87f3f76e88657$var$epochFromParts(e,t,Ke,Ye,Je,Xe,et){let tt=new Date;return tt.setUTCHours(Ye,Je,Xe,et),tt.setUTCFullYear(e,t-1,Ke),tt.getTime()}function $11d87f3f76e88657$export$59c99f3515d3493f(e,t){if(t==="UTC")return 0;if(e>0&&t===$14e0f24ef4ac5c92$export$aa8b41735afcabd2())return new Date(e).getTimezoneOffset()*-6e4;let{year:Ke,month:Ye,day:Je,hour:Xe,minute:et,second:tt}=$11d87f3f76e88657$var$getTimeZoneParts(e,t);return $11d87f3f76e88657$var$epochFromParts(Ke,Ye,Je,Xe,et,tt,0)-Math.floor(e/1e3)*1e3}const $11d87f3f76e88657$var$formattersByTimeZone=new Map;function $11d87f3f76e88657$var$getTimeZoneParts(e,t){let Ke=$11d87f3f76e88657$var$formattersByTimeZone.get(t);Ke||(Ke=new Intl.DateTimeFormat("en-US",{timeZone:t,hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),$11d87f3f76e88657$var$formattersByTimeZone.set(t,Ke));let Ye=Ke.formatToParts(new Date(e)),Je={};for(let Xe of Ye)Xe.type!=="literal"&&(Je[Xe.type]=Xe.value);return{year:Je.era==="BC"||Je.era==="B"?-Je.year+1:+Je.year,month:+Je.month,day:+Je.day,hour:Je.hour==="24"?0:+Je.hour,minute:+Je.minute,second:+Je.second}}const $11d87f3f76e88657$var$DAYMILLIS=864e5;function $11d87f3f76e88657$var$getValidWallTimes(e,t,Ke,Ye){return(Ke===Ye?[Ke]:[Ke,Ye]).filter(Xe=>$11d87f3f76e88657$var$isValidWallTime(e,t,Xe))}function $11d87f3f76e88657$var$isValidWallTime(e,t,Ke){let Ye=$11d87f3f76e88657$var$getTimeZoneParts(Ke,t);return e.year===Ye.year&&e.month===Ye.month&&e.day===Ye.day&&e.hour===Ye.hour&&e.minute===Ye.minute&&e.second===Ye.second}function $11d87f3f76e88657$export$5107c82f94518f5c(e,t,Ke="compatible"){let Ye=$11d87f3f76e88657$export$b21e0b124e224484(e);if(t==="UTC")return $11d87f3f76e88657$export$bd4fb2bc8bb06fb(Ye);if(t===$14e0f24ef4ac5c92$export$aa8b41735afcabd2()&&Ke==="compatible"){Ye=$11d87f3f76e88657$export$b4a036af3fc0b032(Ye,new $3b62074eb05584b2$export$80ee6245ec4f29ec);let rt=new Date,st=$3b62074eb05584b2$export$c36e0ecb2d4fa69d(Ye.era,Ye.year);return rt.setFullYear(st,Ye.month-1,Ye.day),rt.setHours(Ye.hour,Ye.minute,Ye.second,Ye.millisecond),rt.getTime()}let Je=$11d87f3f76e88657$export$bd4fb2bc8bb06fb(Ye),Xe=$11d87f3f76e88657$export$59c99f3515d3493f(Je-$11d87f3f76e88657$var$DAYMILLIS,t),et=$11d87f3f76e88657$export$59c99f3515d3493f(Je+$11d87f3f76e88657$var$DAYMILLIS,t),tt=$11d87f3f76e88657$var$getValidWallTimes(Ye,t,Je-Xe,Je-et);if(tt.length===1)return tt[0];if(tt.length>1)switch(Ke){case"compatible":case"earlier":return tt[0];case"later":return tt[tt.length-1];case"reject":throw new RangeError("Multiple possible absolute times found")}switch(Ke){case"earlier":return Math.min(Je-Xe,Je-et);case"compatible":case"later":return Math.max(Je-Xe,Je-et);case"reject":throw new RangeError("No such absolute time found")}}function $11d87f3f76e88657$export$e67a095c620b86fe(e,t,Ke="compatible"){return new Date($11d87f3f76e88657$export$5107c82f94518f5c(e,t,Ke))}function $11d87f3f76e88657$export$1b96692a1ba042ac(e,t){let Ke=$11d87f3f76e88657$export$59c99f3515d3493f(e,t),Ye=new Date(e+Ke),Je=Ye.getUTCFullYear(),Xe=Ye.getUTCMonth()+1,et=Ye.getUTCDate(),tt=Ye.getUTCHours(),rt=Ye.getUTCMinutes(),st=Ye.getUTCSeconds(),at=Ye.getUTCMilliseconds();return new $35ea8db9cb2ccb90$export$d3b7288e7994edea(Je<1?"BC":"AD",Je<1?-Je+1:Je,Xe,et,t,Ke,tt,rt,st,at)}function $11d87f3f76e88657$export$93522d1a439f3617(e){return new $35ea8db9cb2ccb90$export$99faa760c7908e4f(e.calendar,e.era,e.year,e.month,e.day)}function $11d87f3f76e88657$export$b21e0b124e224484(e,t){let Ke=0,Ye=0,Je=0,Xe=0;if("timeZone"in e)({hour:Ke,minute:Ye,second:Je,millisecond:Xe}=e);else if("hour"in e&&!t)return e;return t&&({hour:Ke,minute:Ye,second:Je,millisecond:Xe}=t),new $35ea8db9cb2ccb90$export$ca871e8dbb80966f(e.calendar,e.era,e.year,e.month,e.day,Ke,Ye,Je,Xe)}function $11d87f3f76e88657$export$b4a036af3fc0b032(e,t){if($14e0f24ef4ac5c92$export$dbc69fd56b53d5e(e.calendar,t))return e;let Ke=t.fromJulianDay(e.calendar.toJulianDay(e)),Ye=e.copy();return Ye.calendar=t,Ye.era=Ke.era,Ye.year=Ke.year,Ye.month=Ke.month,Ye.day=Ke.day,$735220c2d4774dd3$export$c4e2ecac49351ef2(Ye),Ye}function $11d87f3f76e88657$export$84c95a83c799e074(e,t,Ke){if(e instanceof $35ea8db9cb2ccb90$export$d3b7288e7994edea)return e.timeZone===t?e:$11d87f3f76e88657$export$538b00033cc11c75(e,t);let Ye=$11d87f3f76e88657$export$5107c82f94518f5c(e,t,Ke);return $11d87f3f76e88657$export$1b96692a1ba042ac(Ye,t)}function $11d87f3f76e88657$export$83aac07b4c37b25(e){let t=$11d87f3f76e88657$export$bd4fb2bc8bb06fb(e)-e.offset;return new Date(t)}function $11d87f3f76e88657$export$538b00033cc11c75(e,t){let Ke=$11d87f3f76e88657$export$bd4fb2bc8bb06fb(e)-e.offset;return $11d87f3f76e88657$export$b4a036af3fc0b032($11d87f3f76e88657$export$1b96692a1ba042ac(Ke,t),e.calendar)}const $735220c2d4774dd3$var$ONE_HOUR=36e5;function $735220c2d4774dd3$export$e16d8520af44a096(e,t){let Ke=e.copy(),Ye="hour"in Ke?$735220c2d4774dd3$var$addTimeFields(Ke,t):0;$735220c2d4774dd3$var$addYears(Ke,t.years||0),Ke.calendar.balanceYearMonth&&Ke.calendar.balanceYearMonth(Ke,e),Ke.month+=t.months||0,$735220c2d4774dd3$var$balanceYearMonth(Ke),$735220c2d4774dd3$var$constrainMonthDay(Ke),Ke.day+=(t.weeks||0)*7,Ke.day+=t.days||0,Ke.day+=Ye,$735220c2d4774dd3$var$balanceDay(Ke),Ke.calendar.balanceDate&&Ke.calendar.balanceDate(Ke),Ke.year<1&&(Ke.year=1,Ke.month=1,Ke.day=1);let Je=Ke.calendar.getYearsInEra(Ke);if(Ke.year>Je){var Xe,et;let rt=(Xe=(et=Ke.calendar).isInverseEra)===null||Xe===void 0?void 0:Xe.call(et,Ke);Ke.year=Je,Ke.month=rt?1:Ke.calendar.getMonthsInYear(Ke),Ke.day=rt?1:Ke.calendar.getDaysInMonth(Ke)}Ke.month<1&&(Ke.month=1,Ke.day=1);let tt=Ke.calendar.getMonthsInYear(Ke);return Ke.month>tt&&(Ke.month=tt,Ke.day=Ke.calendar.getDaysInMonth(Ke)),Ke.day=Math.max(1,Math.min(Ke.calendar.getDaysInMonth(Ke),Ke.day)),Ke}function $735220c2d4774dd3$var$addYears(e,t){var Ke,Ye;!((Ke=(Ye=e.calendar).isInverseEra)===null||Ke===void 0)&&Ke.call(Ye,e)&&(t=-t),e.year+=t}function $735220c2d4774dd3$var$balanceYearMonth(e){for(;e.month<1;)$735220c2d4774dd3$var$addYears(e,-1),e.month+=e.calendar.getMonthsInYear(e);let t=0;for(;e.month>(t=e.calendar.getMonthsInYear(e));)e.month-=t,$735220c2d4774dd3$var$addYears(e,1)}function $735220c2d4774dd3$var$balanceDay(e){for(;e.day<1;)e.month--,$735220c2d4774dd3$var$balanceYearMonth(e),e.day+=e.calendar.getDaysInMonth(e);for(;e.day>e.calendar.getDaysInMonth(e);)e.day-=e.calendar.getDaysInMonth(e),e.month++,$735220c2d4774dd3$var$balanceYearMonth(e)}function $735220c2d4774dd3$var$constrainMonthDay(e){e.month=Math.max(1,Math.min(e.calendar.getMonthsInYear(e),e.month)),e.day=Math.max(1,Math.min(e.calendar.getDaysInMonth(e),e.day))}function $735220c2d4774dd3$export$c4e2ecac49351ef2(e){e.calendar.constrainDate&&e.calendar.constrainDate(e),e.year=Math.max(1,Math.min(e.calendar.getYearsInEra(e),e.year)),$735220c2d4774dd3$var$constrainMonthDay(e)}function $735220c2d4774dd3$export$3e2544e88a25bff8(e){let t={};for(let Ke in e)typeof e[Ke]=="number"&&(t[Ke]=-e[Ke]);return t}function $735220c2d4774dd3$export$4e2d2ead65e5f7e3(e,t){return $735220c2d4774dd3$export$e16d8520af44a096(e,$735220c2d4774dd3$export$3e2544e88a25bff8(t))}function $735220c2d4774dd3$export$adaa4cf7ef1b65be(e,t){let Ke=e.copy();return t.era!=null&&(Ke.era=t.era),t.year!=null&&(Ke.year=t.year),t.month!=null&&(Ke.month=t.month),t.day!=null&&(Ke.day=t.day),$735220c2d4774dd3$export$c4e2ecac49351ef2(Ke),Ke}function $735220c2d4774dd3$export$e5d5e1c1822b6e56(e,t){let Ke=e.copy();return t.hour!=null&&(Ke.hour=t.hour),t.minute!=null&&(Ke.minute=t.minute),t.second!=null&&(Ke.second=t.second),t.millisecond!=null&&(Ke.millisecond=t.millisecond),$735220c2d4774dd3$export$7555de1e070510cb(Ke),Ke}function $735220c2d4774dd3$var$balanceTime(e){e.second+=Math.floor(e.millisecond/1e3),e.millisecond=$735220c2d4774dd3$var$nonNegativeMod(e.millisecond,1e3),e.minute+=Math.floor(e.second/60),e.second=$735220c2d4774dd3$var$nonNegativeMod(e.second,60),e.hour+=Math.floor(e.minute/60),e.minute=$735220c2d4774dd3$var$nonNegativeMod(e.minute,60);let t=Math.floor(e.hour/24);return e.hour=$735220c2d4774dd3$var$nonNegativeMod(e.hour,24),t}function $735220c2d4774dd3$export$7555de1e070510cb(e){e.millisecond=Math.max(0,Math.min(e.millisecond,1e3)),e.second=Math.max(0,Math.min(e.second,59)),e.minute=Math.max(0,Math.min(e.minute,59)),e.hour=Math.max(0,Math.min(e.hour,23))}function $735220c2d4774dd3$var$nonNegativeMod(e,t){let Ke=e%t;return Ke<0&&(Ke+=t),Ke}function $735220c2d4774dd3$var$addTimeFields(e,t){return e.hour+=t.hours||0,e.minute+=t.minutes||0,e.second+=t.seconds||0,e.millisecond+=t.milliseconds||0,$735220c2d4774dd3$var$balanceTime(e)}function $735220c2d4774dd3$export$7ed87b6bc2506470(e,t){let Ke=e.copy();return $735220c2d4774dd3$var$addTimeFields(Ke,t),Ke}function $735220c2d4774dd3$export$fe34d3a381cd7501(e,t){return $735220c2d4774dd3$export$7ed87b6bc2506470(e,$735220c2d4774dd3$export$3e2544e88a25bff8(t))}function $735220c2d4774dd3$export$d52ced6badfb9a4c(e,t,Ke,Ye){let Je=e.copy();switch(t){case"era":{let tt=e.calendar.getEras(),rt=tt.indexOf(e.era);if(rt<0)throw new Error("Invalid era: "+e.era);rt=$735220c2d4774dd3$var$cycleValue(rt,Ke,0,tt.length-1,Ye?.round),Je.era=tt[rt],$735220c2d4774dd3$export$c4e2ecac49351ef2(Je);break}case"year":var Xe,et;!((Xe=(et=Je.calendar).isInverseEra)===null||Xe===void 0)&&Xe.call(et,Je)&&(Ke=-Ke),Je.year=$735220c2d4774dd3$var$cycleValue(e.year,Ke,-1/0,9999,Ye?.round),Je.year===-1/0&&(Je.year=1),Je.calendar.balanceYearMonth&&Je.calendar.balanceYearMonth(Je,e);break;case"month":Je.month=$735220c2d4774dd3$var$cycleValue(e.month,Ke,1,e.calendar.getMonthsInYear(e),Ye?.round);break;case"day":Je.day=$735220c2d4774dd3$var$cycleValue(e.day,Ke,1,e.calendar.getDaysInMonth(e),Ye?.round);break;default:throw new Error("Unsupported field "+t)}return e.calendar.balanceDate&&e.calendar.balanceDate(Je),$735220c2d4774dd3$export$c4e2ecac49351ef2(Je),Je}function $735220c2d4774dd3$export$dd02b3e0007dfe28(e,t,Ke,Ye){let Je=e.copy();switch(t){case"hour":{let Xe=e.hour,et=0,tt=23;if(Ye?.hourCycle===12){let rt=Xe>=12;et=rt?12:0,tt=rt?23:11}Je.hour=$735220c2d4774dd3$var$cycleValue(Xe,Ke,et,tt,Ye?.round);break}case"minute":Je.minute=$735220c2d4774dd3$var$cycleValue(e.minute,Ke,0,59,Ye?.round);break;case"second":Je.second=$735220c2d4774dd3$var$cycleValue(e.second,Ke,0,59,Ye?.round);break;case"millisecond":Je.millisecond=$735220c2d4774dd3$var$cycleValue(e.millisecond,Ke,0,999,Ye?.round);break;default:throw new Error("Unsupported field "+t)}return Je}function $735220c2d4774dd3$var$cycleValue(e,t,Ke,Ye,Je=!1){if(Je){e+=Math.sign(t),e<Ke&&(e=Ye);let Xe=Math.abs(t);t>0?e=Math.ceil(e/Xe)*Xe:e=Math.floor(e/Xe)*Xe,e>Ye&&(e=Ke)}else e+=t,e<Ke?e=Ye-(Ke-e-1):e>Ye&&(e=Ke+(e-Ye-1));return e}function $735220c2d4774dd3$export$96b1d28349274637(e,t){let Ke;if(t.years!=null&&t.years!==0||t.months!=null&&t.months!==0||t.weeks!=null&&t.weeks!==0||t.days!=null&&t.days!==0){let Je=$735220c2d4774dd3$export$e16d8520af44a096($11d87f3f76e88657$export$b21e0b124e224484(e),{years:t.years,months:t.months,weeks:t.weeks,days:t.days});Ke=$11d87f3f76e88657$export$5107c82f94518f5c(Je,e.timeZone)}else Ke=$11d87f3f76e88657$export$bd4fb2bc8bb06fb(e)-e.offset;Ke+=t.milliseconds||0,Ke+=(t.seconds||0)*1e3,Ke+=(t.minutes||0)*6e4,Ke+=(t.hours||0)*36e5;let Ye=$11d87f3f76e88657$export$1b96692a1ba042ac(Ke,e.timeZone);return $11d87f3f76e88657$export$b4a036af3fc0b032(Ye,e.calendar)}function $735220c2d4774dd3$export$6814caac34ca03c7(e,t){return $735220c2d4774dd3$export$96b1d28349274637(e,$735220c2d4774dd3$export$3e2544e88a25bff8(t))}function $735220c2d4774dd3$export$9a297d111fc86b79(e,t,Ke,Ye){switch(t){case"hour":{let Je=0,Xe=23;if(Ye?.hourCycle===12){let lt=e.hour>=12;Je=lt?12:0,Xe=lt?23:11}let et=$11d87f3f76e88657$export$b21e0b124e224484(e),tt=$11d87f3f76e88657$export$b4a036af3fc0b032($735220c2d4774dd3$export$e5d5e1c1822b6e56(et,{hour:Je}),new $3b62074eb05584b2$export$80ee6245ec4f29ec),rt=[$11d87f3f76e88657$export$5107c82f94518f5c(tt,e.timeZone,"earlier"),$11d87f3f76e88657$export$5107c82f94518f5c(tt,e.timeZone,"later")].filter(lt=>$11d87f3f76e88657$export$1b96692a1ba042ac(lt,e.timeZone).day===tt.day)[0],st=$11d87f3f76e88657$export$b4a036af3fc0b032($735220c2d4774dd3$export$e5d5e1c1822b6e56(et,{hour:Xe}),new $3b62074eb05584b2$export$80ee6245ec4f29ec),at=[$11d87f3f76e88657$export$5107c82f94518f5c(st,e.timeZone,"earlier"),$11d87f3f76e88657$export$5107c82f94518f5c(st,e.timeZone,"later")].filter(lt=>$11d87f3f76e88657$export$1b96692a1ba042ac(lt,e.timeZone).day===st.day).pop(),nt=$11d87f3f76e88657$export$bd4fb2bc8bb06fb(e)-e.offset,it=Math.floor(nt/$735220c2d4774dd3$var$ONE_HOUR),ot=nt%$735220c2d4774dd3$var$ONE_HOUR;return nt=$735220c2d4774dd3$var$cycleValue(it,Ke,Math.floor(rt/$735220c2d4774dd3$var$ONE_HOUR),Math.floor(at/$735220c2d4774dd3$var$ONE_HOUR),Ye?.round)*$735220c2d4774dd3$var$ONE_HOUR+ot,$11d87f3f76e88657$export$b4a036af3fc0b032($11d87f3f76e88657$export$1b96692a1ba042ac(nt,e.timeZone),e.calendar)}case"minute":case"second":case"millisecond":return $735220c2d4774dd3$export$dd02b3e0007dfe28(e,t,Ke,Ye);case"era":case"year":case"month":case"day":{let Je=$735220c2d4774dd3$export$d52ced6badfb9a4c($11d87f3f76e88657$export$b21e0b124e224484(e),t,Ke,Ye),Xe=$11d87f3f76e88657$export$5107c82f94518f5c(Je,e.timeZone);return $11d87f3f76e88657$export$b4a036af3fc0b032($11d87f3f76e88657$export$1b96692a1ba042ac(Xe,e.timeZone),e.calendar)}default:throw new Error("Unsupported field "+t)}}function $735220c2d4774dd3$export$31b5430eb18be4f8(e,t,Ke){let Ye=$11d87f3f76e88657$export$b21e0b124e224484(e),Je=$735220c2d4774dd3$export$e5d5e1c1822b6e56($735220c2d4774dd3$export$adaa4cf7ef1b65be(Ye,t),t);if(Je.compare(Ye)===0)return e;let Xe=$11d87f3f76e88657$export$5107c82f94518f5c(Je,e.timeZone,Ke);return $11d87f3f76e88657$export$b4a036af3fc0b032($11d87f3f76e88657$export$1b96692a1ba042ac(Xe,e.timeZone),e.calendar)}const $fae977aafc393c5c$var$DATE_RE=/^([+-]\d{6}|\d{4})-(\d{2})-(\d{2})$/,$fae977aafc393c5c$var$DATE_TIME_RE=/^([+-]\d{6}|\d{4})-(\d{2})-(\d{2})(?:T(\d{2}))?(?::(\d{2}))?(?::(\d{2}))?(\.\d+)?$/;function $fae977aafc393c5c$export$6b862160d295c8e(e){let t=e.match($fae977aafc393c5c$var$DATE_RE);if(!t)throw new Error("Invalid ISO 8601 date string: "+e);let Ke=new $35ea8db9cb2ccb90$export$99faa760c7908e4f($fae977aafc393c5c$var$parseNumber(t[1],0,9999),$fae977aafc393c5c$var$parseNumber(t[2],1,12),1);return Ke.day=$fae977aafc393c5c$var$parseNumber(t[3],1,Ke.calendar.getDaysInMonth(Ke)),Ke}function $fae977aafc393c5c$export$588937bcd60ade55(e){let t=e.match($fae977aafc393c5c$var$DATE_TIME_RE);if(!t)throw new Error("Invalid ISO 8601 date time string: "+e);let Ke=$fae977aafc393c5c$var$parseNumber(t[1],-9999,9999),Ye=Ke<1?"BC":"AD",Je=new $35ea8db9cb2ccb90$export$ca871e8dbb80966f(Ye,Ke<1?-Ke+1:Ke,$fae977aafc393c5c$var$parseNumber(t[2],1,12),1,t[4]?$fae977aafc393c5c$var$parseNumber(t[4],0,23):0,t[5]?$fae977aafc393c5c$var$parseNumber(t[5],0,59):0,t[6]?$fae977aafc393c5c$var$parseNumber(t[6],0,59):0,t[7]?$fae977aafc393c5c$var$parseNumber(t[7],0,1/0)*1e3:0);return Je.day=$fae977aafc393c5c$var$parseNumber(t[3],0,Je.calendar.getDaysInMonth(Je)),Je}function $fae977aafc393c5c$var$parseNumber(e,t,Ke){let Ye=Number(e);if(Ye<t||Ye>Ke)throw new RangeError(`Value out of range: ${t} <= ${Ye} <= ${Ke}`);return Ye}function $fae977aafc393c5c$export$f59dee82248f5ad4(e){return`${String(e.hour).padStart(2,"0")}:${String(e.minute).padStart(2,"0")}:${String(e.second).padStart(2,"0")}${e.millisecond?String(e.millisecond/1e3).slice(1):""}`}function $fae977aafc393c5c$export$60dfd74aa96791bd(e){let t=$11d87f3f76e88657$export$b4a036af3fc0b032(e,new $3b62074eb05584b2$export$80ee6245ec4f29ec),Ke;return t.era==="BC"?Ke=t.year===1?"0000":"-"+String(Math.abs(1-t.year)).padStart(6,"00"):Ke=String(t.year).padStart(4,"0"),`${Ke}-${String(t.month).padStart(2,"0")}-${String(t.day).padStart(2,"0")}`}function $fae977aafc393c5c$export$4223de14708adc63(e){return`${$fae977aafc393c5c$export$60dfd74aa96791bd(e)}T${$fae977aafc393c5c$export$f59dee82248f5ad4(e)}`}function $fae977aafc393c5c$var$offsetToString(e){let t=Math.sign(e)<0?"-":"+";e=Math.abs(e);let Ke=Math.floor(e/36e5),Ye=e%36e5/6e4;return`${t}${String(Ke).padStart(2,"0")}:${String(Ye).padStart(2,"0")}`}function $fae977aafc393c5c$export$bf79f1ebf4b18792(e){return`${$fae977aafc393c5c$export$4223de14708adc63(e)}${$fae977aafc393c5c$var$offsetToString(e.offset)}[${e.timeZone}]`}function $35ea8db9cb2ccb90$var$shiftArgs(e){let t=typeof e[0]=="object"?e.shift():new $3b62074eb05584b2$export$80ee6245ec4f29ec,Ke;if(typeof e[0]=="string")Ke=e.shift();else{let et=t.getEras();Ke=et[et.length-1]}let Ye=e.shift(),Je=e.shift(),Xe=e.shift();return[t,Ke,Ye,Je,Xe]}var $35ea8db9cb2ccb90$var$_type=new WeakMap;class $35ea8db9cb2ccb90$export$99faa760c7908e4f{copy(){return this.era?new $35ea8db9cb2ccb90$export$99faa760c7908e4f(this.calendar,this.era,this.year,this.month,this.day):new $35ea8db9cb2ccb90$export$99faa760c7908e4f(this.calendar,this.year,this.month,this.day)}add(t){return $735220c2d4774dd3$export$e16d8520af44a096(this,t)}subtract(t){return $735220c2d4774dd3$export$4e2d2ead65e5f7e3(this,t)}set(t){return $735220c2d4774dd3$export$adaa4cf7ef1b65be(this,t)}cycle(t,Ke,Ye){return $735220c2d4774dd3$export$d52ced6badfb9a4c(this,t,Ke,Ye)}toDate(t){return $11d87f3f76e88657$export$e67a095c620b86fe(this,t)}toString(){return $fae977aafc393c5c$export$60dfd74aa96791bd(this)}compare(t){return $14e0f24ef4ac5c92$export$68781ddf31c0090f(this,t)}constructor(...t){_class_private_field_init(this,$35ea8db9cb2ccb90$var$_type,{writable:!0,value:void 0});let[Ke,Ye,Je,Xe,et]=$35ea8db9cb2ccb90$var$shiftArgs(t);this.calendar=Ke,this.era=Ye,this.year=Je,this.month=Xe,this.day=et,$735220c2d4774dd3$export$c4e2ecac49351ef2(this)}}var $35ea8db9cb2ccb90$var$_type1=new WeakMap;class $35ea8db9cb2ccb90$export$680ea196effce5f{copy(){return new $35ea8db9cb2ccb90$export$680ea196effce5f(this.hour,this.minute,this.second,this.millisecond)}add(t){return $735220c2d4774dd3$export$7ed87b6bc2506470(this,t)}subtract(t){return $735220c2d4774dd3$export$fe34d3a381cd7501(this,t)}set(t){return $735220c2d4774dd3$export$e5d5e1c1822b6e56(this,t)}cycle(t,Ke,Ye){return $735220c2d4774dd3$export$dd02b3e0007dfe28(this,t,Ke,Ye)}toString(){return $fae977aafc393c5c$export$f59dee82248f5ad4(this)}compare(t){return $14e0f24ef4ac5c92$export$c19a80a9721b80f6(this,t)}constructor(t=0,Ke=0,Ye=0,Je=0){_class_private_field_init(this,$35ea8db9cb2ccb90$var$_type1,{writable:!0,value:void 0}),this.hour=t,this.minute=Ke,this.second=Ye,this.millisecond=Je,$735220c2d4774dd3$export$7555de1e070510cb(this)}}var $35ea8db9cb2ccb90$var$_type2=new WeakMap;class $35ea8db9cb2ccb90$export$ca871e8dbb80966f{copy(){return this.era?new $35ea8db9cb2ccb90$export$ca871e8dbb80966f(this.calendar,this.era,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond):new $35ea8db9cb2ccb90$export$ca871e8dbb80966f(this.calendar,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond)}add(t){return $735220c2d4774dd3$export$e16d8520af44a096(this,t)}subtract(t){return $735220c2d4774dd3$export$4e2d2ead65e5f7e3(this,t)}set(t){return $735220c2d4774dd3$export$adaa4cf7ef1b65be($735220c2d4774dd3$export$e5d5e1c1822b6e56(this,t),t)}cycle(t,Ke,Ye){switch(t){case"era":case"year":case"month":case"day":return $735220c2d4774dd3$export$d52ced6badfb9a4c(this,t,Ke,Ye);default:return $735220c2d4774dd3$export$dd02b3e0007dfe28(this,t,Ke,Ye)}}toDate(t,Ke){return $11d87f3f76e88657$export$e67a095c620b86fe(this,t,Ke)}toString(){return $fae977aafc393c5c$export$4223de14708adc63(this)}compare(t){let Ke=$14e0f24ef4ac5c92$export$68781ddf31c0090f(this,t);return Ke===0?$14e0f24ef4ac5c92$export$c19a80a9721b80f6(this,$11d87f3f76e88657$export$b21e0b124e224484(t)):Ke}constructor(...t){_class_private_field_init(this,$35ea8db9cb2ccb90$var$_type2,{writable:!0,value:void 0});let[Ke,Ye,Je,Xe,et]=$35ea8db9cb2ccb90$var$shiftArgs(t);this.calendar=Ke,this.era=Ye,this.year=Je,this.month=Xe,this.day=et,this.hour=t.shift()||0,this.minute=t.shift()||0,this.second=t.shift()||0,this.millisecond=t.shift()||0,$735220c2d4774dd3$export$c4e2ecac49351ef2(this)}}var $35ea8db9cb2ccb90$var$_type3=new WeakMap;class $35ea8db9cb2ccb90$export$d3b7288e7994edea{copy(){return this.era?new $35ea8db9cb2ccb90$export$d3b7288e7994edea(this.calendar,this.era,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond):new $35ea8db9cb2ccb90$export$d3b7288e7994edea(this.calendar,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond)}add(t){return $735220c2d4774dd3$export$96b1d28349274637(this,t)}subtract(t){return $735220c2d4774dd3$export$6814caac34ca03c7(this,t)}set(t,Ke){return $735220c2d4774dd3$export$31b5430eb18be4f8(this,t,Ke)}cycle(t,Ke,Ye){return $735220c2d4774dd3$export$9a297d111fc86b79(this,t,Ke,Ye)}toDate(){return $11d87f3f76e88657$export$83aac07b4c37b25(this)}toString(){return $fae977aafc393c5c$export$bf79f1ebf4b18792(this)}toAbsoluteString(){return this.toDate().toISOString()}compare(t){return this.toDate().getTime()-$11d87f3f76e88657$export$84c95a83c799e074(t,this.timeZone).toDate().getTime()}constructor(...t){_class_private_field_init(this,$35ea8db9cb2ccb90$var$_type3,{writable:!0,value:void 0});let[Ke,Ye,Je,Xe,et]=$35ea8db9cb2ccb90$var$shiftArgs(t),tt=t.shift(),rt=t.shift();this.calendar=Ke,this.era=Ye,this.year=Je,this.month=Xe,this.day=et,this.timeZone=tt,this.offset=rt,this.hour=t.shift()||0,this.minute=t.shift()||0,this.second=t.shift()||0,this.millisecond=t.shift()||0,$735220c2d4774dd3$export$c4e2ecac49351ef2(this)}}const $62225008020f0a13$var$ERA_START_DATES=[[1868,9,8],[1912,7,30],[1926,12,25],[1989,1,8],[2019,5,1]],$62225008020f0a13$var$ERA_END_DATES=[[1912,7,29],[1926,12,24],[1989,1,7],[2019,4,30]],$62225008020f0a13$var$ERA_ADDENDS=[1867,1911,1925,1988,2018],$62225008020f0a13$var$ERA_NAMES=["meiji","taisho","showa","heisei","reiwa"];function $62225008020f0a13$var$findEraFromGregorianDate(e){const t=$62225008020f0a13$var$ERA_START_DATES.findIndex(([Ke,Ye,Je])=>e.year<Ke||e.year===Ke&&e.month<Ye||e.year===Ke&&e.month===Ye&&e.day<Je);return t===-1?$62225008020f0a13$var$ERA_START_DATES.length-1:t===0?0:t-1}function $62225008020f0a13$var$toGregorian(e){let t=$62225008020f0a13$var$ERA_ADDENDS[$62225008020f0a13$var$ERA_NAMES.indexOf(e.era)];if(!t)throw new Error("Unknown era: "+e.era);return new $35ea8db9cb2ccb90$export$99faa760c7908e4f(e.year+t,e.month,e.day)}class $62225008020f0a13$export$b746ab2b60cdffbf extends $3b62074eb05584b2$export$80ee6245ec4f29ec{fromJulianDay(t){let Ke=super.fromJulianDay(t),Ye=$62225008020f0a13$var$findEraFromGregorianDate(Ke);return new $35ea8db9cb2ccb90$export$99faa760c7908e4f(this,$62225008020f0a13$var$ERA_NAMES[Ye],Ke.year-$62225008020f0a13$var$ERA_ADDENDS[Ye],Ke.month,Ke.day)}toJulianDay(t){return super.toJulianDay($62225008020f0a13$var$toGregorian(t))}balanceDate(t){let Ke=$62225008020f0a13$var$toGregorian(t),Ye=$62225008020f0a13$var$findEraFromGregorianDate(Ke);$62225008020f0a13$var$ERA_NAMES[Ye]!==t.era&&(t.era=$62225008020f0a13$var$ERA_NAMES[Ye],t.year=Ke.year-$62225008020f0a13$var$ERA_ADDENDS[Ye]),this.constrainDate(t)}constrainDate(t){let Ke=$62225008020f0a13$var$ERA_NAMES.indexOf(t.era),Ye=$62225008020f0a13$var$ERA_END_DATES[Ke];if(Ye!=null){let[Je,Xe,et]=Ye,tt=Je-$62225008020f0a13$var$ERA_ADDENDS[Ke];t.year=Math.max(1,Math.min(tt,t.year)),t.year===tt&&(t.month=Math.min(Xe,t.month),t.month===Xe&&(t.day=Math.min(et,t.day)))}if(t.year===1&&Ke>=0){let[,Je,Xe]=$62225008020f0a13$var$ERA_START_DATES[Ke];t.month=Math.max(Je,t.month),t.month===Je&&(t.day=Math.max(Xe,t.day))}}getEras(){return $62225008020f0a13$var$ERA_NAMES}getYearsInEra(t){let Ke=$62225008020f0a13$var$ERA_NAMES.indexOf(t.era),Ye=$62225008020f0a13$var$ERA_START_DATES[Ke],Je=$62225008020f0a13$var$ERA_START_DATES[Ke+1];if(Je==null)return 9999-Ye[0]+1;let Xe=Je[0]-Ye[0];return(t.month<Je[1]||t.month===Je[1]&&t.day<Je[2])&&Xe++,Xe}getDaysInMonth(t){return super.getDaysInMonth($62225008020f0a13$var$toGregorian(t))}getMinimumMonthInYear(t){let Ke=$62225008020f0a13$var$getMinimums(t);return Ke?Ke[1]:1}getMinimumDayInMonth(t){let Ke=$62225008020f0a13$var$getMinimums(t);return Ke&&t.month===Ke[1]?Ke[2]:1}constructor(...t){super(...t),this.identifier="japanese"}}function $62225008020f0a13$var$getMinimums(e){if(e.year===1){let t=$62225008020f0a13$var$ERA_NAMES.indexOf(e.era);return $62225008020f0a13$var$ERA_START_DATES[t]}}const $8d73d47422ca7302$var$BUDDHIST_ERA_START=-543;class $8d73d47422ca7302$export$42d20a78301dee44 extends $3b62074eb05584b2$export$80ee6245ec4f29ec{fromJulianDay(t){let Ke=super.fromJulianDay(t),Ye=$3b62074eb05584b2$export$c36e0ecb2d4fa69d(Ke.era,Ke.year);return new $35ea8db9cb2ccb90$export$99faa760c7908e4f(this,Ye-$8d73d47422ca7302$var$BUDDHIST_ERA_START,Ke.month,Ke.day)}toJulianDay(t){return super.toJulianDay($8d73d47422ca7302$var$toGregorian(t))}getEras(){return["BE"]}getDaysInMonth(t){return super.getDaysInMonth($8d73d47422ca7302$var$toGregorian(t))}balanceDate(){}constructor(...t){super(...t),this.identifier="buddhist"}}function $8d73d47422ca7302$var$toGregorian(e){let[t,Ke]=$3b62074eb05584b2$export$4475b7e617eb123c(e.year+$8d73d47422ca7302$var$BUDDHIST_ERA_START);return new $35ea8db9cb2ccb90$export$99faa760c7908e4f(t,Ke,e.month,e.day)}const $5f31bd6f0c8940b2$var$TAIWAN_ERA_START=1911;function $5f31bd6f0c8940b2$var$gregorianYear(e){return e.era==="minguo"?e.year+$5f31bd6f0c8940b2$var$TAIWAN_ERA_START:1-e.year+$5f31bd6f0c8940b2$var$TAIWAN_ERA_START}function $5f31bd6f0c8940b2$var$gregorianToTaiwan(e){let t=e-$5f31bd6f0c8940b2$var$TAIWAN_ERA_START;return t>0?["minguo",t]:["before_minguo",1-t]}class $5f31bd6f0c8940b2$export$65e01080afcb0799 extends $3b62074eb05584b2$export$80ee6245ec4f29ec{fromJulianDay(t){let Ke=super.fromJulianDay(t),Ye=$3b62074eb05584b2$export$c36e0ecb2d4fa69d(Ke.era,Ke.year),[Je,Xe]=$5f31bd6f0c8940b2$var$gregorianToTaiwan(Ye);return new $35ea8db9cb2ccb90$export$99faa760c7908e4f(this,Je,Xe,Ke.month,Ke.day)}toJulianDay(t){return super.toJulianDay($5f31bd6f0c8940b2$var$toGregorian(t))}getEras(){return["before_minguo","minguo"]}balanceDate(t){let[Ke,Ye]=$5f31bd6f0c8940b2$var$gregorianToTaiwan($5f31bd6f0c8940b2$var$gregorianYear(t));t.era=Ke,t.year=Ye}isInverseEra(t){return t.era==="before_minguo"}getDaysInMonth(t){return super.getDaysInMonth($5f31bd6f0c8940b2$var$toGregorian(t))}getYearsInEra(t){return t.era==="before_minguo"?9999:9999-$5f31bd6f0c8940b2$var$TAIWAN_ERA_START}constructor(...t){super(...t),this.identifier="roc"}}function $5f31bd6f0c8940b2$var$toGregorian(e){let[t,Ke]=$3b62074eb05584b2$export$4475b7e617eb123c($5f31bd6f0c8940b2$var$gregorianYear(e));return new $35ea8db9cb2ccb90$export$99faa760c7908e4f(t,Ke,e.month,e.day)}const $f3ed2e4472ae7e25$var$PERSIAN_EPOCH=1948320,$f3ed2e4472ae7e25$var$MONTH_START=[0,31,62,93,124,155,186,216,246,276,306,336];class $f3ed2e4472ae7e25$export$37fccdbfd14c5939{fromJulianDay(t){let Ke=t-$f3ed2e4472ae7e25$var$PERSIAN_EPOCH,Ye=1+Math.floor((33*Ke+3)/12053),Je=365*(Ye-1)+Math.floor((8*Ye+21)/33),Xe=Ke-Je,et=Xe<216?Math.floor(Xe/31):Math.floor((Xe-6)/30),tt=Xe-$f3ed2e4472ae7e25$var$MONTH_START[et]+1;return new $35ea8db9cb2ccb90$export$99faa760c7908e4f(this,Ye,et+1,tt)}toJulianDay(t){let Ke=$f3ed2e4472ae7e25$var$PERSIAN_EPOCH-1+365*(t.year-1)+Math.floor((8*t.year+21)/33);return Ke+=$f3ed2e4472ae7e25$var$MONTH_START[t.month-1],Ke+=t.day,Ke}getMonthsInYear(){return 12}getDaysInMonth(t){return t.month<=6?31:t.month<=11||$2b4dce13dd5a17fa$export$842a2cf37af977e1(25*t.year+11,33)<8?30:29}getEras(){return["AP"]}getYearsInEra(){return 9377}constructor(){this.identifier="persian"}}const $82c358003bdda0a8$var$INDIAN_ERA_START=78,$82c358003bdda0a8$var$INDIAN_YEAR_START=80;class $82c358003bdda0a8$export$39f31c639fa15726 extends $3b62074eb05584b2$export$80ee6245ec4f29ec{fromJulianDay(t){let Ke=super.fromJulianDay(t),Ye=Ke.year-$82c358003bdda0a8$var$INDIAN_ERA_START,Je=t-$3b62074eb05584b2$export$f297eb839006d339(Ke.era,Ke.year,1,1),Xe;Je<$82c358003bdda0a8$var$INDIAN_YEAR_START?(Ye--,Xe=$3b62074eb05584b2$export$553d7fa8e3805fc0(Ke.year-1)?31:30,Je+=Xe+155+90+10):(Xe=$3b62074eb05584b2$export$553d7fa8e3805fc0(Ke.year)?31:30,Je-=$82c358003bdda0a8$var$INDIAN_YEAR_START);let et,tt;if(Je<Xe)et=1,tt=Je+1;else{let rt=Je-Xe;rt<155?(et=Math.floor(rt/31)+2,tt=rt%31+1):(rt-=155,et=Math.floor(rt/30)+7,tt=rt%30+1)}return new $35ea8db9cb2ccb90$export$99faa760c7908e4f(this,Ye,et,tt)}toJulianDay(t){let Ke=t.year+$82c358003bdda0a8$var$INDIAN_ERA_START,[Ye,Je]=$3b62074eb05584b2$export$4475b7e617eb123c(Ke),Xe,et;return $3b62074eb05584b2$export$553d7fa8e3805fc0(Je)?(Xe=31,et=$3b62074eb05584b2$export$f297eb839006d339(Ye,Je,3,21)):(Xe=30,et=$3b62074eb05584b2$export$f297eb839006d339(Ye,Je,3,22)),t.month===1?et+t.day-1:(et+=Xe+Math.min(t.month-2,5)*31,t.month>=8&&(et+=(t.month-7)*30),et+=t.day-1,et)}getDaysInMonth(t){return t.month===1&&$3b62074eb05584b2$export$553d7fa8e3805fc0(t.year+$82c358003bdda0a8$var$INDIAN_ERA_START)||t.month>=2&&t.month<=6?31:30}getYearsInEra(){return 9919}getEras(){return["saka"]}balanceDate(){}constructor(...t){super(...t),this.identifier="indian"}}const $f2f3e0e3a817edbd$var$CIVIL_EPOC=1948440,$f2f3e0e3a817edbd$var$ASTRONOMICAL_EPOC=1948439,$f2f3e0e3a817edbd$var$UMALQURA_YEAR_START=1300,$f2f3e0e3a817edbd$var$UMALQURA_YEAR_END=1600,$f2f3e0e3a817edbd$var$UMALQURA_START_DAYS=460322;function $f2f3e0e3a817edbd$var$islamicToJulianDay(e,t,Ke,Ye){return Ye+Math.ceil(29.5*(Ke-1))+(t-1)*354+Math.floor((3+11*t)/30)+e-1}function $f2f3e0e3a817edbd$var$julianDayToIslamic(e,t,Ke){let Ye=Math.floor((30*(Ke-t)+10646)/10631),Je=Math.min(12,Math.ceil((Ke-(29+$f2f3e0e3a817edbd$var$islamicToJulianDay(t,Ye,1,1)))/29.5)+1),Xe=Ke-$f2f3e0e3a817edbd$var$islamicToJulianDay(t,Ye,Je,1)+1;return new $35ea8db9cb2ccb90$export$99faa760c7908e4f(e,Ye,Je,Xe)}function $f2f3e0e3a817edbd$var$isLeapYear(e){return(14+11*e)%30<11}class $f2f3e0e3a817edbd$export$2066795aadd37bfc{fromJulianDay(t){return $f2f3e0e3a817edbd$var$julianDayToIslamic(this,$f2f3e0e3a817edbd$var$CIVIL_EPOC,t)}toJulianDay(t){return $f2f3e0e3a817edbd$var$islamicToJulianDay($f2f3e0e3a817edbd$var$CIVIL_EPOC,t.year,t.month,t.day)}getDaysInMonth(t){let Ke=29+t.month%2;return t.month===12&&$f2f3e0e3a817edbd$var$isLeapYear(t.year)&&Ke++,Ke}getMonthsInYear(){return 12}getDaysInYear(t){return $f2f3e0e3a817edbd$var$isLeapYear(t.year)?355:354}getYearsInEra(){return 9665}getEras(){return["AH"]}constructor(){this.identifier="islamic-civil"}}class $f2f3e0e3a817edbd$export$37f0887f2f9d22f7 extends $f2f3e0e3a817edbd$export$2066795aadd37bfc{fromJulianDay(t){return $f2f3e0e3a817edbd$var$julianDayToIslamic(this,$f2f3e0e3a817edbd$var$ASTRONOMICAL_EPOC,t)}toJulianDay(t){return $f2f3e0e3a817edbd$var$islamicToJulianDay($f2f3e0e3a817edbd$var$ASTRONOMICAL_EPOC,t.year,t.month,t.day)}constructor(...t){super(...t),this.identifier="islamic-tbla"}}const $f2f3e0e3a817edbd$var$UMALQURA_DATA="qgpUDckO1AbqBmwDrQpVBakGkgepC9QF2gpcBS0NlQZKB1QLagutBa4ETwoXBYsGpQbVCtYCWwmdBE0KJg2VDawFtgm6AlsKKwWVCsoG6Qr0AnYJtgJWCcoKpAvSC9kF3AJtCU0FpQpSC6ULtAW2CVcFlwJLBaMGUgdlC2oFqworBZUMSg2lDcoF1gpXCasESwmlClILagt1BXYCtwhbBFUFqQW0BdoJ3QRuAjYJqgpUDbIN1QXaAlsJqwRVCkkLZAtxC7QFtQpVCiUNkg7JDtQG6QprCasEkwpJDaQNsg25CroEWworBZUKKgtVC1wFvQQ9Ah0JlQpKC1oLbQW2AjsJmwRVBqkGVAdqC2wFrQpVBSkLkgupC9QF2gpaBasKlQVJB2QHqgu1BbYCVgpNDiULUgtqC60FrgIvCZcESwalBqwG1gpdBZ0ETQoWDZUNqgW1BdoCWwmtBJUFygbkBuoK9QS2AlYJqgpUC9IL2QXqAm0JrQSVCkoLpQuyBbUJ1gSXCkcFkwZJB1ULagVrCisFiwpGDaMNygXWCtsEawJLCaUKUgtpC3UFdgG3CFsCKwVlBbQF2gntBG0BtgimClINqQ3UBdoKWwmrBFMGKQdiB6kLsgW1ClUFJQuSDckO0gbpCmsFqwRVCikNVA2qDbUJugQ7CpsETQqqCtUK2gJdCV4ELgqaDFUNsga5BroEXQotBZUKUguoC7QLuQXaAloJSgukDdEO6AZqC20FNQWVBkoNqA3UDdoGWwWdAisGFQtKC5ULqgWuCi4JjwwnBZUGqgbWCl0FnQI=";let $f2f3e0e3a817edbd$var$UMALQURA_MONTHLENGTH,$f2f3e0e3a817edbd$var$UMALQURA_YEAR_START_TABLE;function $f2f3e0e3a817edbd$var$umalquraYearStart(e){return $f2f3e0e3a817edbd$var$UMALQURA_START_DAYS+$f2f3e0e3a817edbd$var$UMALQURA_YEAR_START_TABLE[e-$f2f3e0e3a817edbd$var$UMALQURA_YEAR_START]}function $f2f3e0e3a817edbd$var$umalquraMonthLength(e,t){let Ke=e-$f2f3e0e3a817edbd$var$UMALQURA_YEAR_START,Ye=1<<11-(t-1);return($f2f3e0e3a817edbd$var$UMALQURA_MONTHLENGTH[Ke]&Ye)===0?29:30}function $f2f3e0e3a817edbd$var$umalquraMonthStart(e,t){let Ke=$f2f3e0e3a817edbd$var$umalquraYearStart(e);for(let Ye=1;Ye<t;Ye++)Ke+=$f2f3e0e3a817edbd$var$umalquraMonthLength(e,Ye);return Ke}function $f2f3e0e3a817edbd$var$umalquraYearLength(e){return $f2f3e0e3a817edbd$var$UMALQURA_YEAR_START_TABLE[e+1-$f2f3e0e3a817edbd$var$UMALQURA_YEAR_START]-$f2f3e0e3a817edbd$var$UMALQURA_YEAR_START_TABLE[e-$f2f3e0e3a817edbd$var$UMALQURA_YEAR_START]}class $f2f3e0e3a817edbd$export$5baab4758c231076 extends $f2f3e0e3a817edbd$export$2066795aadd37bfc{fromJulianDay(t){let Ke=t-$f2f3e0e3a817edbd$var$CIVIL_EPOC,Ye=$f2f3e0e3a817edbd$var$umalquraYearStart($f2f3e0e3a817edbd$var$UMALQURA_YEAR_START),Je=$f2f3e0e3a817edbd$var$umalquraYearStart($f2f3e0e3a817edbd$var$UMALQURA_YEAR_END);if(Ke<Ye||Ke>Je)return super.fromJulianDay(t);{let Xe=$f2f3e0e3a817edbd$var$UMALQURA_YEAR_START-1,et=1,tt=1;for(;tt>0;){Xe++,tt=Ke-$f2f3e0e3a817edbd$var$umalquraYearStart(Xe)+1;let rt=$f2f3e0e3a817edbd$var$umalquraYearLength(Xe);if(tt===rt){et=12;break}else if(tt<rt){let st=$f2f3e0e3a817edbd$var$umalquraMonthLength(Xe,et);for(et=1;tt>st;)tt-=st,et++,st=$f2f3e0e3a817edbd$var$umalquraMonthLength(Xe,et);break}}return new $35ea8db9cb2ccb90$export$99faa760c7908e4f(this,Xe,et,Ke-$f2f3e0e3a817edbd$var$umalquraMonthStart(Xe,et)+1)}}toJulianDay(t){return t.year<$f2f3e0e3a817edbd$var$UMALQURA_YEAR_START||t.year>$f2f3e0e3a817edbd$var$UMALQURA_YEAR_END?super.toJulianDay(t):$f2f3e0e3a817edbd$var$CIVIL_EPOC+$f2f3e0e3a817edbd$var$umalquraMonthStart(t.year,t.month)+(t.day-1)}getDaysInMonth(t){return t.year<$f2f3e0e3a817edbd$var$UMALQURA_YEAR_START||t.year>$f2f3e0e3a817edbd$var$UMALQURA_YEAR_END?super.getDaysInMonth(t):$f2f3e0e3a817edbd$var$umalquraMonthLength(t.year,t.month)}getDaysInYear(t){return t.year<$f2f3e0e3a817edbd$var$UMALQURA_YEAR_START||t.year>$f2f3e0e3a817edbd$var$UMALQURA_YEAR_END?super.getDaysInYear(t):$f2f3e0e3a817edbd$var$umalquraYearLength(t.year)}constructor(){if(super(),this.identifier="islamic-umalqura",$f2f3e0e3a817edbd$var$UMALQURA_MONTHLENGTH||($f2f3e0e3a817edbd$var$UMALQURA_MONTHLENGTH=new Uint16Array(Uint8Array.from(atob($f2f3e0e3a817edbd$var$UMALQURA_DATA),t=>t.charCodeAt(0)).buffer)),!$f2f3e0e3a817edbd$var$UMALQURA_YEAR_START_TABLE){$f2f3e0e3a817edbd$var$UMALQURA_YEAR_START_TABLE=new Uint32Array($f2f3e0e3a817edbd$var$UMALQURA_YEAR_END-$f2f3e0e3a817edbd$var$UMALQURA_YEAR_START+1);let t=0;for(let Ke=$f2f3e0e3a817edbd$var$UMALQURA_YEAR_START;Ke<=$f2f3e0e3a817edbd$var$UMALQURA_YEAR_END;Ke++){$f2f3e0e3a817edbd$var$UMALQURA_YEAR_START_TABLE[Ke-$f2f3e0e3a817edbd$var$UMALQURA_YEAR_START]=t;for(let Ye=1;Ye<=12;Ye++)t+=$f2f3e0e3a817edbd$var$umalquraMonthLength(Ke,Ye)}}}}const $7c5f6fbf42389787$var$HEBREW_EPOCH=347997,$7c5f6fbf42389787$var$HOUR_PARTS=1080,$7c5f6fbf42389787$var$DAY_PARTS=24*$7c5f6fbf42389787$var$HOUR_PARTS,$7c5f6fbf42389787$var$MONTH_DAYS=29,$7c5f6fbf42389787$var$MONTH_FRACT=12*$7c5f6fbf42389787$var$HOUR_PARTS+793,$7c5f6fbf42389787$var$MONTH_PARTS=$7c5f6fbf42389787$var$MONTH_DAYS*$7c5f6fbf42389787$var$DAY_PARTS+$7c5f6fbf42389787$var$MONTH_FRACT;function $7c5f6fbf42389787$var$isLeapYear(e){return $2b4dce13dd5a17fa$export$842a2cf37af977e1(e*7+1,19)<7}function $7c5f6fbf42389787$var$hebrewDelay1(e){let t=Math.floor((235*e-234)/19),Ke=12084+13753*t,Ye=t*29+Math.floor(Ke/25920);return $2b4dce13dd5a17fa$export$842a2cf37af977e1(3*(Ye+1),7)<3&&(Ye+=1),Ye}function $7c5f6fbf42389787$var$hebrewDelay2(e){let t=$7c5f6fbf42389787$var$hebrewDelay1(e-1),Ke=$7c5f6fbf42389787$var$hebrewDelay1(e);return $7c5f6fbf42389787$var$hebrewDelay1(e+1)-Ke===356?2:Ke-t===382?1:0}function $7c5f6fbf42389787$var$startOfYear(e){return $7c5f6fbf42389787$var$hebrewDelay1(e)+$7c5f6fbf42389787$var$hebrewDelay2(e)}function $7c5f6fbf42389787$var$getDaysInYear(e){return $7c5f6fbf42389787$var$startOfYear(e+1)-$7c5f6fbf42389787$var$startOfYear(e)}function $7c5f6fbf42389787$var$getYearType(e){let t=$7c5f6fbf42389787$var$getDaysInYear(e);switch(t>380&&(t-=30),t){case 353:return 0;case 354:return 1;case 355:return 2}}function $7c5f6fbf42389787$var$getDaysInMonth(e,t){if(t>=6&&!$7c5f6fbf42389787$var$isLeapYear(e)&&t++,t===4||t===7||t===9||t===11||t===13)return 29;let Ke=$7c5f6fbf42389787$var$getYearType(e);return t===2?Ke===2?30:29:t===3?Ke===0?29:30:t===6?$7c5f6fbf42389787$var$isLeapYear(e)?30:0:30}class $7c5f6fbf42389787$export$ca405048b8fb5af{fromJulianDay(t){let Ke=t-$7c5f6fbf42389787$var$HEBREW_EPOCH,Ye=Ke*$7c5f6fbf42389787$var$DAY_PARTS/$7c5f6fbf42389787$var$MONTH_PARTS,Je=Math.floor((19*Ye+234)/235)+1,Xe=$7c5f6fbf42389787$var$startOfYear(Je),et=Math.floor(Ke-Xe);for(;et<1;)Je--,Xe=$7c5f6fbf42389787$var$startOfYear(Je),et=Math.floor(Ke-Xe);let tt=1,rt=0;for(;rt<et;)rt+=$7c5f6fbf42389787$var$getDaysInMonth(Je,tt),tt++;tt--,rt-=$7c5f6fbf42389787$var$getDaysInMonth(Je,tt);let st=et-rt;return new $35ea8db9cb2ccb90$export$99faa760c7908e4f(this,Je,tt,st)}toJulianDay(t){let Ke=$7c5f6fbf42389787$var$startOfYear(t.year);for(let Ye=1;Ye<t.month;Ye++)Ke+=$7c5f6fbf42389787$var$getDaysInMonth(t.year,Ye);return Ke+t.day+$7c5f6fbf42389787$var$HEBREW_EPOCH}getDaysInMonth(t){return $7c5f6fbf42389787$var$getDaysInMonth(t.year,t.month)}getMonthsInYear(t){return $7c5f6fbf42389787$var$isLeapYear(t.year)?13:12}getDaysInYear(t){return $7c5f6fbf42389787$var$getDaysInYear(t.year)}getYearsInEra(){return 9999}getEras(){return["AM"]}balanceYearMonth(t,Ke){Ke.year!==t.year&&($7c5f6fbf42389787$var$isLeapYear(Ke.year)&&!$7c5f6fbf42389787$var$isLeapYear(t.year)&&Ke.month>6?t.month--:!$7c5f6fbf42389787$var$isLeapYear(Ke.year)&&$7c5f6fbf42389787$var$isLeapYear(t.year)&&Ke.month>6&&t.month++)}constructor(){this.identifier="hebrew"}}const $b956b2d7a6cf451f$var$ETHIOPIC_EPOCH=1723856,$b956b2d7a6cf451f$var$COPTIC_EPOCH=1824665,$b956b2d7a6cf451f$var$AMETE_MIHRET_DELTA=5500;function $b956b2d7a6cf451f$var$ceToJulianDay(e,t,Ke,Ye){return e+365*t+Math.floor(t/4)+30*(Ke-1)+Ye-1}function $b956b2d7a6cf451f$var$julianDayToCE(e,t){let Ke=Math.floor(4*(t-e)/1461),Ye=1+Math.floor((t-$b956b2d7a6cf451f$var$ceToJulianDay(e,Ke,1,1))/30),Je=t+1-$b956b2d7a6cf451f$var$ceToJulianDay(e,Ke,Ye,1);return[Ke,Ye,Je]}function $b956b2d7a6cf451f$var$getLeapDay(e){return Math.floor(e%4/3)}function $b956b2d7a6cf451f$var$getDaysInMonth(e,t){return t%13!==0?30:$b956b2d7a6cf451f$var$getLeapDay(e)+5}class $b956b2d7a6cf451f$export$26ba6eab5e20cd7d{fromJulianDay(t){let[Ke,Ye,Je]=$b956b2d7a6cf451f$var$julianDayToCE($b956b2d7a6cf451f$var$ETHIOPIC_EPOCH,t),Xe="AM";return Ke<=0&&(Xe="AA",Ke+=$b956b2d7a6cf451f$var$AMETE_MIHRET_DELTA),new $35ea8db9cb2ccb90$export$99faa760c7908e4f(this,Xe,Ke,Ye,Je)}toJulianDay(t){let Ke=t.year;return t.era==="AA"&&(Ke-=$b956b2d7a6cf451f$var$AMETE_MIHRET_DELTA),$b956b2d7a6cf451f$var$ceToJulianDay($b956b2d7a6cf451f$var$ETHIOPIC_EPOCH,Ke,t.month,t.day)}getDaysInMonth(t){return $b956b2d7a6cf451f$var$getDaysInMonth(t.year,t.month)}getMonthsInYear(){return 13}getDaysInYear(t){return 365+$b956b2d7a6cf451f$var$getLeapDay(t.year)}getYearsInEra(t){return t.era==="AA"?9999:9991}getEras(){return["AA","AM"]}constructor(){this.identifier="ethiopic"}}class $b956b2d7a6cf451f$export$d72e0c37005a4914 extends $b956b2d7a6cf451f$export$26ba6eab5e20cd7d{fromJulianDay(t){let[Ke,Ye,Je]=$b956b2d7a6cf451f$var$julianDayToCE($b956b2d7a6cf451f$var$ETHIOPIC_EPOCH,t);return Ke+=$b956b2d7a6cf451f$var$AMETE_MIHRET_DELTA,new $35ea8db9cb2ccb90$export$99faa760c7908e4f(this,"AA",Ke,Ye,Je)}getEras(){return["AA"]}getYearsInEra(){return 9999}constructor(...t){super(...t),this.identifier="ethioaa"}}class $b956b2d7a6cf451f$export$fe6243cbe1a4b7c1 extends $b956b2d7a6cf451f$export$26ba6eab5e20cd7d{fromJulianDay(t){let[Ke,Ye,Je]=$b956b2d7a6cf451f$var$julianDayToCE($b956b2d7a6cf451f$var$COPTIC_EPOCH,t),Xe="CE";return Ke<=0&&(Xe="BCE",Ke=1-Ke),new $35ea8db9cb2ccb90$export$99faa760c7908e4f(this,Xe,Ke,Ye,Je)}toJulianDay(t){let Ke=t.year;return t.era==="BCE"&&(Ke=1-Ke),$b956b2d7a6cf451f$var$ceToJulianDay($b956b2d7a6cf451f$var$COPTIC_EPOCH,Ke,t.month,t.day)}getDaysInMonth(t){let Ke=t.year;return t.era==="BCE"&&(Ke=1-Ke),$b956b2d7a6cf451f$var$getDaysInMonth(Ke,t.month)}isInverseEra(t){return t.era==="BCE"}balanceDate(t){t.year<=0&&(t.era=t.era==="BCE"?"CE":"BCE",t.year=1-t.year)}getEras(){return["BCE","CE"]}getYearsInEra(t){return t.era==="BCE"?9999:9715}constructor(...t){super(...t),this.identifier="coptic"}}function $64244302c3013299$export$dd0bbc9b26defe37(e){switch(e){case"buddhist":return new $8d73d47422ca7302$export$42d20a78301dee44;case"ethiopic":return new $b956b2d7a6cf451f$export$26ba6eab5e20cd7d;case"ethioaa":return new $b956b2d7a6cf451f$export$d72e0c37005a4914;case"coptic":return new $b956b2d7a6cf451f$export$fe6243cbe1a4b7c1;case"hebrew":return new $7c5f6fbf42389787$export$ca405048b8fb5af;case"indian":return new $82c358003bdda0a8$export$39f31c639fa15726;case"islamic-civil":return new $f2f3e0e3a817edbd$export$2066795aadd37bfc;case"islamic-tbla":return new $f2f3e0e3a817edbd$export$37f0887f2f9d22f7;case"islamic-umalqura":return new $f2f3e0e3a817edbd$export$5baab4758c231076;case"japanese":return new $62225008020f0a13$export$b746ab2b60cdffbf;case"persian":return new $f3ed2e4472ae7e25$export$37fccdbfd14c5939;case"roc":return new $5f31bd6f0c8940b2$export$65e01080afcb0799;case"gregory":default:return new $3b62074eb05584b2$export$80ee6245ec4f29ec}}let $fb18d541ea1ad717$var$formatterCache=new Map;class $fb18d541ea1ad717$export$ad991b66133851cf{format(t){return this.formatter.format(t)}formatToParts(t){return this.formatter.formatToParts(t)}formatRange(t,Ke){if(typeof this.formatter.formatRange=="function")return this.formatter.formatRange(t,Ke);if(Ke<t)throw new RangeError("End date must be >= start date");return`${this.formatter.format(t)}  ${this.formatter.format(Ke)}`}formatRangeToParts(t,Ke){if(typeof this.formatter.formatRangeToParts=="function")return this.formatter.formatRangeToParts(t,Ke);if(Ke<t)throw new RangeError("End date must be >= start date");let Ye=this.formatter.formatToParts(t),Je=this.formatter.formatToParts(Ke);return[...Ye.map(Xe=>({...Xe,source:"startRange"})),{type:"literal",value:"  ",source:"shared"},...Je.map(Xe=>({...Xe,source:"endRange"}))]}resolvedOptions(){let t=this.formatter.resolvedOptions();return $fb18d541ea1ad717$var$hasBuggyResolvedHourCycle()&&(this.resolvedHourCycle||(this.resolvedHourCycle=$fb18d541ea1ad717$var$getResolvedHourCycle(t.locale,this.options)),t.hourCycle=this.resolvedHourCycle,t.hour12=this.resolvedHourCycle==="h11"||this.resolvedHourCycle==="h12"),t.calendar==="ethiopic-amete-alem"&&(t.calendar="ethioaa"),t}constructor(t,Ke={}){this.formatter=$fb18d541ea1ad717$var$getCachedDateFormatter(t,Ke),this.options=Ke}}const $fb18d541ea1ad717$var$hour12Preferences={true:{ja:"h11"},false:{}};function $fb18d541ea1ad717$var$getCachedDateFormatter(e,t={}){if(typeof t.hour12=="boolean"&&$fb18d541ea1ad717$var$hasBuggyHour12Behavior()){t={...t};let Je=$fb18d541ea1ad717$var$hour12Preferences[String(t.hour12)][e.split("-")[0]],Xe=t.hour12?"h12":"h23";t.hourCycle=Je??Xe,delete t.hour12}let Ke=e+(t?Object.entries(t).sort((Je,Xe)=>Je[0]<Xe[0]?-1:1).join():"");if($fb18d541ea1ad717$var$formatterCache.has(Ke))return $fb18d541ea1ad717$var$formatterCache.get(Ke);let Ye=new Intl.DateTimeFormat(e,t);return $fb18d541ea1ad717$var$formatterCache.set(Ke,Ye),Ye}let $fb18d541ea1ad717$var$_hasBuggyHour12Behavior=null;function $fb18d541ea1ad717$var$hasBuggyHour12Behavior(){return $fb18d541ea1ad717$var$_hasBuggyHour12Behavior==null&&($fb18d541ea1ad717$var$_hasBuggyHour12Behavior=new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:!1}).format(new Date(2020,2,3,0))==="24"),$fb18d541ea1ad717$var$_hasBuggyHour12Behavior}let $fb18d541ea1ad717$var$_hasBuggyResolvedHourCycle=null;function $fb18d541ea1ad717$var$hasBuggyResolvedHourCycle(){return $fb18d541ea1ad717$var$_hasBuggyResolvedHourCycle==null&&($fb18d541ea1ad717$var$_hasBuggyResolvedHourCycle=new Intl.DateTimeFormat("fr",{hour:"numeric",hour12:!1}).resolvedOptions().hourCycle==="h12"),$fb18d541ea1ad717$var$_hasBuggyResolvedHourCycle}function $fb18d541ea1ad717$var$getResolvedHourCycle(e,t){if(!t.timeStyle&&!t.hour)return;e=e.replace(/(-u-)?-nu-[a-zA-Z0-9]+/,""),e+=(e.includes("-u-")?"":"-u")+"-nu-latn";let Ke=$fb18d541ea1ad717$var$getCachedDateFormatter(e,{...t,timeZone:void 0}),Ye=parseInt(Ke.formatToParts(new Date(2020,2,3,0)).find(Xe=>Xe.type==="hour").value,10),Je=parseInt(Ke.formatToParts(new Date(2020,2,3,23)).find(Xe=>Xe.type==="hour").value,10);if(Ye===0&&Je===23)return"h23";if(Ye===24&&Je===23)return"h24";if(Ye===0&&Je===11)return"h11";if(Ye===12&&Je===11)return"h12";throw new Error("Unexpected hour cycle result")}function $896ba0a80a8f4d36$export$85fd5fdf27bacc79(e){e=$5a387cc49350e6db$export$722debc0e56fea39(e??{},$896ba0a80a8f4d36$var$isEqual);let{locale:t}=$18f2051aff69b9bf$export$43bb16f9c6d9e3f7();return reactExports.useMemo(()=>new $fb18d541ea1ad717$export$ad991b66133851cf(t,e),[t,e])}function $896ba0a80a8f4d36$var$isEqual(e,t){if(e===t)return!0;let Ke=Object.keys(e),Ye=Object.keys(t);if(Ke.length!==Ye.length)return!1;for(let Je of Ke)if(t[Je]!==e[Je])return!1;return!0}const $6c7bd7858deea686$var$CURRENCY_SIGN_REGEX=new RegExp("^.*\\(.*\\).*$"),$6c7bd7858deea686$var$NUMBERING_SYSTEMS=["latn","arab","hanidec","deva","beng","fullwide"];class $6c7bd7858deea686$export$cd11ab140839f11d{parse(t){return $6c7bd7858deea686$var$getNumberParserImpl(this.locale,this.options,t).parse(t)}isValidPartialNumber(t,Ke,Ye){return $6c7bd7858deea686$var$getNumberParserImpl(this.locale,this.options,t).isValidPartialNumber(t,Ke,Ye)}getNumberingSystem(t){return $6c7bd7858deea686$var$getNumberParserImpl(this.locale,this.options,t).options.numberingSystem}constructor(t,Ke={}){this.locale=t,this.options=Ke}}const $6c7bd7858deea686$var$numberParserCache=new Map;function $6c7bd7858deea686$var$getNumberParserImpl(e,t,Ke){let Ye=$6c7bd7858deea686$var$getCachedNumberParser(e,t);if(!e.includes("-nu-")&&!Ye.isValidPartialNumber(Ke)){for(let Je of $6c7bd7858deea686$var$NUMBERING_SYSTEMS)if(Je!==Ye.options.numberingSystem){let Xe=$6c7bd7858deea686$var$getCachedNumberParser(e+(e.includes("-u-")?"-nu-":"-u-nu-")+Je,t);if(Xe.isValidPartialNumber(Ke))return Xe}}return Ye}function $6c7bd7858deea686$var$getCachedNumberParser(e,t){let Ke=e+(t?Object.entries(t).sort((Je,Xe)=>Je[0]<Xe[0]?-1:1).join():""),Ye=$6c7bd7858deea686$var$numberParserCache.get(Ke);return Ye||(Ye=new $6c7bd7858deea686$var$NumberParserImpl(e,t),$6c7bd7858deea686$var$numberParserCache.set(Ke,Ye)),Ye}class $6c7bd7858deea686$var$NumberParserImpl{parse(t){let Ke=this.sanitize(t);if(this.symbols.group&&(Ke=$6c7bd7858deea686$var$replaceAll(Ke,this.symbols.group,"")),this.symbols.decimal&&(Ke=Ke.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(Ke=Ke.replace(this.symbols.minusSign,"-")),Ke=Ke.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let et=Ke.indexOf("-");Ke=Ke.replace("-",""),Ke=Ke.replace("+","");let tt=Ke.indexOf(".");tt===-1&&(tt=Ke.length),Ke=Ke.replace(".",""),tt-2===0?Ke=`0.${Ke}`:tt-2===-1?Ke=`0.0${Ke}`:tt-2===-2?Ke="0.00":Ke=`${Ke.slice(0,tt-2)}.${Ke.slice(tt-2)}`,et>-1&&(Ke=`-${Ke}`)}let Ye=Ke?+Ke:NaN;if(isNaN(Ye))return NaN;if(this.options.style==="percent"){var Je,Xe;let et={...this.options,style:"decimal",minimumFractionDigits:Math.min(((Je=this.options.minimumFractionDigits)!==null&&Je!==void 0?Je:0)+2,20),maximumFractionDigits:Math.min(((Xe=this.options.maximumFractionDigits)!==null&&Xe!==void 0?Xe:0)+2,20)};return new $6c7bd7858deea686$export$cd11ab140839f11d(this.locale,et).parse(new $488c6ddbf4ef74c2$export$cc77c4ff7e8673c5(this.locale,et).format(Ye))}return this.options.currencySign==="accounting"&&$6c7bd7858deea686$var$CURRENCY_SIGN_REGEX.test(t)&&(Ye=-1*Ye),Ye}sanitize(t){return t=t.replace(this.symbols.literals,""),this.symbols.minusSign&&(t=t.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(t=t.replace(",",this.symbols.decimal),t=t.replace("",this.symbols.decimal)),this.symbols.group&&(t=$6c7bd7858deea686$var$replaceAll(t,".",this.symbols.group))),this.symbols.group===""&&t.includes("'")&&(t=$6c7bd7858deea686$var$replaceAll(t,"'",this.symbols.group)),this.options.locale==="fr-FR"&&this.symbols.group&&(t=$6c7bd7858deea686$var$replaceAll(t," ",this.symbols.group),t=$6c7bd7858deea686$var$replaceAll(t,/\u00A0/g,this.symbols.group)),t}isValidPartialNumber(t,Ke=-1/0,Ye=1/0){return t=this.sanitize(t),this.symbols.minusSign&&t.startsWith(this.symbols.minusSign)&&Ke<0?t=t.slice(this.symbols.minusSign.length):this.symbols.plusSign&&t.startsWith(this.symbols.plusSign)&&Ye>0&&(t=t.slice(this.symbols.plusSign.length)),this.symbols.group&&t.startsWith(this.symbols.group)||this.symbols.decimal&&t.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(t=$6c7bd7858deea686$var$replaceAll(t,this.symbols.group,"")),t=t.replace(this.symbols.numeral,""),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,"")),t.length===0)}constructor(t,Ke={}){this.locale=t,Ke.roundingIncrement!==1&&Ke.roundingIncrement!=null&&(Ke.maximumFractionDigits==null&&Ke.minimumFractionDigits==null?(Ke.maximumFractionDigits=0,Ke.minimumFractionDigits=0):Ke.maximumFractionDigits==null?Ke.maximumFractionDigits=Ke.minimumFractionDigits:Ke.minimumFractionDigits==null&&(Ke.minimumFractionDigits=Ke.maximumFractionDigits)),this.formatter=new Intl.NumberFormat(t,Ke),this.options=this.formatter.resolvedOptions(),this.symbols=$6c7bd7858deea686$var$getSymbols(t,this.formatter,this.options,Ke);var Ye,Je;this.options.style==="percent"&&(((Ye=this.options.minimumFractionDigits)!==null&&Ye!==void 0?Ye:0)>18||((Je=this.options.maximumFractionDigits)!==null&&Je!==void 0?Je:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const $6c7bd7858deea686$var$nonLiteralParts=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),$6c7bd7858deea686$var$pluralNumbers=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function $6c7bd7858deea686$var$getSymbols(e,t,Ke,Ye){var Je,Xe,et,tt;let rt=new Intl.NumberFormat(e,{...Ke,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),st=rt.formatToParts(-10000.111),at=rt.formatToParts(10000.111),nt=$6c7bd7858deea686$var$pluralNumbers.map(jt=>rt.formatToParts(jt));var it;let ot=(it=(Je=st.find(jt=>jt.type==="minusSign"))===null||Je===void 0?void 0:Je.value)!==null&&it!==void 0?it:"-",lt=(Xe=at.find(jt=>jt.type==="plusSign"))===null||Xe===void 0?void 0:Xe.value;!lt&&(Ye?.signDisplay==="exceptZero"||Ye?.signDisplay==="always")&&(lt="+");let ft=(et=new Intl.NumberFormat(e,{...Ke,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(jt=>jt.type==="decimal"))===null||et===void 0?void 0:et.value,ct=(tt=st.find(jt=>jt.type==="group"))===null||tt===void 0?void 0:tt.value,dt=st.filter(jt=>!$6c7bd7858deea686$var$nonLiteralParts.has(jt.type)).map(jt=>$6c7bd7858deea686$var$escapeRegex(jt.value)),ht=nt.flatMap(jt=>jt.filter(yt=>!$6c7bd7858deea686$var$nonLiteralParts.has(yt.type)).map(yt=>$6c7bd7858deea686$var$escapeRegex(yt.value))),xt=[...new Set([...dt,...ht])].sort((jt,yt)=>yt.length-jt.length),vt=xt.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${xt.join("|")}|[\\p{White_Space}]`,"gu"),bt=[...new Intl.NumberFormat(Ke.locale,{useGrouping:!1}).format(9876543210)].reverse(),_t=new Map(bt.map((jt,yt)=>[jt,yt])),Ct=new RegExp(`[${bt.join("")}]`,"g");return{minusSign:ot,plusSign:lt,decimal:ft,group:ct,literals:vt,numeral:Ct,index:jt=>String(_t.get(jt))}}function $6c7bd7858deea686$var$replaceAll(e,t,Ke){return e.replaceAll?e.replaceAll(t,Ke):e.split(t).join(Ke)}function $6c7bd7858deea686$var$escapeRegex(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var $39324ace0d945f59$exports={};$39324ace0d945f59$exports={dateRange:e=>`${e.startDate}  ${e.endDate}`,dateSelected:e=>`${e.date} `,finishRangeSelectionPrompt:"     ",maximumDate:"  ",minimumDate:"  ",next:"",previous:"",selectedDateDescription:e=>` : ${e.date}`,selectedRangeDescription:e=>`  : ${e.dateRange}`,startRangeSelectionPrompt:"     ",todayDate:e=>` ${e.date}`,todayDateSelected:e=>` ${e.date} `};var $1830a539e98c7baf$exports={};$1830a539e98c7baf$exports={dateRange:e=>`${e.startDate}  ${e.endDate}`,dateSelected:e=>`  ${e.date}`,finishRangeSelectionPrompt:",       ",maximumDate:"  ",minimumDate:"  ",next:"",previous:"",selectedDateDescription:e=>` : ${e.date}`,selectedRangeDescription:e=>` : ${e.dateRange}`,startRangeSelectionPrompt:",        ",todayDate:e=>`, ${e.date}`,todayDateSelected:e=>`, ${e.date}  `};var $f4b92528965aab97$exports={};$f4b92528965aab97$exports={dateRange:e=>`${e.startDate} a ${e.endDate}`,dateSelected:e=>`Vybrno ${e.date}`,finishRangeSelectionPrompt:"Kliknutm dokonte vbr rozsahu dat",maximumDate:"Posledn dostupn datum",minimumDate:"Prvn dostupn datum",next:"Dal",previous:"Pedchoz",selectedDateDescription:e=>`Vybran datum: ${e.date}`,selectedRangeDescription:e=>`Vybran obdob: ${e.dateRange}`,startRangeSelectionPrompt:"Kliknutm zahjte vbr rozsahu dat",todayDate:e=>`Dnes, ${e.date}`,todayDateSelected:e=>`Dnes, vybrno ${e.date}`};var $1cd578ef0547c8f1$exports={};$1cd578ef0547c8f1$exports={dateRange:e=>`${e.startDate} til ${e.endDate}`,dateSelected:e=>`${e.date} valgt`,finishRangeSelectionPrompt:"Klik for at fuldfre valg af datoomrde",maximumDate:"Sidste ledige dato",minimumDate:"Frste ledige dato",next:"Nste",previous:"Forrige",selectedDateDescription:e=>`Valgt dato: ${e.date}`,selectedRangeDescription:e=>`Valgt interval: ${e.dateRange}`,startRangeSelectionPrompt:"Klik for at starte valg af datoomrde",todayDate:e=>`I dag, ${e.date}`,todayDateSelected:e=>`I dag, ${e.date} valgt`};var $db55a8973925d619$exports={};$db55a8973925d619$exports={dateRange:e=>`${e.startDate} bis ${e.endDate}`,dateSelected:e=>`${e.date} ausgewhlt`,finishRangeSelectionPrompt:"Klicken, um die Auswahl des Datumsbereichs zu beenden",maximumDate:"Letztes verfgbares Datum",minimumDate:"Erstes verfgbares Datum",next:"Weiter",previous:"Zurck",selectedDateDescription:e=>`Ausgewhltes Datum: ${e.date}`,selectedRangeDescription:e=>`Ausgewhlter Bereich: ${e.dateRange}`,startRangeSelectionPrompt:"Klicken, um die Auswahl des Datumsbereichs zu beginnen",todayDate:e=>`Heute, ${e.date}`,todayDateSelected:e=>`Heute, ${e.date} ausgewhlt`};var $ec6937d58566d443$exports={};$ec6937d58566d443$exports={dateRange:e=>`${e.startDate}  ${e.endDate}`,dateSelected:e=>` ${e.date}`,finishRangeSelectionPrompt:"        ",maximumDate:"  ",minimumDate:"  ",next:"",previous:"",selectedDateDescription:e=>` : ${e.date}`,selectedRangeDescription:e=>` : ${e.dateRange}`,startRangeSelectionPrompt:"        ",todayDate:e=>`, ${e.date}`,todayDateSelected:e=>`,  ${e.date}`};var $1f5cea0742dc284a$exports={};$1f5cea0742dc284a$exports={previous:"Previous",next:"Next",selectedDateDescription:e=>`Selected Date: ${e.date}`,selectedRangeDescription:e=>`Selected Range: ${e.dateRange}`,todayDate:e=>`Today, ${e.date}`,todayDateSelected:e=>`Today, ${e.date} selected`,dateSelected:e=>`${e.date} selected`,startRangeSelectionPrompt:"Click to start selecting date range",finishRangeSelectionPrompt:"Click to finish selecting date range",minimumDate:"First available date",maximumDate:"Last available date",dateRange:e=>`${e.startDate} to ${e.endDate}`};var $2ca7ea366384817b$exports={};$2ca7ea366384817b$exports={dateRange:e=>`${e.startDate} a ${e.endDate}`,dateSelected:e=>`${e.date} seleccionado`,finishRangeSelectionPrompt:"Haga clic para terminar de seleccionar rango de fechas",maximumDate:"ltima fecha disponible",minimumDate:"Primera fecha disponible",next:"Siguiente",previous:"Anterior",selectedDateDescription:e=>`Fecha seleccionada: ${e.date}`,selectedRangeDescription:e=>`Intervalo seleccionado: ${e.dateRange}`,startRangeSelectionPrompt:"Haga clic para comenzar a seleccionar un rango de fechas",todayDate:e=>`Hoy, ${e.date}`,todayDateSelected:e=>`Hoy, ${e.date} seleccionado`};var $97874a7fe9cd091f$exports={};$97874a7fe9cd091f$exports={dateRange:e=>`${e.startDate} kuni ${e.endDate}`,dateSelected:e=>`${e.date} valitud`,finishRangeSelectionPrompt:"Klpsake kuupevavahemiku valimise lpetamiseks",maximumDate:"Viimane saadaolev kuupev",minimumDate:"Esimene saadaolev kuupev",next:"Jrgmine",previous:"Eelmine",selectedDateDescription:e=>`Valitud kuupev: ${e.date}`,selectedRangeDescription:e=>`Valitud vahemik: ${e.dateRange}`,startRangeSelectionPrompt:"Klpsake kuupevavahemiku valimiseks",todayDate:e=>`Tna, ${e.date}`,todayDateSelected:e=>`Tna, ${e.date} valitud`};var $5d376b7fce1a45b2$exports={};$5d376b7fce1a45b2$exports={dateRange:e=>`${e.startDate}  ${e.endDate}`,dateSelected:e=>`${e.date} valittu`,finishRangeSelectionPrompt:"Lopeta pivmralueen valinta napsauttamalla tt.",maximumDate:"Viimeinen varattavissa oleva pivmr",minimumDate:"Ensimminen varattavissa oleva pivmr",next:"Seuraava",previous:"Edellinen",selectedDateDescription:e=>`Valittu pivmr: ${e.date}`,selectedRangeDescription:e=>`Valittu aikavli: ${e.dateRange}`,startRangeSelectionPrompt:"Aloita pivmralueen valinta napsauttamalla tt.",todayDate:e=>`Tnn, ${e.date}`,todayDateSelected:e=>`Tnn, ${e.date} valittu`};var $3bf722b362aaf54d$exports={};$3bf722b362aaf54d$exports={dateRange:e=>`${e.startDate}  ${e.endDate}`,dateSelected:e=>`${e.date} slectionn`,finishRangeSelectionPrompt:"Cliquer pour finir de slectionner la plage de dates",maximumDate:"Dernire date disponible",minimumDate:"Premire date disponible",next:"Suivant",previous:"Prcdent",selectedDateDescription:e=>`Date slectionne: ${e.date}`,selectedRangeDescription:e=>`Plage slectionne: ${e.dateRange}`,startRangeSelectionPrompt:"Cliquer pour commencer  slectionner la plage de dates",todayDate:e=>`Aujourd'hui, ${e.date}`,todayDateSelected:e=>`Aujourdhui, ${e.date} slectionn`};var $38c43f8322316031$exports={};$38c43f8322316031$exports={dateRange:e=>`${e.startDate}  ${e.endDate}`,dateSelected:e=>`${e.date} `,finishRangeSelectionPrompt:"      ",maximumDate:"  ",minimumDate:"  ",next:"",previous:"",selectedDateDescription:e=>` : ${e.date}`,selectedRangeDescription:e=>` : ${e.dateRange}`,startRangeSelectionPrompt:"     ",todayDate:e=>`, ${e.date}`,todayDateSelected:e=>`, ${e.date} `};var $c90e0f32b44630bf$exports={};$c90e0f32b44630bf$exports={dateRange:e=>`${e.startDate} do ${e.endDate}`,dateSelected:e=>`${e.date} odabran`,finishRangeSelectionPrompt:"Kliknite da dovrite raspon odabranih datuma",maximumDate:"Posljednji raspoloivi datum",minimumDate:"Prvi raspoloivi datum",next:"Sljedei",previous:"Prethodni",selectedDateDescription:e=>`Odabrani datum: ${e.date}`,selectedRangeDescription:e=>`Odabrani raspon: ${e.dateRange}`,startRangeSelectionPrompt:"Kliknite da zaponete raspon odabranih datuma",todayDate:e=>`Danas, ${e.date}`,todayDateSelected:e=>`Danas, odabran ${e.date}`};var $715875e6e7a338f4$exports={};$715875e6e7a338f4$exports={dateRange:e=>`${e.startDate}${e.endDate}`,dateSelected:e=>`${e.date} kivlasztva`,finishRangeSelectionPrompt:"Kattintson a dtumtartomny kijellsnek befejezshez",maximumDate:"Utols elrhet dtum",minimumDate:"Az els elrhet dtum",next:"Kvetkez",previous:"Elz",selectedDateDescription:e=>`Kijellt dtum: ${e.date}`,selectedRangeDescription:e=>`Kijellt tartomny: ${e.dateRange}`,startRangeSelectionPrompt:"Kattintson a dtumtartomny kijellsnek indtshoz",todayDate:e=>`Ma, ${e.date}`,todayDateSelected:e=>`Ma, ${e.date} kijellve`};var $37d77c66e34daccf$exports={};$37d77c66e34daccf$exports={dateRange:e=>`Da ${e.startDate} a ${e.endDate}`,dateSelected:e=>`${e.date} selezionata`,finishRangeSelectionPrompt:"Fai clic per completare la selezione dellintervallo di date",maximumDate:"Ultima data disponibile",minimumDate:"Prima data disponibile",next:"Successivo",previous:"Precedente",selectedDateDescription:e=>`Data selezionata: ${e.date}`,selectedRangeDescription:e=>`Intervallo selezionato: ${e.dateRange}`,startRangeSelectionPrompt:"Fai clic per selezionare lintervallo di date",todayDate:e=>`Oggi, ${e.date}`,todayDateSelected:e=>`Oggi, ${e.date} selezionata`};var $542f39aee29303c3$exports={};$542f39aee29303c3$exports={dateRange:e=>`${e.startDate}  ${e.endDate}`,dateSelected:e=>`${e.date} `,finishRangeSelectionPrompt:"",maximumDate:"",minimumDate:"",next:"",previous:"",selectedDateDescription:e=>` : ${e.date}`,selectedRangeDescription:e=>` : ${e.dateRange}`,startRangeSelectionPrompt:"",todayDate:e=>`${e.date}`,todayDateSelected:e=>`${e.date} `};var $22a5f0623ea73e4f$exports={};$22a5f0623ea73e4f$exports={dateRange:e=>`${e.startDate} ~ ${e.endDate}`,dateSelected:e=>`${e.date} `,finishRangeSelectionPrompt:"    .",maximumDate:"   ",minimumDate:"   ",next:"",previous:"",selectedDateDescription:e=>` : ${e.date}`,selectedRangeDescription:e=>` : ${e.dateRange}`,startRangeSelectionPrompt:"    .",todayDate:e=>`, ${e.date}`,todayDateSelected:e=>`, ${e.date} `};var $522380d13d62cba0$exports={};$522380d13d62cba0$exports={dateRange:e=>`Nuo ${e.startDate} iki ${e.endDate}`,dateSelected:e=>`Pasirinkta ${e.date}`,finishRangeSelectionPrompt:"Spustelkite, kad baigtumte pasirinkti dat interval",maximumDate:"Paskutin galima data",minimumDate:"Pirmoji galima data",next:"Paskesnis",previous:"Ankstesnis",selectedDateDescription:e=>`Pasirinkta data: ${e.date}`,selectedRangeDescription:e=>`Pasirinktas intervalas: ${e.dateRange}`,startRangeSelectionPrompt:"Spustelkite, kad pradtumte pasirinkti dat interval",todayDate:e=>`iandien, ${e.date}`,todayDateSelected:e=>`iandien, pasirinkta ${e.date}`};var $8a7bc830b2fe6485$exports={};$8a7bc830b2fe6485$exports={dateRange:e=>`No ${e.startDate} ldz ${e.endDate}`,dateSelected:e=>`Atlasts: ${e.date}`,finishRangeSelectionPrompt:"Noklikiniet, lai pabeigtu datumu diapazona atlasi",maximumDate:"Pdjais pieejamais datums",minimumDate:"Pirmais pieejamais datums",next:"Tlk",previous:"Atpaka",selectedDateDescription:e=>`Atlastais datums: ${e.date}`,selectedRangeDescription:e=>`Atlastais diapazons: ${e.dateRange}`,startRangeSelectionPrompt:"Noklikiniet, lai sktu datumu diapazona atlasi",todayDate:e=>`odien, ${e.date}`,todayDateSelected:e=>`Atlasta odiena, ${e.date}`};var $9fac9c044470683b$exports={};$9fac9c044470683b$exports={dateRange:e=>`${e.startDate} til ${e.endDate}`,dateSelected:e=>`${e.date} valgt`,finishRangeSelectionPrompt:"Klikk for  fullfre valg av datoomrde",maximumDate:"Siste tilgjengelige dato",minimumDate:"Frste tilgjengelige dato",next:"Neste",previous:"Forrige",selectedDateDescription:e=>`Valgt dato: ${e.date}`,selectedRangeDescription:e=>`Valgt omrde: ${e.dateRange}`,startRangeSelectionPrompt:"Klikk for  starte valg av datoomrde",todayDate:e=>`I dag, ${e.date}`,todayDateSelected:e=>`I dag, ${e.date} valgt`};var $b127d3569efb1449$exports={};$b127d3569efb1449$exports={dateRange:e=>`${e.startDate} tot ${e.endDate}`,dateSelected:e=>`${e.date} geselecteerd`,finishRangeSelectionPrompt:"Klik om de selectie van het datumbereik te voltooien",maximumDate:"Laatste beschikbare datum",minimumDate:"Eerste beschikbare datum",next:"Volgende",previous:"Vorige",selectedDateDescription:e=>`Geselecteerde datum: ${e.date}`,selectedRangeDescription:e=>`Geselecteerd bereik: ${e.dateRange}`,startRangeSelectionPrompt:"Klik om het datumbereik te selecteren",todayDate:e=>`Vandaag, ${e.date}`,todayDateSelected:e=>`Vandaag, ${e.date} geselecteerd`};var $51404a4090633490$exports={};$51404a4090633490$exports={dateRange:e=>`${e.startDate} do ${e.endDate}`,dateSelected:e=>`Wybrano ${e.date}`,finishRangeSelectionPrompt:"Kliknij, aby zakoczy wybr zakresu dat",maximumDate:"Ostatnia dostpna data",minimumDate:"Pierwsza dostpna data",next:"Dalej",previous:"Wstecz",selectedDateDescription:e=>`Wybrana data: ${e.date}`,selectedRangeDescription:e=>`Wybrany zakres: ${e.dateRange}`,startRangeSelectionPrompt:"Kliknij, aby rozpocz wybr zakresu dat",todayDate:e=>`Dzisiaj, ${e.date}`,todayDateSelected:e=>`Dzisiaj wybrano ${e.date}`};var $e5e6a3fe3b4527df$exports={};$e5e6a3fe3b4527df$exports={dateRange:e=>`${e.startDate} a ${e.endDate}`,dateSelected:e=>`${e.date} selecionado`,finishRangeSelectionPrompt:"Clique para concluir a seleo do intervalo de datas",maximumDate:"ltima data disponvel",minimumDate:"Primeira data disponvel",next:"Prximo",previous:"Anterior",selectedDateDescription:e=>`Data selecionada: ${e.date}`,selectedRangeDescription:e=>`Intervalo selecionado: ${e.dateRange}`,startRangeSelectionPrompt:"Clique para iniciar a seleo do intervalo de datas",todayDate:e=>`Hoje, ${e.date}`,todayDateSelected:e=>`Hoje, ${e.date} selecionado`};var $c519dcadcbb1ee47$exports={};$c519dcadcbb1ee47$exports={dateRange:e=>`${e.startDate} a ${e.endDate}`,dateSelected:e=>`${e.date} selecionado`,finishRangeSelectionPrompt:"Clique para terminar de selecionar o intervalo de datas",maximumDate:"ltima data disponvel",minimumDate:"Primeira data disponvel",next:"Prximo",previous:"Anterior",selectedDateDescription:e=>`Data selecionada: ${e.date}`,selectedRangeDescription:e=>`Intervalo selecionado: ${e.dateRange}`,startRangeSelectionPrompt:"Clique para comear a selecionar o intervalo de datas",todayDate:e=>`Hoje, ${e.date}`,todayDateSelected:e=>`Hoje, ${e.date} selecionado`};var $e5aa0186ca7889c6$exports={};$e5aa0186ca7889c6$exports={dateRange:e=>`De la ${e.startDate} pn la ${e.endDate}`,dateSelected:e=>`${e.date} selectat`,finishRangeSelectionPrompt:"Apsai pentru a finaliza selecia razei pentru dat",maximumDate:"Ultima dat disponibil",minimumDate:"Prima dat disponibil",next:"Urmtorul",previous:"nainte",selectedDateDescription:e=>`Dat selectat: ${e.date}`,selectedRangeDescription:e=>`Interval selectat: ${e.dateRange}`,startRangeSelectionPrompt:"Apsai pentru a ncepe selecia razei pentru dat",todayDate:e=>`Astzi, ${e.date}`,todayDateSelected:e=>`Azi, ${e.date} selectat`};var $5b907f5fa3eee652$exports={};$5b907f5fa3eee652$exports={dateRange:e=>` ${e.startDate}  ${e.endDate}`,dateSelected:e=>` ${e.date}`,finishRangeSelectionPrompt:",     ",maximumDate:"  ",minimumDate:"  ",next:"",previous:"",selectedDateDescription:e=>` : ${e.date}`,selectedRangeDescription:e=>` : ${e.dateRange}`,startRangeSelectionPrompt:",     ",todayDate:e=>`, ${e.date}`,todayDateSelected:e=>`,  ${e.date}`};var $1b4c51359c99cf79$exports={};$1b4c51359c99cf79$exports={dateRange:e=>`Od ${e.startDate} do ${e.endDate}`,dateSelected:e=>`Vybrat dtum ${e.date}`,finishRangeSelectionPrompt:"Kliknutm dokonte vber rozsahu dtumov",maximumDate:"Posledn dostupn dtum",minimumDate:"Prv dostupn dtum",next:"Nasledujce",previous:"Predchdzajce",selectedDateDescription:e=>`Vybrat dtum: ${e.date}`,selectedRangeDescription:e=>`Vybrat rozsah: ${e.dateRange}`,startRangeSelectionPrompt:"Kliknutm spustte vber rozsahu dtumov",todayDate:e=>`Dnes ${e.date}`,todayDateSelected:e=>`Vybrat dnen dtum ${e.date}`};var $02e4e6a4608cc6f3$exports={};$02e4e6a4608cc6f3$exports={dateRange:e=>`${e.startDate} do ${e.endDate}`,dateSelected:e=>`${e.date} izbrano`,finishRangeSelectionPrompt:"Kliknite za dokonanje izbire datumskega obsega",maximumDate:"Zadnji razpololjivi datum",minimumDate:"Prvi razpololjivi datum",next:"Naprej",previous:"Nazaj",selectedDateDescription:e=>`Izbrani datum: ${e.date}`,selectedRangeDescription:e=>`Izbrano obmoje: ${e.dateRange}`,startRangeSelectionPrompt:"Kliknite za zaetek izbire datumskega obsega",todayDate:e=>`Danes, ${e.date}`,todayDateSelected:e=>`Danes, ${e.date} izbrano`};var $6dd2fbaad93b6878$exports={};$6dd2fbaad93b6878$exports={dateRange:e=>`${e.startDate} do ${e.endDate}`,dateSelected:e=>`${e.date} izabran`,finishRangeSelectionPrompt:"Kliknite da dovrite opseg izabranih datuma",maximumDate:"Zadnji raspoloivi datum",minimumDate:"Prvi raspoloivi datum",next:"Sledei",previous:"Prethodni",selectedDateDescription:e=>`Izabrani datum: ${e.date}`,selectedRangeDescription:e=>`Izabrani period: ${e.dateRange}`,startRangeSelectionPrompt:"Kliknite da zaponete opseg izabranih datuma",todayDate:e=>`Danas, ${e.date}`,todayDateSelected:e=>`Danas, izabran ${e.date}`};var $33ea59bfe6e804e0$exports={};$33ea59bfe6e804e0$exports={dateRange:e=>`${e.startDate} till ${e.endDate}`,dateSelected:e=>`${e.date} har valts`,finishRangeSelectionPrompt:"Klicka fr att avsluta val av datumintervall",maximumDate:"Sista tillgngliga datum",minimumDate:"Frsta tillgngliga datum",next:"Nsta",previous:"Fregende",selectedDateDescription:e=>`Valt datum: ${e.date}`,selectedRangeDescription:e=>`Valt intervall: ${e.dateRange}`,startRangeSelectionPrompt:"Klicka fr att vlja datumintervall",todayDate:e=>`Idag, ${e.date}`,todayDateSelected:e=>`Idag, ${e.date} har valts`};var $4603b0d0246969b2$exports={};$4603b0d0246969b2$exports={dateRange:e=>`${e.startDate} - ${e.endDate}`,dateSelected:e=>`${e.date} seildi`,finishRangeSelectionPrompt:"Tarih aral seimini tamamlamak iin tklayn",maximumDate:"Son msait tarih",minimumDate:"lk msait tarih",next:"Sonraki",previous:"nceki",selectedDateDescription:e=>`Seilen Tarih: ${e.date}`,selectedRangeDescription:e=>`Seilen Aralk: ${e.dateRange}`,startRangeSelectionPrompt:"Tarih aral seimini balatmak iin tklayn",todayDate:e=>`Bugn, ${e.date}`,todayDateSelected:e=>`Bugn, ${e.date} seildi`};var $82649816f530bb1b$exports={};$82649816f530bb1b$exports={dateRange:e=>`${e.startDate}  ${e.endDate}`,dateSelected:e=>` ${e.date}`,finishRangeSelectionPrompt:",     ",maximumDate:"  ",minimumDate:"  ",next:"",previous:"",selectedDateDescription:e=>` : ${e.date}`,selectedRangeDescription:e=>` : ${e.dateRange}`,startRangeSelectionPrompt:",     ",todayDate:e=>`, ${e.date}`,todayDateSelected:e=>`,  ${e.date}`};var $628e140a43dfb330$exports={};$628e140a43dfb330$exports={dateRange:e=>`${e.startDate}  ${e.endDate}`,dateSelected:e=>` ${e.date}`,finishRangeSelectionPrompt:"",maximumDate:"",minimumDate:"",next:"",previous:"",selectedDateDescription:e=>`${e.date}`,selectedRangeDescription:e=>`${e.dateRange}`,startRangeSelectionPrompt:"",todayDate:e=>` ${e.date}`,todayDateSelected:e=>` ${e.date}`};var $745937250cd4679c$exports={};$745937250cd4679c$exports={dateRange:e=>`${e.startDate}  ${e.endDate}`,dateSelected:e=>` ${e.date}`,finishRangeSelectionPrompt:"",maximumDate:"",minimumDate:"",next:"",previous:"",selectedDateDescription:e=>`${e.date}`,selectedRangeDescription:e=>`${e.dateRange}`,startRangeSelectionPrompt:"",todayDate:e=>`${e.date}`,todayDateSelected:e=>`${e.date}`};var $3904726b442bd9b2$exports={};$3904726b442bd9b2$exports={"ar-AE":$39324ace0d945f59$exports,"bg-BG":$1830a539e98c7baf$exports,"cs-CZ":$f4b92528965aab97$exports,"da-DK":$1cd578ef0547c8f1$exports,"de-DE":$db55a8973925d619$exports,"el-GR":$ec6937d58566d443$exports,"en-US":$1f5cea0742dc284a$exports,"es-ES":$2ca7ea366384817b$exports,"et-EE":$97874a7fe9cd091f$exports,"fi-FI":$5d376b7fce1a45b2$exports,"fr-FR":$3bf722b362aaf54d$exports,"he-IL":$38c43f8322316031$exports,"hr-HR":$c90e0f32b44630bf$exports,"hu-HU":$715875e6e7a338f4$exports,"it-IT":$37d77c66e34daccf$exports,"ja-JP":$542f39aee29303c3$exports,"ko-KR":$22a5f0623ea73e4f$exports,"lt-LT":$522380d13d62cba0$exports,"lv-LV":$8a7bc830b2fe6485$exports,"nb-NO":$9fac9c044470683b$exports,"nl-NL":$b127d3569efb1449$exports,"pl-PL":$51404a4090633490$exports,"pt-BR":$e5e6a3fe3b4527df$exports,"pt-PT":$c519dcadcbb1ee47$exports,"ro-RO":$e5aa0186ca7889c6$exports,"ru-RU":$5b907f5fa3eee652$exports,"sk-SK":$1b4c51359c99cf79$exports,"sl-SI":$02e4e6a4608cc6f3$exports,"sr-SP":$6dd2fbaad93b6878$exports,"sv-SE":$33ea59bfe6e804e0$exports,"tr-TR":$4603b0d0246969b2$exports,"uk-UA":$82649816f530bb1b$exports,"zh-CN":$628e140a43dfb330$exports,"zh-TW":$745937250cd4679c$exports};function $parcel$interopDefault$7(e){return e&&e.__esModule?e.default:e}const $a074e1e2d0f0a665$export$653eddfc964b0f8a=new WeakMap;function $a074e1e2d0f0a665$export$134cbb7fb09a9522(e){return e?.calendar.identifier==="gregory"&&e.era==="BC"?"short":void 0}function $a074e1e2d0f0a665$export$b6df97c887c38e1a(e){let t=$fca6afa0e843324b$export$f12b703ca79dfbb1($parcel$interopDefault$7($3904726b442bd9b2$exports),"@react-aria/calendar"),Ke,Ye;var Je;"highlightedRange"in e?{start:Ke,end:Ye}=e.highlightedRange||{}:Ke=Ye=(Je=e.value)!==null&&Je!==void 0?Je:void 0;let Xe=$896ba0a80a8f4d36$export$85fd5fdf27bacc79({weekday:"long",month:"long",year:"numeric",day:"numeric",era:$a074e1e2d0f0a665$export$134cbb7fb09a9522(Ke)||$a074e1e2d0f0a665$export$134cbb7fb09a9522(Ye),timeZone:e.timeZone}),et="anchorDate"in e?e.anchorDate:null;return reactExports.useMemo(()=>{if(!et&&Ke&&Ye)if($14e0f24ef4ac5c92$export$ea39ec197993aef0(Ke,Ye)){let tt=Xe.format(Ke.toDate(e.timeZone));return t.format("selectedDateDescription",{date:tt})}else{let tt=$a074e1e2d0f0a665$var$formatRange(Xe,t,Ke,Ye,e.timeZone);return t.format("selectedRangeDescription",{dateRange:tt})}return""},[Ke,Ye,et,e.timeZone,t,Xe])}function $a074e1e2d0f0a665$export$31afe65d91ef6e8(e,t,Ke,Ye){let Je=$fca6afa0e843324b$export$f12b703ca79dfbb1($parcel$interopDefault$7($3904726b442bd9b2$exports),"@react-aria/calendar"),Xe=$a074e1e2d0f0a665$export$134cbb7fb09a9522(e)||$a074e1e2d0f0a665$export$134cbb7fb09a9522(t),et=$896ba0a80a8f4d36$export$85fd5fdf27bacc79({month:"long",year:"numeric",era:Xe,calendar:e.calendar.identifier,timeZone:Ke}),tt=$896ba0a80a8f4d36$export$85fd5fdf27bacc79({month:"long",year:"numeric",day:"numeric",era:Xe,calendar:e.calendar.identifier,timeZone:Ke});return reactExports.useMemo(()=>{if($14e0f24ef4ac5c92$export$ea39ec197993aef0(e,$14e0f24ef4ac5c92$export$a5a3b454ada2268e(e))){let rt=e,st=t;if(e.calendar.getFormattableMonth&&(rt=e.calendar.getFormattableMonth(e)),t.calendar.getFormattableMonth&&(st=t.calendar.getFormattableMonth(t)),$14e0f24ef4ac5c92$export$ea39ec197993aef0(t,$14e0f24ef4ac5c92$export$a2258d9c4118825c(e)))return et.format(rt.toDate(Ke));if($14e0f24ef4ac5c92$export$ea39ec197993aef0(t,$14e0f24ef4ac5c92$export$a2258d9c4118825c(t)))return Ye?$a074e1e2d0f0a665$var$formatRange(et,Je,rt,st,Ke):et.formatRange(rt.toDate(Ke),st.toDate(Ke))}return Ye?$a074e1e2d0f0a665$var$formatRange(tt,Je,e,t,Ke):tt.formatRange(e.toDate(Ke),t.toDate(Ke))},[e,t,et,tt,Je,Ke,Ye])}function $a074e1e2d0f0a665$var$formatRange(e,t,Ke,Ye,Je){let Xe=e.formatRangeToParts(Ke.toDate(Je),Ye.toDate(Je)),et=-1;for(let st=0;st<Xe.length;st++){let at=Xe[st];if(at.source==="shared"&&at.type==="literal")et=st;else if(at.source==="endRange")break}let tt="",rt="";for(let st=0;st<Xe.length;st++)st<et?tt+=Xe[st].value:st>et&&(rt+=Xe[st].value);return t.format("dateRange",{startDate:tt,endDate:rt})}function $parcel$interopDefault$6(e){return e&&e.__esModule?e.default:e}function $c4acc1de3ab169cf$export$d652b3ea2d672d5b(e,t){let Ke=$fca6afa0e843324b$export$f12b703ca79dfbb1($parcel$interopDefault$6($3904726b442bd9b2$exports),"@react-aria/calendar"),Ye=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(e),Je=$a074e1e2d0f0a665$export$31afe65d91ef6e8(t.visibleRange.start,t.visibleRange.end,t.timeZone,!1),Xe=$a074e1e2d0f0a665$export$31afe65d91ef6e8(t.visibleRange.start,t.visibleRange.end,t.timeZone,!0);$4f58c5f72bcf79f7$export$496315a1608d9602(()=>{t.isFocused||$319e236875307eab$export$a9b970dcc4ae71a9(Xe)},[Xe]);let et=$a074e1e2d0f0a665$export$b6df97c887c38e1a(t);$4f58c5f72bcf79f7$export$496315a1608d9602(()=>{et&&$319e236875307eab$export$a9b970dcc4ae71a9(et,"polite",4e3)},[et]);let tt=$bdb11010cef70236$export$b4cc09c592e8fdb8([!!e.errorMessage,e.isInvalid,e.validationState]);$a074e1e2d0f0a665$export$653eddfc964b0f8a.set(t,{ariaLabel:e["aria-label"],ariaLabelledBy:e["aria-labelledby"],errorMessageId:tt,selectedDateDescription:et});let[rt,st]=reactExports.useState(!1),at=e.isDisabled||t.isNextVisibleRangeInvalid();at&&rt&&(st(!1),t.setFocused(!0));let[nt,it]=reactExports.useState(!1),ot=e.isDisabled||t.isPreviousVisibleRangeInvalid();ot&&nt&&(it(!1),t.setFocused(!0));let lt=$313b98861ee5dd6c$export$d6875122194c7b44({id:e.id,"aria-label":[e["aria-label"],Xe].filter(Boolean).join(", "),"aria-labelledby":e["aria-labelledby"]});return{calendarProps:$3ef42575df84b30b$export$9d1611c77c2fe928(Ye,lt,{role:"application","aria-details":e["aria-details"]||void 0,"aria-describedby":e["aria-describedby"]||void 0}),nextButtonProps:{onPress:()=>t.focusNextPage(),"aria-label":Ke.format("next"),isDisabled:at,onFocusChange:st},prevButtonProps:{onPress:()=>t.focusPreviousPage(),"aria-label":Ke.format("previous"),isDisabled:ot,onFocusChange:it},errorMessageProps:{id:tt},title:Je}}function $9942cad8a072a530$export$3ee915f8151bd4f1(e,t){return $c4acc1de3ab169cf$export$d652b3ea2d672d5b(e,t)}function $e3031d1f8c9d64eb$export$cb95147730a423f5(e,t){let{startDate:Ke=t.visibleRange.start,endDate:Ye=t.visibleRange.end,firstDayOfWeek:Je}=e,{direction:Xe}=$18f2051aff69b9bf$export$43bb16f9c6d9e3f7(),et=ut=>{switch(ut.key){case"Enter":case" ":ut.preventDefault(),t.selectFocusedDate();break;case"PageUp":ut.preventDefault(),ut.stopPropagation(),t.focusPreviousSection(ut.shiftKey);break;case"PageDown":ut.preventDefault(),ut.stopPropagation(),t.focusNextSection(ut.shiftKey);break;case"End":ut.preventDefault(),ut.stopPropagation(),t.focusSectionEnd();break;case"Home":ut.preventDefault(),ut.stopPropagation(),t.focusSectionStart();break;case"ArrowLeft":ut.preventDefault(),ut.stopPropagation(),Xe==="rtl"?t.focusNextDay():t.focusPreviousDay();break;case"ArrowUp":ut.preventDefault(),ut.stopPropagation(),t.focusPreviousRow();break;case"ArrowRight":ut.preventDefault(),ut.stopPropagation(),Xe==="rtl"?t.focusPreviousDay():t.focusNextDay();break;case"ArrowDown":ut.preventDefault(),ut.stopPropagation(),t.focusNextRow();break;case"Escape":"setAnchorDate"in t&&(ut.preventDefault(),t.setAnchorDate(null));break}},tt=$a074e1e2d0f0a665$export$31afe65d91ef6e8(Ke,Ye,t.timeZone,!0),{ariaLabel:rt,ariaLabelledBy:st}=$a074e1e2d0f0a665$export$653eddfc964b0f8a.get(t),at=$313b98861ee5dd6c$export$d6875122194c7b44({"aria-label":[rt,tt].filter(Boolean).join(", "),"aria-labelledby":st}),nt=$896ba0a80a8f4d36$export$85fd5fdf27bacc79({weekday:e.weekdayStyle||"narrow",timeZone:t.timeZone}),{locale:it}=$18f2051aff69b9bf$export$43bb16f9c6d9e3f7(),ot=reactExports.useMemo(()=>{let ut=$14e0f24ef4ac5c92$export$42c81a444fbfb5d4($14e0f24ef4ac5c92$export$d0bdf45af03a6ea3(t.timeZone),it,Je);return[...new Array(7).keys()].map(ft=>{let dt=ut.add({days:ft}).toDate(t.timeZone);return nt.format(dt)})},[it,t.timeZone,nt,Je]),lt=$14e0f24ef4ac5c92$export$ccc1b2479e7dd654(Ke,it,Je);return{gridProps:$3ef42575df84b30b$export$9d1611c77c2fe928(at,{role:"grid","aria-readonly":t.isReadOnly||void 0,"aria-disabled":t.isDisabled||void 0,"aria-multiselectable":"highlightedRange"in t||void 0,onKeyDown:et,onFocus:()=>t.setFocused(!0),onBlur:()=>t.setFocused(!1)}),headerProps:{"aria-hidden":!0},weekDays:ot,weeksInMonth:lt}}function $parcel$interopDefault$5(e){return e&&e.__esModule?e.default:e}function $36a0ac60f04457c5$export$136073280381448e(e,t,Ke){let{date:Ye,isDisabled:Je}=e,{errorMessageId:Xe,selectedDateDescription:et}=$a074e1e2d0f0a665$export$653eddfc964b0f8a.get(t),tt=$fca6afa0e843324b$export$f12b703ca79dfbb1($parcel$interopDefault$5($3904726b442bd9b2$exports),"@react-aria/calendar"),rt=$896ba0a80a8f4d36$export$85fd5fdf27bacc79({weekday:"long",day:"numeric",month:"long",year:"numeric",era:$a074e1e2d0f0a665$export$134cbb7fb09a9522(Ye),timeZone:t.timeZone}),st=t.isSelected(Ye),at=t.isCellFocused(Ye)&&!e.isOutsideMonth;Je=Je||t.isCellDisabled(Ye);let nt=t.isCellUnavailable(Ye),it=!Je&&!nt,ot=t.isValueInvalid&&!!("highlightedRange"in t?!t.anchorDate&&t.highlightedRange&&Ye.compare(t.highlightedRange.start)>=0&&Ye.compare(t.highlightedRange.end)<=0:t.value&&$14e0f24ef4ac5c92$export$ea39ec197993aef0(t.value,Ye));ot&&(st=!0),Ye=$5a387cc49350e6db$export$722debc0e56fea39(Ye,$14e0f24ef4ac5c92$export$91b62ebf2ba703ee);let lt=reactExports.useMemo(()=>Ye.toDate(t.timeZone),[Ye,t.timeZone]),ut=$14e0f24ef4ac5c92$export$629b0a497aa65267(Ye,t.timeZone),ft=reactExports.useMemo(()=>{let yt="";return"highlightedRange"in t&&t.value&&!t.anchorDate&&($14e0f24ef4ac5c92$export$ea39ec197993aef0(Ye,t.value.start)||$14e0f24ef4ac5c92$export$ea39ec197993aef0(Ye,t.value.end))&&(yt=et+", "),yt+=rt.format(lt),ut?yt=tt.format(st?"todayDateSelected":"todayDate",{date:yt}):st&&(yt=tt.format("dateSelected",{date:yt})),t.minValue&&$14e0f24ef4ac5c92$export$ea39ec197993aef0(Ye,t.minValue)?yt+=", "+tt.format("minimumDate"):t.maxValue&&$14e0f24ef4ac5c92$export$ea39ec197993aef0(Ye,t.maxValue)&&(yt+=", "+tt.format("maximumDate")),yt},[rt,lt,tt,st,ut,Ye,t,et]),ct="";"anchorDate"in t&&at&&!t.isReadOnly&&it&&(t.anchorDate?ct=tt.format("finishRangeSelectionPrompt"):ct=tt.format("startRangeSelectionPrompt"));let dt=$ef06256079686ba0$export$f8aeda7b10753fa1(ct),ht=reactExports.useRef(!1),xt=reactExports.useRef(!1),vt=reactExports.useRef(void 0),{pressProps:bt,isPressed:_t}=$f6c31cce2adf654f$export$45712eceda6fad21({shouldCancelOnPointerExit:"anchorDate"in t&&!!t.anchorDate,preventFocusOnPress:!0,isDisabled:!it||t.isReadOnly,onPressStart(yt){if(t.isReadOnly){t.setFocusedDate(Ye);return}if("highlightedRange"in t&&!t.anchorDate&&(yt.pointerType==="mouse"||yt.pointerType==="touch")){if(t.highlightedRange&&!ot){if($14e0f24ef4ac5c92$export$ea39ec197993aef0(Ye,t.highlightedRange.start)){t.setAnchorDate(t.highlightedRange.end),t.setFocusedDate(Ye),t.setDragging(!0),xt.current=!0;return}else if($14e0f24ef4ac5c92$export$ea39ec197993aef0(Ye,t.highlightedRange.end)){t.setAnchorDate(t.highlightedRange.start),t.setFocusedDate(Ye),t.setDragging(!0),xt.current=!0;return}}let Et=()=>{t.setDragging(!0),vt.current=void 0,t.selectDate(Ye),t.setFocusedDate(Ye),ht.current=!0};yt.pointerType==="touch"?vt.current=setTimeout(Et,200):Et()}},onPressEnd(){xt.current=!1,ht.current=!1,clearTimeout(vt.current),vt.current=void 0},onPress(){!("anchorDate"in t)&&!t.isReadOnly&&(t.selectDate(Ye),t.setFocusedDate(Ye))},onPressUp(yt){if(!t.isReadOnly&&("anchorDate"in t&&vt.current&&(t.selectDate(Ye),t.setFocusedDate(Ye)),"anchorDate"in t))if(xt.current)t.setAnchorDate(Ye);else if(t.anchorDate&&!ht.current)t.selectDate(Ye),t.setFocusedDate(Ye);else if(yt.pointerType==="keyboard"&&!t.anchorDate){t.selectDate(Ye);let Et=Ye.add({days:1});t.isInvalid(Et)&&(Et=Ye.subtract({days:1})),t.isInvalid(Et)||t.setFocusedDate(Et)}else yt.pointerType==="virtual"&&(t.selectDate(Ye),t.setFocusedDate(Ye))}}),Ct;Je||(Ct=$14e0f24ef4ac5c92$export$ea39ec197993aef0(Ye,t.focusedDate)?0:-1),reactExports.useEffect(()=>{at&&Ke.current&&($7215afc6de606d6b$export$de79e2c695e052f3(Ke.current),$507fabe10e71c6fb$export$630ff653c5ada6a9()!=="pointer"&&document.activeElement===Ke.current&&$2f04cbc44ee30ce0$export$c826860796309d1b(Ke.current,{containingElement:$62d8ded9296f3872$export$cfa2225e87938781(Ke.current)}))},[at,Ke]);let Rt=$896ba0a80a8f4d36$export$85fd5fdf27bacc79({day:"numeric",timeZone:t.timeZone,calendar:Ye.calendar.identifier}),jt=reactExports.useMemo(()=>Rt.formatToParts(lt).find(yt=>yt.type==="day").value,[Rt,lt]);return{cellProps:{role:"gridcell","aria-disabled":!it||void 0,"aria-selected":st||void 0,"aria-invalid":ot||void 0},buttonProps:$3ef42575df84b30b$export$9d1611c77c2fe928(bt,{onFocus(){Je||t.setFocusedDate(Ye)},tabIndex:Ct,role:"button","aria-disabled":!it||void 0,"aria-label":ft,"aria-invalid":ot||void 0,"aria-describedby":[ot?Xe:void 0,dt["aria-describedby"]].filter(Boolean).join(" ")||void 0,onPointerEnter(yt){"highlightDate"in t&&(yt.pointerType!=="touch"||t.isDragging)&&it&&t.highlightDate(Ye)},onPointerDown(yt){"releasePointerCapture"in yt.target&&yt.target.releasePointerCapture(yt.pointerId)},onContextMenu(yt){yt.preventDefault()}}),isPressed:_t,isFocused:at,isSelected:st,isDisabled:Je,isUnavailable:nt,isOutsideVisibleRange:Ye.compare(t.visibleRange.start)<0||Ye.compare(t.visibleRange.end)>0,isInvalid:ot,formattedDate:jt}}var $ed6aae4e5f766f1e$exports={};$ed6aae4e5f766f1e$exports={Empty:""};var $38854e2b175151fa$exports={};$38854e2b175151fa$exports={Empty:""};var $15b25ab20f3945b2$exports={};$15b25ab20f3945b2$exports={Empty:"Przdn"};var $692a4298b6b649a2$exports={};$692a4298b6b649a2$exports={Empty:"Tom"};var $1c6e1539193f1243$exports={};$1c6e1539193f1243$exports={Empty:"Leer"};var $1e8678632c464b6d$exports={};$1e8678632c464b6d$exports={Empty:""};var $4adc85d9bf5b9eed$exports={};$4adc85d9bf5b9eed$exports={Empty:"Empty"};var $41c4b2bb61dafbca$exports={};$41c4b2bb61dafbca$exports={Empty:"Vaco"};var $405f8b24f5dd2a60$exports={};$405f8b24f5dd2a60$exports={Empty:"Thjenda"};var $7efe3ed02b9b9dd4$exports={};$7efe3ed02b9b9dd4$exports={Empty:"Tyhj"};var $99fc4c101d92daf3$exports={};$99fc4c101d92daf3$exports={Empty:"Vide"};var $f9e155e6e8cacaa2$exports={};$f9e155e6e8cacaa2$exports={Empty:""};var $c31b5e8e9a249fd5$exports={};$c31b5e8e9a249fd5$exports={Empty:"Prazno"};var $9c5435bc17499bd9$exports={};$9c5435bc17499bd9$exports={Empty:"res"};var $6d1fc8e84d8165e1$exports={};$6d1fc8e84d8165e1$exports={Empty:"Vuoto"};var $46ea6b3641b83e71$exports={};$46ea6b3641b83e71$exports={Empty:""};var $0e3cc9a288289dc5$exports={};$0e3cc9a288289dc5$exports={Empty:" "};var $4ff2bb25c0089ffb$exports={};$4ff2bb25c0089ffb$exports={Empty:"Tuias"};var $6cf33cd4c010a2fb$exports={};$6cf33cd4c010a2fb$exports={Empty:"Tuks"};var $5a9f8486f8b8837e$exports={};$5a9f8486f8b8837e$exports={Empty:"Tom"};var $583f94d807f6ecea$exports={};$583f94d807f6ecea$exports={Empty:"Leeg"};var $cc4dcfeea2b4050d$exports={};$cc4dcfeea2b4050d$exports={Empty:"Pusty"};var $68ac2954d56e12b4$exports={};$68ac2954d56e12b4$exports={Empty:"Vazio"};var $fdb0616f309780b0$exports={};$fdb0616f309780b0$exports={Empty:"Vazio"};var $fe1eccf4ee1d6f52$exports={};$fe1eccf4ee1d6f52$exports={Empty:"Gol"};var $a38b6c4e18725976$exports={};$a38b6c4e18725976$exports={Empty:" "};var $6c14ae2b766b652c$exports={};$6c14ae2b766b652c$exports={Empty:"Przdne"};var $8f1c9692e16dc5eb$exports={};$8f1c9692e16dc5eb$exports={Empty:"Prazen"};var $d2aa7abea627cafa$exports={};$d2aa7abea627cafa$exports={Empty:"Prazno"};var $676b82e4b56408e6$exports={};$676b82e4b56408e6$exports={Empty:"Tomt"};var $14c9042552d7ce08$exports={};$14c9042552d7ce08$exports={Empty:"Bo"};var $393254ebcb66c9f5$exports={};$393254ebcb66c9f5$exports={Empty:""};var $d49d621f310cf6ce$exports={};$d49d621f310cf6ce$exports={Empty:""};var $94b60c866ca5dfe6$exports={};$94b60c866ca5dfe6$exports={Empty:""};var $a99895ee3dc79e61$exports={};$a99895ee3dc79e61$exports={"ar-AE":$ed6aae4e5f766f1e$exports,"bg-BG":$38854e2b175151fa$exports,"cs-CZ":$15b25ab20f3945b2$exports,"da-DK":$692a4298b6b649a2$exports,"de-DE":$1c6e1539193f1243$exports,"el-GR":$1e8678632c464b6d$exports,"en-US":$4adc85d9bf5b9eed$exports,"es-ES":$41c4b2bb61dafbca$exports,"et-EE":$405f8b24f5dd2a60$exports,"fi-FI":$7efe3ed02b9b9dd4$exports,"fr-FR":$99fc4c101d92daf3$exports,"he-IL":$f9e155e6e8cacaa2$exports,"hr-HR":$c31b5e8e9a249fd5$exports,"hu-HU":$9c5435bc17499bd9$exports,"it-IT":$6d1fc8e84d8165e1$exports,"ja-JP":$46ea6b3641b83e71$exports,"ko-KR":$0e3cc9a288289dc5$exports,"lt-LT":$4ff2bb25c0089ffb$exports,"lv-LV":$6cf33cd4c010a2fb$exports,"nb-NO":$5a9f8486f8b8837e$exports,"nl-NL":$583f94d807f6ecea$exports,"pl-PL":$cc4dcfeea2b4050d$exports,"pt-BR":$68ac2954d56e12b4$exports,"pt-PT":$fdb0616f309780b0$exports,"ro-RO":$fe1eccf4ee1d6f52$exports,"ru-RU":$a38b6c4e18725976$exports,"sk-SK":$6c14ae2b766b652c$exports,"sl-SI":$8f1c9692e16dc5eb$exports,"sr-SP":$d2aa7abea627cafa$exports,"sv-SE":$676b82e4b56408e6$exports,"tr-TR":$14c9042552d7ce08$exports,"uk-UA":$393254ebcb66c9f5$exports,"zh-CN":$d49d621f310cf6ce$exports,"zh-TW":$94b60c866ca5dfe6$exports};function $parcel$interopDefault$4(e){return e&&e.__esModule?e.default:e}function $d2e8511e6f209edf$export$e908e06f4b8e3402(e){const t=reactExports.useRef(void 0);let{value:Ke,textValue:Ye,minValue:Je,maxValue:Xe,isDisabled:et,isReadOnly:tt,isRequired:rt,onIncrement:st,onIncrementPage:at,onDecrement:nt,onDecrementPage:it,onDecrementToMin:ot,onIncrementToMax:lt}=e;const ut=$fca6afa0e843324b$export$f12b703ca79dfbb1($parcel$interopDefault$4($a99895ee3dc79e61$exports),"@react-aria/spinbutton"),ft=()=>clearTimeout(t.current);reactExports.useEffect(()=>()=>ft(),[]);let ct=yt=>{if(!(yt.ctrlKey||yt.metaKey||yt.shiftKey||yt.altKey||tt||yt.nativeEvent.isComposing))switch(yt.key){case"PageUp":if(at){yt.preventDefault(),at?.();break}case"ArrowUp":case"Up":st&&(yt.preventDefault(),st?.());break;case"PageDown":if(it){yt.preventDefault(),it?.();break}case"ArrowDown":case"Down":nt&&(yt.preventDefault(),nt?.());break;case"Home":ot&&(yt.preventDefault(),ot?.());break;case"End":lt&&(yt.preventDefault(),lt?.());break}},dt=reactExports.useRef(!1),ht=()=>{dt.current=!0},xt=()=>{dt.current=!1},vt=Ye===""?ut.format("Empty"):(Ye||`${Ke}`).replace("-","");reactExports.useEffect(()=>{dt.current&&($319e236875307eab$export$d10ae4f68404609a("assertive"),$319e236875307eab$export$a9b970dcc4ae71a9(vt,"assertive"))},[vt]);const bt=$8ae05eaa5c114e9c$export$7f54fc3180508a52(yt=>{ft(),st?.(),t.current=window.setTimeout(()=>{(Xe===void 0||isNaN(Xe)||Ke===void 0||isNaN(Ke)||Ke<Xe)&&bt(60)},yt)}),_t=$8ae05eaa5c114e9c$export$7f54fc3180508a52(yt=>{ft(),nt?.(),t.current=window.setTimeout(()=>{(Je===void 0||isNaN(Je)||Ke===void 0||isNaN(Ke)||Ke>Je)&&_t(60)},yt)});let Ct=yt=>{yt.preventDefault()},{addGlobalListener:Rt,removeAllGlobalListeners:jt}=$03deb23ff14920c4$export$4eaf04e54aa8eed6();return{spinButtonProps:{role:"spinbutton","aria-valuenow":Ke!==void 0&&!isNaN(Ke)?Ke:void 0,"aria-valuetext":vt,"aria-valuemin":Je,"aria-valuemax":Xe,"aria-disabled":et||void 0,"aria-readonly":tt||void 0,"aria-required":rt||void 0,onKeyDown:ct,onFocus:ht,onBlur:xt},incrementButtonProps:{onPressStart:()=>{bt(400),Rt(window,"contextmenu",Ct)},onPressEnd:()=>{ft(),jt()},onFocus:ht,onBlur:xt},decrementButtonProps:{onPressStart:()=>{_t(400),Rt(window,"contextmenu",Ct)},onPressEnd:()=>{ft(),jt()},onFocus:ht,onBlur:xt}}}var $f23889fffbde9058$exports={};$f23889fffbde9058$exports={calendar:"",day:"",dayPeriod:"/",endDate:" ",era:"",hour:"",minute:"",month:"",second:"",selectedDateDescription:e=>` : ${e.date}`,selectedRangeDescription:e=>`  : ${e.startDate}  ${e.endDate}`,selectedTimeDescription:e=>` : ${e.time}`,startDate:" ",timeZoneName:"",weekday:"",year:""};var $09d9badaa8903929$exports={};$09d9badaa8903929$exports={calendar:"",day:"",dayPeriod:"../..",endDate:" ",era:"",hour:"",minute:"",month:"",second:"",selectedDateDescription:e=>` : ${e.date}`,selectedRangeDescription:e=>` : ${e.startDate}  ${e.endDate}`,selectedTimeDescription:e=>` : ${e.time}`,startDate:" ",timeZoneName:" ",weekday:"  ",year:""};var $151b77e0fd711730$exports={};$151b77e0fd711730$exports={calendar:"Kalend",day:"den",dayPeriod:"st dne",endDate:"Konen datum",era:"letopoet",hour:"hodina",minute:"minuta",month:"msc",second:"sekunda",selectedDateDescription:e=>`Vybran datum: ${e.date}`,selectedRangeDescription:e=>`Vybran obdob: ${e.startDate} a ${e.endDate}`,selectedTimeDescription:e=>`Vybran as: ${e.time}`,startDate:"Poten datum",timeZoneName:"asov psmo",weekday:"den v tdnu",year:"rok"};var $61915aa8630b90a2$exports={};$61915aa8630b90a2$exports={calendar:"Kalender",day:"dag",dayPeriod:"AM/PM",endDate:"Slutdato",era:"ra",hour:"time",minute:"minut",month:"mned",second:"sekund",selectedDateDescription:e=>`Valgt dato: ${e.date}`,selectedRangeDescription:e=>`Valgt interval: ${e.startDate} til ${e.endDate}`,selectedTimeDescription:e=>`Valgt tidspunkt: ${e.time}`,startDate:"Startdato",timeZoneName:"tidszone",weekday:"ugedag",year:"r"};var $35cea00159787840$exports={};$35cea00159787840$exports={calendar:"Kalender",day:"Tag",dayPeriod:"Tageshlfte",endDate:"Enddatum",era:"Epoche",hour:"Stunde",minute:"Minute",month:"Monat",second:"Sekunde",selectedDateDescription:e=>`Ausgewhltes Datum: ${e.date}`,selectedRangeDescription:e=>`Ausgewhlter Bereich: ${e.startDate} bis ${e.endDate}`,selectedTimeDescription:e=>`Ausgewhlte Zeit: ${e.time}`,startDate:"Startdatum",timeZoneName:"Zeitzone",weekday:"Wochentag",year:"Jahr"};var $518b4e82b9eacafd$exports={};$518b4e82b9eacafd$exports={calendar:"",day:"",dayPeriod:"../..",endDate:" ",era:"",hour:"",minute:"",month:"",second:"",selectedDateDescription:e=>` : ${e.date}`,selectedRangeDescription:e=>` : ${e.startDate}  ${e.endDate}`,selectedTimeDescription:e=>` : ${e.time}`,startDate:" ",timeZoneName:" ",weekday:"",year:""};var $1c2b297f7e2cf474$exports={};$1c2b297f7e2cf474$exports={era:"era",year:"year",month:"month",day:"day",hour:"hour",minute:"minute",second:"second",dayPeriod:"AM/PM",calendar:"Calendar",startDate:"Start Date",endDate:"End Date",weekday:"day of the week",timeZoneName:"time zone",selectedDateDescription:e=>`Selected Date: ${e.date}`,selectedRangeDescription:e=>`Selected Range: ${e.startDate} to ${e.endDate}`,selectedTimeDescription:e=>`Selected Time: ${e.time}`};var $07f628a707cf9b18$exports={};$07f628a707cf9b18$exports={calendar:"Calendario",day:"da",dayPeriod:"a.m./p.m.",endDate:"Fecha final",era:"era",hour:"hora",minute:"minuto",month:"mes",second:"segundo",selectedDateDescription:e=>`Fecha seleccionada: ${e.date}`,selectedRangeDescription:e=>`Rango seleccionado: ${e.startDate} a ${e.endDate}`,selectedTimeDescription:e=>`Hora seleccionada: ${e.time}`,startDate:"Fecha de inicio",timeZoneName:"zona horaria",weekday:"da de la semana",year:"ao"};var $db553ffe17c7f4db$exports={};$db553ffe17c7f4db$exports={calendar:"Kalender",day:"pev",dayPeriod:"enne/prast lunat",endDate:"Lppkuupev",era:"ajastu",hour:"tund",minute:"minut",month:"kuu",second:"sekund",selectedDateDescription:e=>`Valitud kuupev: ${e.date}`,selectedRangeDescription:e=>`Valitud vahemik: ${e.startDate} kuni ${e.endDate}`,selectedTimeDescription:e=>`Valitud aeg: ${e.time}`,startDate:"Alguskuupev",timeZoneName:"ajavnd",weekday:"ndalapev",year:"aasta"};var $4afcfe00cd703f83$exports={};$4afcfe00cd703f83$exports={calendar:"Kalenteri",day:"piv",dayPeriod:"vuorokaudenaika",endDate:"Pttymispiv",era:"aikakausi",hour:"tunti",minute:"minuutti",month:"kuukausi",second:"sekunti",selectedDateDescription:e=>`Valittu pivmr: ${e.date}`,selectedRangeDescription:e=>`Valittu aikavli: ${e.startDate}  ${e.endDate}`,selectedTimeDescription:e=>`Valittu aika: ${e.time}`,startDate:"Alkamispiv",timeZoneName:"aikavyhyke",weekday:"viikonpiv",year:"vuosi"};var $1d2645d18d4c5be0$exports={};$1d2645d18d4c5be0$exports={calendar:"Calendrier",day:"jour",dayPeriod:"cadran",endDate:"Date de fin",era:"re",hour:"heure",minute:"minute",month:"mois",second:"seconde",selectedDateDescription:e=>`Date slectionne: ${e.date}`,selectedRangeDescription:e=>`Plage slectionne: ${e.startDate} au ${e.endDate}`,selectedTimeDescription:e=>`Heure choisie: ${e.time}`,startDate:"Date de dbut",timeZoneName:"fuseau horaire",weekday:"jour de la semaine",year:"anne"};var $64cb6a9be1f6fa48$exports={};$64cb6a9be1f6fa48$exports={calendar:" ",day:"",dayPeriod:"/",endDate:" ",era:"",hour:"",minute:"",month:"",second:"",selectedDateDescription:e=>` : ${e.date}`,selectedRangeDescription:e=>` : ${e.startDate}  ${e.endDate}`,selectedTimeDescription:e=>` : ${e.time}`,startDate:" ",timeZoneName:" ",weekday:" ",year:""};var $2a1ef2e8050be27a$exports={};$2a1ef2e8050be27a$exports={calendar:"Kalendar",day:"dan",dayPeriod:"AM/PM",endDate:"Datum zavretka",era:"era",hour:"sat",minute:"minuta",month:"mjesec",second:"sekunda",selectedDateDescription:e=>`Odabrani datum: ${e.date}`,selectedRangeDescription:e=>`Odabrani raspon: ${e.startDate} do ${e.endDate}`,selectedTimeDescription:e=>`Odabrano vrijeme: ${e.time}`,startDate:"Datum poetka",timeZoneName:"vremenska zona",weekday:"dan u tjednu",year:"godina"};var $ad429dca102acd0e$exports={};$ad429dca102acd0e$exports={calendar:"Naptr",day:"nap",dayPeriod:"napszak",endDate:"Befejez dtum",era:"ra",hour:"ra",minute:"perc",month:"hnap",second:"msodperc",selectedDateDescription:e=>`Kijellt dtum: ${e.date}`,selectedRangeDescription:e=>`Kijellt tartomny: ${e.startDate}${e.endDate}`,selectedTimeDescription:e=>`Kijellt id: ${e.time}`,startDate:"Kezd dtum",timeZoneName:"idzna",weekday:"ht napja",year:"v"};var $6e68cb5d1cb97bd2$exports={};$6e68cb5d1cb97bd2$exports={calendar:"Calendario",day:"giorno",dayPeriod:"AM/PM",endDate:"Data finale",era:"era",hour:"ora",minute:"minuto",month:"mese",second:"secondo",selectedDateDescription:e=>`Data selezionata: ${e.date}`,selectedRangeDescription:e=>`Intervallo selezionato: da ${e.startDate} a ${e.endDate}`,selectedTimeDescription:e=>`Ora selezionata: ${e.time}`,startDate:"Data iniziale",timeZoneName:"fuso orario",weekday:"giorno della settimana",year:"anno"};var $a82ee9af063ee069$exports={};$a82ee9af063ee069$exports={calendar:"",day:"",dayPeriod:"/",endDate:"",era:"",hour:"",minute:"",month:"",second:"",selectedDateDescription:e=>` : ${e.date}`,selectedRangeDescription:e=>` : ${e.startDate}  ${e.endDate}`,selectedTimeDescription:e=>` : ${e.time}`,startDate:"",timeZoneName:"",weekday:"",year:""};var $67e9091dbf37d4eb$exports={};$67e9091dbf37d4eb$exports={calendar:"",day:"",dayPeriod:"/",endDate:"",era:"",hour:"",minute:"",month:"",second:"",selectedDateDescription:e=>` : ${e.date}`,selectedRangeDescription:e=>` : ${e.startDate} ~ ${e.endDate}`,selectedTimeDescription:e=>` : ${e.time}`,startDate:"",timeZoneName:"",weekday:"",year:""};var $75834f9729f653d1$exports={};$75834f9729f653d1$exports={calendar:"Kalendorius",day:"diena",dayPeriod:"iki piet / po piet",endDate:"Pabaigos data",era:"era",hour:"valanda",minute:"minut",month:"mnuo",second:"sekund",selectedDateDescription:e=>`Pasirinkta data: ${e.date}`,selectedRangeDescription:e=>`Pasirinktas intervalas: nuo ${e.startDate} iki ${e.endDate}`,selectedTimeDescription:e=>`Pasirinktas laikas: ${e.time}`,startDate:"Pradios data",timeZoneName:"laiko juosta",weekday:"savaits diena",year:"metai"};var $a2df2c2520b4a7f0$exports={};$a2df2c2520b4a7f0$exports={calendar:"Kalendrs",day:"diena",dayPeriod:"priekpusdien/pcpusdien",endDate:"Beigu datums",era:"ra",hour:"stundas",minute:"mintes",month:"mnesis",second:"sekundes",selectedDateDescription:e=>`Atlastais datums: ${e.date}`,selectedRangeDescription:e=>`Atlastais diapazons: no ${e.startDate} ldz ${e.endDate}`,selectedTimeDescription:e=>`Atlastais laiks: ${e.time}`,startDate:"Skuma datums",timeZoneName:"laika josla",weekday:"nedas diena",year:"gads"};var $aedcd71db4933ed5$exports={};$aedcd71db4933ed5$exports={calendar:"Kalender",day:"dag",dayPeriod:"a.m./p.m.",endDate:"Sluttdato",era:"tidsalder",hour:"time",minute:"minutt",month:"mned",second:"sekund",selectedDateDescription:e=>`Valgt dato: ${e.date}`,selectedRangeDescription:e=>`Valgt omrde: ${e.startDate} til ${e.endDate}`,selectedTimeDescription:e=>`Valgt tid: ${e.time}`,startDate:"Startdato",timeZoneName:"tidssone",weekday:"ukedag",year:"r"};var $3b2df9e54353046c$exports={};$3b2df9e54353046c$exports={calendar:"Kalender",day:"dag",dayPeriod:"a.m./p.m.",endDate:"Einddatum",era:"tijdperk",hour:"uur",minute:"minuut",month:"maand",second:"seconde",selectedDateDescription:e=>`Geselecteerde datum: ${e.date}`,selectedRangeDescription:e=>`Geselecteerd bereik: ${e.startDate} tot ${e.endDate}`,selectedTimeDescription:e=>`Geselecteerde tijd: ${e.time}`,startDate:"Startdatum",timeZoneName:"tijdzone",weekday:"dag van de week",year:"jaar"};var $c03fe977fcfafe93$exports={};$c03fe977fcfafe93$exports={calendar:"Kalendarz",day:"dzie",dayPeriod:"rano / po poudniu / wieczorem",endDate:"Data kocowa",era:"era",hour:"godzina",minute:"minuta",month:"miesic",second:"sekunda",selectedDateDescription:e=>`Wybrana data: ${e.date}`,selectedRangeDescription:e=>`Wybrany zakres: ${e.startDate} do ${e.endDate}`,selectedTimeDescription:e=>`Wybrany czas: ${e.time}`,startDate:"Data pocztkowa",timeZoneName:"strefa czasowa",weekday:"dzie tygodnia",year:"rok"};var $569f006fc292345f$exports={};$569f006fc292345f$exports={calendar:"Calendrio",day:"dia",dayPeriod:"AM/PM",endDate:"Data final",era:"era",hour:"hora",minute:"minuto",month:"ms",second:"segundo",selectedDateDescription:e=>`Data selecionada: ${e.date}`,selectedRangeDescription:e=>`Intervalo selecionado: ${e.startDate} a ${e.endDate}`,selectedTimeDescription:e=>`Hora selecionada: ${e.time}`,startDate:"Data inicial",timeZoneName:"fuso horrio",weekday:"dia da semana",year:"ano"};var $7c2494e14452f2dd$exports={};$7c2494e14452f2dd$exports={calendar:"Calendrio",day:"dia",dayPeriod:"am/pm",endDate:"Data de Trmino",era:"era",hour:"hora",minute:"minuto",month:"ms",second:"segundo",selectedDateDescription:e=>`Data selecionada: ${e.date}`,selectedRangeDescription:e=>`Intervalo selecionado: ${e.startDate} a ${e.endDate}`,selectedTimeDescription:e=>`Hora selecionada: ${e.time}`,startDate:"Data de Incio",timeZoneName:"fuso horrio",weekday:"dia da semana",year:"ano"};var $eb82ef981b5592bf$exports={};$eb82ef981b5592bf$exports={calendar:"Calendar",day:"zi",dayPeriod:"a.m/p.m.",endDate:"Dat final",era:"er",hour:"or",minute:"minut",month:"lun",second:"secund",selectedDateDescription:e=>`Dat selectat: ${e.date}`,selectedRangeDescription:e=>`Interval selectat: de la ${e.startDate} pn la ${e.endDate}`,selectedTimeDescription:e=>`Ora selectat: ${e.time}`,startDate:"Dat nceput",timeZoneName:"fus orar",weekday:"ziua din sptmn",year:"an"};var $6efa0e119f396950$exports={};$6efa0e119f396950$exports={calendar:"",day:"",dayPeriod:"AM/PM",endDate:" ",era:"",hour:"",minute:"",month:"",second:"",selectedDateDescription:e=>` : ${e.date}`,selectedRangeDescription:e=>` :  ${e.startDate}  ${e.endDate}`,selectedTimeDescription:e=>` : ${e.time}`,startDate:" ",timeZoneName:" ",weekday:" ",year:""};var $7f5e57085d7f5049$exports={};$7f5e57085d7f5049$exports={calendar:"Kalendr",day:"de",dayPeriod:"AM/PM",endDate:"Dtum ukonenia",era:"letopoet",hour:"hodina",minute:"minta",month:"mesiac",second:"sekunda",selectedDateDescription:e=>`Vybrat dtum: ${e.date}`,selectedRangeDescription:e=>`Vybrat rozsah: od ${e.startDate} do ${e.endDate}`,selectedTimeDescription:e=>`Vybrat as: ${e.time}`,startDate:"Dtum zaatia",timeZoneName:"asov psmo",weekday:"de tda",year:"rok"};var $578ee7c11dcdde7a$exports={};$578ee7c11dcdde7a$exports={calendar:"Koledar",day:"dan",dayPeriod:"dop/pop",endDate:"Datum konca",era:"doba",hour:"ura",minute:"minuta",month:"mesec",second:"sekunda",selectedDateDescription:e=>`Izbrani datum: ${e.date}`,selectedRangeDescription:e=>`Izbrano obmoje: ${e.startDate} do ${e.endDate}`,selectedTimeDescription:e=>`Izbrani as: ${e.time}`,startDate:"Datum zaetka",timeZoneName:"asovni pas",weekday:"dan v tednu",year:"leto"};var $bbc3fd6cd0bc9d50$exports={};$bbc3fd6cd0bc9d50$exports={calendar:"Kalendar",day:"",dayPeriod:" / ",endDate:"Datum zavretka",era:"",hour:"",minute:"",month:"",second:"",selectedDateDescription:e=>`Izabrani datum: ${e.date}`,selectedRangeDescription:e=>`Izabrani opseg: od ${e.startDate} do ${e.endDate}`,selectedTimeDescription:e=>`Izabrano vreme: ${e.time}`,startDate:"Datum poetka",timeZoneName:" ",weekday:"  ",year:""};var $0b04512118591d2a$exports={};$0b04512118591d2a$exports={calendar:"Kalender",day:"dag",dayPeriod:"fm/em",endDate:"Slutdatum",era:"era",hour:"timme",minute:"minut",month:"mnad",second:"sekund",selectedDateDescription:e=>`Valt datum: ${e.date}`,selectedRangeDescription:e=>`Valt intervall: ${e.startDate} till ${e.endDate}`,selectedTimeDescription:e=>`Vald tid: ${e.time}`,startDate:"Startdatum",timeZoneName:"tidszon",weekday:"veckodag",year:"r"};var $3a49d121fe4c9e1d$exports={};$3a49d121fe4c9e1d$exports={calendar:"Takvim",day:"gn",dayPeriod:"/S",endDate:"Biti Tarihi",era:"a",hour:"saat",minute:"dakika",month:"ay",second:"saniye",selectedDateDescription:e=>`Seilen Tarih: ${e.date}`,selectedRangeDescription:e=>`Seilen Aralk: ${e.startDate} - ${e.endDate}`,selectedTimeDescription:e=>`Seilen Zaman: ${e.time}`,startDate:"Balang Tarihi",timeZoneName:"saat dilimi",weekday:"haftann gn",year:"yl"};var $5ba21dbb8914919d$exports={};$5ba21dbb8914919d$exports={calendar:"",day:"",dayPeriod:"/",endDate:" ",era:"",hour:"",minute:"",month:"",second:"",selectedDateDescription:e=>` : ${e.date}`,selectedRangeDescription:e=>` : ${e.startDate}  ${e.endDate}`,selectedTimeDescription:e=>` : ${e.time}`,startDate:" ",timeZoneName:" ",weekday:" ",year:""};var $51078838e1b16cd7$exports={};$51078838e1b16cd7$exports={calendar:"",day:"",dayPeriod:"/",endDate:"",era:"",hour:"",minute:"",month:"",second:"",selectedDateDescription:e=>`${e.date}`,selectedRangeDescription:e=>`${e.startDate}  ${e.endDate}`,selectedTimeDescription:e=>`${e.time}`,startDate:"",timeZoneName:"",weekday:"",year:""};var $33fab8219207655a$exports={};$33fab8219207655a$exports={calendar:"",day:"",dayPeriod:"/",endDate:"",era:"",hour:"",minute:"",month:"",second:"",selectedDateDescription:e=>`${e.date}`,selectedRangeDescription:e=>`${e.startDate}  ${e.endDate}`,selectedTimeDescription:e=>`${e.time}`,startDate:"",timeZoneName:"",weekday:"",year:""};var $dfb4eba373ed9493$exports={};$dfb4eba373ed9493$exports={"ar-AE":$f23889fffbde9058$exports,"bg-BG":$09d9badaa8903929$exports,"cs-CZ":$151b77e0fd711730$exports,"da-DK":$61915aa8630b90a2$exports,"de-DE":$35cea00159787840$exports,"el-GR":$518b4e82b9eacafd$exports,"en-US":$1c2b297f7e2cf474$exports,"es-ES":$07f628a707cf9b18$exports,"et-EE":$db553ffe17c7f4db$exports,"fi-FI":$4afcfe00cd703f83$exports,"fr-FR":$1d2645d18d4c5be0$exports,"he-IL":$64cb6a9be1f6fa48$exports,"hr-HR":$2a1ef2e8050be27a$exports,"hu-HU":$ad429dca102acd0e$exports,"it-IT":$6e68cb5d1cb97bd2$exports,"ja-JP":$a82ee9af063ee069$exports,"ko-KR":$67e9091dbf37d4eb$exports,"lt-LT":$75834f9729f653d1$exports,"lv-LV":$a2df2c2520b4a7f0$exports,"nb-NO":$aedcd71db4933ed5$exports,"nl-NL":$3b2df9e54353046c$exports,"pl-PL":$c03fe977fcfafe93$exports,"pt-BR":$569f006fc292345f$exports,"pt-PT":$7c2494e14452f2dd$exports,"ro-RO":$eb82ef981b5592bf$exports,"ru-RU":$6efa0e119f396950$exports,"sk-SK":$7f5e57085d7f5049$exports,"sl-SI":$578ee7c11dcdde7a$exports,"sr-SP":$bbc3fd6cd0bc9d50$exports,"sv-SE":$0b04512118591d2a$exports,"tr-TR":$3a49d121fe4c9e1d$exports,"uk-UA":$5ba21dbb8914919d$exports,"zh-CN":$51078838e1b16cd7$exports,"zh-TW":$33fab8219207655a$exports};function $3dfb0f96be0d6a08$export$4a931266a3838b86(e,t,Ke){let{direction:Ye}=$18f2051aff69b9bf$export$43bb16f9c6d9e3f7(),Je=reactExports.useMemo(()=>$9bf71ea28793e738$export$c5251b9e124bf29(t),[t]),Xe=rt=>{if(rt.currentTarget.contains(rt.target)&&(rt.altKey&&(rt.key==="ArrowDown"||rt.key==="ArrowUp")&&"setOpen"in e&&(rt.preventDefault(),rt.stopPropagation(),e.setOpen(!0)),!Ke))switch(rt.key){case"ArrowLeft":if(rt.preventDefault(),rt.stopPropagation(),Ye==="rtl"){if(t.current){let st=rt.target,at=$3dfb0f96be0d6a08$var$findNextSegment(t.current,st.getBoundingClientRect().left,-1);at&&at.focus()}}else Je.focusPrevious();break;case"ArrowRight":if(rt.preventDefault(),rt.stopPropagation(),Ye==="rtl"){if(t.current){let st=rt.target,at=$3dfb0f96be0d6a08$var$findNextSegment(t.current,st.getBoundingClientRect().left,1);at&&at.focus()}}else Je.focusNext();break}},et=()=>{var rt;if(!t.current)return;let st=(rt=window.event)===null||rt===void 0?void 0:rt.target,at=$9bf71ea28793e738$export$2d6ec8fc375ceafa(t.current,{tabbable:!0});if(st&&(at.currentNode=st,st=at.previousNode()),!st){let nt;do nt=at.lastChild(),nt&&(st=nt);while(nt)}for(;st?.hasAttribute("data-placeholder");){let nt=at.previousNode();if(nt&&nt.hasAttribute("data-placeholder"))st=nt;else break}st&&st.focus()},{pressProps:tt}=$f6c31cce2adf654f$export$45712eceda6fad21({preventFocusOnPress:!0,allowTextSelectionOnPress:!0,onPressStart(rt){rt.pointerType==="mouse"&&et()},onPress(rt){(rt.pointerType==="touch"||rt.pointerType==="pen")&&et()}});return $3ef42575df84b30b$export$9d1611c77c2fe928(tt,{onKeyDown:Xe})}function $3dfb0f96be0d6a08$var$findNextSegment(e,t,Ke){let Ye=$9bf71ea28793e738$export$2d6ec8fc375ceafa(e,{tabbable:!0}),Je=Ye.nextNode(),Xe=null,et=1/0;for(;Je;){let rt=Je.getBoundingClientRect().left-t,st=Math.abs(rt);Math.sign(rt)===Ke&&st<et&&(Xe=Je,et=st),Je=Ye.nextNode()}return Xe}function $parcel$interopDefault$3(e){return e&&e.__esModule?e.default:e}const $16f0b7bb276bc17e$export$653eddfc964b0f8a=new WeakMap,$16f0b7bb276bc17e$export$300019f83c56d282="__role_"+Date.now(),$16f0b7bb276bc17e$export$7b3062cd49e80452="__focusManager_"+Date.now();function $16f0b7bb276bc17e$export$5591b0b878c1a989(e,t,Ke){var Ye;let{isInvalid:Je,validationErrors:Xe,validationDetails:et}=t.displayValidation,{labelProps:tt,fieldProps:rt,descriptionProps:st,errorMessageProps:at}=$2baaea4c71418dea$export$294aa081a6c6f55d({...e,labelElementType:"span",isInvalid:Je,errorMessage:e.errorMessage||Xe}),nt=reactExports.useRef(null),{focusWithinProps:it}=$9ab94262bd0047c7$export$420e68273165f4ec({...e,onFocusWithin(jt){var yt;nt.current=t.value,(yt=e.onFocus)===null||yt===void 0||yt.call(e,jt)},onBlurWithin:jt=>{var yt;t.confirmPlaceholder(),t.value!==nt.current&&t.commitValidation(),(yt=e.onBlur)===null||yt===void 0||yt.call(e,jt)},onFocusWithinChange:e.onFocusChange}),ot=$fca6afa0e843324b$export$f12b703ca79dfbb1($parcel$interopDefault$3($dfb4eba373ed9493$exports),"@react-aria/datepicker"),lt=t.maxGranularity==="hour"?"selectedTimeDescription":"selectedDateDescription",ut=t.maxGranularity==="hour"?"time":"date",ft=t.value?ot.format(lt,{[ut]:t.formatValue({month:"long"})}):"",ct=$ef06256079686ba0$export$f8aeda7b10753fa1(ft),dt=e[$16f0b7bb276bc17e$export$300019f83c56d282]==="presentation"?rt["aria-describedby"]:[ct["aria-describedby"],rt["aria-describedby"]].filter(Boolean).join(" ")||void 0,ht=e[$16f0b7bb276bc17e$export$7b3062cd49e80452],xt=reactExports.useMemo(()=>ht||$9bf71ea28793e738$export$c5251b9e124bf29(Ke),[ht,Ke]),vt=$3dfb0f96be0d6a08$export$4a931266a3838b86(t,Ke,e[$16f0b7bb276bc17e$export$300019f83c56d282]==="presentation");$16f0b7bb276bc17e$export$653eddfc964b0f8a.set(t,{ariaLabel:e["aria-label"],ariaLabelledBy:[tt.id,e["aria-labelledby"]].filter(Boolean).join(" ")||void 0,ariaDescribedBy:dt,focusManager:xt});let bt=reactExports.useRef(e.autoFocus),_t;e[$16f0b7bb276bc17e$export$300019f83c56d282]==="presentation"?_t={role:"presentation"}:_t=$3ef42575df84b30b$export$9d1611c77c2fe928(rt,{role:"group","aria-disabled":e.isDisabled||void 0,"aria-describedby":dt}),reactExports.useEffect(()=>{bt.current&&xt.focusFirst(),bt.current=!1},[xt]),$99facab73266f662$export$5add1d006293d136(e.inputRef,t.defaultValue,t.setValue),$e93e671b31057976$export$b8473d3665f3a75a({...e,focus(){xt.focusFirst()}},t,e.inputRef);let Ct={type:"hidden",name:e.name,form:e.form,value:((Ye=t.value)===null||Ye===void 0?void 0:Ye.toString())||"",disabled:e.isDisabled};e.validationBehavior==="native"&&(Ct.type="text",Ct.hidden=!0,Ct.required=e.isRequired,Ct.onChange=()=>{});let Rt=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(e);return{labelProps:{...tt,onClick:()=>{xt.focusFirst()}},fieldProps:$3ef42575df84b30b$export$9d1611c77c2fe928(Rt,_t,vt,it,{onKeyDown(jt){e.onKeyDown&&e.onKeyDown(jt)},onKeyUp(jt){e.onKeyUp&&e.onKeyUp(jt)},style:{unicodeBidi:"isolate"}}),inputProps:Ct,descriptionProps:st,errorMessageProps:at,isInvalid:Je,validationErrors:Xe,validationDetails:et}}function $parcel$interopDefault$2(e){return e&&e.__esModule?e.default:e}function $6057a3d2a53a12fd$export$42df105a73306d51(e,t,Ke){let Ye=$bdb11010cef70236$export$f680877a34711e37(),Je=$bdb11010cef70236$export$f680877a34711e37(),Xe=$bdb11010cef70236$export$f680877a34711e37(),et=$fca6afa0e843324b$export$f12b703ca79dfbb1($parcel$interopDefault$2($dfb4eba373ed9493$exports),"@react-aria/datepicker"),{isInvalid:tt,validationErrors:rt,validationDetails:st}=t.displayValidation,{labelProps:at,fieldProps:nt,descriptionProps:it,errorMessageProps:ot}=$2baaea4c71418dea$export$294aa081a6c6f55d({...e,labelElementType:"span",isInvalid:tt,errorMessage:e.errorMessage||rt}),lt=$3dfb0f96be0d6a08$export$4a931266a3838b86(t,Ke),ut=nt["aria-labelledby"]||nt.id,{locale:ft}=$18f2051aff69b9bf$export$43bb16f9c6d9e3f7(),ct=t.formatValue(ft,{month:"long"}),dt=ct?et.format("selectedDateDescription",{date:ct}):"",ht=$ef06256079686ba0$export$f8aeda7b10753fa1(dt),xt=[ht["aria-describedby"],nt["aria-describedby"]].filter(Boolean).join(" ")||void 0,vt=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(e),bt=reactExports.useMemo(()=>$9bf71ea28793e738$export$c5251b9e124bf29(Ke),[Ke]),_t=reactExports.useRef(!1),{focusWithinProps:Ct}=$9ab94262bd0047c7$export$420e68273165f4ec({...e,isDisabled:t.isOpen,onBlurWithin:Rt=>{let jt=document.getElementById(Je);if(!jt?.contains(Rt.relatedTarget)){var yt,Et;_t.current=!1,(yt=e.onBlur)===null||yt===void 0||yt.call(e,Rt),(Et=e.onFocusChange)===null||Et===void 0||Et.call(e,!1)}},onFocusWithin:Rt=>{if(!_t.current){var jt,yt;_t.current=!0,(jt=e.onFocus)===null||jt===void 0||jt.call(e,Rt),(yt=e.onFocusChange)===null||yt===void 0||yt.call(e,!0)}}});return{groupProps:$3ef42575df84b30b$export$9d1611c77c2fe928(vt,lt,nt,ht,Ct,{role:"group","aria-disabled":e.isDisabled||null,"aria-labelledby":ut,"aria-describedby":xt,onKeyDown(Rt){t.isOpen||e.onKeyDown&&e.onKeyDown(Rt)},onKeyUp(Rt){t.isOpen||e.onKeyUp&&e.onKeyUp(Rt)}}),labelProps:{...at,onClick:()=>{bt.focusFirst()}},fieldProps:{...nt,id:Xe,[$16f0b7bb276bc17e$export$300019f83c56d282]:"presentation","aria-describedby":xt,value:t.value,defaultValue:t.defaultValue,onChange:t.setValue,placeholderValue:e.placeholderValue,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle,shouldForceLeadingZeros:e.shouldForceLeadingZeros,granularity:e.granularity,isDisabled:e.isDisabled,isReadOnly:e.isReadOnly,isRequired:e.isRequired,validationBehavior:e.validationBehavior,[$e5be200c675c3b3a$export$a763b9476acd3eb]:t,autoFocus:e.autoFocus,name:e.name,form:e.form},descriptionProps:it,errorMessageProps:ot,buttonProps:{...ht,id:Ye,"aria-haspopup":"dialog","aria-label":et.format("calendar"),"aria-labelledby":`${Ye} ${ut}`,"aria-describedby":xt,"aria-expanded":t.isOpen,isDisabled:e.isDisabled||e.isReadOnly,onPress:()=>t.setOpen(!0)},dialogProps:{id:Je,"aria-labelledby":`${Ye} ${ut}`},calendarProps:{autoFocus:!0,value:t.dateValue,onChange:t.setDateValue,minValue:e.minValue,maxValue:e.maxValue,isDisabled:e.isDisabled,isReadOnly:e.isReadOnly,isDateUnavailable:e.isDateUnavailable,defaultFocusedValue:t.dateValue?void 0:e.placeholderValue,isInvalid:t.isInvalid,errorMessage:typeof e.errorMessage=="function"?e.errorMessage(t.displayValidation):e.errorMessage||t.displayValidation.validationErrors.join(" "),firstDayOfWeek:e.firstDayOfWeek,pageBehavior:e.pageBehavior},isInvalid:tt,validationErrors:rt,validationDetails:st}}function $parcel$interopDefault$1(e){return e&&e.__esModule?e.default:e}function $3aeceb3a64eb8358$export$d42c60378c8168f8(){let{locale:e}=$18f2051aff69b9bf$export$43bb16f9c6d9e3f7(),t=$fca6afa0e843324b$export$87b761675e8eaa10($parcel$interopDefault$1($dfb4eba373ed9493$exports),"@react-aria/datepicker");return reactExports.useMemo(()=>{try{return new Intl.DisplayNames(e,{type:"dateTimeField"})}catch{return new $3aeceb3a64eb8358$var$DisplayNamesPolyfill(e,t)}},[e,t])}class $3aeceb3a64eb8358$var$DisplayNamesPolyfill{of(t){return this.dictionary.getStringForLocale(t,this.locale)}constructor(t,Ke){this.locale=t,this.dictionary=Ke}}function $32489daedd52963e$export$1315d136e6f7581(e,t,Ke){let Ye=reactExports.useRef(""),{locale:Je,direction:Xe}=$18f2051aff69b9bf$export$43bb16f9c6d9e3f7(),et=$3aeceb3a64eb8358$export$d42c60378c8168f8(),{ariaLabel:tt,ariaLabelledBy:rt,ariaDescribedBy:st,focusManager:at}=$16f0b7bb276bc17e$export$653eddfc964b0f8a.get(t),nt=e.isPlaceholder?"":e.text,it=reactExports.useMemo(()=>t.dateFormatter.resolvedOptions(),[t.dateFormatter]),ot=$896ba0a80a8f4d36$export$85fd5fdf27bacc79({month:"long",timeZone:it.timeZone}),lt=$896ba0a80a8f4d36$export$85fd5fdf27bacc79({hour:"numeric",hour12:it.hour12,timeZone:it.timeZone});if(e.type==="month"&&!e.isPlaceholder){let At=ot.format(t.dateValue);nt=At!==nt?`${nt}  ${At}`:At}else e.type==="hour"&&!e.isPlaceholder&&(nt=lt.format(t.dateValue));let{spinButtonProps:ut}=$d2e8511e6f209edf$export$e908e06f4b8e3402({value:e.value,textValue:nt,minValue:e.minValue,maxValue:e.maxValue,isDisabled:t.isDisabled,isReadOnly:t.isReadOnly||!e.isEditable,isRequired:t.isRequired,onIncrement:()=>{Ye.current="",t.increment(e.type)},onDecrement:()=>{Ye.current="",t.decrement(e.type)},onIncrementPage:()=>{Ye.current="",t.incrementPage(e.type)},onDecrementPage:()=>{Ye.current="",t.decrementPage(e.type)},onIncrementToMax:()=>{Ye.current="",e.maxValue!==void 0&&t.setSegment(e.type,e.maxValue)},onDecrementToMin:()=>{Ye.current="",e.minValue!==void 0&&t.setSegment(e.type,e.minValue)}}),ft=reactExports.useMemo(()=>new $6c7bd7858deea686$export$cd11ab140839f11d(Je,{maximumFractionDigits:0}),[Je]),ct=()=>{if(e.text===e.placeholder&&at.focusPrevious(),ft.isValidPartialNumber(e.text)&&!t.isReadOnly&&!e.isPlaceholder){let At=e.text.slice(0,-1),Dt=ft.parse(At);At=Dt===0?"":At,At.length===0||Dt===0?t.clearSegment(e.type):t.setSegment(e.type,Dt),Ye.current=At}else e.type==="dayPeriod"&&t.clearSegment(e.type)},dt=At=>{if(At.key==="a"&&($c87311424ea30a05$export$9ac100e40613ea10()?At.metaKey:At.ctrlKey)&&At.preventDefault(),!(At.ctrlKey||At.metaKey||At.shiftKey||At.altKey))switch(At.key){case"Backspace":case"Delete":At.preventDefault(),At.stopPropagation(),ct();break}},{startsWith:ht}=$bb77f239b46e8c72$export$3274cf84b703fff({sensitivity:"base"}),xt=$896ba0a80a8f4d36$export$85fd5fdf27bacc79({hour:"numeric",hour12:!0}),vt=reactExports.useMemo(()=>{let At=new Date;return At.setHours(0),xt.formatToParts(At).find(Dt=>Dt.type==="dayPeriod").value},[xt]),bt=reactExports.useMemo(()=>{let At=new Date;return At.setHours(12),xt.formatToParts(At).find(Dt=>Dt.type==="dayPeriod").value},[xt]),_t=$896ba0a80a8f4d36$export$85fd5fdf27bacc79({year:"numeric",era:"narrow",timeZone:"UTC"}),Ct=reactExports.useMemo(()=>{if(e.type!=="era")return[];let At=$11d87f3f76e88657$export$b4a036af3fc0b032(new $35ea8db9cb2ccb90$export$99faa760c7908e4f(1,1,1),t.calendar),Dt=t.calendar.getEras().map(Ot=>{let Mt=At.set({year:1,month:1,day:1,era:Ot}).toDate("UTC"),qt=_t.formatToParts(Mt).find(Bt=>Bt.type==="era").value;return{era:Ot,formatted:qt}}),It=$32489daedd52963e$var$commonPrefixLength(Dt.map(Ot=>Ot.formatted));if(It)for(let Ot of Dt)Ot.formatted=Ot.formatted.slice(It);return Dt},[_t,t.calendar,e.type]),Rt=At=>{if(t.isDisabled||t.isReadOnly)return;let Dt=Ye.current+At;switch(e.type){case"dayPeriod":if(ht(vt,At))t.setSegment("dayPeriod",0);else if(ht(bt,At))t.setSegment("dayPeriod",12);else break;at.focusNext();break;case"era":{let It=Ct.find(Ot=>ht(Ot.formatted,At));It&&(t.setSegment("era",It.era),at.focusNext());break}case"day":case"hour":case"minute":case"second":case"month":case"year":{if(!ft.isValidPartialNumber(Dt))return;let It=ft.parse(Dt),Ot=It,Mt=e.minValue===0;if(e.type==="hour"&&t.dateFormatter.resolvedOptions().hour12){switch(t.dateFormatter.resolvedOptions().hourCycle){case"h11":It>11&&(Ot=ft.parse(At));break;case"h12":Mt=!1,It>12&&(Ot=ft.parse(At));break}e.value!==void 0&&e.value>=12&&It>1&&(It+=12)}else e.maxValue!==void 0&&It>e.maxValue&&(Ot=ft.parse(At));if(isNaN(It))return;let Kt=Ot!==0||Mt;Kt&&t.setSegment(e.type,Ot),e.maxValue!==void 0&&(+(It+"0")>e.maxValue||Dt.length>=String(e.maxValue).length)?(Ye.current="",Kt&&at.focusNext()):Ye.current=Dt;break}}},jt=()=>{Ye.current="",Ke.current&&$2f04cbc44ee30ce0$export$c826860796309d1b(Ke.current,{containingElement:$62d8ded9296f3872$export$cfa2225e87938781(Ke.current)});let At=window.getSelection();At?.collapse(Ke.current)},yt=reactExports.useRef(typeof document<"u"?document:null);$e9faafb641e167db$export$90fc3a17d93f704c(yt,"selectionchange",()=>{var At;let Dt=window.getSelection();Dt?.anchorNode&&(!((At=Ke.current)===null||At===void 0)&&At.contains(Dt?.anchorNode))&&Dt.collapse(Ke.current)});let Et=reactExports.useRef("");$e9faafb641e167db$export$90fc3a17d93f704c(Ke,"beforeinput",At=>{if(Ke.current)switch(At.preventDefault(),At.inputType){case"deleteContentBackward":case"deleteContentForward":ft.isValidPartialNumber(e.text)&&!t.isReadOnly&&ct();break;case"insertCompositionText":Et.current=Ke.current.textContent,Ke.current.textContent=Ke.current.textContent;break;default:At.data!=null&&Rt(At.data);break}}),$e9faafb641e167db$export$90fc3a17d93f704c(Ke,"input",At=>{let{inputType:Dt,data:It}=At;switch(Dt){case"insertCompositionText":Ke.current&&(Ke.current.textContent=Et.current),It!=null&&(ht(vt,It)||ht(bt,It))&&Rt(It);break}}),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{let At=Ke.current;return()=>{document.activeElement===At&&(at.focusPrevious()||at.focusNext())}},[Ke,at]);let pt=$c87311424ea30a05$export$fedb369cb70207f1()||e.type==="timeZoneName"?{role:"textbox","aria-valuemax":null,"aria-valuemin":null,"aria-valuetext":null,"aria-valuenow":null}:{},mt=reactExports.useMemo(()=>t.segments.find(At=>At.isEditable),[t.segments]);e!==mt&&!t.isInvalid&&(st=void 0);let gt=$bdb11010cef70236$export$f680877a34711e37(),St=!t.isDisabled&&!t.isReadOnly&&e.isEditable,wt=e.type==="literal"?"":et.of(e.type),$t=$313b98861ee5dd6c$export$d6875122194c7b44({"aria-label":`${wt}${tt?`, ${tt}`:""}${rt?", ":""}`,"aria-labelledby":rt});if(e.type==="literal")return{segmentProps:{"aria-hidden":!0}};let Tt={caretColor:"transparent"};if(Xe==="rtl"){Tt.unicodeBidi="embed";let At=it[e.type];(At==="numeric"||At==="2-digit")&&(Tt.direction="ltr")}return{segmentProps:$3ef42575df84b30b$export$9d1611c77c2fe928(ut,$t,{id:gt,...pt,"aria-invalid":t.isInvalid?"true":void 0,"aria-describedby":st,"aria-readonly":t.isReadOnly||!e.isEditable?"true":void 0,"data-placeholder":e.isPlaceholder||void 0,contentEditable:St,suppressContentEditableWarning:St,spellCheck:St?"false":void 0,autoCorrect:St?"off":void 0,[parseInt(React.version,10)>=17?"enterKeyHint":"enterkeyhint"]:St?"next":void 0,inputMode:t.isDisabled||e.type==="dayPeriod"||e.type==="era"||!St?void 0:"numeric",tabIndex:t.isDisabled?void 0:0,onKeyDown:dt,onFocus:jt,style:Tt,onPointerDown(At){At.stopPropagation()},onMouseDown(At){At.stopPropagation()}})}}function $32489daedd52963e$var$commonPrefixLength(e){e.sort();let t=e[0],Ke=e[e.length-1];for(let Ye=0;Ye<t.length;Ye++)if(t[Ye]!==Ke[Ye])return Ye;return 0}function $f62d864046160412$export$eac50920cf2fd59a(e,t,Ke){return t!=null&&e.compare(t)<0||Ke!=null&&e.compare(Ke)>0}function $f62d864046160412$export$f4a51ff076cc9a09(e,t,Ke,Ye,Je){let Xe={};for(let tt in t)Xe[tt]=Math.floor(t[tt]/2),Xe[tt]>0&&t[tt]%2===0&&Xe[tt]--;let et=$f62d864046160412$export$144a00ba6044eb9(e,t,Ke).subtract(Xe);return $f62d864046160412$export$5bb865b12696a77d(e,et,t,Ke,Ye,Je)}function $f62d864046160412$export$144a00ba6044eb9(e,t,Ke,Ye,Je){let Xe=e;return t.years?Xe=$14e0f24ef4ac5c92$export$f91e89d3d0406102(e):t.months?Xe=$14e0f24ef4ac5c92$export$a5a3b454ada2268e(e):t.weeks&&(Xe=$14e0f24ef4ac5c92$export$42c81a444fbfb5d4(e,Ke)),$f62d864046160412$export$5bb865b12696a77d(e,Xe,t,Ke,Ye,Je)}function $f62d864046160412$export$530edbfc915b2b04(e,t,Ke,Ye,Je){let Xe={...t};Xe.days?Xe.days--:Xe.weeks?Xe.weeks--:Xe.months?Xe.months--:Xe.years&&Xe.years--;let et=$f62d864046160412$export$144a00ba6044eb9(e,t,Ke).subtract(Xe);return $f62d864046160412$export$5bb865b12696a77d(e,et,t,Ke,Ye,Je)}function $f62d864046160412$export$5bb865b12696a77d(e,t,Ke,Ye,Je,Xe){if(Je&&e.compare(Je)>=0){let et=$14e0f24ef4ac5c92$export$a75f2bff57811055(t,$f62d864046160412$export$144a00ba6044eb9($11d87f3f76e88657$export$93522d1a439f3617(Je),Ke,Ye));et&&(t=et)}if(Xe&&e.compare(Xe)<=0){let et=$14e0f24ef4ac5c92$export$5c333a116e949cdd(t,$f62d864046160412$export$530edbfc915b2b04($11d87f3f76e88657$export$93522d1a439f3617(Xe),Ke,Ye));et&&(t=et)}return t}function $f62d864046160412$export$4f5203c0d889109e(e,t,Ke){if(t){let Ye=$14e0f24ef4ac5c92$export$a75f2bff57811055(e,$11d87f3f76e88657$export$93522d1a439f3617(t));Ye&&(e=Ye)}if(Ke){let Ye=$14e0f24ef4ac5c92$export$5c333a116e949cdd(e,$11d87f3f76e88657$export$93522d1a439f3617(Ke));Ye&&(e=Ye)}return e}function $f62d864046160412$export$a1d3911297b952d7(e,t,Ke){if(!Ke)return e;for(;e.compare(t)>=0&&Ke(e);)e=e.subtract({days:1});return e.compare(t)>=0?e:null}function $131cf43a05231e1e$export$6d095e787d2b5e1f(e){let t=reactExports.useMemo(()=>new $fb18d541ea1ad717$export$ad991b66133851cf(e.locale),[e.locale]),Ke=reactExports.useMemo(()=>t.resolvedOptions(),[t]),{locale:Ye,createCalendar:Je,visibleDuration:Xe={months:1},minValue:et,maxValue:tt,selectionAlignment:rt,isDateUnavailable:st,pageBehavior:at="visible",firstDayOfWeek:nt}=e,it=reactExports.useMemo(()=>Je(Ke.calendar),[Je,Ke.calendar]);var ot;let[lt,ut]=$458b0a5536c1a7cf$export$40bfa8c7b0832715(e.value,(ot=e.defaultValue)!==null&&ot!==void 0?ot:null,e.onChange),ft=reactExports.useMemo(()=>lt?$11d87f3f76e88657$export$b4a036af3fc0b032($11d87f3f76e88657$export$93522d1a439f3617(lt),it):null,[lt,it]),ct=reactExports.useMemo(()=>lt&&"timeZone"in lt?lt.timeZone:Ke.timeZone,[lt,Ke.timeZone]),dt=reactExports.useMemo(()=>e.focusedValue?$f62d864046160412$export$4f5203c0d889109e($11d87f3f76e88657$export$b4a036af3fc0b032($11d87f3f76e88657$export$93522d1a439f3617(e.focusedValue),it),et,tt):void 0,[e.focusedValue,it,et,tt]),ht=reactExports.useMemo(()=>$f62d864046160412$export$4f5203c0d889109e(e.defaultFocusedValue?$11d87f3f76e88657$export$b4a036af3fc0b032($11d87f3f76e88657$export$93522d1a439f3617(e.defaultFocusedValue),it):ft||$11d87f3f76e88657$export$b4a036af3fc0b032($14e0f24ef4ac5c92$export$d0bdf45af03a6ea3(ct),it),et,tt),[e.defaultFocusedValue,ft,ct,it,et,tt]),[xt,vt]=$458b0a5536c1a7cf$export$40bfa8c7b0832715(dt,ht,e.onFocusChange),[bt,_t]=reactExports.useState(()=>{switch(rt){case"start":return $f62d864046160412$export$144a00ba6044eb9(xt,Xe,Ye,et,tt);case"end":return $f62d864046160412$export$530edbfc915b2b04(xt,Xe,Ye,et,tt);case"center":default:return $f62d864046160412$export$f4a51ff076cc9a09(xt,Xe,Ye,et,tt)}}),[Ct,Rt]=reactExports.useState(e.autoFocus||!1),jt=reactExports.useMemo(()=>{let Dt={...Xe};return Dt.days?Dt.days--:Dt.days=-1,bt.add(Dt)},[bt,Xe]),[yt,Et]=reactExports.useState(it);if(!$14e0f24ef4ac5c92$export$dbc69fd56b53d5e(it,yt)){let Dt=$11d87f3f76e88657$export$b4a036af3fc0b032(xt,it);_t($f62d864046160412$export$f4a51ff076cc9a09(Dt,Xe,Ye,et,tt)),vt(Dt),Et(it)}$f62d864046160412$export$eac50920cf2fd59a(xt,et,tt)?vt($f62d864046160412$export$4f5203c0d889109e(xt,et,tt)):xt.compare(bt)<0?_t($f62d864046160412$export$530edbfc915b2b04(xt,Xe,Ye,et,tt)):xt.compare(jt)>0&&_t($f62d864046160412$export$144a00ba6044eb9(xt,Xe,Ye,et,tt));function pt(Dt){Dt=$f62d864046160412$export$4f5203c0d889109e(Dt,et,tt),vt(Dt)}function mt(Dt){if(!e.isDisabled&&!e.isReadOnly){let It=Dt;if(It===null){ut(null);return}if(It=$f62d864046160412$export$4f5203c0d889109e(It,et,tt),It=$f62d864046160412$export$a1d3911297b952d7(It,bt,st),!It)return;It=$11d87f3f76e88657$export$b4a036af3fc0b032(It,lt?.calendar||new $3b62074eb05584b2$export$80ee6245ec4f29ec),lt&&"hour"in lt?ut(lt.set(It)):ut(It)}}let gt=reactExports.useMemo(()=>ft?st&&st(ft)?!0:$f62d864046160412$export$eac50920cf2fd59a(ft,et,tt):!1,[ft,st,et,tt]),St=e.isInvalid||e.validationState==="invalid"||gt,wt=St?"invalid":null,$t=reactExports.useMemo(()=>at==="visible"?Xe:$131cf43a05231e1e$var$unitDuration(Xe),[at,Xe]);var Tt,At;return{isDisabled:(Tt=e.isDisabled)!==null&&Tt!==void 0?Tt:!1,isReadOnly:(At=e.isReadOnly)!==null&&At!==void 0?At:!1,value:ft,setValue:mt,visibleRange:{start:bt,end:jt},minValue:et,maxValue:tt,focusedDate:xt,timeZone:ct,validationState:wt,isValueInvalid:St,setFocusedDate(Dt){pt(Dt),Rt(!0)},focusNextDay(){pt(xt.add({days:1}))},focusPreviousDay(){pt(xt.subtract({days:1}))},focusNextRow(){Xe.days?this.focusNextPage():(Xe.weeks||Xe.months||Xe.years)&&pt(xt.add({weeks:1}))},focusPreviousRow(){Xe.days?this.focusPreviousPage():(Xe.weeks||Xe.months||Xe.years)&&pt(xt.subtract({weeks:1}))},focusNextPage(){let Dt=bt.add($t);vt($f62d864046160412$export$4f5203c0d889109e(xt.add($t),et,tt)),_t($f62d864046160412$export$144a00ba6044eb9($f62d864046160412$export$5bb865b12696a77d(xt,Dt,$t,Ye,et,tt),$t,Ye))},focusPreviousPage(){let Dt=bt.subtract($t);vt($f62d864046160412$export$4f5203c0d889109e(xt.subtract($t),et,tt)),_t($f62d864046160412$export$144a00ba6044eb9($f62d864046160412$export$5bb865b12696a77d(xt,Dt,$t,Ye,et,tt),$t,Ye))},focusSectionStart(){Xe.days?pt(bt):Xe.weeks?pt($14e0f24ef4ac5c92$export$42c81a444fbfb5d4(xt,Ye)):(Xe.months||Xe.years)&&pt($14e0f24ef4ac5c92$export$a5a3b454ada2268e(xt))},focusSectionEnd(){Xe.days?pt(jt):Xe.weeks?pt($14e0f24ef4ac5c92$export$ef8b6d9133084f4e(xt,Ye)):(Xe.months||Xe.years)&&pt($14e0f24ef4ac5c92$export$a2258d9c4118825c(xt))},focusNextSection(Dt){if(!Dt&&!Xe.days){pt(xt.add($131cf43a05231e1e$var$unitDuration(Xe)));return}Xe.days?this.focusNextPage():Xe.weeks?pt(xt.add({months:1})):(Xe.months||Xe.years)&&pt(xt.add({years:1}))},focusPreviousSection(Dt){if(!Dt&&!Xe.days){pt(xt.subtract($131cf43a05231e1e$var$unitDuration(Xe)));return}Xe.days?this.focusPreviousPage():Xe.weeks?pt(xt.subtract({months:1})):(Xe.months||Xe.years)&&pt(xt.subtract({years:1}))},selectFocusedDate(){st&&st(xt)||mt(xt)},selectDate(Dt){mt(Dt)},isFocused:Ct,setFocused:Rt,isInvalid(Dt){return $f62d864046160412$export$eac50920cf2fd59a(Dt,et,tt)},isSelected(Dt){return ft!=null&&$14e0f24ef4ac5c92$export$ea39ec197993aef0(Dt,ft)&&!this.isCellDisabled(Dt)&&!this.isCellUnavailable(Dt)},isCellFocused(Dt){return Ct&&xt&&$14e0f24ef4ac5c92$export$ea39ec197993aef0(Dt,xt)},isCellDisabled(Dt){return e.isDisabled||Dt.compare(bt)<0||Dt.compare(jt)>0||this.isInvalid(Dt)},isCellUnavailable(Dt){return e.isDateUnavailable?e.isDateUnavailable(Dt):!1},isPreviousVisibleRangeInvalid(){let Dt=bt.subtract({days:1});return $14e0f24ef4ac5c92$export$ea39ec197993aef0(Dt,bt)||this.isInvalid(Dt)},isNextVisibleRangeInvalid(){let Dt=jt.add({days:1});return $14e0f24ef4ac5c92$export$ea39ec197993aef0(Dt,jt)||this.isInvalid(Dt)},getDatesInWeek(Dt,It=bt){let Ot=It.add({weeks:Dt}),Mt=[];Ot=$14e0f24ef4ac5c92$export$42c81a444fbfb5d4(Ot,Ye,nt);let Kt=$14e0f24ef4ac5c92$export$2061056d06d7cdf7(Ot,Ye,nt);for(let qt=0;qt<Kt;qt++)Mt.push(null);for(;Mt.length<7;){Mt.push(Ot);let qt=Ot.add({days:1});if($14e0f24ef4ac5c92$export$ea39ec197993aef0(Ot,qt))break;Ot=qt}for(;Mt.length<7;)Mt.push(null);return Mt}}}function $131cf43a05231e1e$var$unitDuration(e){let t={...e};for(let Ke in e)t[Ke]=1;return t}var $b3427c06585c22a0$exports={};$b3427c06585c22a0$exports={rangeOverflow:e=>`    ${e.maxValue}   .`,rangeReversed:"       .",rangeUnderflow:e=>`    ${e.minValue}   .`,unavailableDate:"   ."};var $d282528f459122b9$exports={};$d282528f459122b9$exports={rangeOverflow:e=>`    ${e.maxValue}  -.`,rangeReversed:"      .",rangeUnderflow:e=>`    ${e.minValue}  -.`,unavailableDate:"    ."};var $2d5eecd634a9ca45$exports={};$2d5eecd634a9ca45$exports={rangeOverflow:e=>`Hodnota mus bt ${e.maxValue} nebo dvj.`,rangeReversed:"Datum zahjen mus pedchzet datu ukonen.",rangeUnderflow:e=>`Hodnota mus bt ${e.minValue} nebo pozdj.`,unavailableDate:"Vybran datum nen k dispozici."};var $c8e2288226c24a67$exports={};$c8e2288226c24a67$exports={rangeOverflow:e=>`Vrdien skal vre ${e.maxValue} eller tidligere.`,rangeReversed:"Startdatoen skal vre fr slutdatoen.",rangeUnderflow:e=>`Vrdien skal vre ${e.minValue} eller nyere.`,unavailableDate:"Den valgte dato er ikke tilgngelig."};var $6f5745e389c346d7$exports={};$6f5745e389c346d7$exports={rangeOverflow:e=>`Der Wert muss ${e.maxValue} oder frher sein.`,rangeReversed:"Das Startdatum muss vor dem Enddatum liegen.",rangeUnderflow:e=>`Der Wert muss ${e.minValue} oder spter sein.`,unavailableDate:"Das ausgewhlte Datum ist nicht verfgbar."};var $8c882ccf4300d1da$exports={};$8c882ccf4300d1da$exports={rangeOverflow:e=>`     ${e.maxValue}  .`,rangeReversed:"          .",rangeUnderflow:e=>`     ${e.minValue}  .`,unavailableDate:"     ."};var $22195056771860be$exports={};$22195056771860be$exports={rangeUnderflow:e=>`Value must be ${e.minValue} or later.`,rangeOverflow:e=>`Value must be ${e.maxValue} or earlier.`,rangeReversed:"Start date must be before end date.",unavailableDate:"Selected date unavailable."};var $cedfa43b4e2a5906$exports={};$cedfa43b4e2a5906$exports={rangeOverflow:e=>`El valor debe ser ${e.maxValue} o anterior.`,rangeReversed:"La fecha de inicio debe ser anterior a la fecha de finalizacin.",rangeUnderflow:e=>`El valor debe ser ${e.minValue} o posterior.`,unavailableDate:"Fecha seleccionada no disponible."};var $eeeaa8daee3601c7$exports={};$eeeaa8daee3601c7$exports={rangeOverflow:e=>`Vrtus peab olema ${e.maxValue} vi varasem.`,rangeReversed:"Alguskuupev peab olema enne lppkuupeva.",rangeUnderflow:e=>`Vrtus peab olema ${e.minValue} vi hilisem.`,unavailableDate:"Valitud kuupev pole saadaval."};var $35e0614a49b3bb40$exports={};$35e0614a49b3bb40$exports={rangeOverflow:e=>`Arvon on oltava ${e.maxValue} tai sit aikaisempi.`,rangeReversed:"Aloituspivn on oltava ennen lopetuspiv.",rangeUnderflow:e=>`Arvon on oltava ${e.minValue} tai sit myhisempi.`,unavailableDate:"Valittu pivmr ei ole kytettviss."};var $929bc63f7705a78f$exports={};$929bc63f7705a78f$exports={rangeOverflow:e=>`La valeur doit tre ${e.maxValue} ou antrieure.`,rangeReversed:"La date de dbut doit tre antrieure  la date de fin.",rangeUnderflow:e=>`La valeur doit tre ${e.minValue} ou ultrieure.`,unavailableDate:"La date slectionne nest pas disponible."};var $9a28d073b034d183$exports={};$9a28d073b034d183$exports={rangeOverflow:e=>`   ${e.maxValue}   .`,rangeReversed:"      .",rangeUnderflow:e=>`   ${e.minValue}   .`,unavailableDate:"   ."};var $7743e79780ebcca3$exports={};$7743e79780ebcca3$exports={rangeOverflow:e=>`Vrijednost mora biti ${e.maxValue} ili ranije.`,rangeReversed:"Datum poetka mora biti prije datuma zavretka.",rangeUnderflow:e=>`Vrijednost mora biti ${e.minValue} ili kasnije.`,unavailableDate:"Odabrani datum nije dostupan."};var $3351817a04898858$exports={};$3351817a04898858$exports={rangeOverflow:e=>`Az rtknek ${e.maxValue} vagy korbbinak kell lennie.`,rangeReversed:"A kezd dtumnak a befejez dtumnl korbbinak kell lennie.",rangeUnderflow:e=>`Az rtknek ${e.minValue} vagy ksbbinek kell lennie.`,unavailableDate:"A kivlasztott dtum nem rhet el."};var $4120bdb1d03484db$exports={};$4120bdb1d03484db$exports={rangeOverflow:e=>`Il valore deve essere ${e.maxValue} o precedente.`,rangeReversed:"La data di inizio deve essere antecedente alla data di fine.",rangeUnderflow:e=>`Il valore deve essere ${e.minValue} o successivo.`,unavailableDate:"Data selezionata non disponibile."};var $65e5e1569f34ea4f$exports={};$65e5e1569f34ea4f$exports={rangeOverflow:e=>` ${e.maxValue} `,rangeReversed:"",rangeUnderflow:e=>` ${e.minValue} `,unavailableDate:""};var $d34552a7550967e7$exports={};$d34552a7550967e7$exports={rangeOverflow:e=>` ${e.maxValue}  .`,rangeReversed:"   .",rangeUnderflow:e=>` ${e.minValue}  .`,unavailableDate:"    ."};var $8f855bffe63f6eca$exports={};$8f855bffe63f6eca$exports={rangeOverflow:e=>`Reikm turi bti ${e.maxValue} arba ankstesn.`,rangeReversed:"Pradios data turi bti ankstesn nei pabaigos data.",rangeUnderflow:e=>`Reikm turi bti ${e.minValue} arba naujesn.`,unavailableDate:"Pasirinkta data nepasiekiama."};var $ce40f46d09034645$exports={};$ce40f46d09034645$exports={rangeOverflow:e=>`Vrtbai ir jbt ${e.maxValue} vai agrkai.`,rangeReversed:"Skuma datumam ir jbt pirms beigu datuma.",rangeUnderflow:e=>`Vrtbai ir jbt ${e.minValue} vai vlkai.`,unavailableDate:"Atlastais datums nav pieejams."};var $dd1a9a73340c793e$exports={};$dd1a9a73340c793e$exports={rangeOverflow:e=>`Verdien m vre ${e.maxValue} eller tidligere.`,rangeReversed:"Startdatoen m vre fr sluttdatoen.",rangeUnderflow:e=>`Verdien m vre ${e.minValue} eller senere.`,unavailableDate:"Valgt dato utilgjengelig."};var $4ee1fb3f0cbe6f59$exports={};$4ee1fb3f0cbe6f59$exports={rangeOverflow:e=>`Waarde moet ${e.maxValue} of eerder zijn.`,rangeReversed:"De startdatum moet voor de einddatum liggen.",rangeUnderflow:e=>`Waarde moet ${e.minValue} of later zijn.`,unavailableDate:"Geselecteerde datum niet beschikbaar."};var $c85829aebb0bc94b$exports={};$c85829aebb0bc94b$exports={rangeOverflow:e=>`Warto musi mie warto ${e.maxValue} lub wczeniejsz.`,rangeReversed:"Data rozpoczcia musi by wczeniejsza ni data zakoczenia.",rangeUnderflow:e=>`Warto musi mie warto ${e.minValue} lub pniejsz.`,unavailableDate:"Wybrana data jest niedostpna."};var $27f5cd2291ca8a02$exports={};$27f5cd2291ca8a02$exports={rangeOverflow:e=>`O valor deve ser ${e.maxValue} ou anterior.`,rangeReversed:"A data inicial deve ser anterior  data final.",rangeUnderflow:e=>`O valor deve ser ${e.minValue} ou posterior.`,unavailableDate:"Data selecionada indisponvel."};var $e046fdccd69bea8e$exports={};$e046fdccd69bea8e$exports={rangeOverflow:e=>`O valor tem de ser ${e.maxValue} ou anterior.`,rangeReversed:"A data de incio deve ser anterior  data de fim.",rangeUnderflow:e=>`O valor tem de ser ${e.minValue} ou posterior.`,unavailableDate:"Data selecionada indisponvel."};var $fa5f88e804986547$exports={};$fa5f88e804986547$exports={rangeOverflow:e=>`Valoarea trebuie s fie ${e.maxValue} sau anterioar.`,rangeReversed:"Data de nceput trebuie s fie anterioar datei de sfrit.",rangeUnderflow:e=>`Valoarea trebuie s fie ${e.minValue} sau ulterioar.`,unavailableDate:"Data selectat nu este disponibil."};var $28e4714602d1b568$exports={};$28e4714602d1b568$exports={rangeOverflow:e=>`     ${e.maxValue}.`,rangeReversed:"     .",rangeUnderflow:e=>`     ${e.minValue}.`,unavailableDate:"  ."};var $4e3bc8cf783ad569$exports={};$4e3bc8cf783ad569$exports={rangeOverflow:e=>`Hodnota mus by ${e.maxValue} alebo skoria.`,rangeReversed:"Dtum zaiatku mus by skor ako dtum konca.",rangeUnderflow:e=>`Hodnota mus by ${e.minValue} alebo neskoria.`,unavailableDate:"Vybrat dtum je nedostupn."};var $bee07513333bdc15$exports={};$bee07513333bdc15$exports={rangeOverflow:e=>`Vrednost mora biti ${e.maxValue} ali stareja.`,rangeReversed:"Zaetni datum mora biti pred konnim datumom.",rangeUnderflow:e=>`Vrednost mora biti ${e.minValue} ali noveja.`,unavailableDate:"Izbrani datum ni na voljo."};var $7ed9c6fad16a15ec$exports={};$7ed9c6fad16a15ec$exports={rangeOverflow:e=>`Vrednost mora da bude ${e.maxValue} ili starija.`,rangeReversed:"Datum poetka mora biti pre datuma zavretka.",rangeUnderflow:e=>`Vrednost mora da bude ${e.minValue} ili novija.`,unavailableDate:"Izabrani datum nije dostupan."};var $8bef6d5a236de86c$exports={};$8bef6d5a236de86c$exports={rangeOverflow:e=>`Vrdet mste vara ${e.maxValue} eller tidigare.`,rangeReversed:"Startdatumet mste vara fre slutdatumet.",rangeUnderflow:e=>`Vrdet mste vara ${e.minValue} eller senare.`,unavailableDate:"Det valda datumet r inte tillgngligt."};var $098b9a2d2340cfc5$exports={};$098b9a2d2340cfc5$exports={rangeOverflow:e=>`Deer, ${e.maxValue} veya ncesi olmaldr.`,rangeReversed:"Balang tarihi biti tarihinden nce olmaldr.",rangeUnderflow:e=>`Deer, ${e.minValue} veya sonras olmaldr.`,unavailableDate:"Seilen tarih kullanlamyor."};var $54a862ea7fad7419$exports={};$54a862ea7fad7419$exports={rangeOverflow:e=>`     ${e.maxValue}.`,rangeReversed:"     .",rangeUnderflow:e=>`     ${e.minValue}.`,unavailableDate:"  ."};var $e6cc491d590dfda5$exports={};$e6cc491d590dfda5$exports={rangeOverflow:e=>` ${e.maxValue} `,rangeReversed:"",rangeUnderflow:e=>` ${e.minValue} `,unavailableDate:""};var $9aebf53181a474bd$exports={};$9aebf53181a474bd$exports={rangeOverflow:e=>` ${e.maxValue} `,rangeReversed:"",rangeUnderflow:e=>` ${e.minValue} `,unavailableDate:""};var $452ac34de8c2444e$exports={};$452ac34de8c2444e$exports={"ar-AE":$b3427c06585c22a0$exports,"bg-BG":$d282528f459122b9$exports,"cs-CZ":$2d5eecd634a9ca45$exports,"da-DK":$c8e2288226c24a67$exports,"de-DE":$6f5745e389c346d7$exports,"el-GR":$8c882ccf4300d1da$exports,"en-US":$22195056771860be$exports,"es-ES":$cedfa43b4e2a5906$exports,"et-EE":$eeeaa8daee3601c7$exports,"fi-FI":$35e0614a49b3bb40$exports,"fr-FR":$929bc63f7705a78f$exports,"he-IL":$9a28d073b034d183$exports,"hr-HR":$7743e79780ebcca3$exports,"hu-HU":$3351817a04898858$exports,"it-IT":$4120bdb1d03484db$exports,"ja-JP":$65e5e1569f34ea4f$exports,"ko-KR":$d34552a7550967e7$exports,"lt-LT":$8f855bffe63f6eca$exports,"lv-LV":$ce40f46d09034645$exports,"nb-NO":$dd1a9a73340c793e$exports,"nl-NL":$4ee1fb3f0cbe6f59$exports,"pl-PL":$c85829aebb0bc94b$exports,"pt-BR":$27f5cd2291ca8a02$exports,"pt-PT":$e046fdccd69bea8e$exports,"ro-RO":$fa5f88e804986547$exports,"ru-RU":$28e4714602d1b568$exports,"sk-SK":$4e3bc8cf783ad569$exports,"sl-SI":$bee07513333bdc15$exports,"sr-SP":$7ed9c6fad16a15ec$exports,"sv-SE":$8bef6d5a236de86c$exports,"tr-TR":$098b9a2d2340cfc5$exports,"uk-UA":$54a862ea7fad7419$exports,"zh-CN":$e6cc491d590dfda5$exports,"zh-TW":$9aebf53181a474bd$exports};function $parcel$interopDefault(e){return e&&e.__esModule?e.default:e}const $35a22f14a1f04b11$var$dictionary=new $5b160d28a433310d$export$c17fa47878dc55b6($parcel$interopDefault($452ac34de8c2444e$exports));function $35a22f14a1f04b11$var$getLocale(){let e=typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch{e="en-US"}return e}function $35a22f14a1f04b11$export$f18627323ab57ac0(e,t,Ke,Ye,Je){let Xe=e!=null&&Ke!=null&&e.compare(Ke)>0,et=e!=null&&t!=null&&e.compare(t)<0,tt=e!=null&&Ye?.(e)||!1,rt=Xe||et||tt,st=[];if(rt){let at=$35a22f14a1f04b11$var$getLocale(),nt=$5b160d28a433310d$export$c17fa47878dc55b6.getGlobalDictionaryForPackage("@react-stately/datepicker")||$35a22f14a1f04b11$var$dictionary,it=new $6db58dc88e78b024$export$2f817fcdc4b89ae0(at,nt),ot=new $fb18d541ea1ad717$export$ad991b66133851cf(at,$35a22f14a1f04b11$export$7e319ea407e63bc0({},Je)),lt=ot.resolvedOptions().timeZone;et&&t!=null&&st.push(it.format("rangeUnderflow",{minValue:ot.format(t.toDate(lt))})),Xe&&Ke!=null&&st.push(it.format("rangeOverflow",{maxValue:ot.format(Ke.toDate(lt))})),tt&&st.push(it.format("unavailableDate"))}return{isInvalid:rt,validationErrors:st,validationDetails:{badInput:tt,customError:!1,patternMismatch:!1,rangeOverflow:Xe,rangeUnderflow:et,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1,valid:!rt}}}const $35a22f14a1f04b11$var$DEFAULT_FIELD_OPTIONS={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit"},$35a22f14a1f04b11$var$TWO_DIGIT_FIELD_OPTIONS={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"};function $35a22f14a1f04b11$export$7e319ea407e63bc0(e,t){e={...t.shouldForceLeadingZeros?$35a22f14a1f04b11$var$TWO_DIGIT_FIELD_OPTIONS:$35a22f14a1f04b11$var$DEFAULT_FIELD_OPTIONS,...e};let Ye=t.granularity||"minute",Je=Object.keys(e);var Xe;let et=Je.indexOf((Xe=t.maxGranularity)!==null&&Xe!==void 0?Xe:"year");et<0&&(et=0);let tt=Je.indexOf(Ye);if(tt<0&&(tt=2),et>tt)throw new Error("maxGranularity must be greater than granularity");let rt=Je.slice(et,tt+1).reduce((at,nt)=>(at[nt]=e[nt],at),{});return t.hourCycle!=null&&(rt.hour12=t.hourCycle===12),rt.timeZone=t.timeZone||"UTC",(Ye==="hour"||Ye==="minute"||Ye==="second")&&t.timeZone&&!t.hideTimeZone&&(rt.timeZoneName="short"),t.showEra&&et===0&&(rt.era="short"),rt}function $35a22f14a1f04b11$export$c5221a78ef73c5e9(e){return e&&"hour"in e?e:new $35ea8db9cb2ccb90$export$680ea196effce5f}function $35a22f14a1f04b11$export$61a490a80c552550(e,t){if(e===null)return null;if(e)return $11d87f3f76e88657$export$b4a036af3fc0b032(e,t)}function $35a22f14a1f04b11$export$66aa2b09de4b1ea5(e,t,Ke,Ye){if(e)return $35a22f14a1f04b11$export$61a490a80c552550(e,Ke);let Je=$11d87f3f76e88657$export$b4a036af3fc0b032($14e0f24ef4ac5c92$export$461939dd4422153(Ye??$14e0f24ef4ac5c92$export$aa8b41735afcabd2()).set({hour:0,minute:0,second:0,millisecond:0}),Ke);return t==="year"||t==="month"||t==="day"?$11d87f3f76e88657$export$93522d1a439f3617(Je):Ye?Je:$11d87f3f76e88657$export$b21e0b124e224484(Je)}function $35a22f14a1f04b11$export$2440da353cedad43(e,t){let Ke=e&&"timeZone"in e?e.timeZone:void 0,Ye=e&&"minute"in e?"minute":"day";if(e&&t&&!(t in e))throw new Error("Invalid granularity "+t+" for value "+e.toString());let[Je,Xe]=reactExports.useState([Ye,Ke]);e&&(Je[0]!==Ye||Je[1]!==Ke)&&Xe([Ye,Ke]),t||(t=e?Ye:Je[0]);let et=e?Ke:Je[1];return[t,et]}function $ab5bf3f618090389$export$87194bb378cc3ac2(e){let t=$fc909762b330b746$export$61c6a8c84e605fb6(e),[Ke,Ye]=$458b0a5536c1a7cf$export$40bfa8c7b0832715(e.value,e.defaultValue||null,e.onChange),[Je]=reactExports.useState(Ke),Xe=Ke||e.placeholderValue||null,[et,tt]=$35a22f14a1f04b11$export$2440da353cedad43(Xe,e.granularity),rt=Ke!=null?Ke.toDate(tt??"UTC"):null,st=et==="hour"||et==="minute"||et==="second";var at;let nt=(at=e.shouldCloseOnSelect)!==null&&at!==void 0?at:!0,[it,ot]=reactExports.useState(null),[lt,ut]=reactExports.useState(null);if(Ke&&(it=Ke,"hour"in Ke&&(lt=Ke)),Xe&&!(et in Xe))throw new Error("Invalid granularity "+et+" for value "+Xe.toString());let ft=Ke?.calendar.identifier==="gregory"&&Ke.era==="BC",ct=reactExports.useMemo(()=>({granularity:et,timeZone:tt,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle,shouldForceLeadingZeros:e.shouldForceLeadingZeros,showEra:ft}),[et,e.hourCycle,e.shouldForceLeadingZeros,tt,e.hideTimeZone,ft]),{minValue:dt,maxValue:ht,isDateUnavailable:xt}=e,vt=reactExports.useMemo(()=>$35a22f14a1f04b11$export$f18627323ab57ac0(Ke,dt,ht,xt,ct),[Ke,dt,ht,xt,ct]),bt=$e5be200c675c3b3a$export$fc1a364ae1f3ff10({...e,value:Ke,builtinValidation:vt}),_t=bt.displayValidation.isInvalid,Ct=e.validationState||(_t?"invalid":null),Rt=(pt,mt)=>{Ye("timeZone"in mt?mt.set($11d87f3f76e88657$export$93522d1a439f3617(pt)):$11d87f3f76e88657$export$b21e0b124e224484(pt,mt)),ot(null),ut(null),bt.commitValidation()},jt=pt=>{let mt=typeof nt=="function"?nt():nt;st?lt||mt?Rt(pt,lt||$35a22f14a1f04b11$export$c5221a78ef73c5e9(e.defaultValue||e.placeholderValue)):ot(pt):(Ye(pt),bt.commitValidation()),mt&&t.setOpen(!1)},yt=pt=>{it&&pt?Rt(it,pt):ut(pt)};var Et;return{...bt,value:Ke,defaultValue:(Et=e.defaultValue)!==null&&Et!==void 0?Et:Je,setValue:Ye,dateValue:it,timeValue:lt,setDateValue:jt,setTimeValue:yt,granularity:et,hasTime:st,...t,setOpen(pt){!pt&&!Ke&&it&&st&&Rt(it,lt||$35a22f14a1f04b11$export$c5221a78ef73c5e9(e.defaultValue||e.placeholderValue)),t.setOpen(pt)},validationState:Ct,isInvalid:_t,formatValue(pt,mt){if(!rt)return"";let gt=$35a22f14a1f04b11$export$7e319ea407e63bc0(mt,ct);return new $fb18d541ea1ad717$export$ad991b66133851cf(pt,gt).format(rt)},getDateFormatter(pt,mt){let gt={...ct,...mt},St=$35a22f14a1f04b11$export$7e319ea407e63bc0({},gt);return new $fb18d541ea1ad717$export$ad991b66133851cf(pt,St)}}}const $3e3ed55ab2966714$var$placeholders=new $5b160d28a433310d$export$c17fa47878dc55b6({ach:{year:"mwaka",month:"dwe",day:"nino"},af:{year:"jjjj",month:"mm",day:"dd"},am:{year:"",month:"",day:""},an:{year:"aaaa",month:"mm",day:"dd"},ar:{year:"",month:"",day:""},ast:{year:"aaaa",month:"mm",day:"dd"},az:{year:"iiii",month:"aa",day:"gg"},be:{year:"",month:"",day:""},bg:{year:"",month:"",day:""},bn:{year:"yyyy",month:"",day:"dd"},br:{year:"bbbb",month:"mm",day:"dd"},bs:{year:"gggg",month:"mm",day:"dd"},ca:{year:"aaaa",month:"mm",day:"dd"},cak:{year:"jjjj",month:"ii",day:"q'q'"},ckb:{year:"",month:"",day:""},cs:{year:"rrrr",month:"mm",day:"dd"},cy:{year:"bbbb",month:"mm",day:"dd"},da:{year:"",month:"mm",day:"dd"},de:{year:"jjjj",month:"mm",day:"tt"},dsb:{year:"llll",month:"mm",day:""},el:{year:"",month:"",day:""},en:{year:"yyyy",month:"mm",day:"dd"},eo:{year:"jjjj",month:"mm",day:"tt"},es:{year:"aaaa",month:"mm",day:"dd"},et:{year:"aaaa",month:"kk",day:"pp"},eu:{year:"uuuu",month:"hh",day:"ee"},fa:{year:"",month:"",day:""},ff:{year:"hhhh",month:"ll",day:""},fi:{year:"vvvv",month:"kk",day:"pp"},fr:{year:"aaaa",month:"mm",day:"jj"},fy:{year:"jjjj",month:"mm",day:"dd"},ga:{year:"bbbb",month:"mm",day:"ll"},gd:{year:"bbbb",month:"mm",day:"ll"},gl:{year:"aaaa",month:"mm",day:"dd"},he:{year:"",month:"",day:""},hr:{year:"gggg",month:"mm",day:"dd"},hsb:{year:"llll",month:"mm",day:"dd"},hu:{year:"",month:"hh",day:"nn"},ia:{year:"aaaa",month:"mm",day:"dd"},id:{year:"tttt",month:"bb",day:"hh"},it:{year:"aaaa",month:"mm",day:"gg"},ja:{year:"",month:"",day:""},ka:{year:"",month:"",day:""},kk:{year:"",month:"",day:""},kn:{year:"",month:"",day:""},ko:{year:"",month:"",day:""},lb:{year:"jjjj",month:"mm",day:"dd"},lo:{year:"",month:"",day:""},lt:{year:"mmmm",month:"mm",day:"dd"},lv:{year:"gggg",month:"mm",day:"dd"},meh:{year:"aaaa",month:"mm",day:"dd"},ml:{year:"",month:"",day:""},ms:{year:"tttt",month:"mm",day:"hh"},nb:{year:"",month:"mm",day:"dd"},nl:{year:"jjjj",month:"mm",day:"dd"},nn:{year:"",month:"mm",day:"dd"},no:{year:"",month:"mm",day:"dd"},oc:{year:"aaaa",month:"mm",day:"jj"},pl:{year:"rrrr",month:"mm",day:"dd"},pt:{year:"aaaa",month:"mm",day:"dd"},rm:{year:"oooo",month:"mm",day:"dd"},ro:{year:"aaaa",month:"ll",day:"zz"},ru:{year:"",month:"",day:""},sc:{year:"aaaa",month:"mm",day:"dd"},scn:{year:"aaaa",month:"mm",day:"jj"},sk:{year:"rrrr",month:"mm",day:"dd"},sl:{year:"llll",month:"mm",day:"dd"},sr:{year:"",month:"",day:""},sv:{year:"",month:"mm",day:"dd"},szl:{year:"rrrr",month:"mm",day:"dd"},tg:{year:"",month:"",day:""},th:{year:"",month:"",day:""},tr:{year:"yyyy",month:"aa",day:"gg"},uk:{year:"",month:"",day:""},"zh-CN":{year:"",month:"",day:""},"zh-TW":{year:"",month:"",day:""}},"en");function $3e3ed55ab2966714$export$d3f5c5e0a5023fa0(e,t,Ke){return e==="era"||e==="dayPeriod"?t:e==="year"||e==="month"||e==="day"?$3e3ed55ab2966714$var$placeholders.getStringForLocale(e,Ke):""}const $3c0fc76039f1c516$var$EDITABLE_SEGMENTS={year:!0,month:!0,day:!0,hour:!0,minute:!0,second:!0,dayPeriod:!0,era:!0},$3c0fc76039f1c516$var$PAGE_STEP={year:5,month:2,day:7,hour:2,minute:15,second:15},$3c0fc76039f1c516$var$TYPE_MAPPING={dayperiod:"dayPeriod",relatedYear:"year",yearName:"literal",unknown:"literal"};function $3c0fc76039f1c516$export$60e84778edff6d26(e){let{locale:t,createCalendar:Ke,hideTimeZone:Ye,isDisabled:Je=!1,isReadOnly:Xe=!1,isRequired:et=!1,minValue:tt,maxValue:rt,isDateUnavailable:st}=e,at=e.value||e.defaultValue||e.placeholderValue||null,[nt,it]=$35a22f14a1f04b11$export$2440da353cedad43(at,e.granularity),ot=it||"UTC";if(at&&!(nt in at))throw new Error("Invalid granularity "+nt+" for value "+at.toString());let lt=reactExports.useMemo(()=>new $fb18d541ea1ad717$export$ad991b66133851cf(t),[t]),ut=reactExports.useMemo(()=>Ke(lt.resolvedOptions().calendar),[Ke,lt]);var ft;let[ct,dt]=$458b0a5536c1a7cf$export$40bfa8c7b0832715(e.value,(ft=e.defaultValue)!==null&&ft!==void 0?ft:null,e.onChange),[ht]=reactExports.useState(ct),xt=reactExports.useMemo(()=>{var Pt;return(Pt=$35a22f14a1f04b11$export$61a490a80c552550(ct,ut))!==null&&Pt!==void 0?Pt:null},[ct,ut]),[vt,bt]=reactExports.useState(()=>$35a22f14a1f04b11$export$66aa2b09de4b1ea5(e.placeholderValue,nt,ut,it)),_t=xt||vt,Ct=ut.identifier==="gregory"&&_t.era==="BC",Rt=reactExports.useMemo(()=>{var Pt;return{granularity:nt,maxGranularity:(Pt=e.maxGranularity)!==null&&Pt!==void 0?Pt:"year",timeZone:it,hideTimeZone:Ye,hourCycle:e.hourCycle,showEra:Ct,shouldForceLeadingZeros:e.shouldForceLeadingZeros}},[e.maxGranularity,nt,e.hourCycle,e.shouldForceLeadingZeros,it,Ye,Ct]),jt=reactExports.useMemo(()=>$35a22f14a1f04b11$export$7e319ea407e63bc0({},Rt),[Rt]),yt=reactExports.useMemo(()=>new $fb18d541ea1ad717$export$ad991b66133851cf(t,jt),[t,jt]),Et=reactExports.useMemo(()=>yt.resolvedOptions(),[yt]),pt=reactExports.useMemo(()=>yt.formatToParts(new Date).filter(Pt=>$3c0fc76039f1c516$var$EDITABLE_SEGMENTS[Pt.type]).reduce((Pt,Ft)=>(Pt[$3c0fc76039f1c516$var$TYPE_MAPPING[Ft.type]||Ft.type]=!0,Pt),{}),[yt]),[mt,gt]=reactExports.useState(()=>e.value||e.defaultValue?{...pt}:{}),St=reactExports.useRef(null),wt=reactExports.useRef(ut);reactExports.useEffect(()=>{$14e0f24ef4ac5c92$export$dbc69fd56b53d5e(ut,wt.current)||(wt.current=ut,bt(Pt=>Object.keys(mt).length>0?$11d87f3f76e88657$export$b4a036af3fc0b032(Pt,ut):$35a22f14a1f04b11$export$66aa2b09de4b1ea5(e.placeholderValue,nt,ut,it)))},[ut,nt,mt,it,e.placeholderValue]),ct&&Object.keys(mt).length<Object.keys(pt).length&&(mt={...pt},gt(mt)),ct==null&&Object.keys(mt).length===Object.keys(pt).length&&(mt={},gt(mt),bt($35a22f14a1f04b11$export$66aa2b09de4b1ea5(e.placeholderValue,nt,ut,it)));let $t=xt&&Object.keys(mt).length>=Object.keys(pt).length?xt:vt,Tt=Pt=>{if(e.isDisabled||e.isReadOnly)return;let Ft=Object.keys(mt),Ut=Object.keys(pt);Pt==null?(dt(null),bt($35a22f14a1f04b11$export$66aa2b09de4b1ea5(e.placeholderValue,nt,ut,it)),gt({})):Ft.length===0&&St.current==null||Ft.length>=Ut.length||Ft.length===Ut.length-1&&pt.dayPeriod&&!mt.dayPeriod&&St.current!=="dayPeriod"?(Ft.length===0&&(mt={...pt},gt(mt)),Pt=$11d87f3f76e88657$export$b4a036af3fc0b032(Pt,at?.calendar||new $3b62074eb05584b2$export$80ee6245ec4f29ec),dt(Pt)):bt(Pt),St.current=null},At=reactExports.useMemo(()=>$t.toDate(ot),[$t,ot]),Dt=reactExports.useMemo(()=>$3c0fc76039f1c516$var$processSegments(At,mt,yt,Et,$t,ut,t,nt),[At,mt,yt,Et,$t,ut,t,nt]);pt.era&&mt.year&&!mt.era?(mt.era=!0,gt({...mt})):!pt.era&&mt.era&&(delete mt.era,gt({...mt}));let It=Pt=>{mt[Pt]=!0,Pt==="year"&&pt.era&&(mt.era=!0),gt({...mt})},Ot=(Pt,Ft)=>{if(mt[Pt])Tt($3c0fc76039f1c516$var$addSegment($t,Pt,Ft,Et));else{It(Pt);let Ut=Object.keys(mt),Ht=Object.keys(pt);(Ut.length>=Ht.length||Ut.length===Ht.length-1&&pt.dayPeriod&&!mt.dayPeriod)&&Tt($t)}},Mt=reactExports.useMemo(()=>$35a22f14a1f04b11$export$f18627323ab57ac0(ct,tt,rt,st,Rt),[ct,tt,rt,st,Rt]),Kt=$e5be200c675c3b3a$export$fc1a364ae1f3ff10({...e,value:ct,builtinValidation:Mt}),qt=Kt.displayValidation.isInvalid,Bt=e.validationState||(qt?"invalid":null);var kt,Nt;return{...Kt,value:xt,defaultValue:(kt=e.defaultValue)!==null&&kt!==void 0?kt:ht,dateValue:At,calendar:ut,setValue:Tt,segments:Dt,dateFormatter:yt,validationState:Bt,isInvalid:qt,granularity:nt,maxGranularity:(Nt=e.maxGranularity)!==null&&Nt!==void 0?Nt:"year",isDisabled:Je,isReadOnly:Xe,isRequired:et,increment(Pt){Ot(Pt,1)},decrement(Pt){Ot(Pt,-1)},incrementPage(Pt){Ot(Pt,$3c0fc76039f1c516$var$PAGE_STEP[Pt]||1)},decrementPage(Pt){Ot(Pt,-($3c0fc76039f1c516$var$PAGE_STEP[Pt]||1))},setSegment(Pt,Ft){It(Pt),Tt($3c0fc76039f1c516$var$setSegment($t,Pt,Ft,Et))},confirmPlaceholder(){if(e.isDisabled||e.isReadOnly)return;let Pt=Object.keys(mt),Ft=Object.keys(pt);Pt.length===Ft.length-1&&pt.dayPeriod&&!mt.dayPeriod&&(mt={...pt},gt(mt),Tt($t.copy()))},clearSegment(Pt){delete mt[Pt],St.current=Pt,gt({...mt});let Ft=$35a22f14a1f04b11$export$66aa2b09de4b1ea5(e.placeholderValue,nt,ut,it),Ut=$t;if(Pt==="dayPeriod"&&"hour"in $t&&"hour"in Ft){let Ht=$t.hour>=12,Zt=Ft.hour>=12;Ht&&!Zt?Ut=$t.set({hour:$t.hour-12}):!Ht&&Zt&&(Ut=$t.set({hour:$t.hour+12}))}else Pt==="hour"&&"hour"in $t&&$t.hour>=12&&mt.dayPeriod?Ut=$t.set({hour:Ft.hour+12}):Pt in $t&&(Ut=$t.set({[Pt]:Ft[Pt]}));dt(null),Tt(Ut)},formatValue(Pt){if(!xt)return"";let Ft=$35a22f14a1f04b11$export$7e319ea407e63bc0(Pt,Rt);return new $fb18d541ea1ad717$export$ad991b66133851cf(t,Ft).format(At)},getDateFormatter(Pt,Ft){let Ut={...Rt,...Ft},Ht=$35a22f14a1f04b11$export$7e319ea407e63bc0({},Ut);return new $fb18d541ea1ad717$export$ad991b66133851cf(Pt,Ht)}}}function $3c0fc76039f1c516$var$processSegments(e,t,Ke,Ye,Je,Xe,et,tt){let rt=["hour","minute","second"],st=Ke.formatToParts(e),at=[];for(let nt of st){let it=$3c0fc76039f1c516$var$TYPE_MAPPING[nt.type]||nt.type,ot=$3c0fc76039f1c516$var$EDITABLE_SEGMENTS[it];it==="era"&&Xe.getEras().length===1&&(ot=!1);let lt=$3c0fc76039f1c516$var$EDITABLE_SEGMENTS[it]&&!t[it],ut=$3c0fc76039f1c516$var$EDITABLE_SEGMENTS[it]?$3e3ed55ab2966714$export$d3f5c5e0a5023fa0(it,nt.value,et):null,ft={type:it,text:lt?ut:nt.value,...$3c0fc76039f1c516$var$getSegmentLimits(Je,it,Ye),isPlaceholder:lt,placeholder:ut,isEditable:ot};it==="hour"?(at.push({type:"literal",text:"",...$3c0fc76039f1c516$var$getSegmentLimits(Je,"literal",Ye),isPlaceholder:!1,placeholder:"",isEditable:!1}),at.push(ft),it===tt&&at.push({type:"literal",text:"",...$3c0fc76039f1c516$var$getSegmentLimits(Je,"literal",Ye),isPlaceholder:!1,placeholder:"",isEditable:!1})):rt.includes(it)&&it===tt?(at.push(ft),at.push({type:"literal",text:"",...$3c0fc76039f1c516$var$getSegmentLimits(Je,"literal",Ye),isPlaceholder:!1,placeholder:"",isEditable:!1})):at.push(ft)}return at}function $3c0fc76039f1c516$var$getSegmentLimits(e,t,Ke){switch(t){case"era":{let Ye=e.calendar.getEras();return{value:Ye.indexOf(e.era),minValue:0,maxValue:Ye.length-1}}case"year":return{value:e.year,minValue:1,maxValue:e.calendar.getYearsInEra(e)};case"month":return{value:e.month,minValue:$14e0f24ef4ac5c92$export$5412ac11713b72ad(e),maxValue:e.calendar.getMonthsInYear(e)};case"day":return{value:e.day,minValue:$14e0f24ef4ac5c92$export$b2f4953d301981d5(e),maxValue:e.calendar.getDaysInMonth(e)}}if("hour"in e)switch(t){case"dayPeriod":return{value:e.hour>=12?12:0,minValue:0,maxValue:12};case"hour":if(Ke.hour12){let Ye=e.hour>=12;return{value:e.hour,minValue:Ye?12:0,maxValue:Ye?23:11}}return{value:e.hour,minValue:0,maxValue:23};case"minute":return{value:e.minute,minValue:0,maxValue:59};case"second":return{value:e.second,minValue:0,maxValue:59}}return{}}function $3c0fc76039f1c516$var$addSegment(e,t,Ke,Ye){switch(t){case"era":case"year":case"month":case"day":return e.cycle(t,Ke,{round:t==="year"})}if("hour"in e)switch(t){case"dayPeriod":{let Je=e.hour,Xe=Je>=12;return e.set({hour:Xe?Je-12:Je+12})}case"hour":case"minute":case"second":return e.cycle(t,Ke,{round:t!=="hour",hourCycle:Ye.hour12?12:24})}throw new Error("Unknown segment: "+t)}function $3c0fc76039f1c516$var$setSegment(e,t,Ke,Ye){switch(t){case"day":case"month":case"year":case"era":return e.set({[t]:Ke})}if("hour"in e&&typeof Ke=="number")switch(t){case"dayPeriod":{let Je=e.hour,Xe=Je>=12;return Ke>=12===Xe?e:e.set({hour:Xe?Je-12:Je+12})}case"hour":if(Ye.hour12){let Xe=e.hour>=12;!Xe&&Ke===12&&(Ke=0),Xe&&Ke<12&&(Ke+=12)}case"minute":case"second":return e.set({[t]:Ke})}throw new Error("Unknown segment: "+t)}const $dfd62f934fc76fed$export$3b805cea1f178355=reactExports.createContext(null),$dfd62f934fc76fed$export$233dd9682e1ad64b=reactExports.createContext(null),$dfd62f934fc76fed$export$9e31dcedda1dadc7=reactExports.createContext(null),$dfd62f934fc76fed$export$5e0fc348c00f87a0=reactExports.createContext(null),$dfd62f934fc76fed$export$e1aef45b828286de=reactExports.forwardRef(function(t,Ke){[t,Ke]=$64fa3d84918910a7$export$29f1550f4b0d4415(t,Ke,$dfd62f934fc76fed$export$3b805cea1f178355);let{locale:Ye}=$18f2051aff69b9bf$export$43bb16f9c6d9e3f7(),Je=$131cf43a05231e1e$export$6d095e787d2b5e1f({...t,locale:Ye,createCalendar:t.createCalendar||$64244302c3013299$export$dd0bbc9b26defe37}),{calendarProps:Xe,prevButtonProps:et,nextButtonProps:tt,errorMessageProps:rt,title:st}=$9942cad8a072a530$export$3ee915f8151bd4f1(t,Je),at=$64fa3d84918910a7$export$4d86445c2cf5e3({...t,values:{state:Je,isDisabled:t.isDisabled||!1,isInvalid:Je.isValueInvalid},defaultClassName:"react-aria-Calendar"}),nt=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(t,{global:!0});return React.createElement("div",{...$3ef42575df84b30b$export$9d1611c77c2fe928(nt,at,Xe),ref:Ke,slot:t.slot||void 0,"data-disabled":t.isDisabled||void 0,"data-invalid":Je.isValueInvalid||void 0},React.createElement($64fa3d84918910a7$export$2881499e37b75b9a,{values:[[$d2b4bc8c273e7be6$export$24d547caef80ccd1,{slots:{previous:et,next:tt}}],[$4e85f108e88277b8$export$d688439359537581,{"aria-hidden":!0,level:2,children:st}],[$dfd62f934fc76fed$export$9e31dcedda1dadc7,Je],[$dfd62f934fc76fed$export$3b805cea1f178355,t],[$514c0188e459b4c0$export$9afb8bc826b033ea,{slots:{errorMessage:rt}}]]},React.createElement($5c3e21d68f1c4674$export$439d29a4e110a164,null,React.createElement("h2",null,Xe["aria-label"])),at.children,React.createElement($5c3e21d68f1c4674$export$439d29a4e110a164,null,React.createElement("button",{"aria-label":tt["aria-label"],disabled:tt.isDisabled,onClick:()=>Je.focusNextPage(),tabIndex:-1}))))}),$dfd62f934fc76fed$var$InternalCalendarGridContext=reactExports.createContext(null),$dfd62f934fc76fed$export$5bd780d491cfc46c=reactExports.forwardRef(function(t,Ke){let Ye=reactExports.useContext($dfd62f934fc76fed$export$9e31dcedda1dadc7),Je=reactExports.useContext($dfd62f934fc76fed$export$5e0fc348c00f87a0),Xe=$64fa3d84918910a7$export$fabf2dc03a41866e($dfd62f934fc76fed$export$3b805cea1f178355),et=$64fa3d84918910a7$export$fabf2dc03a41866e($dfd62f934fc76fed$export$233dd9682e1ad64b),tt=Ye??Je,rt=tt.visibleRange.start;t.offset&&(rt=rt.add(t.offset));var st;let at=(st=Xe?.firstDayOfWeek)!==null&&st!==void 0?st:et?.firstDayOfWeek,{gridProps:nt,headerProps:it,weekDays:ot,weeksInMonth:lt}=$e3031d1f8c9d64eb$export$cb95147730a423f5({startDate:rt,endDate:$14e0f24ef4ac5c92$export$a2258d9c4118825c(rt),weekdayStyle:t.weekdayStyle,firstDayOfWeek:at},tt),ut=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(t,{global:!0});var ft;return React.createElement($dfd62f934fc76fed$var$InternalCalendarGridContext.Provider,{value:{headerProps:it,weekDays:ot,startDate:rt,weeksInMonth:lt}},React.createElement("table",{...$3ef42575df84b30b$export$9d1611c77c2fe928(ut,nt),ref:Ke,style:t.style,cellPadding:0,className:(ft=t.className)!==null&&ft!==void 0?ft:"react-aria-CalendarGrid"},typeof t.children!="function"?t.children:React.createElement(React.Fragment,null,React.createElement($dfd62f934fc76fed$export$22e2d15eaa4d2377,null,ct=>React.createElement($dfd62f934fc76fed$export$ad2135cac3a11b3d,null,ct)),React.createElement($dfd62f934fc76fed$export$e11f8ba65d857bff,null,t.children))))});function $dfd62f934fc76fed$var$CalendarGridHeader(e,t){let{children:Ke,style:Ye,className:Je}=e,{headerProps:Xe,weekDays:et}=reactExports.useContext($dfd62f934fc76fed$var$InternalCalendarGridContext),tt=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(e,{global:!0});return React.createElement("thead",{...$3ef42575df84b30b$export$9d1611c77c2fe928(tt,Xe),ref:t,style:Ye,className:Je||"react-aria-CalendarGridHeader"},React.createElement("tr",null,et.map((rt,st)=>React.cloneElement(Ke(rt),{key:st}))))}const $dfd62f934fc76fed$export$22e2d15eaa4d2377=reactExports.forwardRef($dfd62f934fc76fed$var$CalendarGridHeader);function $dfd62f934fc76fed$var$CalendarHeaderCell(e,t){let{children:Ke,style:Ye,className:Je}=e,Xe=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(e,{global:!0});return React.createElement("th",{...Xe,ref:t,style:Ye,className:Je||"react-aria-CalendarHeaderCell"},Ke)}const $dfd62f934fc76fed$export$ad2135cac3a11b3d=reactExports.forwardRef($dfd62f934fc76fed$var$CalendarHeaderCell);function $dfd62f934fc76fed$var$CalendarGridBody(e,t){let{children:Ke,style:Ye,className:Je}=e,Xe=reactExports.useContext($dfd62f934fc76fed$export$9e31dcedda1dadc7),et=reactExports.useContext($dfd62f934fc76fed$export$5e0fc348c00f87a0),tt=Xe??et,{startDate:rt,weeksInMonth:st}=reactExports.useContext($dfd62f934fc76fed$var$InternalCalendarGridContext),at=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(e,{global:!0});return React.createElement("tbody",{...at,ref:t,style:Ye,className:Je||"react-aria-CalendarGridBody"},[...new Array(st).keys()].map(nt=>React.createElement("tr",{key:nt},tt.getDatesInWeek(nt,rt).map((it,ot)=>it?React.cloneElement(Ke(it),{key:ot}):React.createElement("td",{key:ot})))))}const $dfd62f934fc76fed$export$e11f8ba65d857bff=reactExports.forwardRef($dfd62f934fc76fed$var$CalendarGridBody),$dfd62f934fc76fed$export$5d847498420df57b=reactExports.forwardRef(function({date:t,...Ke},Ye){let Je=reactExports.useContext($dfd62f934fc76fed$export$9e31dcedda1dadc7),Xe=reactExports.useContext($dfd62f934fc76fed$export$5e0fc348c00f87a0),et=Je??Xe;var tt;let{startDate:rt}=(tt=reactExports.useContext($dfd62f934fc76fed$var$InternalCalendarGridContext))!==null&&tt!==void 0?tt:{startDate:et.visibleRange.start},st=!$14e0f24ef4ac5c92$export$a18c89cbd24170ff(rt,t),at=$14e0f24ef4ac5c92$export$629b0a497aa65267(t,et.timeZone),nt=reactExports.useRef(null),{cellProps:it,buttonProps:ot,...lt}=$36a0ac60f04457c5$export$136073280381448e({date:t,isOutsideMonth:st},et,nt),{hoverProps:ut,isHovered:ft}=$6179b936705e76d3$export$ae780daf29e6d456({...Ke,isDisabled:lt.isDisabled}),{focusProps:ct,isFocusVisible:dt}=$f7dceffc5ad7768b$export$4e328f61c538687f();dt&&(dt=lt.isFocused);let ht=!1,xt=!1;"highlightedRange"in et&&et.highlightedRange&&(ht=$14e0f24ef4ac5c92$export$ea39ec197993aef0(t,et.highlightedRange.start),xt=$14e0f24ef4ac5c92$export$ea39ec197993aef0(t,et.highlightedRange.end));let vt=$64fa3d84918910a7$export$4d86445c2cf5e3({...Ke,defaultChildren:lt.formattedDate,defaultClassName:"react-aria-CalendarCell",values:{date:t,isHovered:ft,isOutsideMonth:st,isFocusVisible:dt,isSelectionStart:ht,isSelectionEnd:xt,isToday:at,...lt}}),bt={"data-focused":lt.isFocused||void 0,"data-hovered":ft||void 0,"data-pressed":lt.isPressed||void 0,"data-unavailable":lt.isUnavailable||void 0,"data-disabled":lt.isDisabled||void 0,"data-focus-visible":dt||void 0,"data-outside-visible-range":lt.isOutsideVisibleRange||void 0,"data-outside-month":st||void 0,"data-selected":lt.isSelected||void 0,"data-selection-start":ht||void 0,"data-selection-end":xt||void 0,"data-invalid":lt.isInvalid||void 0,"data-today":at||void 0},_t=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(Ke,{global:!0});return React.createElement("td",{...it,ref:Ye},React.createElement("div",{...$3ef42575df84b30b$export$9d1611c77c2fe928(_t,ot,ct,ut,bt,vt),ref:nt}))}),$c699643d2073b351$var$dateSegments=["day","month","year"],$c699643d2073b351$var$granularityMap={hour:1,minute:2,second:3};function $c699643d2073b351$export$f6a685cd1acbd1fa(e,t){let{autoComplete:Ke,isDisabled:Ye,name:Je}=e,{visuallyHiddenProps:Xe}=$5c3e21d68f1c4674$export$a966af930f325cab({style:{position:"fixed",top:0,left:0}}),et=60;t.granularity==="second"?et=1:t.granularity==="hour"&&(et=3600);let tt=t.value==null?"":t.value.toString(),rt=t.granularity==="day"?"date":"datetime-local",st=["hour","minute","second"],at=0;return st.includes(t.granularity)&&(at=$c699643d2073b351$var$granularityMap[t.granularity],st=st.slice(0,at)),{containerProps:{...Xe,"aria-hidden":!0,"data-react-aria-prevent-focus":!0,"data-a11y-ignore":"aria-hidden-focus"},inputProps:{tabIndex:-1,autoComplete:Ke,disabled:Ye,type:rt,form:"",name:Je,step:et,value:tt,onChange:nt=>{let it=nt.target.value.toString();if(it)try{let ot=$fae977aafc393c5c$export$588937bcd60ade55(it);if(t.granularity==="day"&&(ot=$fae977aafc393c5c$export$6b862160d295c8e(it)),"setSegment"in t)for(let lt in ot)$c699643d2073b351$var$dateSegments.includes(lt)&&t.setSegment(lt,ot[lt]),st.includes(lt)&&t.setSegment(lt,ot[lt]);t.setValue(ot)}catch{}}}}}function $c699643d2073b351$export$eefa3e19139f00f3(e){let{state:t}=e,{containerProps:Ke,inputProps:Ye}=$c699643d2073b351$export$f6a685cd1acbd1fa({...e},t);return React.createElement("div",{...Ke,"data-testid":"hidden-dateinput-container"},React.createElement("input",Ye))}const $40825cdb76e74f70$export$7b3e670c86da5fe8=reactExports.createContext(null),$40825cdb76e74f70$export$3b08bebcf796eea0=reactExports.createContext(null),$40825cdb76e74f70$export$5d8dc44abd10a920=reactExports.createContext(null),$40825cdb76e74f70$export$7edc06cf1783b30f=reactExports.forwardRef(function(t,Ke){let Ye=reactExports.useContext($40825cdb76e74f70$export$3b08bebcf796eea0),Je=reactExports.useContext($40825cdb76e74f70$export$5d8dc44abd10a920);return Ye||Je?React.createElement($40825cdb76e74f70$var$DateInputInner,{...t,ref:Ke}):React.createElement($40825cdb76e74f70$var$DateInputStandalone,{...t,ref:Ke})}),$40825cdb76e74f70$var$DateInputStandalone=reactExports.forwardRef((e,t)=>{let[Ke,Ye]=$64fa3d84918910a7$export$29f1550f4b0d4415({slot:e.slot},t,$40825cdb76e74f70$export$7b3e670c86da5fe8),{locale:Je}=$18f2051aff69b9bf$export$43bb16f9c6d9e3f7(),Xe=$3c0fc76039f1c516$export$60e84778edff6d26({...Ke,locale:Je,createCalendar:$64244302c3013299$export$dd0bbc9b26defe37}),et=reactExports.useRef(null),{fieldProps:tt,inputProps:rt}=$16f0b7bb276bc17e$export$5591b0b878c1a989({...Ke,inputRef:et},Xe,Ye);return React.createElement($64fa3d84918910a7$export$2881499e37b75b9a,{values:[[$40825cdb76e74f70$export$3b08bebcf796eea0,Xe],[$3985021b0ad6602f$export$37fb8590cf2c088c,{...rt,ref:et}],[$a049562f99e7db0e$export$f9c6924e160136d1,{...tt,ref:Ye,isInvalid:Xe.isInvalid,isDisabled:Xe.isDisabled}]]},React.createElement($40825cdb76e74f70$var$DateInputInner,e))}),$40825cdb76e74f70$var$DateInputInner=reactExports.forwardRef((e,t)=>{let{className:Ke,children:Ye}=e,Je=reactExports.useContext($40825cdb76e74f70$export$3b08bebcf796eea0),Xe=reactExports.useContext($40825cdb76e74f70$export$5d8dc44abd10a920),et=Je??Xe;return React.createElement(React.Fragment,null,React.createElement($a049562f99e7db0e$export$eb2fcfdbd7ba97d4,{...e,ref:t,slot:e.slot||void 0,className:Ke??"react-aria-DateInput",isInvalid:et.isInvalid,isDisabled:et.isDisabled},et.segments.map((tt,rt)=>reactExports.cloneElement(Ye(tt),{key:rt}))),React.createElement($3985021b0ad6602f$export$f5b8910cec6cf069,null))}),$40825cdb76e74f70$export$336ab7fa954c4b5f=reactExports.forwardRef(function({segment:t,...Ke},Ye){let Je=reactExports.useContext($40825cdb76e74f70$export$3b08bebcf796eea0),Xe=reactExports.useContext($40825cdb76e74f70$export$5d8dc44abd10a920),et=Je??Xe,tt=$df56164dff5785e2$export$4338b53315abf666(Ye),{segmentProps:rt}=$32489daedd52963e$export$1315d136e6f7581(t,et,tt),{focusProps:st,isFocused:at,isFocusVisible:nt}=$f7dceffc5ad7768b$export$4e328f61c538687f(),{hoverProps:it,isHovered:ot}=$6179b936705e76d3$export$ae780daf29e6d456({...Ke,isDisabled:et.isDisabled||t.type==="literal"}),{isEditable:lt,...ut}=t,ft=$64fa3d84918910a7$export$4d86445c2cf5e3({...Ke,values:{...ut,isReadOnly:!lt,isInvalid:et.isInvalid,isDisabled:et.isDisabled,isHovered:ot,isFocused:at,isFocusVisible:nt},defaultChildren:t.text,defaultClassName:"react-aria-DateSegment"});return React.createElement("span",{...$3ef42575df84b30b$export$9d1611c77c2fe928($65484d02dcb7eb3e$export$457c3d6518dd4c6f(Ke,{global:!0}),rt,st,it),...ft,style:rt.style,ref:tt,"data-placeholder":t.isPlaceholder||void 0,"data-invalid":et.isInvalid||void 0,"data-readonly":!lt||void 0,"data-disabled":et.isDisabled||void 0,"data-type":t.type,"data-hovered":ot||void 0,"data-focused":at||void 0,"data-focus-visible":nt||void 0})}),$06d5b8ec9ee5d538$export$cf316c7f3b44c11e=reactExports.createContext(null),$06d5b8ec9ee5d538$export$50a10c048fdcdee9=reactExports.createContext(null),$06d5b8ec9ee5d538$var$CLEAR_CONTEXTS=[$a049562f99e7db0e$export$f9c6924e160136d1,$d2b4bc8c273e7be6$export$24d547caef80ccd1,$01b77f81d0f07f68$export$75b6ee27786ba447,$514c0188e459b4c0$export$9afb8bc826b033ea],$06d5b8ec9ee5d538$export$5109c6dd95d8fb00=reactExports.forwardRef(function(t,Ke){[t,Ke]=$64fa3d84918910a7$export$29f1550f4b0d4415(t,Ke,$06d5b8ec9ee5d538$export$cf316c7f3b44c11e);let{validationBehavior:Ye}=$64fa3d84918910a7$export$fabf2dc03a41866e($d3e0e05bdfcf66bd$export$c24727297075ec6a)||{};var Je,Xe;let et=(Xe=(Je=t.validationBehavior)!==null&&Je!==void 0?Je:Ye)!==null&&Xe!==void 0?Xe:"native",tt=$ab5bf3f618090389$export$87194bb378cc3ac2({...t,validationBehavior:et}),rt=reactExports.useRef(null),[st,at]=$64fa3d84918910a7$export$9d4c57ee4c6ffdd8(!t["aria-label"]&&!t["aria-labelledby"]),{groupProps:nt,labelProps:it,fieldProps:ot,buttonProps:lt,dialogProps:ut,calendarProps:ft,descriptionProps:ct,errorMessageProps:dt,...ht}=$6057a3d2a53a12fd$export$42df105a73306d51({...$64fa3d84918910a7$export$ef03459518577ad4(t),label:at,validationBehavior:et},tt,rt),[xt,vt]=reactExports.useState(null),bt=reactExports.useCallback(()=>{rt.current&&vt(rt.current.offsetWidth+"px")},[]);$9daab02d461809db$export$683480f191c0e3ea({ref:rt,onResize:bt});let{focusProps:_t,isFocused:Ct,isFocusVisible:Rt}=$f7dceffc5ad7768b$export$4e328f61c538687f({within:!0}),jt=$64fa3d84918910a7$export$4d86445c2cf5e3({...t,values:{state:tt,isFocusWithin:Ct,isFocusVisible:Rt,isDisabled:t.isDisabled||!1,isInvalid:tt.isInvalid,isOpen:tt.isOpen},defaultClassName:"react-aria-DatePicker"}),yt=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(t,{global:!0});return delete yt.id,React.createElement($64fa3d84918910a7$export$2881499e37b75b9a,{values:[[$06d5b8ec9ee5d538$export$50a10c048fdcdee9,tt],[$a049562f99e7db0e$export$f9c6924e160136d1,{...nt,ref:rt,isInvalid:tt.isInvalid}],[$40825cdb76e74f70$export$7b3e670c86da5fe8,ot],[$d2b4bc8c273e7be6$export$24d547caef80ccd1,{...lt,isPressed:tt.isOpen}],[$01b77f81d0f07f68$export$75b6ee27786ba447,{...it,ref:st,elementType:"span"}],[$dfd62f934fc76fed$export$3b805cea1f178355,ft],[$de32f1b87079253c$export$d2f961adcb0afbe,tt],[$07b14b47974efb58$export$9b9a0cd73afb7ca4,{trigger:"DatePicker",triggerRef:rt,placement:"bottom start",style:{"--trigger-width":xt},clearContexts:$06d5b8ec9ee5d538$var$CLEAR_CONTEXTS}],[$de32f1b87079253c$export$8b93a07348a7730c,ut],[$514c0188e459b4c0$export$9afb8bc826b033ea,{slots:{description:ct,errorMessage:dt}}],[$ee014567cb39d3f0$export$ff05c3ac10437e03,ht]]},React.createElement("div",{...$3ef42575df84b30b$export$9d1611c77c2fe928(yt,jt,_t),ref:Ke,slot:t.slot||void 0,"data-focus-within":Ct||void 0,"data-invalid":tt.isInvalid||void 0,"data-focus-visible":Rt||void 0,"data-disabled":t.isDisabled||void 0,"data-open":tt.isOpen||void 0}),React.createElement($c699643d2073b351$export$eefa3e19139f00f3,{autoComplete:t.autoComplete,name:t.name,isDisabled:t.isDisabled,state:tt}))});function isPromise(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}const AsyncButton=({onClick:e,disabled:t,loadingNode:Ke,children:Ye,...Je})=>{const[Xe,et]=reactExports.useState(!1),tt=reactExports.useCallback(async rt=>{const st=e(rt);if(isPromise(st))try{et(!0),await st}finally{et(!1)}},[e]);return jsxRuntimeExports.jsx(Button,{...Je,onClick:tt,disabled:Xe||t,children:Xe&&Ke||Ye})};function memo(e,t,Ke){let Ye=Ke.initialDeps??[],Je;function Xe(){var et,tt,rt,st;let at;Ke.key&&((et=Ke.debug)!=null&&et.call(Ke))&&(at=Date.now());const nt=e();if(!(nt.length!==Ye.length||nt.some((lt,ut)=>Ye[ut]!==lt)))return Je;Ye=nt;let ot;if(Ke.key&&((tt=Ke.debug)!=null&&tt.call(Ke))&&(ot=Date.now()),Je=t(...nt),Ke.key&&((rt=Ke.debug)!=null&&rt.call(Ke))){const lt=Math.round((Date.now()-at)*100)/100,ut=Math.round((Date.now()-ot)*100)/100,ft=ut/16,ct=(dt,ht)=>{for(dt=String(dt);dt.length<ht;)dt=" "+dt;return dt};console.info(`%c ${ct(ut,5)} /${ct(lt,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*ft,120))}deg 100% 31%);`,Ke?.key)}return(st=Ke?.onChange)==null||st.call(Ke,Je),Je}return Xe.updateDeps=et=>{Ye=et},Xe}function notUndefined(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const approxEqual=(e,t)=>Math.abs(e-t)<1.01,debounce=(e,t,Ke)=>{let Ye;return function(...Je){e.clearTimeout(Ye),Ye=e.setTimeout(()=>t.apply(this,Je),Ke)}},getRect=e=>{const{offsetWidth:t,offsetHeight:Ke}=e;return{width:t,height:Ke}},defaultKeyExtractor=e=>e,defaultRangeExtractor=e=>{const t=Math.max(e.startIndex-e.overscan,0),Ke=Math.min(e.endIndex+e.overscan,e.count-1),Ye=[];for(let Je=t;Je<=Ke;Je++)Ye.push(Je);return Ye},observeElementRect=(e,t)=>{const Ke=e.scrollElement;if(!Ke)return;const Ye=e.targetWindow;if(!Ye)return;const Je=et=>{const{width:tt,height:rt}=et;t({width:Math.round(tt),height:Math.round(rt)})};if(Je(getRect(Ke)),!Ye.ResizeObserver)return()=>{};const Xe=new Ye.ResizeObserver(et=>{const tt=()=>{const rt=et[0];if(rt?.borderBoxSize){const st=rt.borderBoxSize[0];if(st){Je({width:st.inlineSize,height:st.blockSize});return}}Je(getRect(Ke))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(tt):tt()});return Xe.observe(Ke,{box:"border-box"}),()=>{Xe.unobserve(Ke)}},addEventListenerOptions={passive:!0},supportsScrollend=typeof window>"u"?!0:"onscrollend"in window,observeElementOffset=(e,t)=>{const Ke=e.scrollElement;if(!Ke)return;const Ye=e.targetWindow;if(!Ye)return;let Je=0;const Xe=e.options.useScrollendEvent&&supportsScrollend?()=>{}:debounce(Ye,()=>{t(Je,!1)},e.options.isScrollingResetDelay),et=at=>()=>{const{horizontal:nt,isRtl:it}=e.options;Je=nt?Ke.scrollLeft*(it&&-1||1):Ke.scrollTop,Xe(),t(Je,at)},tt=et(!0),rt=et(!1);rt(),Ke.addEventListener("scroll",tt,addEventListenerOptions);const st=e.options.useScrollendEvent&&supportsScrollend;return st&&Ke.addEventListener("scrollend",rt,addEventListenerOptions),()=>{Ke.removeEventListener("scroll",tt),st&&Ke.removeEventListener("scrollend",rt)}},measureElement=(e,t,Ke)=>{if(t?.borderBoxSize){const Ye=t.borderBoxSize[0];if(Ye)return Math.round(Ye[Ke.options.horizontal?"inlineSize":"blockSize"])}return e[Ke.options.horizontal?"offsetWidth":"offsetHeight"]},elementScroll=(e,{adjustments:t=0,behavior:Ke},Ye)=>{var Je,Xe;const et=e+t;(Xe=(Je=Ye.scrollElement)==null?void 0:Je.scrollTo)==null||Xe.call(Je,{[Ye.options.horizontal?"left":"top"]:et,behavior:Ke})};class Virtualizer{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let Ke=null;const Ye=()=>Ke||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:Ke=new this.targetWindow.ResizeObserver(Je=>{Je.forEach(Xe=>{const et=()=>{this._measureElement(Xe.target,Xe)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(et):et()})}));return{disconnect:()=>{var Je;(Je=Ye())==null||Je.disconnect(),Ke=null},observe:Je=>{var Xe;return(Xe=Ye())==null?void 0:Xe.observe(Je,{box:"border-box"})},unobserve:Je=>{var Xe;return(Xe=Ye())==null?void 0:Xe.unobserve(Je)}}})(),this.range=null,this.setOptions=Ke=>{Object.entries(Ke).forEach(([Ye,Je])=>{typeof Je>"u"&&delete Ke[Ye]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:defaultKeyExtractor,rangeExtractor:defaultRangeExtractor,onChange:()=>{},measureElement,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...Ke}},this.notify=Ke=>{var Ye,Je;(Je=(Ye=this.options).onChange)==null||Je.call(Ye,this,Ke)},this.maybeNotify=memo(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),Ke=>{this.notify(Ke)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(Ke=>Ke()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var Ke;const Ye=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==Ye){if(this.cleanup(),!Ye){this.maybeNotify();return}this.scrollElement=Ye,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((Ke=this.scrollElement)==null?void 0:Ke.window)??null,this.elementsCache.forEach(Je=>{this.observer.observe(Je)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,Je=>{this.scrollRect=Je,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(Je,Xe)=>{this.scrollAdjustments=0,this.scrollDirection=Xe?this.getScrollOffset()<Je?"forward":"backward":null,this.scrollOffset=Je,this.isScrolling=Xe,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(Ke,Ye)=>{const Je=new Map,Xe=new Map;for(let et=Ye-1;et>=0;et--){const tt=Ke[et];if(Je.has(tt.lane))continue;const rt=Xe.get(tt.lane);if(rt==null||tt.end>rt.end?Xe.set(tt.lane,tt):tt.end<rt.end&&Je.set(tt.lane,!0),Je.size===this.options.lanes)break}return Xe.size===this.options.lanes?Array.from(Xe.values()).sort((et,tt)=>et.end===tt.end?et.index-tt.index:et.end-tt.end)[0]:void 0},this.getMeasurementOptions=memo(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(Ke,Ye,Je,Xe,et)=>(this.pendingMeasuredCacheIndexes=[],{count:Ke,paddingStart:Ye,scrollMargin:Je,getItemKey:Xe,enabled:et}),{key:!1}),this.getMeasurements=memo(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:Ke,paddingStart:Ye,scrollMargin:Je,getItemKey:Xe,enabled:et},tt)=>{if(!et)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(at=>{this.itemSizeCache.set(at.key,at.size)}));const rt=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const st=this.measurementsCache.slice(0,rt);for(let at=rt;at<Ke;at++){const nt=Xe(at),it=this.options.lanes===1?st[at-1]:this.getFurthestMeasurement(st,at),ot=it?it.end+this.options.gap:Ye+Je,lt=tt.get(nt),ut=typeof lt=="number"?lt:this.options.estimateSize(at),ft=ot+ut,ct=it?it.lane:at%this.options.lanes;st[at]={index:at,start:ot,size:ut,end:ft,key:nt,lane:ct}}return this.measurementsCache=st,st},{key:!1,debug:()=>this.options.debug}),this.calculateRange=memo(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(Ke,Ye,Je,Xe)=>this.range=Ke.length>0&&Ye>0?calculateRange({measurements:Ke,outerSize:Ye,scrollOffset:Je,lanes:Xe}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=memo(()=>{let Ke=null,Ye=null;const Je=this.calculateRange();return Je&&(Ke=Je.startIndex,Ye=Je.endIndex),this.maybeNotify.updateDeps([this.isScrolling,Ke,Ye]),[this.options.rangeExtractor,this.options.overscan,this.options.count,Ke,Ye]},(Ke,Ye,Je,Xe,et)=>Xe===null||et===null?[]:Ke({startIndex:Xe,endIndex:et,overscan:Ye,count:Je}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=Ke=>{const Ye=this.options.indexAttribute,Je=Ke.getAttribute(Ye);return Je?parseInt(Je,10):(console.warn(`Missing attribute name '${Ye}={index}' on measured element.`),-1)},this._measureElement=(Ke,Ye)=>{const Je=this.indexFromElement(Ke),Xe=this.measurementsCache[Je];if(!Xe)return;const et=Xe.key,tt=this.elementsCache.get(et);tt!==Ke&&(tt&&this.observer.unobserve(tt),this.observer.observe(Ke),this.elementsCache.set(et,Ke)),Ke.isConnected&&this.resizeItem(Je,this.options.measureElement(Ke,Ye,this))},this.resizeItem=(Ke,Ye)=>{const Je=this.measurementsCache[Ke];if(!Je)return;const Xe=this.itemSizeCache.get(Je.key)??Je.size,et=Ye-Xe;et!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(Je,et,this):Je.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=et,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(Je.index),this.itemSizeCache=new Map(this.itemSizeCache.set(Je.key,Ye)),this.notify(!1))},this.measureElement=Ke=>{if(!Ke){this.elementsCache.forEach((Ye,Je)=>{Ye.isConnected||(this.observer.unobserve(Ye),this.elementsCache.delete(Je))});return}this._measureElement(Ke,void 0)},this.getVirtualItems=memo(()=>[this.getVirtualIndexes(),this.getMeasurements()],(Ke,Ye)=>{const Je=[];for(let Xe=0,et=Ke.length;Xe<et;Xe++){const tt=Ke[Xe],rt=Ye[tt];Je.push(rt)}return Je},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=Ke=>{const Ye=this.getMeasurements();if(Ye.length!==0)return notUndefined(Ye[findNearestBinarySearch(0,Ye.length-1,Je=>notUndefined(Ye[Je]).start,Ke)])},this.getOffsetForAlignment=(Ke,Ye,Je=0)=>{const Xe=this.getSize(),et=this.getScrollOffset();Ye==="auto"&&(Ye=Ke>=et+Xe?"end":"start"),Ye==="center"?Ke+=(Je-Xe)/2:Ye==="end"&&(Ke-=Xe);const tt=this.getTotalSize()+this.options.scrollMargin-Xe;return Math.max(Math.min(tt,Ke),0)},this.getOffsetForIndex=(Ke,Ye="auto")=>{Ke=Math.max(0,Math.min(Ke,this.options.count-1));const Je=this.measurementsCache[Ke];if(!Je)return;const Xe=this.getSize(),et=this.getScrollOffset();if(Ye==="auto")if(Je.end>=et+Xe-this.options.scrollPaddingEnd)Ye="end";else if(Je.start<=et+this.options.scrollPaddingStart)Ye="start";else return[et,Ye];const tt=Ye==="end"?Je.end+this.options.scrollPaddingEnd:Je.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(tt,Ye,Je.size),Ye]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(Ke,{align:Ye="start",behavior:Je}={})=>{Je==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(Ke,Ye),{adjustments:void 0,behavior:Je})},this.scrollToIndex=(Ke,{align:Ye="auto",behavior:Je}={})=>{Je==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),Ke=Math.max(0,Math.min(Ke,this.options.count-1));let Xe=0;const et=10,tt=st=>{if(!this.targetWindow)return;const at=this.getOffsetForIndex(Ke,st);if(!at){console.warn("Failed to get offset for index:",Ke);return}const[nt,it]=at;this._scrollToOffset(nt,{adjustments:void 0,behavior:Je}),this.targetWindow.requestAnimationFrame(()=>{const ot=this.getScrollOffset(),lt=this.getOffsetForIndex(Ke,it);if(!lt){console.warn("Failed to get offset for index:",Ke);return}approxEqual(lt[0],ot)||rt(it)})},rt=st=>{this.targetWindow&&(Xe++,Xe<et?this.targetWindow.requestAnimationFrame(()=>tt(st)):console.warn(`Failed to scroll to index ${Ke} after ${et} attempts.`))};tt(Ye)},this.scrollBy=(Ke,{behavior:Ye}={})=>{Ye==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+Ke,{adjustments:void 0,behavior:Ye})},this.getTotalSize=()=>{var Ke;const Ye=this.getMeasurements();let Je;if(Ye.length===0)Je=this.options.paddingStart;else if(this.options.lanes===1)Je=((Ke=Ye[Ye.length-1])==null?void 0:Ke.end)??0;else{const Xe=Array(this.options.lanes).fill(null);let et=Ye.length-1;for(;et>=0&&Xe.some(tt=>tt===null);){const tt=Ye[et];Xe[tt.lane]===null&&(Xe[tt.lane]=tt.end),et--}Je=Math.max(...Xe.filter(tt=>tt!==null))}return Math.max(Je-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(Ke,{adjustments:Ye,behavior:Je})=>{this.options.scrollToFn(Ke,{behavior:Je,adjustments:Ye},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const findNearestBinarySearch=(e,t,Ke,Ye)=>{for(;e<=t;){const Je=(e+t)/2|0,Xe=Ke(Je);if(Xe<Ye)e=Je+1;else if(Xe>Ye)t=Je-1;else return Je}return e>0?e-1:0};function calculateRange({measurements:e,outerSize:t,scrollOffset:Ke,lanes:Ye}){const Je=e.length-1,Xe=rt=>e[rt].start;if(e.length<=Ye)return{startIndex:0,endIndex:Je};let et=findNearestBinarySearch(0,Je,Xe,Ke),tt=et;if(Ye===1)for(;tt<Je&&e[tt].end<Ke+t;)tt++;else if(Ye>1){const rt=Array(Ye).fill(0);for(;tt<Je&&rt.some(at=>at<Ke+t);){const at=e[tt];rt[at.lane]=at.end,tt++}const st=Array(Ye).fill(Ke+t);for(;et>=0&&st.some(at=>at>=Ke);){const at=e[et];st[at.lane]=at.start,et--}et=Math.max(0,et-et%Ye),tt=Math.min(Je,tt+(Ye-1-tt%Ye))}return{startIndex:et,endIndex:tt}}const useIsomorphicLayoutEffect=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function useVirtualizerBase(e){const t=reactExports.useReducer(()=>({}),{})[1],Ke={...e,onChange:(Je,Xe)=>{var et;Xe?reactDomExports.flushSync(t):t(),(et=e.onChange)==null||et.call(e,Je,Xe)}},[Ye]=reactExports.useState(()=>new Virtualizer(Ke));return Ye.setOptions(Ke),useIsomorphicLayoutEffect(()=>Ye._didMount(),[]),useIsomorphicLayoutEffect(()=>Ye._willUpdate()),Ye}function useVirtualizer(e){return useVirtualizerBase({observeElementRect,observeElementOffset,scrollToFn:elementScroll,...e})}const RequestSettingsModal=({request:e,onHide:t})=>{const Ke=reactExports.useRef(null),{organizationId:Ye,projectId:Je,workspaceId:Xe}=useParams(),et=useProjectListWorkspacesLoaderFetcher();reactExports.useEffect(()=>{et.state==="idle"&&!et.data&&!isScratchpadOrganizationId(Ye)&&et.load({organizationId:Ye,projectId:Je})},[Ye,Je,et]);const rt=et?.data?.files.map(ht=>ht.workspace).filter(isNotNullOrUndefined).filter(ht=>ht.scope!=="mock-server")||[],[st,at]=reactExports.useState("");reactExports.useEffect(()=>{Ke.current?.show()},[]);const nt=useRequestDuplicateActionFetcher(),it=useRequestPatcher(),ot=useNavigate(),lt=ht=>{nt.submit({organizationId:Ye,projectId:Je,workspaceId:Xe,requestId:e._id,name:ht.name||e.name,parentId:ht.parentId})};async function ut(){invariant(st,"Workspace ID is required"),it(e._id,{parentId:st}),revalidateWorkspaceActiveRequest(e._id,Xe),Ke.current?.hide(),ot(`/organization/${Ye}/project/${Je}/workspace/${st}/debug`)}async function ft(){invariant(st,"Workspace ID is required"),lt({parentId:st})}const ct=async ht=>{it(e._id,{[ht.currentTarget.name]:!!ht.currentTarget.checked})},dt=async ht=>{invariant(isGrpcRequest(e),"Must be gRPC request"),it(e._id,{reflectionApi:{...e.reflectionApi,[ht.currentTarget.name]:ht.currentTarget.value}})};return jsxRuntimeExports.jsx($f57aed4a881a3485$export$b47c3594eab58386,{onContextMenu:ht=>ht.stopPropagation(),children:jsxRuntimeExports.jsxs(Modal,{ref:Ke,onHide:t,children:[jsxRuntimeExports.jsxs(ModalHeader,{children:["Request Settings ",jsxRuntimeExports.jsx("span",{className:"txt-sm selectable faint monospace",children:e?e._id:""})]}),jsxRuntimeExports.jsx(ModalBody,{className:"pad",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"form-control form-control--outlined",children:jsxRuntimeExports.jsxs("label",{children:["Name ",jsxRuntimeExports.jsx("span",{className:"txt-sm faint italic",children:"(also rename by double-clicking in sidebar)"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:e?.url||"My Request",defaultValue:e?.name,onChange:ht=>it(e._id,{name:ht.target.value})})]})}),e&&isWebSocketRequest(e)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"pad-top pad-bottom",children:[jsxRuntimeExports.jsx("div",{className:"form-control form-control--thin",children:jsxRuntimeExports.jsxs("label",{children:["Send cookies automatically",jsxRuntimeExports.jsx("input",{type:"checkbox",name:"settingSendCookies",checked:e.settingSendCookies,onChange:ct})]})}),jsxRuntimeExports.jsx("div",{className:"form-control form-control--thin",children:jsxRuntimeExports.jsxs("label",{children:["Store cookies automatically",jsxRuntimeExports.jsx("input",{type:"checkbox",name:"settingStoreCookies",checked:e.settingStoreCookies,onChange:ct})]})}),jsxRuntimeExports.jsx("div",{className:"form-control form-control--thin",children:jsxRuntimeExports.jsxs("label",{children:["Use proxy from preferences settings",jsxRuntimeExports.jsx("input",{type:"checkbox",name:"settingUseProxy",checked:e.settingUseProxy,onChange:ct})]})})]}),jsxRuntimeExports.jsx("div",{className:"form-control form-control--outlined",children:jsxRuntimeExports.jsxs("label",{children:["Follow redirects ",jsxRuntimeExports.jsx("span",{className:"txt-sm faint italic",children:"(overrides global setting)"}),jsxRuntimeExports.jsxs("select",{defaultValue:e.settingFollowRedirects,name:"settingFollowRedirects",onChange:ct,children:[jsxRuntimeExports.jsx("option",{value:"global",children:"Use global setting"}),jsxRuntimeExports.jsx("option",{value:"off",children:"Don't follow redirects"}),jsxRuntimeExports.jsx("option",{value:"on",children:"Follow redirects"})]})]})})]}),jsxRuntimeExports.jsx("hr",{}),jsxRuntimeExports.jsxs("div",{className:"form-row",children:[jsxRuntimeExports.jsx("div",{className:"form-control form-control--outlined",children:jsxRuntimeExports.jsxs("label",{children:["Move/Copy to Workspace",jsxRuntimeExports.jsx(HelpTooltip,{position:"top",className:"space-left",children:"Copy or move the current request to a new workspace. It will be placed at the root of the new workspace's folder structure."}),jsxRuntimeExports.jsxs("select",{value:st,onChange:ht=>{at(ht.currentTarget.value)},children:[jsxRuntimeExports.jsx("option",{value:"",children:"-- Select Workspace --"}),rt.map(ht=>Xe===ht._id?null:jsxRuntimeExports.jsx("option",{value:ht._id,children:ht.name},ht._id))]})]})}),jsxRuntimeExports.jsx("div",{className:"form-control form-control--no-label width-auto",children:jsxRuntimeExports.jsx("button",{disabled:!st,className:"h-[--line-height-xs] rounded-[--radius-md] border border-solid border-[--hl-lg] px-[--padding-md] hover:bg-[--hl-xs]",onClick:ft,children:"Copy"})}),jsxRuntimeExports.jsx("div",{className:"form-control form-control--no-label width-auto",children:jsxRuntimeExports.jsx("button",{disabled:!st,className:"h-[--line-height-xs] rounded-[--radius-md] border border-solid border-[--hl-lg] px-[--padding-md] hover:bg-[--hl-xs]",onClick:ut,children:"Move"})})]})]}),e&&isGrpcRequest(e)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"form-control form-control--thin pad-top-sm",children:jsxRuntimeExports.jsxs("label",{children:["Use the Buf Schema Registry API",jsxRuntimeExports.jsx("a",{href:"https://buf.build/docs/bsr/reflection/overview",className:"pad-left-sm",children:jsxRuntimeExports.jsx(Icon,{icon:"external-link",size:"sm"})}),jsxRuntimeExports.jsx("input",{type:"checkbox",name:"reflectionApi",checked:e.reflectionApi.enabled,onChange:ht=>it(e._id,{reflectionApi:{...e.reflectionApi,enabled:ht.currentTarget.checked}})}),""]})}),jsxRuntimeExports.jsx("div",{className:"form-row pad-top-sm",children:e.reflectionApi.enabled&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"form-control form-control--outlined",children:jsxRuntimeExports.jsxs("label",{children:["Reflection server URL",jsxRuntimeExports.jsx("a",{href:"https://buf.build/docs/bsr/api-access",className:"pad-left-sm",children:jsxRuntimeExports.jsx(Icon,{icon:"external-link",size:"sm"})}),jsxRuntimeExports.jsx("input",{type:"text",name:"url",placeholder:"https://buf.build",defaultValue:e.reflectionApi.url,onBlur:dt,disabled:!e.reflectionApi.enabled})]})}),jsxRuntimeExports.jsx("div",{className:"form-control form-control--outlined",children:jsxRuntimeExports.jsxs("label",{children:["Reflection server API key",jsxRuntimeExports.jsx("a",{href:"https://buf.build/docs/bsr/authentication#manage-tokens",className:"pad-left-sm",children:jsxRuntimeExports.jsx(Icon,{icon:"external-link",size:"sm"})}),jsxRuntimeExports.jsx("input",{type:"password",name:"apiKey",defaultValue:e.reflectionApi.apiKey,onBlur:dt,disabled:!e.reflectionApi.enabled})]})}),jsxRuntimeExports.jsx("div",{className:"form-control form-control--outlined",children:jsxRuntimeExports.jsxs("label",{children:["Module",jsxRuntimeExports.jsx("a",{href:"https://buf.build/docs/bsr/module/manage",className:"pad-left-sm",children:jsxRuntimeExports.jsx(Icon,{icon:"external-link",size:"sm"})}),jsxRuntimeExports.jsx("input",{type:"text",name:"module",placeholder:"buf.build/connectrpc/eliza",defaultValue:e.reflectionApi.module,onBlur:dt,disabled:!e.reflectionApi.enabled})]})})]})}),jsxRuntimeExports.jsxs("p",{className:"faint pad-top italic",children:["Are there any gRPC settings you expect to see? Create a"," ",jsxRuntimeExports.jsx("a",{href:"https://github.com/Kong/insomnia/issues/new/choose",children:"feature request"}),"!"]})]}),e&&isRequest(e)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"pad-top pad-bottom",children:[jsxRuntimeExports.jsx("div",{className:"form-control form-control--thin",children:jsxRuntimeExports.jsxs("label",{children:["Send cookies automatically",jsxRuntimeExports.jsx("input",{type:"checkbox",name:"settingSendCookies",checked:e.settingSendCookies,onChange:ct})]})}),jsxRuntimeExports.jsx("div",{className:"form-control form-control--thin",children:jsxRuntimeExports.jsxs("label",{children:["Store cookies automatically",jsxRuntimeExports.jsx("input",{type:"checkbox",name:"settingStoreCookies",checked:e.settingStoreCookies,onChange:ct})]})}),jsxRuntimeExports.jsx("div",{className:"form-control form-control--thin",children:jsxRuntimeExports.jsxs("label",{children:["Automatically encode special characters in URL",jsxRuntimeExports.jsx("input",{type:"checkbox",name:"settingEncodeUrl",checked:e.settingEncodeUrl,onChange:ct}),jsxRuntimeExports.jsx(HelpTooltip,{position:"top",className:"space-left",children:"Automatically encode special characters at send time (does not apply to query parameters editor)"})]})}),jsxRuntimeExports.jsx("div",{className:"form-control form-control--thin",children:jsxRuntimeExports.jsxs("label",{children:["Skip rendering of request body",jsxRuntimeExports.jsx("input",{type:"checkbox",name:"settingDisableRenderRequestBody",checked:e.settingDisableRenderRequestBody,onChange:ct}),jsxRuntimeExports.jsx(HelpTooltip,{position:"top",className:"space-left",children:"Disable rendering of environment variables and tags for the request body"})]})}),jsxRuntimeExports.jsx("div",{className:"form-control form-control--thin",children:jsxRuntimeExports.jsxs("label",{children:["Rebuild path dot sequences",jsxRuntimeExports.jsx(HelpTooltip,{position:"top",className:"space-left",children:`This instructs libcurl to squash sequences of "/../" or "/./" that may exist in the URL's path part and that is supposed to be removed according to RFC 3986 section 5.2.4`}),jsxRuntimeExports.jsx("input",{type:"checkbox",name:"settingRebuildPath",checked:e.settingRebuildPath,onChange:ct})]})})]}),jsxRuntimeExports.jsx("div",{className:"form-control form-control--outlined",children:jsxRuntimeExports.jsxs("label",{children:["Follow redirects ",jsxRuntimeExports.jsx("span",{className:"txt-sm faint italic",children:"(overrides global setting)"}),jsxRuntimeExports.jsxs("select",{defaultValue:e.settingFollowRedirects,name:"settingFollowRedirects",onChange:async ht=>{await request.update(e,{[ht.currentTarget.name]:ht.currentTarget.value})},children:[jsxRuntimeExports.jsx("option",{value:"global",children:"Use global setting"}),jsxRuntimeExports.jsx("option",{value:"off",children:"Don't follow redirects"}),jsxRuntimeExports.jsx("option",{value:"on",children:"Follow redirects"})]})]})})]}),jsxRuntimeExports.jsx("hr",{}),jsxRuntimeExports.jsxs("div",{className:"form-row",children:[jsxRuntimeExports.jsx("div",{className:"form-control form-control--outlined",children:jsxRuntimeExports.jsxs("label",{children:["Move/Copy to Workspace",jsxRuntimeExports.jsx(HelpTooltip,{position:"top",className:"space-left",children:"Copy or move the current request to a new workspace. It will be placed at the root of the new workspace's folder structure."}),jsxRuntimeExports.jsxs("select",{value:st,onChange:ht=>{at(ht.currentTarget.value)},children:[jsxRuntimeExports.jsx("option",{value:"",children:"-- Select Workspace --"}),rt.map(ht=>Xe===ht._id?null:jsxRuntimeExports.jsx("option",{value:ht._id,children:ht.name},ht._id))]})]})}),jsxRuntimeExports.jsx("div",{className:"form-control form-control--no-label width-auto",children:jsxRuntimeExports.jsx("button",{disabled:!st,className:"h-[--line-height-xs] rounded-[--radius-md] border border-solid border-[--hl-lg] px-[--padding-md] hover:bg-[--hl-xs]",onClick:ft,children:"Copy"})}),jsxRuntimeExports.jsx("div",{className:"form-control form-control--no-label width-auto",children:jsxRuntimeExports.jsx("button",{disabled:!st,className:"h-[--line-height-xs] rounded-[--radius-md] border border-solid border-[--hl-lg] px-[--padding-md] hover:bg-[--hl-xs]",onClick:ut,children:"Move"})})]})]})]})})]})})},RequestActionsDropdown=({activeEnvironment:e,activeProject:t,isPinned:Ke,request:Ye,isOpen:Je,triggerRef:Xe,onOpenChange:et,onRename:tt})=>{const{settings:rt}=useRootLoaderData(),st=useRequestMetaPatcher(),{hotKeyRegistry:at}=rt,[nt,it]=reactExports.useState([]),ot=useRequestDuplicateActionFetcher(),lt=useRequestDeleteActionFetcher(),{organizationId:ut,projectId:ft,workspaceId:ct}=useParams(),[dt,ht]=reactExports.useState(!1),xt=reactExports.useCallback(async()=>{const mt=await getRequestActions();it(mt)},[]),vt=()=>{Ye&&showModal(PromptModal,{title:"Duplicate Request",defaultValue:Ye.name,submitName:"Create",label:"New Name",selectText:!0,onComplete:mt=>ot.submit({organizationId:ut,projectId:ft,workspaceId:ct,requestId:Ye._id,name:mt})})},bt=async({plugin:mt,action:gt})=>{try{const St={...init$3(),...init$2(t._id),...init$1(mt),...init()};await gt(St,{request:Ye})}catch(St){showError({title:"Plugin Action Failed",error:St})}},_t=()=>{isRequest(Ye)&&showModal(GenerateCodeModal,{request:Ye})},Ct=async()=>{try{const mt=await exportHarRequest(Ye._id,e._id),gt=(await __vitePreload(async()=>{const{default:$t}=await import("./index-DsbqXZ-H.js").then(Tt=>Tt.i);return{default:$t}},__vite__mapDeps([0,1,2,3,4,5,6,7,8]))).default,wt=new gt(mt).convert("shell","curl");wt&&window.clipboard.writeText(wt)}catch(mt){showModal(AlertModal,{title:"Could not generate cURL",message:mt instanceof Error?mt.message:"Unknown error"})}},Rt=()=>{st(Ye._id,{pinned:!Ke})},jt=()=>{showModal(AskModal,{title:"Delete Request",message:`Do you really want to delete "${Ye.name}"?`,yesText:"Delete",noText:"Cancel",color:"danger",onDone:async mt=>{mt&&(incrementDeletedRequests(),lt.submit({organizationId:ut,projectId:ft,workspaceId:ct,id:Ye._id}))}})},pt=[...isRequest(Ye)?[{name:"Export",id:"export",icon:"file-export",items:[{id:"GenerateCode",name:"Generate Code",action:_t,icon:"code",hint:at.request_showGenerateCodeEditor},{id:"CopyAsCurl",name:"Copy as cURL",action:Ct,icon:"copy"}]}]:[],{name:"Actions",id:"actions",icon:"cog",items:[{id:"Pin",name:Ke?"Unpin":"Pin",action:Rt,icon:"thumbtack",hint:at.request_togglePin},{id:"Duplicate",name:"Duplicate",action:vt,icon:"copy",hint:at.request_showDuplicate},{id:"Rename",name:"Rename",action:tt,icon:"edit"},{id:"Delete",name:"Delete",action:jt,icon:"trash",hint:at.request_showDelete},{id:"Settings",name:"Settings",icon:"gear",hint:at.request_showSettings,action:()=>{ht(!0)}}]},...nt.length>0?[{name:"Plugins",id:"plugins",icon:"plug",items:nt.map(mt=>({id:mt.label,name:mt.label,icon:mt.icon||"plug",action:()=>bt(mt)}))}]:[]];return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsxs($3674c52c6b3c5bce$export$27d2ad3c5815583e,{isOpen:Je,onOpenChange:mt=>{mt&&xt(),et(mt)},children:[jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{"data-testid":`Dropdown-${toKebabCase(Ye.name)}`,"aria-label":"Request Actions",className:"hidden aspect-square h-6 items-center justify-center rounded-sm text-sm text-[--color-font] ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] group-hover:flex group-focus:flex aria-pressed:bg-[--hl-sm]",children:jsxRuntimeExports.jsx(Icon,{icon:"caret-down"})}),jsxRuntimeExports.jsx($07b14b47974efb58$export$5b6b19405a83ff9d,{className:"flex min-w-max flex-col overflow-y-hidden",triggerRef:Xe,placement:"bottom end",offset:5,children:jsxRuntimeExports.jsx($3674c52c6b3c5bce$export$d9b273488cd8ce6f,{"aria-label":"Request Actions Menu",selectionMode:"single",onAction:mt=>pt.find(gt=>gt.items.find(St=>St.id===mt))?.items.find(gt=>gt.id===mt)?.action(),items:pt,className:"min-w-max select-none overflow-y-auto rounded-md border border-solid border-[--hl-sm] bg-[--color-bg] py-2 text-sm shadow-lg focus:outline-none",children:mt=>jsxRuntimeExports.jsxs($3674c52c6b3c5bce$export$4b1545b4f2016d26,{className:"flex flex-1 flex-col",children:[jsxRuntimeExports.jsxs($72a5793c14baf454$export$8b251419efc915eb,{className:"flex items-center gap-2 py-1 pl-2 text-xs uppercase text-[--hl]",children:[jsxRuntimeExports.jsx(Icon,{icon:mt.icon})," ",jsxRuntimeExports.jsx("span",{children:mt.name})]}),jsxRuntimeExports.jsx($e1995378a142960e$export$fb8073518f34e6ec,{items:mt.items,children:gt=>jsxRuntimeExports.jsxs($3674c52c6b3c5bce$export$2ce376c2cc3355c8,{id:gt.id,className:"flex h-[--line-height-xs] w-full items-center gap-2 whitespace-nowrap bg-transparent px-[--padding-md] text-[--color-font] transition-colors hover:bg-[--hl-sm] focus:bg-[--hl-xs] focus:outline-none disabled:cursor-not-allowed aria-selected:font-bold","aria-label":gt.name,children:[jsxRuntimeExports.jsx(Icon,{icon:gt.icon}),jsxRuntimeExports.jsx("span",{children:gt.name}),gt.hint&&jsxRuntimeExports.jsx(DropdownHint,{keyBindings:gt.hint})]},gt.id)})]})})})]}),dt&&jsxRuntimeExports.jsx(RequestSettingsModal,{request:Ye,onHide:()=>ht(!1)})]})},PasteCurlModal=({onHide:e,onImport:t,defaultValue:Ke})=>{const Ye=reactExports.useRef(null),[Je,Xe]=reactExports.useState(!0),[et,tt]=reactExports.useState({});return reactExports.useEffect(()=>{async function rt(){try{const{data:st}=await window.main.parseImport({contentStr:Ke||""},{importerId:"curl"}),{resources:at}=st,nt=at[0];Xe(!0),tt(nt)}catch(st){console.log("[importer] error",st),Xe(!1),tt({})}finally{Ye.current?.show()}}rt()},[Ke]),jsxRuntimeExports.jsx($f57aed4a881a3485$export$b47c3594eab58386,{onClick:rt=>rt.stopPropagation(),children:jsxRuntimeExports.jsxs(Modal,{ref:Ye,tall:!0,onHide:e,children:[jsxRuntimeExports.jsx(ModalHeader,{children:"Paste Curl to import request"}),jsxRuntimeExports.jsx(ModalBody,{className:"",children:jsxRuntimeExports.jsx(CodeEditor,{id:"paste-curl-content",placeholder:"Paste curl request here",className:"border-top",mode:"text",dynamicHeight:!0,defaultValue:Ke,onChange:async rt=>{if(!rt){Xe(!1),tt({});return}try{const{data:st}=await window.main.parseImport({contentStr:rt},{importerId:"curl"}),{resources:at}=st,nt=at[0];Xe(!0),tt(nt)}catch(st){console.log("[importer] error",st),Xe(!1),tt({})}}})}),jsxRuntimeExports.jsxs(ModalFooter,{children:[jsxRuntimeExports.jsx("div",{className:"margin-left txt-sm truncate italic",children:Je?`Detected ${et.method} request to ${et.url}`:"Invalid input"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("button",{className:"btn",onClick:()=>Ye.current?.hide(),children:"Cancel"}),jsxRuntimeExports.jsx("button",{className:"btn",onClick:()=>{t(et),Ye.current?.hide()},disabled:!Je,children:"Import"})]})]})]})})},RequestGroupSettingsModal=({requestGroup:e,onHide:t})=>{const Ke=reactExports.useRef(null),{organizationId:Ye,projectId:Je,workspaceId:Xe}=useParams(),et=useProjectListWorkspacesLoaderFetcher();reactExports.useEffect(()=>{et.state==="idle"&&!et.data&&et.load({organizationId:Ye,projectId:Je})},[Ye,Je,et]);const rt=et?.data?.files.map(ct=>ct.workspace).filter(isNotNullOrUndefined).filter(ct=>ct.scope!=="mock-server")||[],[st,at]=reactExports.useState(""),nt=useRequestGroupPatcher(),it=useRequestGroupDuplicateActionFetcher(),ot=ct=>{it.submit({organizationId:Ye,projectId:Je,workspaceId:Xe,requestGroupData:ct})};reactExports.useEffect(()=>{Ke.current?.show()},[]);const lt=useNavigate(),ut=async()=>{invariant(st,"Workspace ID is required"),nt(e._id,{parentId:st}),revalidateWorkspaceActiveRequestByFolder(e,Xe),Ke.current?.hide(),lt(`/organization/${Ye}/project/${Je}/workspace/${st}/debug`)},ft=async()=>{invariant(st,"Workspace ID is required"),ot({_id:e._id,name:e.name,parentId:st})};return jsxRuntimeExports.jsx($f57aed4a881a3485$export$b47c3594eab58386,{onClick:ct=>ct.stopPropagation(),children:jsxRuntimeExports.jsxs(Modal,{ref:Ke,onHide:t,children:[jsxRuntimeExports.jsxs(ModalHeader,{children:["Folder Settings ",jsxRuntimeExports.jsx("span",{className:"txt-sm selectable faint monospace",children:e?._id||""})]}),jsxRuntimeExports.jsx(ModalBody,{className:"pad",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"form-control form-control--outlined",children:jsxRuntimeExports.jsxs("label",{children:["Name",jsxRuntimeExports.jsx("input",{type:"text",placeholder:e?.name||"My Folder",defaultValue:e?.name,onChange:async ct=>{invariant(e,"No request group"),nt(e._id,{name:ct.target.value})}})]})}),jsxRuntimeExports.jsxs("div",{className:"form-row",children:[jsxRuntimeExports.jsx("div",{className:"form-control form-control--outlined",children:jsxRuntimeExports.jsxs("label",{children:["Move/Copy to Workspace",jsxRuntimeExports.jsx(HelpTooltip,{position:"top",className:"space-left",children:"Copy or move the current folder to a new workspace. It will be placed at the root of the new workspace's folder structure."}),jsxRuntimeExports.jsxs("select",{value:st,onChange:ct=>{at(ct.currentTarget.value)},children:[jsxRuntimeExports.jsx("option",{value:"",children:"-- Select Workspace --"}),rt.filter(ct=>Xe!==ct._id).map(ct=>jsxRuntimeExports.jsx("option",{value:ct._id,children:ct.name},ct._id))]})]})}),jsxRuntimeExports.jsx("div",{className:"form-control form-control--no-label width-auto",children:jsxRuntimeExports.jsx("button",{disabled:!st,className:"h-[--line-height-xs] rounded-[--radius-md] border border-solid border-[--hl-lg] px-[--padding-md] hover:bg-[--hl-xs]",onClick:ft,children:"Copy"})}),jsxRuntimeExports.jsx("div",{className:"form-control form-control--no-label width-auto",children:jsxRuntimeExports.jsx("button",{disabled:!st,className:"h-[--line-height-xs] rounded-[--radius-md] border border-solid border-[--hl-lg] px-[--padding-md] hover:bg-[--hl-xs]",onClick:ut,children:"Move"})})]})]})})]})})},RequestGroupActionsDropdown=({requestGroup:e,isOpen:t,triggerRef:Ke,onOpenChange:Ye,onRename:Je})=>{const{activeProject:Xe}=useWorkspaceLoaderData(),{settings:et}=useRootLoaderData(),{hotKeyRegistry:tt}=et,[rt,st]=reactExports.useState([]),[at,nt]=reactExports.useState({}),it=reactExports.useRef(null),ot=useNavigate(),lt=useRequestNewActionFetcher(),ut=useRequestGroupNewActionFetcher(),ft=useRequestGroupDuplicateActionFetcher(),ct=useRequestGroupDeleteActionFetcher(),{organizationId:dt,projectId:ht,workspaceId:xt}=useParams(),vt=({requestType:gt,parentId:St,req:wt})=>lt.submit({organizationId:dt,projectId:ht,workspaceId:xt,requestType:gt,parentId:St,req:wt}),bt=async()=>{const gt=await getRequestGroupActions();st(gt)},_t=()=>{showModal(PromptModal,{title:"Duplicate Folder",defaultValue:e.name,submitName:"Create",label:"New Name",selectText:!0,onComplete:async gt=>{ft.submit({organizationId:dt,projectId:ht,workspaceId:xt,requestGroupData:{_id:e._id,name:gt}})}})},Ct=async()=>{showModal(AskModal,{title:"Delete Folder",message:`Do you really want to delete "${e.name}"?`,yesText:"Delete",noText:"Cancel",color:"danger",onDone:async gt=>{gt&&(stats.incrementDeletedRequestsForDescendents(e),ct.submit({organizationId:dt,projectId:ht,workspaceId:xt,id:e._id}))}})},Rt=async({label:gt,plugin:St,action:wt})=>{nt({...at,[gt]:!0});try{const $t={...init$3(),...init$2(Xe._id),...init$1(St),...init()},Tt=await request.findByParentId(e._id);Tt.sort((At,Dt)=>At.metaSortKey-Dt.metaSortKey),await wt($t,{requestGroup:e,requests:Tt})}catch($t){showError({title:"Plugin Action Failed",error:$t})}nt({...at,[gt]:!1}),it.current?.hide()},[jt,yt]=reactExports.useState(!1),[Et,pt]=reactExports.useState(!1),mt=[{name:"Create",id:"create",icon:"plus",items:[{id:"HTTP",name:"HTTP Request",icon:"plus-circle",hint:tt.request_createHTTP,action:()=>vt({requestType:"HTTP",parentId:e._id})},{id:"Event Stream",name:"Event Stream Request (SSE)",icon:"plus-circle",action:()=>vt({requestType:"Event Stream",parentId:e._id})},{id:"GraphQL Request",name:"GraphQL Request",icon:"plus-circle",action:()=>vt({requestType:"GraphQL",parentId:e._id})},{id:"gRPC Request",name:"gRPC Request",icon:"plus-circle",action:()=>vt({requestType:"gRPC",parentId:e._id})},{id:"WebSocket Request",name:"WebSocket Request",icon:"plus-circle",action:()=>vt({requestType:"WebSocket",parentId:e._id})},{id:"Socket.IO Request",name:"Socket.IO Request",icon:"plus-circle",action:()=>vt({requestType:"SocketIO",parentId:e._id})},{id:"New Folder",name:"New Folder",icon:"folder",action:()=>showModal(PromptModal,{title:"New Folder",defaultValue:"My Folder",submitName:"Create",label:"Name",selectText:!0,onComplete:gt=>ut.submit({organizationId:dt,projectId:ht,workspaceId:xt,parentId:e._id,name:gt})})}]},{name:"Import",id:"import",icon:"file-import",items:[{id:"From Curl",name:"From Curl",icon:"terminal",action:()=>pt(!0)}]},{name:"Actions",id:"actions",icon:"cog",items:[{id:"Duplicate",name:"Duplicate",icon:"copy",action:()=>_t()},{id:"Rename",name:"Rename",icon:"edit",action:Je},{id:"Settings",name:"Settings",icon:"wrench",action:()=>yt(!0)},{id:"Delete",name:"Delete",icon:"trash",action:()=>Ct()},{id:"RunFolder",name:"Run Folder",icon:"circle-play",action:()=>{ot(`/organization/${dt}/project/${ht}/workspace/${xt}/debug/runner?folder=${e._id}`)}}]},...rt.length>0?[{name:"Plugins",id:"plugins",icon:"plug",items:rt.map(gt=>({id:gt.label,name:gt.label,icon:gt.icon||"plug",action:()=>Rt(gt)}))}]:[]];return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsxs($3674c52c6b3c5bce$export$27d2ad3c5815583e,{isOpen:t,onOpenChange:gt=>{gt&&bt(),Ye(gt)},children:[jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{"data-testid":`Dropdown-${toKebabCase(e.name)}`,"aria-label":"Request Group Actions",className:"hidden aspect-square h-6 items-center justify-center rounded-sm text-sm text-[--color-font] ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] group-hover:flex group-focus:flex aria-pressed:flex aria-pressed:bg-[--hl-sm] data-[focused]:flex",children:jsxRuntimeExports.jsx(Icon,{icon:"caret-down"})}),jsxRuntimeExports.jsx($07b14b47974efb58$export$5b6b19405a83ff9d,{className:"flex min-w-max flex-col overflow-y-hidden",triggerRef:Ke,placement:"bottom end",offset:5,children:jsxRuntimeExports.jsx($3674c52c6b3c5bce$export$d9b273488cd8ce6f,{"aria-label":"Request Group Actions Menu",selectionMode:"single",onAction:gt=>mt.find(St=>St.items.find(wt=>wt.id===gt))?.items.find(St=>St.id===gt)?.action(),items:mt,className:"h-full min-w-max select-none overflow-y-auto rounded-md border border-solid border-[--hl-sm] bg-[--color-bg] py-2 text-sm shadow-lg focus:outline-none",children:gt=>jsxRuntimeExports.jsxs($3674c52c6b3c5bce$export$4b1545b4f2016d26,{className:"flex flex-1 flex-col",children:[jsxRuntimeExports.jsxs($72a5793c14baf454$export$8b251419efc915eb,{className:"flex items-center gap-2 py-1 pl-2 text-xs uppercase text-[--hl]",children:[jsxRuntimeExports.jsx(Icon,{icon:gt.icon})," ",jsxRuntimeExports.jsx("span",{children:gt.name})]}),jsxRuntimeExports.jsx($e1995378a142960e$export$fb8073518f34e6ec,{items:gt.items,children:St=>jsxRuntimeExports.jsxs($3674c52c6b3c5bce$export$2ce376c2cc3355c8,{id:St.id,className:"flex h-[--line-height-xs] w-full items-center gap-2 whitespace-nowrap bg-transparent px-[--padding-md] text-[--color-font] transition-colors hover:bg-[--hl-sm] focus:bg-[--hl-xs] focus:outline-none disabled:cursor-not-allowed aria-selected:font-bold","aria-label":St.name,children:[jsxRuntimeExports.jsx(Icon,{icon:St.icon}),jsxRuntimeExports.jsx("span",{children:St.name}),St.hint&&jsxRuntimeExports.jsx(DropdownHint,{keyBindings:St.hint})]},St.id)})]})})})]}),jt&&jsxRuntimeExports.jsx(RequestGroupSettingsModal,{requestGroup:e,onHide:()=>yt(!1)}),Et&&jsxRuntimeExports.jsx(PasteCurlModal,{onImport:gt=>{vt({requestType:"From Curl",parentId:e._id,req:gt})},onHide:()=>pt(!1)})]})},MAX_TEMPLATE_LENGTH=1e6,MAX_VARIABLE_LENGTH=1e6,MAX_TEMPLATE_EXPRESSIONS=1e4,MAX_REGEX_LENGTH=1e6;class UriTemplate{static isTemplate(t){return/\{[^}\s]+\}/.test(t)}static validateLength(t,Ke,Ye){if(t.length>Ke)throw new Error(`${Ye} exceeds maximum length of ${Ke} characters (got ${t.length})`)}get variableNames(){return this.parts.flatMap(t=>typeof t=="string"?[]:t.names)}constructor(t){UriTemplate.validateLength(t,MAX_TEMPLATE_LENGTH,"Template"),this.template=t,this.parts=this.parse(t)}toString(){return this.template}parse(t){const Ke=[];let Ye="",Je=0,Xe=0;for(;Je<t.length;)if(t[Je]==="{"){Ye&&(Ke.push(Ye),Ye="");const et=t.indexOf("}",Je);if(et===-1)throw new Error("Unclosed template expression");if(Xe++,Xe>MAX_TEMPLATE_EXPRESSIONS)throw new Error(`Template contains too many expressions (max ${MAX_TEMPLATE_EXPRESSIONS})`);const tt=t.slice(Je+1,et),rt=this.getOperator(tt),st=tt.includes("*"),at=this.getNames(tt),nt=at[0];for(const it of at)UriTemplate.validateLength(it,MAX_VARIABLE_LENGTH,"Variable name");Ke.push({name:nt,operator:rt,names:at,exploded:st}),Je=et+1}else Ye+=t[Je],Je++;return Ye&&Ke.push(Ye),Ke}getOperator(t){return["+","#",".","/","?","&"].find(Ye=>t.startsWith(Ye))||""}getNames(t){const Ke=this.getOperator(t);return t.slice(Ke.length).split(",").map(Ye=>Ye.replace("*","").trim()).filter(Ye=>Ye.length>0)}encodeValue(t,Ke){return UriTemplate.validateLength(t,MAX_VARIABLE_LENGTH,"Variable value"),Ke==="+"||Ke==="#"?encodeURI(t):encodeURIComponent(t)}expandPart(t,Ke){if(t.operator==="?"||t.operator==="&"){const et=t.names.map(rt=>{const st=Ke[rt];if(st===void 0)return"";const at=Array.isArray(st)?st.map(nt=>this.encodeValue(nt,t.operator)).join(","):this.encodeValue(st.toString(),t.operator);return`${rt}=${at}`}).filter(rt=>rt.length>0);return et.length===0?"":(t.operator==="?"?"?":"&")+et.join("&")}if(t.names.length>1){const et=t.names.map(tt=>Ke[tt]).filter(tt=>tt!==void 0);return et.length===0?"":et.map(tt=>Array.isArray(tt)?tt[0]:tt).join(",")}const Ye=Ke[t.name];if(Ye===void 0)return"";const Xe=(Array.isArray(Ye)?Ye:[Ye]).map(et=>this.encodeValue(et,t.operator));switch(t.operator){case"":return Xe.join(",");case"+":return Xe.join(",");case"#":return"#"+Xe.join(",");case".":return"."+Xe.join(".");case"/":return"/"+Xe.join("/");default:return Xe.join(",")}}expand(t){let Ke="",Ye=!1;for(const Je of this.parts){if(typeof Je=="string"){Ke+=Je;continue}const Xe=this.expandPart(Je,t);Xe&&((Je.operator==="?"||Je.operator==="&")&&Ye?Ke+=Xe.replace("?","&"):Ke+=Xe,(Je.operator==="?"||Je.operator==="&")&&(Ye=!0))}return Ke}escapeRegExp(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}partToRegExp(t){const Ke=[];for(const Xe of t.names)UriTemplate.validateLength(Xe,MAX_VARIABLE_LENGTH,"Variable name");if(t.operator==="?"||t.operator==="&"){for(let Xe=0;Xe<t.names.length;Xe++){const et=t.names[Xe],tt=Xe===0?"\\"+t.operator:"&";Ke.push({pattern:tt+this.escapeRegExp(et)+"=([^&]+)",name:et})}return Ke}let Ye;const Je=t.name;switch(t.operator){case"":Ye=t.exploded?"([^/]+(?:,[^/]+)*)":"([^/,]+)";break;case"+":case"#":Ye="(.+)";break;case".":Ye="\\.([^/,]+)";break;case"/":Ye="/"+(t.exploded?"([^/]+(?:,[^/]+)*)":"([^/,]+)");break;default:Ye="([^/]+)"}return Ke.push({pattern:Ye,name:Je}),Ke}match(t){UriTemplate.validateLength(t,MAX_TEMPLATE_LENGTH,"URI");let Ke="^";const Ye=[];for(const tt of this.parts)if(typeof tt=="string")Ke+=this.escapeRegExp(tt);else{const rt=this.partToRegExp(tt);for(const{pattern:st,name:at}of rt)Ke+=st,Ye.push({name:at,exploded:tt.exploded})}Ke+="$",UriTemplate.validateLength(Ke,MAX_REGEX_LENGTH,"Generated regex pattern");const Je=new RegExp(Ke),Xe=t.match(Je);if(!Xe)return null;const et={};for(let tt=0;tt<Ye.length;tt++){const{name:rt,exploded:st}=Ye[tt],at=Xe[tt+1],nt=rt.replace("*","");st&&at.includes(",")?et[nt]=at.split(","):et[nt]=at}return et}}var util$2;(function(e){e.assertEqual=Je=>{};function t(Je){}e.assertIs=t;function Ke(Je){throw new Error}e.assertNever=Ke,e.arrayToEnum=Je=>{const Xe={};for(const et of Je)Xe[et]=et;return Xe},e.getValidEnumValues=Je=>{const Xe=e.objectKeys(Je).filter(tt=>typeof Je[Je[tt]]!="number"),et={};for(const tt of Xe)et[tt]=Je[tt];return e.objectValues(et)},e.objectValues=Je=>e.objectKeys(Je).map(function(Xe){return Je[Xe]}),e.objectKeys=typeof Object.keys=="function"?Je=>Object.keys(Je):Je=>{const Xe=[];for(const et in Je)Object.prototype.hasOwnProperty.call(Je,et)&&Xe.push(et);return Xe},e.find=(Je,Xe)=>{for(const et of Je)if(Xe(et))return et},e.isInteger=typeof Number.isInteger=="function"?Je=>Number.isInteger(Je):Je=>typeof Je=="number"&&Number.isFinite(Je)&&Math.floor(Je)===Je;function Ye(Je,Xe=" | "){return Je.map(et=>typeof et=="string"?`'${et}'`:et).join(Xe)}e.joinValues=Ye,e.jsonStringifyReplacer=(Je,Xe)=>typeof Xe=="bigint"?Xe.toString():Xe})(util$2||(util$2={}));var objectUtil;(function(e){e.mergeShapes=(t,Ke)=>({...t,...Ke})})(objectUtil||(objectUtil={}));const ZodParsedType=util$2.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=e=>{switch(typeof e){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return Number.isNaN(e)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(e)?ZodParsedType.array:e===null?ZodParsedType.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&e instanceof Map?ZodParsedType.map:typeof Set<"u"&&e instanceof Set?ZodParsedType.set:typeof Date<"u"&&e instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util$2.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ZodError extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=Ye=>{this.issues=[...this.issues,Ye]},this.addIssues=(Ye=[])=>{this.issues=[...this.issues,...Ye]};const Ke=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,Ke):this.__proto__=Ke,this.name="ZodError",this.issues=t}format(t){const Ke=t||function(Xe){return Xe.message},Ye={_errors:[]},Je=Xe=>{for(const et of Xe.issues)if(et.code==="invalid_union")et.unionErrors.map(Je);else if(et.code==="invalid_return_type")Je(et.returnTypeError);else if(et.code==="invalid_arguments")Je(et.argumentsError);else if(et.path.length===0)Ye._errors.push(Ke(et));else{let tt=Ye,rt=0;for(;rt<et.path.length;){const st=et.path[rt];rt===et.path.length-1?(tt[st]=tt[st]||{_errors:[]},tt[st]._errors.push(Ke(et))):tt[st]=tt[st]||{_errors:[]},tt=tt[st],rt++}}};return Je(this),Ye}static assert(t){if(!(t instanceof ZodError))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util$2.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=Ke=>Ke.message){const Ke={},Ye=[];for(const Je of this.issues)if(Je.path.length>0){const Xe=Je.path[0];Ke[Xe]=Ke[Xe]||[],Ke[Xe].push(t(Je))}else Ye.push(t(Je));return{formErrors:Ye,fieldErrors:Ke}}get formErrors(){return this.flatten()}}ZodError.create=e=>new ZodError(e);const errorMap=(e,t)=>{let Ke;switch(e.code){case ZodIssueCode.invalid_type:e.received===ZodParsedType.undefined?Ke="Required":Ke=`Expected ${e.expected}, received ${e.received}`;break;case ZodIssueCode.invalid_literal:Ke=`Invalid literal value, expected ${JSON.stringify(e.expected,util$2.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:Ke=`Unrecognized key(s) in object: ${util$2.joinValues(e.keys,", ")}`;break;case ZodIssueCode.invalid_union:Ke="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:Ke=`Invalid discriminator value. Expected ${util$2.joinValues(e.options)}`;break;case ZodIssueCode.invalid_enum_value:Ke=`Invalid enum value. Expected ${util$2.joinValues(e.options)}, received '${e.received}'`;break;case ZodIssueCode.invalid_arguments:Ke="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:Ke="Invalid function return type";break;case ZodIssueCode.invalid_date:Ke="Invalid date";break;case ZodIssueCode.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(Ke=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(Ke=`${Ke} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?Ke=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?Ke=`Invalid input: must end with "${e.validation.endsWith}"`:util$2.assertNever(e.validation):e.validation!=="regex"?Ke=`Invalid ${e.validation}`:Ke="Invalid";break;case ZodIssueCode.too_small:e.type==="array"?Ke=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?Ke=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?Ke=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?Ke=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?Ke=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:Ke="Invalid input";break;case ZodIssueCode.too_big:e.type==="array"?Ke=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?Ke=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?Ke=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?Ke=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?Ke=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:Ke="Invalid input";break;case ZodIssueCode.custom:Ke="Invalid input";break;case ZodIssueCode.invalid_intersection_types:Ke="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:Ke=`Number must be a multiple of ${e.multipleOf}`;break;case ZodIssueCode.not_finite:Ke="Number must be finite";break;default:Ke=t.defaultError,util$2.assertNever(e)}return{message:Ke}};let overrideErrorMap=errorMap;function getErrorMap(){return overrideErrorMap}const makeIssue=e=>{const{data:t,path:Ke,errorMaps:Ye,issueData:Je}=e,Xe=[...Ke,...Je.path||[]],et={...Je,path:Xe};if(Je.message!==void 0)return{...Je,path:Xe,message:Je.message};let tt="";const rt=Ye.filter(st=>!!st).slice().reverse();for(const st of rt)tt=st(et,{data:t,defaultError:tt}).message;return{...Je,path:Xe,message:tt}};function addIssueToContext(e,t){const Ke=getErrorMap(),Ye=makeIssue({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Ke,Ke===errorMap?void 0:errorMap].filter(Je=>!!Je)});e.common.issues.push(Ye)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,Ke){const Ye=[];for(const Je of Ke){if(Je.status==="aborted")return INVALID;Je.status==="dirty"&&t.dirty(),Ye.push(Je.value)}return{status:t.value,value:Ye}}static async mergeObjectAsync(t,Ke){const Ye=[];for(const Je of Ke){const Xe=await Je.key,et=await Je.value;Ye.push({key:Xe,value:et})}return ParseStatus.mergeObjectSync(t,Ye)}static mergeObjectSync(t,Ke){const Ye={};for(const Je of Ke){const{key:Xe,value:et}=Je;if(Xe.status==="aborted"||et.status==="aborted")return INVALID;Xe.status==="dirty"&&t.dirty(),et.status==="dirty"&&t.dirty(),Xe.value!=="__proto__"&&(typeof et.value<"u"||Je.alwaysSet)&&(Ye[Xe.value]=et.value)}return{status:t.value,value:Ye}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=e=>({status:"dirty",value:e}),OK=e=>({status:"valid",value:e}),isAborted=e=>e.status==="aborted",isDirty=e=>e.status==="dirty",isValid=e=>e.status==="valid",isAsync=e=>typeof Promise<"u"&&e instanceof Promise;var errorUtil;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(t,Ke,Ye,Je){this._cachedPath=[],this.parent=t,this.data=Ke,this._path=Ye,this._key=Je}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(e,t)=>{if(isValid(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const Ke=new ZodError(e.common.issues);return this._error=Ke,this._error}}};function processCreateParams(e){if(!e)return{};const{errorMap:t,invalid_type_error:Ke,required_error:Ye,description:Je}=e;if(t&&(Ke||Ye))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:Je}:{errorMap:(et,tt)=>{const{message:rt}=e;return et.code==="invalid_enum_value"?{message:rt??tt.defaultError}:typeof tt.data>"u"?{message:rt??Ye??tt.defaultError}:et.code!=="invalid_type"?{message:tt.defaultError}:{message:rt??Ke??tt.defaultError}},description:Je}}class ZodType{get description(){return this._def.description}_getType(t){return getParsedType(t.data)}_getOrReturnCtx(t,Ke){return Ke||{common:t.parent.common,data:t.data,parsedType:getParsedType(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ParseStatus,ctx:{common:t.parent.common,data:t.data,parsedType:getParsedType(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const Ke=this._parse(t);if(isAsync(Ke))throw new Error("Synchronous parse encountered promise.");return Ke}_parseAsync(t){const Ke=this._parse(t);return Promise.resolve(Ke)}parse(t,Ke){const Ye=this.safeParse(t,Ke);if(Ye.success)return Ye.data;throw Ye.error}safeParse(t,Ke){const Ye={common:{issues:[],async:Ke?.async??!1,contextualErrorMap:Ke?.errorMap},path:Ke?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:getParsedType(t)},Je=this._parseSync({data:t,path:Ye.path,parent:Ye});return handleResult(Ye,Je)}"~validate"(t){const Ke={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:getParsedType(t)};if(!this["~standard"].async)try{const Ye=this._parseSync({data:t,path:[],parent:Ke});return isValid(Ye)?{value:Ye.value}:{issues:Ke.common.issues}}catch(Ye){Ye?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),Ke.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:Ke}).then(Ye=>isValid(Ye)?{value:Ye.value}:{issues:Ke.common.issues})}async parseAsync(t,Ke){const Ye=await this.safeParseAsync(t,Ke);if(Ye.success)return Ye.data;throw Ye.error}async safeParseAsync(t,Ke){const Ye={common:{issues:[],contextualErrorMap:Ke?.errorMap,async:!0},path:Ke?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:getParsedType(t)},Je=this._parse({data:t,path:Ye.path,parent:Ye}),Xe=await(isAsync(Je)?Je:Promise.resolve(Je));return handleResult(Ye,Xe)}refine(t,Ke){const Ye=Je=>typeof Ke=="string"||typeof Ke>"u"?{message:Ke}:typeof Ke=="function"?Ke(Je):Ke;return this._refinement((Je,Xe)=>{const et=t(Je),tt=()=>Xe.addIssue({code:ZodIssueCode.custom,...Ye(Je)});return typeof Promise<"u"&&et instanceof Promise?et.then(rt=>rt?!0:(tt(),!1)):et?!0:(tt(),!1)})}refinement(t,Ke){return this._refinement((Ye,Je)=>t(Ye)?!0:(Je.addIssue(typeof Ke=="function"?Ke(Ye,Je):Ke),!1))}_refinement(t){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:Ke=>this["~validate"](Ke)}}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this)}promise(){return ZodPromise.create(this,this._def)}or(t){return ZodUnion.create([this,t],this._def)}and(t){return ZodIntersection.create(this,t,this._def)}transform(t){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const Ke=typeof t=="function"?t:()=>t;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:Ke,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(t){const Ke=typeof t=="function"?t:()=>t;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:Ke,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(t){const Ke=this.constructor;return new Ke({...this._def,description:t})}pipe(t){return ZodPipeline.create(this,t)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/i,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,jwtRegex=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4CidrRegex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Regex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ipv6CidrRegex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64urlRegex=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const Ke=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${Ke}`}function timeRegex(e){return new RegExp(`^${timeRegexSource(e)}$`)}function datetimeRegex(e){let t=`${dateRegexSource}T${timeRegexSource(e)}`;const Ke=[];return Ke.push(e.local?"Z?":"Z"),e.offset&&Ke.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${Ke.join("|")})`,new RegExp(`^${t}$`)}function isValidIP(e,t){return!!((t==="v4"||!t)&&ipv4Regex.test(e)||(t==="v6"||!t)&&ipv6Regex.test(e))}function isValidJWT(e,t){if(!jwtRegex.test(e))return!1;try{const[Ke]=e.split(".");if(!Ke)return!1;const Ye=Ke.replace(/-/g,"+").replace(/_/g,"/").padEnd(Ke.length+(4-Ke.length%4)%4,"="),Je=JSON.parse(atob(Ye));return!(typeof Je!="object"||Je===null||"typ"in Je&&Je?.typ!=="JWT"||!Je.alg||t&&Je.alg!==t)}catch{return!1}}function isValidCidr(e,t){return!!((t==="v4"||!t)&&ipv4CidrRegex.test(e)||(t==="v6"||!t)&&ipv6CidrRegex.test(e))}class ZodString extends ZodType{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ZodParsedType.string){const Xe=this._getOrReturnCtx(t);return addIssueToContext(Xe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:Xe.parsedType}),INVALID}const Ye=new ParseStatus;let Je;for(const Xe of this._def.checks)if(Xe.kind==="min")t.data.length<Xe.value&&(Je=this._getOrReturnCtx(t,Je),addIssueToContext(Je,{code:ZodIssueCode.too_small,minimum:Xe.value,type:"string",inclusive:!0,exact:!1,message:Xe.message}),Ye.dirty());else if(Xe.kind==="max")t.data.length>Xe.value&&(Je=this._getOrReturnCtx(t,Je),addIssueToContext(Je,{code:ZodIssueCode.too_big,maximum:Xe.value,type:"string",inclusive:!0,exact:!1,message:Xe.message}),Ye.dirty());else if(Xe.kind==="length"){const et=t.data.length>Xe.value,tt=t.data.length<Xe.value;(et||tt)&&(Je=this._getOrReturnCtx(t,Je),et?addIssueToContext(Je,{code:ZodIssueCode.too_big,maximum:Xe.value,type:"string",inclusive:!0,exact:!0,message:Xe.message}):tt&&addIssueToContext(Je,{code:ZodIssueCode.too_small,minimum:Xe.value,type:"string",inclusive:!0,exact:!0,message:Xe.message}),Ye.dirty())}else if(Xe.kind==="email")emailRegex.test(t.data)||(Je=this._getOrReturnCtx(t,Je),addIssueToContext(Je,{validation:"email",code:ZodIssueCode.invalid_string,message:Xe.message}),Ye.dirty());else if(Xe.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(t.data)||(Je=this._getOrReturnCtx(t,Je),addIssueToContext(Je,{validation:"emoji",code:ZodIssueCode.invalid_string,message:Xe.message}),Ye.dirty());else if(Xe.kind==="uuid")uuidRegex.test(t.data)||(Je=this._getOrReturnCtx(t,Je),addIssueToContext(Je,{validation:"uuid",code:ZodIssueCode.invalid_string,message:Xe.message}),Ye.dirty());else if(Xe.kind==="nanoid")nanoidRegex.test(t.data)||(Je=this._getOrReturnCtx(t,Je),addIssueToContext(Je,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:Xe.message}),Ye.dirty());else if(Xe.kind==="cuid")cuidRegex.test(t.data)||(Je=this._getOrReturnCtx(t,Je),addIssueToContext(Je,{validation:"cuid",code:ZodIssueCode.invalid_string,message:Xe.message}),Ye.dirty());else if(Xe.kind==="cuid2")cuid2Regex.test(t.data)||(Je=this._getOrReturnCtx(t,Je),addIssueToContext(Je,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:Xe.message}),Ye.dirty());else if(Xe.kind==="ulid")ulidRegex.test(t.data)||(Je=this._getOrReturnCtx(t,Je),addIssueToContext(Je,{validation:"ulid",code:ZodIssueCode.invalid_string,message:Xe.message}),Ye.dirty());else if(Xe.kind==="url")try{new URL(t.data)}catch{Je=this._getOrReturnCtx(t,Je),addIssueToContext(Je,{validation:"url",code:ZodIssueCode.invalid_string,message:Xe.message}),Ye.dirty()}else Xe.kind==="regex"?(Xe.regex.lastIndex=0,Xe.regex.test(t.data)||(Je=this._getOrReturnCtx(t,Je),addIssueToContext(Je,{validation:"regex",code:ZodIssueCode.invalid_string,message:Xe.message}),Ye.dirty())):Xe.kind==="trim"?t.data=t.data.trim():Xe.kind==="includes"?t.data.includes(Xe.value,Xe.position)||(Je=this._getOrReturnCtx(t,Je),addIssueToContext(Je,{code:ZodIssueCode.invalid_string,validation:{includes:Xe.value,position:Xe.position},message:Xe.message}),Ye.dirty()):Xe.kind==="toLowerCase"?t.data=t.data.toLowerCase():Xe.kind==="toUpperCase"?t.data=t.data.toUpperCase():Xe.kind==="startsWith"?t.data.startsWith(Xe.value)||(Je=this._getOrReturnCtx(t,Je),addIssueToContext(Je,{code:ZodIssueCode.invalid_string,validation:{startsWith:Xe.value},message:Xe.message}),Ye.dirty()):Xe.kind==="endsWith"?t.data.endsWith(Xe.value)||(Je=this._getOrReturnCtx(t,Je),addIssueToContext(Je,{code:ZodIssueCode.invalid_string,validation:{endsWith:Xe.value},message:Xe.message}),Ye.dirty()):Xe.kind==="datetime"?datetimeRegex(Xe).test(t.data)||(Je=this._getOrReturnCtx(t,Je),addIssueToContext(Je,{code:ZodIssueCode.invalid_string,validation:"datetime",message:Xe.message}),Ye.dirty()):Xe.kind==="date"?dateRegex.test(t.data)||(Je=this._getOrReturnCtx(t,Je),addIssueToContext(Je,{code:ZodIssueCode.invalid_string,validation:"date",message:Xe.message}),Ye.dirty()):Xe.kind==="time"?timeRegex(Xe).test(t.data)||(Je=this._getOrReturnCtx(t,Je),addIssueToContext(Je,{code:ZodIssueCode.invalid_string,validation:"time",message:Xe.message}),Ye.dirty()):Xe.kind==="duration"?durationRegex.test(t.data)||(Je=this._getOrReturnCtx(t,Je),addIssueToContext(Je,{validation:"duration",code:ZodIssueCode.invalid_string,message:Xe.message}),Ye.dirty()):Xe.kind==="ip"?isValidIP(t.data,Xe.version)||(Je=this._getOrReturnCtx(t,Je),addIssueToContext(Je,{validation:"ip",code:ZodIssueCode.invalid_string,message:Xe.message}),Ye.dirty()):Xe.kind==="jwt"?isValidJWT(t.data,Xe.alg)||(Je=this._getOrReturnCtx(t,Je),addIssueToContext(Je,{validation:"jwt",code:ZodIssueCode.invalid_string,message:Xe.message}),Ye.dirty()):Xe.kind==="cidr"?isValidCidr(t.data,Xe.version)||(Je=this._getOrReturnCtx(t,Je),addIssueToContext(Je,{validation:"cidr",code:ZodIssueCode.invalid_string,message:Xe.message}),Ye.dirty()):Xe.kind==="base64"?base64Regex.test(t.data)||(Je=this._getOrReturnCtx(t,Je),addIssueToContext(Je,{validation:"base64",code:ZodIssueCode.invalid_string,message:Xe.message}),Ye.dirty()):Xe.kind==="base64url"?base64urlRegex.test(t.data)||(Je=this._getOrReturnCtx(t,Je),addIssueToContext(Je,{validation:"base64url",code:ZodIssueCode.invalid_string,message:Xe.message}),Ye.dirty()):util$2.assertNever(Xe);return{status:Ye.value,value:t.data}}_regex(t,Ke,Ye){return this.refinement(Je=>t.test(Je),{validation:Ke,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(Ye)})}_addCheck(t){return new ZodString({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...errorUtil.errToObj(t)})}url(t){return this._addCheck({kind:"url",...errorUtil.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...errorUtil.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...errorUtil.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...errorUtil.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...errorUtil.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...errorUtil.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...errorUtil.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...errorUtil.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...errorUtil.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...errorUtil.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...errorUtil.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...errorUtil.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...errorUtil.errToObj(t)})}regex(t,Ke){return this._addCheck({kind:"regex",regex:t,...errorUtil.errToObj(Ke)})}includes(t,Ke){return this._addCheck({kind:"includes",value:t,position:Ke?.position,...errorUtil.errToObj(Ke?.message)})}startsWith(t,Ke){return this._addCheck({kind:"startsWith",value:t,...errorUtil.errToObj(Ke)})}endsWith(t,Ke){return this._addCheck({kind:"endsWith",value:t,...errorUtil.errToObj(Ke)})}min(t,Ke){return this._addCheck({kind:"min",value:t,...errorUtil.errToObj(Ke)})}max(t,Ke){return this._addCheck({kind:"max",value:t,...errorUtil.errToObj(Ke)})}length(t,Ke){return this._addCheck({kind:"length",value:t,...errorUtil.errToObj(Ke)})}nonempty(t){return this.min(1,errorUtil.errToObj(t))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const Ke of this._def.checks)Ke.kind==="min"&&(t===null||Ke.value>t)&&(t=Ke.value);return t}get maxLength(){let t=null;for(const Ke of this._def.checks)Ke.kind==="max"&&(t===null||Ke.value<t)&&(t=Ke.value);return t}}ZodString.create=e=>new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:e?.coerce??!1,...processCreateParams(e)});function floatSafeRemainder(e,t){const Ke=(e.toString().split(".")[1]||"").length,Ye=(t.toString().split(".")[1]||"").length,Je=Ke>Ye?Ke:Ye,Xe=Number.parseInt(e.toFixed(Je).replace(".","")),et=Number.parseInt(t.toFixed(Je).replace(".",""));return Xe%et/10**Je}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ZodParsedType.number){const Xe=this._getOrReturnCtx(t);return addIssueToContext(Xe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:Xe.parsedType}),INVALID}let Ye;const Je=new ParseStatus;for(const Xe of this._def.checks)Xe.kind==="int"?util$2.isInteger(t.data)||(Ye=this._getOrReturnCtx(t,Ye),addIssueToContext(Ye,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:Xe.message}),Je.dirty()):Xe.kind==="min"?(Xe.inclusive?t.data<Xe.value:t.data<=Xe.value)&&(Ye=this._getOrReturnCtx(t,Ye),addIssueToContext(Ye,{code:ZodIssueCode.too_small,minimum:Xe.value,type:"number",inclusive:Xe.inclusive,exact:!1,message:Xe.message}),Je.dirty()):Xe.kind==="max"?(Xe.inclusive?t.data>Xe.value:t.data>=Xe.value)&&(Ye=this._getOrReturnCtx(t,Ye),addIssueToContext(Ye,{code:ZodIssueCode.too_big,maximum:Xe.value,type:"number",inclusive:Xe.inclusive,exact:!1,message:Xe.message}),Je.dirty()):Xe.kind==="multipleOf"?floatSafeRemainder(t.data,Xe.value)!==0&&(Ye=this._getOrReturnCtx(t,Ye),addIssueToContext(Ye,{code:ZodIssueCode.not_multiple_of,multipleOf:Xe.value,message:Xe.message}),Je.dirty()):Xe.kind==="finite"?Number.isFinite(t.data)||(Ye=this._getOrReturnCtx(t,Ye),addIssueToContext(Ye,{code:ZodIssueCode.not_finite,message:Xe.message}),Je.dirty()):util$2.assertNever(Xe);return{status:Je.value,value:t.data}}gte(t,Ke){return this.setLimit("min",t,!0,errorUtil.toString(Ke))}gt(t,Ke){return this.setLimit("min",t,!1,errorUtil.toString(Ke))}lte(t,Ke){return this.setLimit("max",t,!0,errorUtil.toString(Ke))}lt(t,Ke){return this.setLimit("max",t,!1,errorUtil.toString(Ke))}setLimit(t,Ke,Ye,Je){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:t,value:Ke,inclusive:Ye,message:errorUtil.toString(Je)}]})}_addCheck(t){return new ZodNumber({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:errorUtil.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(t)})}multipleOf(t,Ke){return this._addCheck({kind:"multipleOf",value:t,message:errorUtil.toString(Ke)})}finite(t){return this._addCheck({kind:"finite",message:errorUtil.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(t)})}get minValue(){let t=null;for(const Ke of this._def.checks)Ke.kind==="min"&&(t===null||Ke.value>t)&&(t=Ke.value);return t}get maxValue(){let t=null;for(const Ke of this._def.checks)Ke.kind==="max"&&(t===null||Ke.value<t)&&(t=Ke.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&util$2.isInteger(t.value))}get isFinite(){let t=null,Ke=null;for(const Ye of this._def.checks){if(Ye.kind==="finite"||Ye.kind==="int"||Ye.kind==="multipleOf")return!0;Ye.kind==="min"?(Ke===null||Ye.value>Ke)&&(Ke=Ye.value):Ye.kind==="max"&&(t===null||Ye.value<t)&&(t=Ye.value)}return Number.isFinite(Ke)&&Number.isFinite(t)}}ZodNumber.create=e=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:e?.coerce||!1,...processCreateParams(e)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ZodParsedType.bigint)return this._getInvalidInput(t);let Ye;const Je=new ParseStatus;for(const Xe of this._def.checks)Xe.kind==="min"?(Xe.inclusive?t.data<Xe.value:t.data<=Xe.value)&&(Ye=this._getOrReturnCtx(t,Ye),addIssueToContext(Ye,{code:ZodIssueCode.too_small,type:"bigint",minimum:Xe.value,inclusive:Xe.inclusive,message:Xe.message}),Je.dirty()):Xe.kind==="max"?(Xe.inclusive?t.data>Xe.value:t.data>=Xe.value)&&(Ye=this._getOrReturnCtx(t,Ye),addIssueToContext(Ye,{code:ZodIssueCode.too_big,type:"bigint",maximum:Xe.value,inclusive:Xe.inclusive,message:Xe.message}),Je.dirty()):Xe.kind==="multipleOf"?t.data%Xe.value!==BigInt(0)&&(Ye=this._getOrReturnCtx(t,Ye),addIssueToContext(Ye,{code:ZodIssueCode.not_multiple_of,multipleOf:Xe.value,message:Xe.message}),Je.dirty()):util$2.assertNever(Xe);return{status:Je.value,value:t.data}}_getInvalidInput(t){const Ke=this._getOrReturnCtx(t);return addIssueToContext(Ke,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:Ke.parsedType}),INVALID}gte(t,Ke){return this.setLimit("min",t,!0,errorUtil.toString(Ke))}gt(t,Ke){return this.setLimit("min",t,!1,errorUtil.toString(Ke))}lte(t,Ke){return this.setLimit("max",t,!0,errorUtil.toString(Ke))}lt(t,Ke){return this.setLimit("max",t,!1,errorUtil.toString(Ke))}setLimit(t,Ke,Ye,Je){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:t,value:Ke,inclusive:Ye,message:errorUtil.toString(Je)}]})}_addCheck(t){return new ZodBigInt({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(t)})}multipleOf(t,Ke){return this._addCheck({kind:"multipleOf",value:t,message:errorUtil.toString(Ke)})}get minValue(){let t=null;for(const Ke of this._def.checks)Ke.kind==="min"&&(t===null||Ke.value>t)&&(t=Ke.value);return t}get maxValue(){let t=null;for(const Ke of this._def.checks)Ke.kind==="max"&&(t===null||Ke.value<t)&&(t=Ke.value);return t}}ZodBigInt.create=e=>new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:e?.coerce??!1,...processCreateParams(e)});class ZodBoolean extends ZodType{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ZodParsedType.boolean){const Ye=this._getOrReturnCtx(t);return addIssueToContext(Ye,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:Ye.parsedType}),INVALID}return OK(t.data)}}ZodBoolean.create=e=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:e?.coerce||!1,...processCreateParams(e)});class ZodDate extends ZodType{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ZodParsedType.date){const Xe=this._getOrReturnCtx(t);return addIssueToContext(Xe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:Xe.parsedType}),INVALID}if(Number.isNaN(t.data.getTime())){const Xe=this._getOrReturnCtx(t);return addIssueToContext(Xe,{code:ZodIssueCode.invalid_date}),INVALID}const Ye=new ParseStatus;let Je;for(const Xe of this._def.checks)Xe.kind==="min"?t.data.getTime()<Xe.value&&(Je=this._getOrReturnCtx(t,Je),addIssueToContext(Je,{code:ZodIssueCode.too_small,message:Xe.message,inclusive:!0,exact:!1,minimum:Xe.value,type:"date"}),Ye.dirty()):Xe.kind==="max"?t.data.getTime()>Xe.value&&(Je=this._getOrReturnCtx(t,Je),addIssueToContext(Je,{code:ZodIssueCode.too_big,message:Xe.message,inclusive:!0,exact:!1,maximum:Xe.value,type:"date"}),Ye.dirty()):util$2.assertNever(Xe);return{status:Ye.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ZodDate({...this._def,checks:[...this._def.checks,t]})}min(t,Ke){return this._addCheck({kind:"min",value:t.getTime(),message:errorUtil.toString(Ke)})}max(t,Ke){return this._addCheck({kind:"max",value:t.getTime(),message:errorUtil.toString(Ke)})}get minDate(){let t=null;for(const Ke of this._def.checks)Ke.kind==="min"&&(t===null||Ke.value>t)&&(t=Ke.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const Ke of this._def.checks)Ke.kind==="max"&&(t===null||Ke.value<t)&&(t=Ke.value);return t!=null?new Date(t):null}}ZodDate.create=e=>new ZodDate({checks:[],coerce:e?.coerce||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(e)});class ZodSymbol extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.symbol){const Ye=this._getOrReturnCtx(t);return addIssueToContext(Ye,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:Ye.parsedType}),INVALID}return OK(t.data)}}ZodSymbol.create=e=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(e)});class ZodUndefined extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.undefined){const Ye=this._getOrReturnCtx(t);return addIssueToContext(Ye,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:Ye.parsedType}),INVALID}return OK(t.data)}}ZodUndefined.create=e=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(e)});class ZodNull extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.null){const Ye=this._getOrReturnCtx(t);return addIssueToContext(Ye,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:Ye.parsedType}),INVALID}return OK(t.data)}}ZodNull.create=e=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(e)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(t){return OK(t.data)}}ZodAny.create=e=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(e)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(t){return OK(t.data)}}ZodUnknown.create=e=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(e)});class ZodNever extends ZodType{_parse(t){const Ke=this._getOrReturnCtx(t);return addIssueToContext(Ke,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:Ke.parsedType}),INVALID}}ZodNever.create=e=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(e)});class ZodVoid extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.undefined){const Ye=this._getOrReturnCtx(t);return addIssueToContext(Ye,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:Ye.parsedType}),INVALID}return OK(t.data)}}ZodVoid.create=e=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(e)});class ZodArray extends ZodType{_parse(t){const{ctx:Ke,status:Ye}=this._processInputParams(t),Je=this._def;if(Ke.parsedType!==ZodParsedType.array)return addIssueToContext(Ke,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:Ke.parsedType}),INVALID;if(Je.exactLength!==null){const et=Ke.data.length>Je.exactLength.value,tt=Ke.data.length<Je.exactLength.value;(et||tt)&&(addIssueToContext(Ke,{code:et?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:tt?Je.exactLength.value:void 0,maximum:et?Je.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:Je.exactLength.message}),Ye.dirty())}if(Je.minLength!==null&&Ke.data.length<Je.minLength.value&&(addIssueToContext(Ke,{code:ZodIssueCode.too_small,minimum:Je.minLength.value,type:"array",inclusive:!0,exact:!1,message:Je.minLength.message}),Ye.dirty()),Je.maxLength!==null&&Ke.data.length>Je.maxLength.value&&(addIssueToContext(Ke,{code:ZodIssueCode.too_big,maximum:Je.maxLength.value,type:"array",inclusive:!0,exact:!1,message:Je.maxLength.message}),Ye.dirty()),Ke.common.async)return Promise.all([...Ke.data].map((et,tt)=>Je.type._parseAsync(new ParseInputLazyPath(Ke,et,Ke.path,tt)))).then(et=>ParseStatus.mergeArray(Ye,et));const Xe=[...Ke.data].map((et,tt)=>Je.type._parseSync(new ParseInputLazyPath(Ke,et,Ke.path,tt)));return ParseStatus.mergeArray(Ye,Xe)}get element(){return this._def.type}min(t,Ke){return new ZodArray({...this._def,minLength:{value:t,message:errorUtil.toString(Ke)}})}max(t,Ke){return new ZodArray({...this._def,maxLength:{value:t,message:errorUtil.toString(Ke)}})}length(t,Ke){return new ZodArray({...this._def,exactLength:{value:t,message:errorUtil.toString(Ke)}})}nonempty(t){return this.min(1,t)}}ZodArray.create=(e,t)=>new ZodArray({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(t)});function deepPartialify(e){if(e instanceof ZodObject){const t={};for(const Ke in e.shape){const Ye=e.shape[Ke];t[Ke]=ZodOptional.create(deepPartialify(Ye))}return new ZodObject({...e._def,shape:()=>t})}else return e instanceof ZodArray?new ZodArray({...e._def,type:deepPartialify(e.element)}):e instanceof ZodOptional?ZodOptional.create(deepPartialify(e.unwrap())):e instanceof ZodNullable?ZodNullable.create(deepPartialify(e.unwrap())):e instanceof ZodTuple?ZodTuple.create(e.items.map(t=>deepPartialify(t))):e}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),Ke=util$2.objectKeys(t);return this._cached={shape:t,keys:Ke},this._cached}_parse(t){if(this._getType(t)!==ZodParsedType.object){const st=this._getOrReturnCtx(t);return addIssueToContext(st,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:st.parsedType}),INVALID}const{status:Ye,ctx:Je}=this._processInputParams(t),{shape:Xe,keys:et}=this._getCached(),tt=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const st in Je.data)et.includes(st)||tt.push(st);const rt=[];for(const st of et){const at=Xe[st],nt=Je.data[st];rt.push({key:{status:"valid",value:st},value:at._parse(new ParseInputLazyPath(Je,nt,Je.path,st)),alwaysSet:st in Je.data})}if(this._def.catchall instanceof ZodNever){const st=this._def.unknownKeys;if(st==="passthrough")for(const at of tt)rt.push({key:{status:"valid",value:at},value:{status:"valid",value:Je.data[at]}});else if(st==="strict")tt.length>0&&(addIssueToContext(Je,{code:ZodIssueCode.unrecognized_keys,keys:tt}),Ye.dirty());else if(st!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const st=this._def.catchall;for(const at of tt){const nt=Je.data[at];rt.push({key:{status:"valid",value:at},value:st._parse(new ParseInputLazyPath(Je,nt,Je.path,at)),alwaysSet:at in Je.data})}}return Je.common.async?Promise.resolve().then(async()=>{const st=[];for(const at of rt){const nt=await at.key,it=await at.value;st.push({key:nt,value:it,alwaysSet:at.alwaysSet})}return st}).then(st=>ParseStatus.mergeObjectSync(Ye,st)):ParseStatus.mergeObjectSync(Ye,rt)}get shape(){return this._def.shape()}strict(t){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(Ke,Ye)=>{const Je=this._def.errorMap?.(Ke,Ye).message??Ye.defaultError;return Ke.code==="unrecognized_keys"?{message:errorUtil.errToObj(t).message??Je}:{message:Je}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(t){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ZodObject({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(t,Ke){return this.augment({[t]:Ke})}catchall(t){return new ZodObject({...this._def,catchall:t})}pick(t){const Ke={};for(const Ye of util$2.objectKeys(t))t[Ye]&&this.shape[Ye]&&(Ke[Ye]=this.shape[Ye]);return new ZodObject({...this._def,shape:()=>Ke})}omit(t){const Ke={};for(const Ye of util$2.objectKeys(this.shape))t[Ye]||(Ke[Ye]=this.shape[Ye]);return new ZodObject({...this._def,shape:()=>Ke})}deepPartial(){return deepPartialify(this)}partial(t){const Ke={};for(const Ye of util$2.objectKeys(this.shape)){const Je=this.shape[Ye];t&&!t[Ye]?Ke[Ye]=Je:Ke[Ye]=Je.optional()}return new ZodObject({...this._def,shape:()=>Ke})}required(t){const Ke={};for(const Ye of util$2.objectKeys(this.shape))if(t&&!t[Ye])Ke[Ye]=this.shape[Ye];else{let Xe=this.shape[Ye];for(;Xe instanceof ZodOptional;)Xe=Xe._def.innerType;Ke[Ye]=Xe}return new ZodObject({...this._def,shape:()=>Ke})}keyof(){return createZodEnum(util$2.objectKeys(this.shape))}}ZodObject.create=(e,t)=>new ZodObject({shape:()=>e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(t)});ZodObject.strictCreate=(e,t)=>new ZodObject({shape:()=>e,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(t)});ZodObject.lazycreate=(e,t)=>new ZodObject({shape:e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(t)});class ZodUnion extends ZodType{_parse(t){const{ctx:Ke}=this._processInputParams(t),Ye=this._def.options;function Je(Xe){for(const tt of Xe)if(tt.result.status==="valid")return tt.result;for(const tt of Xe)if(tt.result.status==="dirty")return Ke.common.issues.push(...tt.ctx.common.issues),tt.result;const et=Xe.map(tt=>new ZodError(tt.ctx.common.issues));return addIssueToContext(Ke,{code:ZodIssueCode.invalid_union,unionErrors:et}),INVALID}if(Ke.common.async)return Promise.all(Ye.map(async Xe=>{const et={...Ke,common:{...Ke.common,issues:[]},parent:null};return{result:await Xe._parseAsync({data:Ke.data,path:Ke.path,parent:et}),ctx:et}})).then(Je);{let Xe;const et=[];for(const rt of Ye){const st={...Ke,common:{...Ke.common,issues:[]},parent:null},at=rt._parseSync({data:Ke.data,path:Ke.path,parent:st});if(at.status==="valid")return at;at.status==="dirty"&&!Xe&&(Xe={result:at,ctx:st}),st.common.issues.length&&et.push(st.common.issues)}if(Xe)return Ke.common.issues.push(...Xe.ctx.common.issues),Xe.result;const tt=et.map(rt=>new ZodError(rt));return addIssueToContext(Ke,{code:ZodIssueCode.invalid_union,unionErrors:tt}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(e,t)=>new ZodUnion({options:e,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(t)});const getDiscriminator=e=>e instanceof ZodLazy?getDiscriminator(e.schema):e instanceof ZodEffects?getDiscriminator(e.innerType()):e instanceof ZodLiteral?[e.value]:e instanceof ZodEnum?e.options:e instanceof ZodNativeEnum?util$2.objectValues(e.enum):e instanceof ZodDefault?getDiscriminator(e._def.innerType):e instanceof ZodUndefined?[void 0]:e instanceof ZodNull?[null]:e instanceof ZodOptional?[void 0,...getDiscriminator(e.unwrap())]:e instanceof ZodNullable?[null,...getDiscriminator(e.unwrap())]:e instanceof ZodBranded||e instanceof ZodReadonly?getDiscriminator(e.unwrap()):e instanceof ZodCatch?getDiscriminator(e._def.innerType):[];class ZodDiscriminatedUnion extends ZodType{_parse(t){const{ctx:Ke}=this._processInputParams(t);if(Ke.parsedType!==ZodParsedType.object)return addIssueToContext(Ke,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:Ke.parsedType}),INVALID;const Ye=this.discriminator,Je=Ke.data[Ye],Xe=this.optionsMap.get(Je);return Xe?Ke.common.async?Xe._parseAsync({data:Ke.data,path:Ke.path,parent:Ke}):Xe._parseSync({data:Ke.data,path:Ke.path,parent:Ke}):(addIssueToContext(Ke,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[Ye]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,Ke,Ye){const Je=new Map;for(const Xe of Ke){const et=getDiscriminator(Xe.shape[t]);if(!et.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const tt of et){if(Je.has(tt))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(tt)}`);Je.set(tt,Xe)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:t,options:Ke,optionsMap:Je,...processCreateParams(Ye)})}}function mergeValues(e,t){const Ke=getParsedType(e),Ye=getParsedType(t);if(e===t)return{valid:!0,data:e};if(Ke===ZodParsedType.object&&Ye===ZodParsedType.object){const Je=util$2.objectKeys(t),Xe=util$2.objectKeys(e).filter(tt=>Je.indexOf(tt)!==-1),et={...e,...t};for(const tt of Xe){const rt=mergeValues(e[tt],t[tt]);if(!rt.valid)return{valid:!1};et[tt]=rt.data}return{valid:!0,data:et}}else if(Ke===ZodParsedType.array&&Ye===ZodParsedType.array){if(e.length!==t.length)return{valid:!1};const Je=[];for(let Xe=0;Xe<e.length;Xe++){const et=e[Xe],tt=t[Xe],rt=mergeValues(et,tt);if(!rt.valid)return{valid:!1};Je.push(rt.data)}return{valid:!0,data:Je}}else return Ke===ZodParsedType.date&&Ye===ZodParsedType.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ZodIntersection extends ZodType{_parse(t){const{status:Ke,ctx:Ye}=this._processInputParams(t),Je=(Xe,et)=>{if(isAborted(Xe)||isAborted(et))return INVALID;const tt=mergeValues(Xe.value,et.value);return tt.valid?((isDirty(Xe)||isDirty(et))&&Ke.dirty(),{status:Ke.value,value:tt.data}):(addIssueToContext(Ye,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return Ye.common.async?Promise.all([this._def.left._parseAsync({data:Ye.data,path:Ye.path,parent:Ye}),this._def.right._parseAsync({data:Ye.data,path:Ye.path,parent:Ye})]).then(([Xe,et])=>Je(Xe,et)):Je(this._def.left._parseSync({data:Ye.data,path:Ye.path,parent:Ye}),this._def.right._parseSync({data:Ye.data,path:Ye.path,parent:Ye}))}}ZodIntersection.create=(e,t,Ke)=>new ZodIntersection({left:e,right:t,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(Ke)});class ZodTuple extends ZodType{_parse(t){const{status:Ke,ctx:Ye}=this._processInputParams(t);if(Ye.parsedType!==ZodParsedType.array)return addIssueToContext(Ye,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:Ye.parsedType}),INVALID;if(Ye.data.length<this._def.items.length)return addIssueToContext(Ye,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&Ye.data.length>this._def.items.length&&(addIssueToContext(Ye,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ke.dirty());const Xe=[...Ye.data].map((et,tt)=>{const rt=this._def.items[tt]||this._def.rest;return rt?rt._parse(new ParseInputLazyPath(Ye,et,Ye.path,tt)):null}).filter(et=>!!et);return Ye.common.async?Promise.all(Xe).then(et=>ParseStatus.mergeArray(Ke,et)):ParseStatus.mergeArray(Ke,Xe)}get items(){return this._def.items}rest(t){return new ZodTuple({...this._def,rest:t})}}ZodTuple.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:e,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(t)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:Ke,ctx:Ye}=this._processInputParams(t);if(Ye.parsedType!==ZodParsedType.object)return addIssueToContext(Ye,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:Ye.parsedType}),INVALID;const Je=[],Xe=this._def.keyType,et=this._def.valueType;for(const tt in Ye.data)Je.push({key:Xe._parse(new ParseInputLazyPath(Ye,tt,Ye.path,tt)),value:et._parse(new ParseInputLazyPath(Ye,Ye.data[tt],Ye.path,tt)),alwaysSet:tt in Ye.data});return Ye.common.async?ParseStatus.mergeObjectAsync(Ke,Je):ParseStatus.mergeObjectSync(Ke,Je)}get element(){return this._def.valueType}static create(t,Ke,Ye){return Ke instanceof ZodType?new ZodRecord({keyType:t,valueType:Ke,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(Ye)}):new ZodRecord({keyType:ZodString.create(),valueType:t,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(Ke)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:Ke,ctx:Ye}=this._processInputParams(t);if(Ye.parsedType!==ZodParsedType.map)return addIssueToContext(Ye,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:Ye.parsedType}),INVALID;const Je=this._def.keyType,Xe=this._def.valueType,et=[...Ye.data.entries()].map(([tt,rt],st)=>({key:Je._parse(new ParseInputLazyPath(Ye,tt,Ye.path,[st,"key"])),value:Xe._parse(new ParseInputLazyPath(Ye,rt,Ye.path,[st,"value"]))}));if(Ye.common.async){const tt=new Map;return Promise.resolve().then(async()=>{for(const rt of et){const st=await rt.key,at=await rt.value;if(st.status==="aborted"||at.status==="aborted")return INVALID;(st.status==="dirty"||at.status==="dirty")&&Ke.dirty(),tt.set(st.value,at.value)}return{status:Ke.value,value:tt}})}else{const tt=new Map;for(const rt of et){const st=rt.key,at=rt.value;if(st.status==="aborted"||at.status==="aborted")return INVALID;(st.status==="dirty"||at.status==="dirty")&&Ke.dirty(),tt.set(st.value,at.value)}return{status:Ke.value,value:tt}}}}ZodMap.create=(e,t,Ke)=>new ZodMap({valueType:t,keyType:e,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(Ke)});class ZodSet extends ZodType{_parse(t){const{status:Ke,ctx:Ye}=this._processInputParams(t);if(Ye.parsedType!==ZodParsedType.set)return addIssueToContext(Ye,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:Ye.parsedType}),INVALID;const Je=this._def;Je.minSize!==null&&Ye.data.size<Je.minSize.value&&(addIssueToContext(Ye,{code:ZodIssueCode.too_small,minimum:Je.minSize.value,type:"set",inclusive:!0,exact:!1,message:Je.minSize.message}),Ke.dirty()),Je.maxSize!==null&&Ye.data.size>Je.maxSize.value&&(addIssueToContext(Ye,{code:ZodIssueCode.too_big,maximum:Je.maxSize.value,type:"set",inclusive:!0,exact:!1,message:Je.maxSize.message}),Ke.dirty());const Xe=this._def.valueType;function et(rt){const st=new Set;for(const at of rt){if(at.status==="aborted")return INVALID;at.status==="dirty"&&Ke.dirty(),st.add(at.value)}return{status:Ke.value,value:st}}const tt=[...Ye.data.values()].map((rt,st)=>Xe._parse(new ParseInputLazyPath(Ye,rt,Ye.path,st)));return Ye.common.async?Promise.all(tt).then(rt=>et(rt)):et(tt)}min(t,Ke){return new ZodSet({...this._def,minSize:{value:t,message:errorUtil.toString(Ke)}})}max(t,Ke){return new ZodSet({...this._def,maxSize:{value:t,message:errorUtil.toString(Ke)}})}size(t,Ke){return this.min(t,Ke).max(t,Ke)}nonempty(t){return this.min(1,t)}}ZodSet.create=(e,t)=>new ZodSet({valueType:e,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(t)});class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(t){const{ctx:Ke}=this._processInputParams(t);return this._def.getter()._parse({data:Ke.data,path:Ke.path,parent:Ke})}}ZodLazy.create=(e,t)=>new ZodLazy({getter:e,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(t)});class ZodLiteral extends ZodType{_parse(t){if(t.data!==this._def.value){const Ke=this._getOrReturnCtx(t);return addIssueToContext(Ke,{received:Ke.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:t.data}}get value(){return this._def.value}}ZodLiteral.create=(e,t)=>new ZodLiteral({value:e,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(t)});function createZodEnum(e,t){return new ZodEnum({values:e,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(t)})}class ZodEnum extends ZodType{_parse(t){if(typeof t.data!="string"){const Ke=this._getOrReturnCtx(t),Ye=this._def.values;return addIssueToContext(Ke,{expected:util$2.joinValues(Ye),received:Ke.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const Ke=this._getOrReturnCtx(t),Ye=this._def.values;return addIssueToContext(Ke,{received:Ke.data,code:ZodIssueCode.invalid_enum_value,options:Ye}),INVALID}return OK(t.data)}get options(){return this._def.values}get enum(){const t={};for(const Ke of this._def.values)t[Ke]=Ke;return t}get Values(){const t={};for(const Ke of this._def.values)t[Ke]=Ke;return t}get Enum(){const t={};for(const Ke of this._def.values)t[Ke]=Ke;return t}extract(t,Ke=this._def){return ZodEnum.create(t,{...this._def,...Ke})}exclude(t,Ke=this._def){return ZodEnum.create(this.options.filter(Ye=>!t.includes(Ye)),{...this._def,...Ke})}}ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(t){const Ke=util$2.getValidEnumValues(this._def.values),Ye=this._getOrReturnCtx(t);if(Ye.parsedType!==ZodParsedType.string&&Ye.parsedType!==ZodParsedType.number){const Je=util$2.objectValues(Ke);return addIssueToContext(Ye,{expected:util$2.joinValues(Je),received:Ye.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._cache||(this._cache=new Set(util$2.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const Je=util$2.objectValues(Ke);return addIssueToContext(Ye,{received:Ye.data,code:ZodIssueCode.invalid_enum_value,options:Je}),INVALID}return OK(t.data)}get enum(){return this._def.values}}ZodNativeEnum.create=(e,t)=>new ZodNativeEnum({values:e,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(t)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(t){const{ctx:Ke}=this._processInputParams(t);if(Ke.parsedType!==ZodParsedType.promise&&Ke.common.async===!1)return addIssueToContext(Ke,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:Ke.parsedType}),INVALID;const Ye=Ke.parsedType===ZodParsedType.promise?Ke.data:Promise.resolve(Ke.data);return OK(Ye.then(Je=>this._def.type.parseAsync(Je,{path:Ke.path,errorMap:Ke.common.contextualErrorMap})))}}ZodPromise.create=(e,t)=>new ZodPromise({type:e,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(t)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:Ke,ctx:Ye}=this._processInputParams(t),Je=this._def.effect||null,Xe={addIssue:et=>{addIssueToContext(Ye,et),et.fatal?Ke.abort():Ke.dirty()},get path(){return Ye.path}};if(Xe.addIssue=Xe.addIssue.bind(Xe),Je.type==="preprocess"){const et=Je.transform(Ye.data,Xe);if(Ye.common.async)return Promise.resolve(et).then(async tt=>{if(Ke.value==="aborted")return INVALID;const rt=await this._def.schema._parseAsync({data:tt,path:Ye.path,parent:Ye});return rt.status==="aborted"?INVALID:rt.status==="dirty"||Ke.value==="dirty"?DIRTY(rt.value):rt});{if(Ke.value==="aborted")return INVALID;const tt=this._def.schema._parseSync({data:et,path:Ye.path,parent:Ye});return tt.status==="aborted"?INVALID:tt.status==="dirty"||Ke.value==="dirty"?DIRTY(tt.value):tt}}if(Je.type==="refinement"){const et=tt=>{const rt=Je.refinement(tt,Xe);if(Ye.common.async)return Promise.resolve(rt);if(rt instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return tt};if(Ye.common.async===!1){const tt=this._def.schema._parseSync({data:Ye.data,path:Ye.path,parent:Ye});return tt.status==="aborted"?INVALID:(tt.status==="dirty"&&Ke.dirty(),et(tt.value),{status:Ke.value,value:tt.value})}else return this._def.schema._parseAsync({data:Ye.data,path:Ye.path,parent:Ye}).then(tt=>tt.status==="aborted"?INVALID:(tt.status==="dirty"&&Ke.dirty(),et(tt.value).then(()=>({status:Ke.value,value:tt.value}))))}if(Je.type==="transform")if(Ye.common.async===!1){const et=this._def.schema._parseSync({data:Ye.data,path:Ye.path,parent:Ye});if(!isValid(et))return INVALID;const tt=Je.transform(et.value,Xe);if(tt instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:Ke.value,value:tt}}else return this._def.schema._parseAsync({data:Ye.data,path:Ye.path,parent:Ye}).then(et=>isValid(et)?Promise.resolve(Je.transform(et.value,Xe)).then(tt=>({status:Ke.value,value:tt})):INVALID);util$2.assertNever(Je)}}ZodEffects.create=(e,t,Ke)=>new ZodEffects({schema:e,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:t,...processCreateParams(Ke)});ZodEffects.createWithPreprocess=(e,t,Ke)=>new ZodEffects({schema:t,effect:{type:"preprocess",transform:e},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(Ke)});class ZodOptional extends ZodType{_parse(t){return this._getType(t)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ZodOptional.create=(e,t)=>new ZodOptional({innerType:e,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(t)});class ZodNullable extends ZodType{_parse(t){return this._getType(t)===ZodParsedType.null?OK(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ZodNullable.create=(e,t)=>new ZodNullable({innerType:e,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(t)});class ZodDefault extends ZodType{_parse(t){const{ctx:Ke}=this._processInputParams(t);let Ye=Ke.data;return Ke.parsedType===ZodParsedType.undefined&&(Ye=this._def.defaultValue()),this._def.innerType._parse({data:Ye,path:Ke.path,parent:Ke})}removeDefault(){return this._def.innerType}}ZodDefault.create=(e,t)=>new ZodDefault({innerType:e,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...processCreateParams(t)});class ZodCatch extends ZodType{_parse(t){const{ctx:Ke}=this._processInputParams(t),Ye={...Ke,common:{...Ke.common,issues:[]}},Je=this._def.innerType._parse({data:Ye.data,path:Ye.path,parent:{...Ye}});return isAsync(Je)?Je.then(Xe=>({status:"valid",value:Xe.status==="valid"?Xe.value:this._def.catchValue({get error(){return new ZodError(Ye.common.issues)},input:Ye.data})})):{status:"valid",value:Je.status==="valid"?Je.value:this._def.catchValue({get error(){return new ZodError(Ye.common.issues)},input:Ye.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(e,t)=>new ZodCatch({innerType:e,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...processCreateParams(t)});class ZodNaN extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.nan){const Ye=this._getOrReturnCtx(t);return addIssueToContext(Ye,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:Ye.parsedType}),INVALID}return{status:"valid",value:t.data}}}ZodNaN.create=e=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(e)});class ZodBranded extends ZodType{_parse(t){const{ctx:Ke}=this._processInputParams(t),Ye=Ke.data;return this._def.type._parse({data:Ye,path:Ke.path,parent:Ke})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(t){const{status:Ke,ctx:Ye}=this._processInputParams(t);if(Ye.common.async)return(async()=>{const Xe=await this._def.in._parseAsync({data:Ye.data,path:Ye.path,parent:Ye});return Xe.status==="aborted"?INVALID:Xe.status==="dirty"?(Ke.dirty(),DIRTY(Xe.value)):this._def.out._parseAsync({data:Xe.value,path:Ye.path,parent:Ye})})();{const Je=this._def.in._parseSync({data:Ye.data,path:Ye.path,parent:Ye});return Je.status==="aborted"?INVALID:Je.status==="dirty"?(Ke.dirty(),{status:"dirty",value:Je.value}):this._def.out._parseSync({data:Je.value,path:Ye.path,parent:Ye})}}static create(t,Ke){return new ZodPipeline({in:t,out:Ke,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(t){const Ke=this._def.innerType._parse(t),Ye=Je=>(isValid(Je)&&(Je.value=Object.freeze(Je.value)),Je);return isAsync(Ke)?Ke.then(Je=>Ye(Je)):Ye(Ke)}unwrap(){return this._def.innerType}}ZodReadonly.create=(e,t)=>new ZodReadonly({innerType:e,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(t)});var ZodFirstPartyTypeKind;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const stringType=ZodString.create,numberType=ZodNumber.create,booleanType=ZodBoolean.create,unknownType=ZodUnknown.create;ZodNever.create;const arrayType=ZodArray.create,objectType=ZodObject.create,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create;ZodIntersection.create;ZodTuple.create;const recordType=ZodRecord.create,literalType=ZodLiteral.create,enumType=ZodEnum.create;ZodPromise.create;const optionalType=ZodOptional.create;ZodNullable.create;const JSONRPC_VERSION="2.0",ProgressTokenSchema=unionType([stringType(),numberType().int()]),CursorSchema=stringType(),RequestMetaSchema=objectType({progressToken:optionalType(ProgressTokenSchema)}).passthrough(),BaseRequestParamsSchema=objectType({_meta:optionalType(RequestMetaSchema)}).passthrough(),RequestSchema=objectType({method:stringType(),params:optionalType(BaseRequestParamsSchema)}),BaseNotificationParamsSchema=objectType({_meta:optionalType(objectType({}).passthrough())}).passthrough(),NotificationSchema=objectType({method:stringType(),params:optionalType(BaseNotificationParamsSchema)}),ResultSchema=objectType({_meta:optionalType(objectType({}).passthrough())}).passthrough(),RequestIdSchema=unionType([stringType(),numberType().int()]),JSONRPCRequestSchema=objectType({jsonrpc:literalType(JSONRPC_VERSION),id:RequestIdSchema}).merge(RequestSchema).strict(),JSONRPCNotificationSchema=objectType({jsonrpc:literalType(JSONRPC_VERSION)}).merge(NotificationSchema).strict(),JSONRPCResponseSchema=objectType({jsonrpc:literalType(JSONRPC_VERSION),id:RequestIdSchema,result:ResultSchema}).strict();var ErrorCode;(function(e){e[e.ConnectionClosed=-32e3]="ConnectionClosed",e[e.RequestTimeout=-32001]="RequestTimeout",e[e.ParseError=-32700]="ParseError",e[e.InvalidRequest=-32600]="InvalidRequest",e[e.MethodNotFound=-32601]="MethodNotFound",e[e.InvalidParams=-32602]="InvalidParams",e[e.InternalError=-32603]="InternalError"})(ErrorCode||(ErrorCode={}));const JSONRPCErrorSchema=objectType({jsonrpc:literalType(JSONRPC_VERSION),id:RequestIdSchema,error:objectType({code:numberType().int(),message:stringType(),data:optionalType(unknownType())})}).strict();unionType([JSONRPCRequestSchema,JSONRPCNotificationSchema,JSONRPCResponseSchema,JSONRPCErrorSchema]);const EmptyResultSchema=ResultSchema.strict(),CancelledNotificationSchema=NotificationSchema.extend({method:literalType("notifications/cancelled"),params:BaseNotificationParamsSchema.extend({requestId:RequestIdSchema,reason:stringType().optional()})}),IconSchema=objectType({src:stringType(),mimeType:optionalType(stringType()),sizes:optionalType(arrayType(stringType()))}).passthrough(),IconsSchema=objectType({icons:arrayType(IconSchema).optional()}).passthrough(),BaseMetadataSchema=objectType({name:stringType(),title:optionalType(stringType())}).passthrough(),ImplementationSchema=BaseMetadataSchema.extend({version:stringType(),websiteUrl:optionalType(stringType())}).merge(IconsSchema),ClientCapabilitiesSchema=objectType({experimental:optionalType(objectType({}).passthrough()),sampling:optionalType(objectType({}).passthrough()),elicitation:optionalType(objectType({}).passthrough()),roots:optionalType(objectType({listChanged:optionalType(booleanType())}).passthrough())}).passthrough(),InitializeRequestSchema=RequestSchema.extend({method:literalType("initialize"),params:BaseRequestParamsSchema.extend({protocolVersion:stringType(),capabilities:ClientCapabilitiesSchema,clientInfo:ImplementationSchema})}),ServerCapabilitiesSchema=objectType({experimental:optionalType(objectType({}).passthrough()),logging:optionalType(objectType({}).passthrough()),completions:optionalType(objectType({}).passthrough()),prompts:optionalType(objectType({listChanged:optionalType(booleanType())}).passthrough()),resources:optionalType(objectType({subscribe:optionalType(booleanType()),listChanged:optionalType(booleanType())}).passthrough()),tools:optionalType(objectType({listChanged:optionalType(booleanType())}).passthrough())}).passthrough(),InitializeResultSchema=ResultSchema.extend({protocolVersion:stringType(),capabilities:ServerCapabilitiesSchema,serverInfo:ImplementationSchema,instructions:optionalType(stringType())}),InitializedNotificationSchema=NotificationSchema.extend({method:literalType("notifications/initialized")}),PingRequestSchema=RequestSchema.extend({method:literalType("ping")}),ProgressSchema=objectType({progress:numberType(),total:optionalType(numberType()),message:optionalType(stringType())}).passthrough(),ProgressNotificationSchema=NotificationSchema.extend({method:literalType("notifications/progress"),params:BaseNotificationParamsSchema.merge(ProgressSchema).extend({progressToken:ProgressTokenSchema})}),PaginatedRequestSchema=RequestSchema.extend({params:BaseRequestParamsSchema.extend({cursor:optionalType(CursorSchema)}).optional()}),PaginatedResultSchema=ResultSchema.extend({nextCursor:optionalType(CursorSchema)}),ResourceContentsSchema=objectType({uri:stringType(),mimeType:optionalType(stringType()),_meta:optionalType(objectType({}).passthrough())}).passthrough(),TextResourceContentsSchema=ResourceContentsSchema.extend({text:stringType()}),Base64Schema=stringType().refine(e=>{try{return atob(e),!0}catch{return!1}},{message:"Invalid Base64 string"}),BlobResourceContentsSchema=ResourceContentsSchema.extend({blob:Base64Schema}),ResourceSchema=BaseMetadataSchema.extend({uri:stringType(),description:optionalType(stringType()),mimeType:optionalType(stringType()),_meta:optionalType(objectType({}).passthrough())}).merge(IconsSchema),ResourceTemplateSchema=BaseMetadataSchema.extend({uriTemplate:stringType(),description:optionalType(stringType()),mimeType:optionalType(stringType()),_meta:optionalType(objectType({}).passthrough())}).merge(IconsSchema),ListResourcesRequestSchema=PaginatedRequestSchema.extend({method:literalType("resources/list")}),ListResourcesResultSchema=PaginatedResultSchema.extend({resources:arrayType(ResourceSchema)}),ListResourceTemplatesRequestSchema=PaginatedRequestSchema.extend({method:literalType("resources/templates/list")}),ListResourceTemplatesResultSchema=PaginatedResultSchema.extend({resourceTemplates:arrayType(ResourceTemplateSchema)}),ReadResourceRequestSchema=RequestSchema.extend({method:literalType("resources/read"),params:BaseRequestParamsSchema.extend({uri:stringType()})}),ReadResourceResultSchema=ResultSchema.extend({contents:arrayType(unionType([TextResourceContentsSchema,BlobResourceContentsSchema]))}),ResourceListChangedNotificationSchema=NotificationSchema.extend({method:literalType("notifications/resources/list_changed")}),SubscribeRequestSchema=RequestSchema.extend({method:literalType("resources/subscribe"),params:BaseRequestParamsSchema.extend({uri:stringType()})}),UnsubscribeRequestSchema=RequestSchema.extend({method:literalType("resources/unsubscribe"),params:BaseRequestParamsSchema.extend({uri:stringType()})}),ResourceUpdatedNotificationSchema=NotificationSchema.extend({method:literalType("notifications/resources/updated"),params:BaseNotificationParamsSchema.extend({uri:stringType()})}),PromptArgumentSchema=objectType({name:stringType(),description:optionalType(stringType()),required:optionalType(booleanType())}).passthrough(),PromptSchema=BaseMetadataSchema.extend({description:optionalType(stringType()),arguments:optionalType(arrayType(PromptArgumentSchema)),_meta:optionalType(objectType({}).passthrough())}).merge(IconsSchema),ListPromptsRequestSchema=PaginatedRequestSchema.extend({method:literalType("prompts/list")}),ListPromptsResultSchema=PaginatedResultSchema.extend({prompts:arrayType(PromptSchema)}),GetPromptRequestSchema=RequestSchema.extend({method:literalType("prompts/get"),params:BaseRequestParamsSchema.extend({name:stringType(),arguments:optionalType(recordType(stringType()))})}),TextContentSchema=objectType({type:literalType("text"),text:stringType(),_meta:optionalType(objectType({}).passthrough())}).passthrough(),ImageContentSchema=objectType({type:literalType("image"),data:Base64Schema,mimeType:stringType(),_meta:optionalType(objectType({}).passthrough())}).passthrough(),AudioContentSchema=objectType({type:literalType("audio"),data:Base64Schema,mimeType:stringType(),_meta:optionalType(objectType({}).passthrough())}).passthrough(),EmbeddedResourceSchema=objectType({type:literalType("resource"),resource:unionType([TextResourceContentsSchema,BlobResourceContentsSchema]),_meta:optionalType(objectType({}).passthrough())}).passthrough(),ResourceLinkSchema=ResourceSchema.extend({type:literalType("resource_link")}),ContentBlockSchema=unionType([TextContentSchema,ImageContentSchema,AudioContentSchema,ResourceLinkSchema,EmbeddedResourceSchema]),PromptMessageSchema=objectType({role:enumType(["user","assistant"]),content:ContentBlockSchema}).passthrough(),GetPromptResultSchema=ResultSchema.extend({description:optionalType(stringType()),messages:arrayType(PromptMessageSchema)}),PromptListChangedNotificationSchema=NotificationSchema.extend({method:literalType("notifications/prompts/list_changed")}),ToolAnnotationsSchema=objectType({title:optionalType(stringType()),readOnlyHint:optionalType(booleanType()),destructiveHint:optionalType(booleanType()),idempotentHint:optionalType(booleanType()),openWorldHint:optionalType(booleanType())}).passthrough(),ToolSchema=BaseMetadataSchema.extend({description:optionalType(stringType()),inputSchema:objectType({type:literalType("object"),properties:optionalType(objectType({}).passthrough()),required:optionalType(arrayType(stringType()))}).passthrough(),outputSchema:optionalType(objectType({type:literalType("object"),properties:optionalType(objectType({}).passthrough()),required:optionalType(arrayType(stringType()))}).passthrough()),annotations:optionalType(ToolAnnotationsSchema),_meta:optionalType(objectType({}).passthrough())}).merge(IconsSchema),ListToolsRequestSchema=PaginatedRequestSchema.extend({method:literalType("tools/list")}),ListToolsResultSchema=PaginatedResultSchema.extend({tools:arrayType(ToolSchema)}),CallToolResultSchema=ResultSchema.extend({content:arrayType(ContentBlockSchema).default([]),structuredContent:objectType({}).passthrough().optional(),isError:optionalType(booleanType())});CallToolResultSchema.or(ResultSchema.extend({toolResult:unknownType()}));const CallToolRequestSchema=RequestSchema.extend({method:literalType("tools/call"),params:BaseRequestParamsSchema.extend({name:stringType(),arguments:optionalType(recordType(unknownType()))})}),ToolListChangedNotificationSchema=NotificationSchema.extend({method:literalType("notifications/tools/list_changed")}),LoggingLevelSchema=enumType(["debug","info","notice","warning","error","critical","alert","emergency"]),SetLevelRequestSchema=RequestSchema.extend({method:literalType("logging/setLevel"),params:BaseRequestParamsSchema.extend({level:LoggingLevelSchema})}),LoggingMessageNotificationSchema=NotificationSchema.extend({method:literalType("notifications/message"),params:BaseNotificationParamsSchema.extend({level:LoggingLevelSchema,logger:optionalType(stringType()),data:unknownType()})}),ModelHintSchema=objectType({name:stringType().optional()}).passthrough(),ModelPreferencesSchema=objectType({hints:optionalType(arrayType(ModelHintSchema)),costPriority:optionalType(numberType().min(0).max(1)),speedPriority:optionalType(numberType().min(0).max(1)),intelligencePriority:optionalType(numberType().min(0).max(1))}).passthrough(),SamplingMessageSchema=objectType({role:enumType(["user","assistant"]),content:unionType([TextContentSchema,ImageContentSchema,AudioContentSchema])}).passthrough(),CreateMessageRequestSchema=RequestSchema.extend({method:literalType("sampling/createMessage"),params:BaseRequestParamsSchema.extend({messages:arrayType(SamplingMessageSchema),systemPrompt:optionalType(stringType()),includeContext:optionalType(enumType(["none","thisServer","allServers"])),temperature:optionalType(numberType()),maxTokens:numberType().int(),stopSequences:optionalType(arrayType(stringType())),metadata:optionalType(objectType({}).passthrough()),modelPreferences:optionalType(ModelPreferencesSchema)})}),CreateMessageResultSchema=ResultSchema.extend({model:stringType(),stopReason:optionalType(enumType(["endTurn","stopSequence","maxTokens"]).or(stringType())),role:enumType(["user","assistant"]),content:discriminatedUnionType("type",[TextContentSchema,ImageContentSchema,AudioContentSchema])}),BooleanSchemaSchema=objectType({type:literalType("boolean"),title:optionalType(stringType()),description:optionalType(stringType()),default:optionalType(booleanType())}).passthrough(),StringSchemaSchema=objectType({type:literalType("string"),title:optionalType(stringType()),description:optionalType(stringType()),minLength:optionalType(numberType()),maxLength:optionalType(numberType()),format:optionalType(enumType(["email","uri","date","date-time"]))}).passthrough(),NumberSchemaSchema=objectType({type:enumType(["number","integer"]),title:optionalType(stringType()),description:optionalType(stringType()),minimum:optionalType(numberType()),maximum:optionalType(numberType())}).passthrough(),EnumSchemaSchema=objectType({type:literalType("string"),title:optionalType(stringType()),description:optionalType(stringType()),enum:arrayType(stringType()),enumNames:optionalType(arrayType(stringType()))}).passthrough(),PrimitiveSchemaDefinitionSchema=unionType([BooleanSchemaSchema,StringSchemaSchema,NumberSchemaSchema,EnumSchemaSchema]),ElicitRequestSchema=RequestSchema.extend({method:literalType("elicitation/create"),params:BaseRequestParamsSchema.extend({message:stringType(),requestedSchema:objectType({type:literalType("object"),properties:recordType(stringType(),PrimitiveSchemaDefinitionSchema),required:optionalType(arrayType(stringType()))}).passthrough()})}),ElicitResultSchema=ResultSchema.extend({action:enumType(["accept","decline","cancel"]),content:optionalType(recordType(stringType(),unknownType()))}),ResourceTemplateReferenceSchema=objectType({type:literalType("ref/resource"),uri:stringType()}).passthrough(),PromptReferenceSchema=objectType({type:literalType("ref/prompt"),name:stringType()}).passthrough(),CompleteRequestSchema=RequestSchema.extend({method:literalType("completion/complete"),params:BaseRequestParamsSchema.extend({ref:unionType([PromptReferenceSchema,ResourceTemplateReferenceSchema]),argument:objectType({name:stringType(),value:stringType()}).passthrough(),context:optionalType(objectType({arguments:optionalType(recordType(stringType(),stringType()))}))})}),CompleteResultSchema=ResultSchema.extend({completion:objectType({values:arrayType(stringType()).max(100),total:optionalType(numberType().int()),hasMore:optionalType(booleanType())}).passthrough()}),RootSchema=objectType({uri:stringType().startsWith("file://"),name:optionalType(stringType()),_meta:optionalType(objectType({}).passthrough())}).passthrough(),ListRootsRequestSchema=RequestSchema.extend({method:literalType("roots/list")}),ListRootsResultSchema=ResultSchema.extend({roots:arrayType(RootSchema)}),RootsListChangedNotificationSchema=NotificationSchema.extend({method:literalType("notifications/roots/list_changed")});unionType([PingRequestSchema,InitializeRequestSchema,CompleteRequestSchema,SetLevelRequestSchema,GetPromptRequestSchema,ListPromptsRequestSchema,ListResourcesRequestSchema,ListResourceTemplatesRequestSchema,ReadResourceRequestSchema,SubscribeRequestSchema,UnsubscribeRequestSchema,CallToolRequestSchema,ListToolsRequestSchema]);unionType([CancelledNotificationSchema,ProgressNotificationSchema,InitializedNotificationSchema,RootsListChangedNotificationSchema]);unionType([EmptyResultSchema,CreateMessageResultSchema,ElicitResultSchema,ListRootsResultSchema]);unionType([PingRequestSchema,CreateMessageRequestSchema,ElicitRequestSchema,ListRootsRequestSchema]);unionType([CancelledNotificationSchema,ProgressNotificationSchema,LoggingMessageNotificationSchema,ResourceUpdatedNotificationSchema,ResourceListChangedNotificationSchema,ToolListChangedNotificationSchema,PromptListChangedNotificationSchema]);unionType([EmptyResultSchema,InitializeResultSchema,CompleteResultSchema,GetPromptResultSchema,ListPromptsResultSchema,ListResourcesResultSchema,ListResourceTemplatesResultSchema,ReadResourceResultSchema,CallToolResultSchema,ListToolsResultSchema]);const METHOD_INITIALIZE=InitializeRequestSchema.shape.method.value,METHOD_LIST_TOOLS=ListToolsRequestSchema.shape.method.value,METHOD_LIST_RESOURCES=ListResourcesRequestSchema.shape.method.value,METHOD_LIST_RESOURCE_TEMPLATES=ListResourceTemplatesRequestSchema.shape.method.value,METHOD_LIST_PROMPTS=ListPromptsRequestSchema.shape.method.value,METHOD_CALL_TOOL=CallToolRequestSchema.shape.method.value;ReadResourceRequestSchema.shape.method.value;GetPromptRequestSchema.shape.method.value;SubscribeRequestSchema.shape.method.value;UnsubscribeRequestSchema.shape.method.value;CreateMessageRequestSchema.shape.method.value;ListRootsRequestSchema.shape.method.value;ElicitRequestSchema.shape.method.value;CancelledNotificationSchema.shape.method.value;ProgressNotificationSchema.shape.method.value;LoggingMessageNotificationSchema.shape.method.value;ResourceUpdatedNotificationSchema.shape.method.value;const METHOD_NOTIFICATION_RESOURCE_LIST_CHANGED=ResourceListChangedNotificationSchema.shape.method.value,METHOD_NOTIFICATION_TOOL_LIST_CHANGED=ToolListChangedNotificationSchema.shape.method.value,METHOD_NOTIFICATION_PROMPT_LIST_CHANGED=PromptListChangedNotificationSchema.shape.method.value,unsupportedMethodPrefix="Unsupported/",METHOD_UNKNOWN="Unknown Method",NOTIFICATIONS_LIST_CHANGED=[METHOD_NOTIFICATION_RESOURCE_LIST_CHANGED,METHOD_NOTIFICATION_TOOL_LIST_CHANGED,METHOD_NOTIFICATION_PROMPT_LIST_CHANGED],getDefaultServerCapabilities=()=>({tools:{enabled:!1,listChanged:!1},resources:{enabled:!1,listChanged:!1,subscribe:!0},prompts:{enabled:!1,listChanged:!1}}),isResourceTemplate=e=>"uriTemplate"in e&&e.uriTemplate!==void 0,buildResourceJsonSchema=e=>{if(isResourceTemplate(e)){const t=new UriTemplate(e.uriTemplate),Ke={},Ye=[];return t.variableNames.forEach(Je=>{Ke[Je]={type:"string"},Ye.push(Je)}),{type:"object",properties:Ke,required:Ye}}return{type:"object",properties:{uri:{type:"string",default:e.uri}},required:["uri"],readOnly:!0}},fillUriTemplate=(e,t)=>new UriTemplate(e).expand(t),McpActionsDropdown=({item:e,activeRequest:t,isOpen:Ke,onOpenChange:Ye,onRefreshPrimitive:Je,onUpdatePrimitiveNextCursor:Xe,onLoadMorePrimitive:et,triggerRef:tt})=>{const{type:rt}=e,{nextCursor:st}=e,at=!st,nt=at?Je:et,it=t._id,lt=[{name:"Actions",id:"actions",icon:"cog",items:[{id:"Refresh",name:"Refresh",icon:"refresh",action:async()=>{const ut={...st&&{cursor:st}};if(rt==="tools"){const ft=await window.main.mcp.primitive.listTools({requestId:it,...ut});ft&&(nt(ft.tools,rt),ft.nextCursor&&Xe(ft.nextCursor,rt))}else if(rt==="prompts"){const ft=await window.main.mcp.primitive.listPrompts({requestId:it,...ut});ft&&(nt(ft.prompts,rt),ft.nextCursor&&Xe(ft.nextCursor,rt))}else if(rt==="resources"){const ft=await window.main.mcp.primitive.listResources({requestId:it,...ut});ft&&(nt(ft.resources,rt),ft.nextCursor&&Xe(ft.nextCursor,rt))}}}]}];return jsxRuntimeExports.jsxs($3674c52c6b3c5bce$export$27d2ad3c5815583e,{isOpen:Ke,onOpenChange:ut=>{Ye(ut)},children:[jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{"data-testid":`Dropdown-${e.type}`,"aria-label":"Mcp Actions",className:"hidden aspect-square h-6 items-center justify-center rounded-sm text-sm text-[--color-font] ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] group-hover:flex group-focus:flex aria-pressed:bg-[--hl-sm]",children:jsxRuntimeExports.jsx(Icon,{icon:"caret-down"})}),jsxRuntimeExports.jsx($07b14b47974efb58$export$5b6b19405a83ff9d,{className:"flex min-w-max flex-col overflow-y-hidden",triggerRef:tt,placement:"bottom end",offset:5,children:jsxRuntimeExports.jsx($3674c52c6b3c5bce$export$d9b273488cd8ce6f,{"aria-label":"Mcp Actions Menu",selectionMode:"single",onAction:ut=>lt.find(ft=>ft.items.find(ct=>ct.id===ut))?.items.find(ft=>ft.id===ut)?.action(),items:lt,className:"min-w-max select-none overflow-y-auto rounded-md border border-solid border-[--hl-sm] bg-[--color-bg] py-2 text-sm shadow-lg focus:outline-none",children:ut=>jsxRuntimeExports.jsxs($3674c52c6b3c5bce$export$4b1545b4f2016d26,{className:"flex flex-1 flex-col",children:[jsxRuntimeExports.jsxs($72a5793c14baf454$export$8b251419efc915eb,{className:"flex items-center gap-2 py-1 pl-2 text-xs uppercase text-[--hl]",children:[jsxRuntimeExports.jsx(Icon,{icon:ut.icon})," ",jsxRuntimeExports.jsx("span",{children:ut.name})]}),jsxRuntimeExports.jsx($e1995378a142960e$export$fb8073518f34e6ec,{items:ut.items,children:ft=>{const{id:ct,name:dt,icon:ht}=ft;let xt=dt,vt=ht;return ct==="Refresh"&&(xt=at?"Refresh":"Load More",vt=at?"refresh":"chevron-down"),jsxRuntimeExports.jsxs($3674c52c6b3c5bce$export$2ce376c2cc3355c8,{id:ft.id,className:"text-md flex h-[--line-height-xs] w-full items-center gap-2 whitespace-nowrap bg-transparent px-[--padding-md] text-[--color-font] transition-colors hover:bg-[--hl-sm] focus:bg-[--hl-xs] focus:outline-none disabled:cursor-not-allowed aria-selected:font-bold","aria-label":xt,children:[jsxRuntimeExports.jsx(Icon,{icon:vt}),jsxRuntimeExports.jsx("span",{children:xt})]},ft.id)}})]})})})]})};function isObject$1(e){return typeof e!="object"||e===null||typeof e.lastModified=="number"&&typeof File<"u"&&e instanceof File||typeof e.getMonth=="function"&&typeof Date<"u"&&e instanceof Date?!1:!Array.isArray(e)}function allowAdditionalItems(e){return e.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),isObject$1(e.additionalItems)}function asNumber(e){if(e==="")return;if(e===null)return null;if(/\.$/.test(e)||/\.0$/.test(e)||/\.\d*0$/.test(e))return e;const t=Number(e);return typeof t=="number"&&!Number.isNaN(t)?t:e}const ADDITIONAL_PROPERTY_FLAG="__additional_property",ADDITIONAL_PROPERTIES_KEY="additionalProperties",ALL_OF_KEY="allOf",ANY_OF_KEY="anyOf",CONST_KEY="const",DEFAULT_KEY="default",DEPENDENCIES_KEY="dependencies",ENUM_KEY="enum",ERRORS_KEY="__errors",ID_KEY="$id",IF_KEY="if",ITEMS_KEY="items",JUNK_OPTION_ID="_$junk_option_schema_id$_",NAME_KEY="$name",ONE_OF_KEY="oneOf",PATTERN_PROPERTIES_KEY="patternProperties",PROPERTIES_KEY="properties",READONLY_KEY="readonly",REQUIRED_KEY="required",SUBMIT_BTN_OPTIONS_KEY="submitButtonOptions",REF_KEY="$ref",SCHEMA_KEY="$schema",DISCRIMINATOR_PATH=["discriminator","propertyName"],FORM_CONTEXT_NAME="formContext",LOOKUP_MAP_NAME="layoutGridLookupMap",RJSF_ADDITIONAL_PROPERTIES_FLAG="__rjsf_additionalProperties",ROOT_SCHEMA_PREFIX="__rjsf_rootSchema",UI_FIELD_KEY="ui:field",UI_WIDGET_KEY="ui:widget",UI_OPTIONS_KEY="ui:options",UI_GLOBAL_OPTIONS_KEY="ui:globalOptions",JSON_SCHEMA_DRAFT_2019_09="https://json-schema.org/draft/2019-09/schema",JSON_SCHEMA_DRAFT_2020_12="https://json-schema.org/draft/2020-12/schema";function getUiOptions(e={},t={}){return e?Object.keys(e).filter(Ke=>Ke.indexOf("ui:")===0).reduce((Ke,Ye)=>{const Je=e[Ye];return Ye===UI_WIDGET_KEY&&isObject$1(Je)?(console.error("Setting options via ui:widget object is no longer supported, use ui:options instead"),Ke):Ye===UI_OPTIONS_KEY&&isObject$1(Je)?{...Ke,...Je}:{...Ke,[Ye.substring(3)]:Je}},{...t}):{...t}}function canExpand(e,t={},Ke){if(!(e.additionalProperties||e.patternProperties))return!1;const{expandable:Ye=!0}=getUiOptions(t);return Ye===!1?Ye:e.maxProperties!==void 0&&Ke?Object.keys(Ke).length<e.maxProperties:!0}var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$1=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root$1.Symbol,objectProto$h=Object.prototype,hasOwnProperty$e=objectProto$h.hasOwnProperty,nativeObjectToString$1=objectProto$h.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(e){var t=hasOwnProperty$e.call(e,symToStringTag$1),Ke=e[symToStringTag$1];try{e[symToStringTag$1]=void 0;var Ye=!0}catch{}var Je=nativeObjectToString$1.call(e);return Ye&&(t?e[symToStringTag$1]=Ke:delete e[symToStringTag$1]),Je}var objectProto$g=Object.prototype,nativeObjectToString=objectProto$g.toString;function objectToString(e){return nativeObjectToString.call(e)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(e){return e==null?e===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(e)?getRawTag(e):objectToString(e)}function overArg(e,t){return function(Ke){return e(t(Ke))}}var getPrototype=overArg(Object.getPrototypeOf,Object);function isObjectLike(e){return e!=null&&typeof e=="object"}var objectTag$4="[object Object]",funcProto$2=Function.prototype,objectProto$f=Object.prototype,funcToString$2=funcProto$2.toString,hasOwnProperty$d=objectProto$f.hasOwnProperty,objectCtorString=funcToString$2.call(Object);function isPlainObject(e){if(!isObjectLike(e)||baseGetTag(e)!=objectTag$4)return!1;var t=getPrototype(e);if(t===null)return!0;var Ke=hasOwnProperty$d.call(t,"constructor")&&t.constructor;return typeof Ke=="function"&&Ke instanceof Ke&&funcToString$2.call(Ke)==objectCtorString}function createErrorHandler(e){const t={[ERRORS_KEY]:[],addError(Ke){this[ERRORS_KEY].push(Ke)}};if(Array.isArray(e))return e.reduce((Ke,Ye,Je)=>({...Ke,[Je]:createErrorHandler(Ye)}),t);if(isPlainObject(e)){const Ke=e;return Object.keys(Ke).reduce((Ye,Je)=>({...Ye,[Je]:createErrorHandler(Ke[Je])}),t)}return t}function listCacheClear(){this.__data__=[],this.size=0}function eq(e,t){return e===t||e!==e&&t!==t}function assocIndexOf(e,t){for(var Ke=e.length;Ke--;)if(eq(e[Ke][0],t))return Ke;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(e){var t=this.__data__,Ke=assocIndexOf(t,e);if(Ke<0)return!1;var Ye=t.length-1;return Ke==Ye?t.pop():splice.call(t,Ke,1),--this.size,!0}function listCacheGet(e){var t=this.__data__,Ke=assocIndexOf(t,e);return Ke<0?void 0:t[Ke][1]}function listCacheHas(e){return assocIndexOf(this.__data__,e)>-1}function listCacheSet(e,t){var Ke=this.__data__,Ye=assocIndexOf(Ke,e);return Ye<0?(++this.size,Ke.push([e,t])):Ke[Ye][1]=t,this}function ListCache(e){var t=-1,Ke=e==null?0:e.length;for(this.clear();++t<Ke;){var Ye=e[t];this.set(Ye[0],Ye[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(e){var t=this.__data__,Ke=t.delete(e);return this.size=t.size,Ke}function stackGet(e){return this.__data__.get(e)}function stackHas(e){return this.__data__.has(e)}function isObject(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(e){if(!isObject(e))return!1;var t=baseGetTag(e);return t==funcTag$2||t==genTag$1||t==asyncTag||t==proxyTag}var coreJsData=root$1["__core-js_shared__"],maskSrcKey=(function(){var e=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function isMasked(e){return!!maskSrcKey&&maskSrcKey in e}var funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource(e){if(e!=null){try{return funcToString$1.call(e)}catch{}try{return e+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$e=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$c=objectProto$e.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$c).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(e){if(!isObject(e)||isMasked(e))return!1;var t=isFunction(e)?reIsNative:reIsHostCtor;return t.test(toSource(e))}function getValue$1(e,t){return e?.[t]}function getNative(e,t){var Ke=getValue$1(e,t);return baseIsNative(Ke)?Ke:void 0}var Map$1=getNative(root$1,"Map"),nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$d=Object.prototype,hasOwnProperty$b=objectProto$d.hasOwnProperty;function hashGet(e){var t=this.__data__;if(nativeCreate){var Ke=t[e];return Ke===HASH_UNDEFINED$2?void 0:Ke}return hasOwnProperty$b.call(t,e)?t[e]:void 0}var objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty;function hashHas(e){var t=this.__data__;return nativeCreate?t[e]!==void 0:hasOwnProperty$a.call(t,e)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(e,t){var Ke=this.__data__;return this.size+=this.has(e)?0:1,Ke[e]=nativeCreate&&t===void 0?HASH_UNDEFINED$1:t,this}function Hash(e){var t=-1,Ke=e==null?0:e.length;for(this.clear();++t<Ke;){var Ye=e[t];this.set(Ye[0],Ye[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function getMapData(e,t){var Ke=e.__data__;return isKeyable(t)?Ke[typeof t=="string"?"string":"hash"]:Ke.map}function mapCacheDelete(e){var t=getMapData(this,e).delete(e);return this.size-=t?1:0,t}function mapCacheGet(e){return getMapData(this,e).get(e)}function mapCacheHas(e){return getMapData(this,e).has(e)}function mapCacheSet(e,t){var Ke=getMapData(this,e),Ye=Ke.size;return Ke.set(e,t),this.size+=Ke.size==Ye?0:1,this}function MapCache(e){var t=-1,Ke=e==null?0:e.length;for(this.clear();++t<Ke;){var Ye=e[t];this.set(Ye[0],Ye[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var LARGE_ARRAY_SIZE$2=200;function stackSet(e,t){var Ke=this.__data__;if(Ke instanceof ListCache){var Ye=Ke.__data__;if(!Map$1||Ye.length<LARGE_ARRAY_SIZE$2-1)return Ye.push([e,t]),this.size=++Ke.size,this;Ke=this.__data__=new MapCache(Ye)}return Ke.set(e,t),this.size=Ke.size,this}function Stack(e){var t=this.__data__=new ListCache(e);this.size=t.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(e){return this.__data__.set(e,HASH_UNDEFINED),this}function setCacheHas(e){return this.__data__.has(e)}function SetCache(e){var t=-1,Ke=e==null?0:e.length;for(this.__data__=new MapCache;++t<Ke;)this.add(e[t])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(e,t){for(var Ke=-1,Ye=e==null?0:e.length;++Ke<Ye;)if(t(e[Ke],Ke,e))return!0;return!1}function cacheHas(e,t){return e.has(t)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(e,t,Ke,Ye,Je,Xe){var et=Ke&COMPARE_PARTIAL_FLAG$5,tt=e.length,rt=t.length;if(tt!=rt&&!(et&&rt>tt))return!1;var st=Xe.get(e),at=Xe.get(t);if(st&&at)return st==t&&at==e;var nt=-1,it=!0,ot=Ke&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(Xe.set(e,t),Xe.set(t,e);++nt<tt;){var lt=e[nt],ut=t[nt];if(Ye)var ft=et?Ye(ut,lt,nt,t,e,Xe):Ye(lt,ut,nt,e,t,Xe);if(ft!==void 0){if(ft)continue;it=!1;break}if(ot){if(!arraySome(t,function(ct,dt){if(!cacheHas(ot,dt)&&(lt===ct||Je(lt,ct,Ke,Ye,Xe)))return ot.push(dt)})){it=!1;break}}else if(!(lt===ut||Je(lt,ut,Ke,Ye,Xe))){it=!1;break}}return Xe.delete(e),Xe.delete(t),it}var Uint8Array$1=root$1.Uint8Array;function mapToArray(e){var t=-1,Ke=Array(e.size);return e.forEach(function(Ye,Je){Ke[++t]=[Je,Ye]}),Ke}function setToArray(e){var t=-1,Ke=Array(e.size);return e.forEach(function(Ye){Ke[++t]=Ye}),Ke}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",mapTag$6="[object Map]",numberTag$4="[object Number]",regexpTag$3="[object RegExp]",setTag$6="[object Set]",stringTag$4="[object String]",symbolTag$3="[object Symbol]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",symbolProto$2=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf$1=symbolProto$2?symbolProto$2.valueOf:void 0;function equalByTag(e,t,Ke,Ye,Je,Xe,et){switch(Ke){case dataViewTag$4:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case arrayBufferTag$3:return!(e.byteLength!=t.byteLength||!Xe(new Uint8Array$1(e),new Uint8Array$1(t)));case boolTag$3:case dateTag$3:case numberTag$4:return eq(+e,+t);case errorTag$2:return e.name==t.name&&e.message==t.message;case regexpTag$3:case stringTag$4:return e==t+"";case mapTag$6:var tt=mapToArray;case setTag$6:var rt=Ye&COMPARE_PARTIAL_FLAG$4;if(tt||(tt=setToArray),e.size!=t.size&&!rt)return!1;var st=et.get(e);if(st)return st==t;Ye|=COMPARE_UNORDERED_FLAG$2,et.set(e,t);var at=equalArrays(tt(e),tt(t),Ye,Je,Xe,et);return et.delete(e),at;case symbolTag$3:if(symbolValueOf$1)return symbolValueOf$1.call(e)==symbolValueOf$1.call(t)}return!1}function arrayPush(e,t){for(var Ke=-1,Ye=t.length,Je=e.length;++Ke<Ye;)e[Je+Ke]=t[Ke];return e}var isArray=Array.isArray;function baseGetAllKeys(e,t,Ke){var Ye=t(e);return isArray(e)?Ye:arrayPush(Ye,Ke(e))}function arrayFilter(e,t){for(var Ke=-1,Ye=e==null?0:e.length,Je=0,Xe=[];++Ke<Ye;){var et=e[Ke];t(et,Ke,e)&&(Xe[Je++]=et)}return Xe}function stubArray(){return[]}var objectProto$b=Object.prototype,propertyIsEnumerable$1=objectProto$b.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols$1?function(e){return e==null?[]:(e=Object(e),arrayFilter(nativeGetSymbols$1(e),function(t){return propertyIsEnumerable$1.call(e,t)}))}:stubArray;function baseTimes(e,t){for(var Ke=-1,Ye=Array(e);++Ke<e;)Ye[Ke]=t(Ke);return Ye}var argsTag$3="[object Arguments]";function baseIsArguments(e){return isObjectLike(e)&&baseGetTag(e)==argsTag$3}var objectProto$a=Object.prototype,hasOwnProperty$9=objectProto$a.hasOwnProperty,propertyIsEnumerable=objectProto$a.propertyIsEnumerable,isArguments=baseIsArguments((function(){return arguments})())?baseIsArguments:function(e){return isObjectLike(e)&&hasOwnProperty$9.call(e,"callee")&&!propertyIsEnumerable.call(e,"callee")};function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root$1.Buffer:void 0,nativeIsBuffer=Buffer$2?Buffer$2.isBuffer:void 0,isBuffer$1=nativeIsBuffer||stubFalse,MAX_SAFE_INTEGER$2=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(e,t){var Ke=typeof e;return t=t??MAX_SAFE_INTEGER$2,!!t&&(Ke=="number"||Ke!="symbol"&&reIsUint.test(e))&&e>-1&&e%1==0&&e<t}var MAX_SAFE_INTEGER$1=9007199254740991;function isLength(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER$1}var argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$1="[object Error]",funcTag$1="[object Function]",mapTag$5="[object Map]",numberTag$3="[object Number]",objectTag$3="[object Object]",regexpTag$2="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$2]=typedArrayTags[boolTag$2]=typedArrayTags[dataViewTag$3]=typedArrayTags[dateTag$2]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$5]=typedArrayTags[numberTag$3]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag$2]=typedArrayTags[setTag$5]=typedArrayTags[stringTag$3]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray(e){return isObjectLike(e)&&isLength(e.length)&&!!typedArrayTags[baseGetTag(e)]}function baseUnary(e){return function(t){return e(t)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal.process,nodeUtil=(function(){try{var e=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return e||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}})(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function arrayLikeKeys(e,t){var Ke=isArray(e),Ye=!Ke&&isArguments(e),Je=!Ke&&!Ye&&isBuffer$1(e),Xe=!Ke&&!Ye&&!Je&&isTypedArray(e),et=Ke||Ye||Je||Xe,tt=et?baseTimes(e.length,String):[],rt=tt.length;for(var st in e)(t||hasOwnProperty$8.call(e,st))&&!(et&&(st=="length"||Je&&(st=="offset"||st=="parent")||Xe&&(st=="buffer"||st=="byteLength"||st=="byteOffset")||isIndex(st,rt)))&&tt.push(st);return tt}var objectProto$8=Object.prototype;function isPrototype(e){var t=e&&e.constructor,Ke=typeof t=="function"&&t.prototype||objectProto$8;return e===Ke}var nativeKeys=overArg(Object.keys,Object),objectProto$7=Object.prototype,hasOwnProperty$7=objectProto$7.hasOwnProperty;function baseKeys(e){if(!isPrototype(e))return nativeKeys(e);var t=[];for(var Ke in Object(e))hasOwnProperty$7.call(e,Ke)&&Ke!="constructor"&&t.push(Ke);return t}function isArrayLike(e){return e!=null&&isLength(e.length)&&!isFunction(e)}function keys(e){return isArrayLike(e)?arrayLikeKeys(e):baseKeys(e)}function getAllKeys(e){return baseGetAllKeys(e,keys,getSymbols)}var COMPARE_PARTIAL_FLAG$3=1,objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty;function equalObjects(e,t,Ke,Ye,Je,Xe){var et=Ke&COMPARE_PARTIAL_FLAG$3,tt=getAllKeys(e),rt=tt.length,st=getAllKeys(t),at=st.length;if(rt!=at&&!et)return!1;for(var nt=rt;nt--;){var it=tt[nt];if(!(et?it in t:hasOwnProperty$6.call(t,it)))return!1}var ot=Xe.get(e),lt=Xe.get(t);if(ot&&lt)return ot==t&&lt==e;var ut=!0;Xe.set(e,t),Xe.set(t,e);for(var ft=et;++nt<rt;){it=tt[nt];var ct=e[it],dt=t[it];if(Ye)var ht=et?Ye(dt,ct,it,t,e,Xe):Ye(ct,dt,it,e,t,Xe);if(!(ht===void 0?ct===dt||Je(ct,dt,Ke,Ye,Xe):ht)){ut=!1;break}ft||(ft=it=="constructor")}if(ut&&!ft){var xt=e.constructor,vt=t.constructor;xt!=vt&&"constructor"in e&&"constructor"in t&&!(typeof xt=="function"&&xt instanceof xt&&typeof vt=="function"&&vt instanceof vt)&&(ut=!1)}return Xe.delete(e),Xe.delete(t),ut}var DataView=getNative(root$1,"DataView"),Promise$1=getNative(root$1,"Promise"),Set$1=getNative(root$1,"Set"),WeakMap$1=getNative(root$1,"WeakMap"),mapTag$4="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$4="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$2="[object DataView]",dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag$2||Map$1&&getTag(new Map$1)!=mapTag$4||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$4||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag$1)&&(getTag=function(e){var t=baseGetTag(e),Ke=t==objectTag$2?e.constructor:void 0,Ye=Ke?toSource(Ke):"";if(Ye)switch(Ye){case dataViewCtorString:return dataViewTag$2;case mapCtorString:return mapTag$4;case promiseCtorString:return promiseTag;case setCtorString:return setTag$4;case weakMapCtorString:return weakMapTag$1}return t});var COMPARE_PARTIAL_FLAG$2=1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",objectTag$1="[object Object]",objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function baseIsEqualDeep(e,t,Ke,Ye,Je,Xe){var et=isArray(e),tt=isArray(t),rt=et?arrayTag$1:getTag(e),st=tt?arrayTag$1:getTag(t);rt=rt==argsTag$1?objectTag$1:rt,st=st==argsTag$1?objectTag$1:st;var at=rt==objectTag$1,nt=st==objectTag$1,it=rt==st;if(it&&isBuffer$1(e)){if(!isBuffer$1(t))return!1;et=!0,at=!1}if(it&&!at)return Xe||(Xe=new Stack),et||isTypedArray(e)?equalArrays(e,t,Ke,Ye,Je,Xe):equalByTag(e,t,rt,Ke,Ye,Je,Xe);if(!(Ke&COMPARE_PARTIAL_FLAG$2)){var ot=at&&hasOwnProperty$5.call(e,"__wrapped__"),lt=nt&&hasOwnProperty$5.call(t,"__wrapped__");if(ot||lt){var ut=ot?e.value():e,ft=lt?t.value():t;return Xe||(Xe=new Stack),Je(ut,ft,Ke,Ye,Xe)}}return it?(Xe||(Xe=new Stack),equalObjects(e,t,Ke,Ye,Je,Xe)):!1}function baseIsEqual(e,t,Ke,Ye,Je){return e===t?!0:e==null||t==null||!isObjectLike(e)&&!isObjectLike(t)?e!==e&&t!==t:baseIsEqualDeep(e,t,Ke,Ye,baseIsEqual,Je)}function isEqualWith(e,t,Ke){Ke=typeof Ke=="function"?Ke:void 0;var Ye=Ke?Ke(e,t):void 0;return Ye===void 0?baseIsEqual(e,t,void 0,Ke):!!Ye}function deepEquals(e,t){return isEqualWith(e,t,(Ke,Ye)=>{if(typeof Ke=="function"&&typeof Ye=="function")return!0})}var symbolTag$2="[object Symbol]";function isSymbol(e){return typeof e=="symbol"||isObjectLike(e)&&baseGetTag(e)==symbolTag$2}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(e,t){if(isArray(e))return!1;var Ke=typeof e;return Ke=="number"||Ke=="symbol"||Ke=="boolean"||e==null||isSymbol(e)?!0:reIsPlainProp.test(e)||!reIsDeepProp.test(e)||t!=null&&e in Object(t)}var FUNC_ERROR_TEXT="Expected a function";function memoize(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(FUNC_ERROR_TEXT);var Ke=function(){var Ye=arguments,Je=t?t.apply(this,Ye):Ye[0],Xe=Ke.cache;if(Xe.has(Je))return Xe.get(Je);var et=e.apply(this,Ye);return Ke.cache=Xe.set(Je,et)||Xe,et};return Ke.cache=new(memoize.Cache||MapCache),Ke}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(e){var t=memoize(e,function(Ye){return Ke.size===MAX_MEMOIZE_SIZE&&Ke.clear(),Ye}),Ke=t.cache;return t}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(rePropName,function(Ke,Ye,Je,Xe){t.push(Je?Xe.replace(reEscapeChar,"$1"):Ye||Ke)}),t});function arrayMap(e,t){for(var Ke=-1,Ye=e==null?0:e.length,Je=Array(Ye);++Ke<Ye;)Je[Ke]=t(e[Ke],Ke,e);return Je}var symbolProto$1=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString(e){if(typeof e=="string")return e;if(isArray(e))return arrayMap(e,baseToString)+"";if(isSymbol(e))return symbolToString?symbolToString.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function toString(e){return e==null?"":baseToString(e)}function castPath(e,t){return isArray(e)?e:isKey(e,t)?[e]:stringToPath(toString(e))}function toKey(e){if(typeof e=="string"||isSymbol(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function baseGet(e,t){t=castPath(t,e);for(var Ke=0,Ye=t.length;e!=null&&Ke<Ye;)e=e[toKey(t[Ke++])];return Ke&&Ke==Ye?e:void 0}function get(e,t,Ke){var Ye=e==null?void 0:baseGet(e,t);return Ye===void 0?Ke:Ye}var objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function baseHas(e,t){return e!=null&&hasOwnProperty$4.call(e,t)}function hasPath(e,t,Ke){t=castPath(t,e);for(var Ye=-1,Je=t.length,Xe=!1;++Ye<Je;){var et=toKey(t[Ye]);if(!(Xe=e!=null&&Ke(e,et)))break;e=e[et]}return Xe||++Ye!=Je?Xe:(Je=e==null?0:e.length,!!Je&&isLength(Je)&&isIndex(et,Je)&&(isArray(e)||isArguments(e)))}function has(e,t){return e!=null&&hasPath(e,t,baseHas)}function isEqual(e,t){return baseIsEqual(e,t)}var defineProperty=(function(){try{var e=getNative(Object,"defineProperty");return e({},"",{}),e}catch{}})();function baseAssignValue(e,t,Ke){t=="__proto__"&&defineProperty?defineProperty(e,t,{configurable:!0,enumerable:!0,value:Ke,writable:!0}):e[t]=Ke}var objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function assignValue(e,t,Ke){var Ye=e[t];(!(hasOwnProperty$3.call(e,t)&&eq(Ye,Ke))||Ke===void 0&&!(t in e))&&baseAssignValue(e,t,Ke)}function baseSet(e,t,Ke,Ye){if(!isObject(e))return e;t=castPath(t,e);for(var Je=-1,Xe=t.length,et=Xe-1,tt=e;tt!=null&&++Je<Xe;){var rt=toKey(t[Je]),st=Ke;if(rt==="__proto__"||rt==="constructor"||rt==="prototype")return e;if(Je!=et){var at=tt[rt];st=Ye?Ye(at,rt,tt):void 0,st===void 0&&(st=isObject(at)?at:isIndex(t[Je+1])?[]:{})}assignValue(tt,rt,st),tt=tt[rt]}return e}function set(e,t,Ke){return e==null?e:baseSet(e,t,Ke)}function identity(e){return e}function castFunction(e){return typeof e=="function"?e:identity}var reWhitespace=/\s/;function trimmedEndIndex(e){for(var t=e.length;t--&&reWhitespace.test(e.charAt(t)););return t}var reTrimStart=/^\s+/;function baseTrim(e){return e&&e.slice(0,trimmedEndIndex(e)+1).replace(reTrimStart,"")}var NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(e){if(typeof e=="number")return e;if(isSymbol(e))return NAN;if(isObject(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=isObject(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=baseTrim(e);var Ke=reIsBinary.test(e);return Ke||reIsOctal.test(e)?freeParseInt(e.slice(2),Ke?2:8):reIsBadHex.test(e)?NAN:+e}var INFINITY$2=1/0,MAX_INTEGER=17976931348623157e292;function toFinite(e){if(!e)return e===0?e:0;if(e=toNumber(e),e===INFINITY$2||e===-INFINITY$2){var t=e<0?-1:1;return t*MAX_INTEGER}return e===e?e:0}function toInteger(e){var t=toFinite(e),Ke=t%1;return t===t?Ke?t-Ke:t:0}var MAX_SAFE_INTEGER=9007199254740991,MAX_ARRAY_LENGTH=4294967295,nativeMin$1=Math.min;function times(e,t){if(e=toInteger(e),e<1||e>MAX_SAFE_INTEGER)return[];var Ke=MAX_ARRAY_LENGTH,Ye=nativeMin$1(e,MAX_ARRAY_LENGTH);t=castFunction(t),e-=MAX_ARRAY_LENGTH;for(var Je=baseTimes(Ye,t);++Ke<e;)t(Ke);return Je}function arrayEach(e,t){for(var Ke=-1,Ye=e==null?0:e.length;++Ke<Ye&&t(e[Ke],Ke,e)!==!1;);return e}var objectCreate=Object.create,baseCreate=(function(){function e(){}return function(t){if(!isObject(t))return{};if(objectCreate)return objectCreate(t);e.prototype=t;var Ke=new e;return e.prototype=void 0,Ke}})();function createBaseFor(e){return function(t,Ke,Ye){for(var Je=-1,Xe=Object(t),et=Ye(t),tt=et.length;tt--;){var rt=et[++Je];if(Ke(Xe[rt],rt,Xe)===!1)break}return t}}var baseFor=createBaseFor();function baseForOwn(e,t){return e&&baseFor(e,t,keys)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(e,t,Ke,Ye){var Je=Ke.length,Xe=Je;if(e==null)return!Xe;for(e=Object(e);Je--;){var et=Ke[Je];if(et[2]?et[1]!==e[et[0]]:!(et[0]in e))return!1}for(;++Je<Xe;){et=Ke[Je];var tt=et[0],rt=e[tt],st=et[1];if(et[2]){if(rt===void 0&&!(tt in e))return!1}else{var at=new Stack,nt;if(!(nt===void 0?baseIsEqual(st,rt,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,Ye,at):nt))return!1}}return!0}function isStrictComparable(e){return e===e&&!isObject(e)}function getMatchData(e){for(var t=keys(e),Ke=t.length;Ke--;){var Ye=t[Ke],Je=e[Ye];t[Ke]=[Ye,Je,isStrictComparable(Je)]}return t}function matchesStrictComparable(e,t){return function(Ke){return Ke==null?!1:Ke[e]===t&&(t!==void 0||e in Object(Ke))}}function baseMatches(e){var t=getMatchData(e);return t.length==1&&t[0][2]?matchesStrictComparable(t[0][0],t[0][1]):function(Ke){return Ke===e||baseIsMatch(Ke,e,t)}}function baseHasIn(e,t){return e!=null&&t in Object(e)}function hasIn(e,t){return e!=null&&hasPath(e,t,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(e,t){return isKey(e)&&isStrictComparable(t)?matchesStrictComparable(toKey(e),t):function(Ke){var Ye=get(Ke,e);return Ye===void 0&&Ye===t?hasIn(Ke,e):baseIsEqual(t,Ye,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(e){return function(t){return t?.[e]}}function basePropertyDeep(e){return function(t){return baseGet(t,e)}}function property(e){return isKey(e)?baseProperty(toKey(e)):basePropertyDeep(e)}function baseIteratee(e){return typeof e=="function"?e:e==null?identity:typeof e=="object"?isArray(e)?baseMatchesProperty(e[0],e[1]):baseMatches(e):property(e)}function transform(e,t,Ke){var Ye=isArray(e),Je=Ye||isBuffer$1(e)||isTypedArray(e);if(t=baseIteratee(t),Ke==null){var Xe=e&&e.constructor;Je?Ke=Ye?new Xe:[]:isObject(e)?Ke=isFunction(Xe)?baseCreate(getPrototype(e)):{}:Ke={}}return(Je?arrayEach:baseForOwn)(e,function(et,tt,rt){return t(Ke,et,tt,rt)}),Ke}function assignMergeValue(e,t,Ke){(Ke!==void 0&&!eq(e[t],Ke)||Ke===void 0&&!(t in e))&&baseAssignValue(e,t,Ke)}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer$1=moduleExports?root$1.Buffer:void 0,allocUnsafe=Buffer$1?Buffer$1.allocUnsafe:void 0;function cloneBuffer(e,t){if(t)return e.slice();var Ke=e.length,Ye=allocUnsafe?allocUnsafe(Ke):new e.constructor(Ke);return e.copy(Ye),Ye}function cloneArrayBuffer(e){var t=new e.constructor(e.byteLength);return new Uint8Array$1(t).set(new Uint8Array$1(e)),t}function cloneTypedArray(e,t){var Ke=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(Ke,e.byteOffset,e.length)}function copyArray(e,t){var Ke=-1,Ye=e.length;for(t||(t=Array(Ye));++Ke<Ye;)t[Ke]=e[Ke];return t}function initCloneObject(e){return typeof e.constructor=="function"&&!isPrototype(e)?baseCreate(getPrototype(e)):{}}function isArrayLikeObject(e){return isObjectLike(e)&&isArrayLike(e)}function safeGet(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function copyObject(e,t,Ke,Ye){var Je=!Ke;Ke||(Ke={});for(var Xe=-1,et=t.length;++Xe<et;){var tt=t[Xe],rt=void 0;rt===void 0&&(rt=e[tt]),Je?baseAssignValue(Ke,tt,rt):assignValue(Ke,tt,rt)}return Ke}function nativeKeysIn(e){var t=[];if(e!=null)for(var Ke in Object(e))t.push(Ke);return t}var objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function baseKeysIn(e){if(!isObject(e))return nativeKeysIn(e);var t=isPrototype(e),Ke=[];for(var Ye in e)Ye=="constructor"&&(t||!hasOwnProperty$2.call(e,Ye))||Ke.push(Ye);return Ke}function keysIn(e){return isArrayLike(e)?arrayLikeKeys(e,!0):baseKeysIn(e)}function toPlainObject(e){return copyObject(e,keysIn(e))}function baseMergeDeep(e,t,Ke,Ye,Je,Xe,et){var tt=safeGet(e,Ke),rt=safeGet(t,Ke),st=et.get(rt);if(st){assignMergeValue(e,Ke,st);return}var at=Xe?Xe(tt,rt,Ke+"",e,t,et):void 0,nt=at===void 0;if(nt){var it=isArray(rt),ot=!it&&isBuffer$1(rt),lt=!it&&!ot&&isTypedArray(rt);at=rt,it||ot||lt?isArray(tt)?at=tt:isArrayLikeObject(tt)?at=copyArray(tt):ot?(nt=!1,at=cloneBuffer(rt,!0)):lt?(nt=!1,at=cloneTypedArray(rt,!0)):at=[]:isPlainObject(rt)||isArguments(rt)?(at=tt,isArguments(tt)?at=toPlainObject(tt):(!isObject(tt)||isFunction(tt))&&(at=initCloneObject(rt))):nt=!1}nt&&(et.set(rt,at),Je(at,rt,Ye,Xe,et),et.delete(rt)),assignMergeValue(e,Ke,at)}function baseMerge(e,t,Ke,Ye,Je){e!==t&&baseFor(t,function(Xe,et){if(Je||(Je=new Stack),isObject(Xe))baseMergeDeep(e,t,et,Ke,baseMerge,Ye,Je);else{var tt=Ye?Ye(safeGet(e,et),Xe,et+"",e,t,Je):void 0;tt===void 0&&(tt=Xe),assignMergeValue(e,et,tt)}},keysIn)}function apply(e,t,Ke){switch(Ke.length){case 0:return e.call(t);case 1:return e.call(t,Ke[0]);case 2:return e.call(t,Ke[0],Ke[1]);case 3:return e.call(t,Ke[0],Ke[1],Ke[2])}return e.apply(t,Ke)}var nativeMax$1=Math.max;function overRest(e,t,Ke){return t=nativeMax$1(t===void 0?e.length-1:t,0),function(){for(var Ye=arguments,Je=-1,Xe=nativeMax$1(Ye.length-t,0),et=Array(Xe);++Je<Xe;)et[Je]=Ye[t+Je];Je=-1;for(var tt=Array(t+1);++Je<t;)tt[Je]=Ye[Je];return tt[t]=Ke(et),apply(e,this,tt)}}function constant(e){return function(){return e}}var baseSetToString=defineProperty?function(e,t){return defineProperty(e,"toString",{configurable:!0,enumerable:!1,value:constant(t),writable:!0})}:identity,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(e){var t=0,Ke=0;return function(){var Ye=nativeNow(),Je=HOT_SPAN-(Ye-Ke);if(Ke=Ye,Je>0){if(++t>=HOT_COUNT)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var setToString=shortOut(baseSetToString);function baseRest(e,t){return setToString(overRest(e,t,identity),e+"")}function isIterateeCall(e,t,Ke){if(!isObject(Ke))return!1;var Ye=typeof t;return(Ye=="number"?isArrayLike(Ke)&&isIndex(t,Ke.length):Ye=="string"&&t in Ke)?eq(Ke[t],e):!1}function createAssigner(e){return baseRest(function(t,Ke){var Ye=-1,Je=Ke.length,Xe=Je>1?Ke[Je-1]:void 0,et=Je>2?Ke[2]:void 0;for(Xe=e.length>3&&typeof Xe=="function"?(Je--,Xe):void 0,et&&isIterateeCall(Ke[0],Ke[1],et)&&(Xe=Je<3?void 0:Xe,Je=1),t=Object(t);++Ye<Je;){var tt=Ke[Ye];tt&&e(t,tt,Ye,Xe)}return t})}var merge=createAssigner(function(e,t,Ke){baseMerge(e,t,Ke)}),spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable(e){return isArray(e)||isArguments(e)||!!(spreadableSymbol&&e&&e[spreadableSymbol])}function baseFlatten(e,t,Ke,Ye,Je){var Xe=-1,et=e.length;for(Ke||(Ke=isFlattenable),Je||(Je=[]);++Xe<et;){var tt=e[Xe];t>0&&Ke(tt)?t>1?baseFlatten(tt,t-1,Ke,Ye,Je):arrayPush(Je,tt):Ye||(Je[Je.length]=tt)}return Je}var INFINITY$1=1/0;function flattenDeep(e){var t=e==null?0:e.length;return t?baseFlatten(e,INFINITY$1):[]}function baseFindIndex(e,t,Ke,Ye){for(var Je=e.length,Xe=Ke+-1;++Xe<Je;)if(t(e[Xe],Xe,e))return Xe;return-1}function baseIsNaN(e){return e!==e}function strictIndexOf(e,t,Ke){for(var Ye=Ke-1,Je=e.length;++Ye<Je;)if(e[Ye]===t)return Ye;return-1}function baseIndexOf(e,t,Ke){return t===t?strictIndexOf(e,t,Ke):baseFindIndex(e,baseIsNaN,Ke)}function arrayIncludes(e,t){var Ke=e==null?0:e.length;return!!Ke&&baseIndexOf(e,t,0)>-1}function noop(){}var INFINITY=1/0,createSet=Set$1&&1/setToArray(new Set$1([,-0]))[1]==INFINITY?function(e){return new Set$1(e)}:noop,LARGE_ARRAY_SIZE$1=200;function baseUniq(e,t,Ke){var Ye=-1,Je=arrayIncludes,Xe=e.length,et=!0,tt=[],rt=tt;if(Xe>=LARGE_ARRAY_SIZE$1){var st=createSet(e);if(st)return setToArray(st);et=!1,Je=cacheHas,rt=new SetCache}else rt=tt;e:for(;++Ye<Xe;){var at=e[Ye],nt=at;if(at=at!==0?at:0,et&&nt===nt){for(var it=rt.length;it--;)if(rt[it]===nt)continue e;tt.push(at)}else Je(rt,nt,Ke)||(rt!==tt&&rt.push(nt),tt.push(at))}return tt}function uniq(e){return e&&e.length?baseUniq(e):[]}var _listCacheClear,hasRequired_listCacheClear;function require_listCacheClear(){if(hasRequired_listCacheClear)return _listCacheClear;hasRequired_listCacheClear=1;function e(){this.__data__=[],this.size=0}return _listCacheClear=e,_listCacheClear}var eq_1,hasRequiredEq;function requireEq(){if(hasRequiredEq)return eq_1;hasRequiredEq=1;function e(t,Ke){return t===Ke||t!==t&&Ke!==Ke}return eq_1=e,eq_1}var _assocIndexOf,hasRequired_assocIndexOf;function require_assocIndexOf(){if(hasRequired_assocIndexOf)return _assocIndexOf;hasRequired_assocIndexOf=1;var e=requireEq();function t(Ke,Ye){for(var Je=Ke.length;Je--;)if(e(Ke[Je][0],Ye))return Je;return-1}return _assocIndexOf=t,_assocIndexOf}var _listCacheDelete,hasRequired_listCacheDelete;function require_listCacheDelete(){if(hasRequired_listCacheDelete)return _listCacheDelete;hasRequired_listCacheDelete=1;var e=require_assocIndexOf(),t=Array.prototype,Ke=t.splice;function Ye(Je){var Xe=this.__data__,et=e(Xe,Je);if(et<0)return!1;var tt=Xe.length-1;return et==tt?Xe.pop():Ke.call(Xe,et,1),--this.size,!0}return _listCacheDelete=Ye,_listCacheDelete}var _listCacheGet,hasRequired_listCacheGet;function require_listCacheGet(){if(hasRequired_listCacheGet)return _listCacheGet;hasRequired_listCacheGet=1;var e=require_assocIndexOf();function t(Ke){var Ye=this.__data__,Je=e(Ye,Ke);return Je<0?void 0:Ye[Je][1]}return _listCacheGet=t,_listCacheGet}var _listCacheHas,hasRequired_listCacheHas;function require_listCacheHas(){if(hasRequired_listCacheHas)return _listCacheHas;hasRequired_listCacheHas=1;var e=require_assocIndexOf();function t(Ke){return e(this.__data__,Ke)>-1}return _listCacheHas=t,_listCacheHas}var _listCacheSet,hasRequired_listCacheSet;function require_listCacheSet(){if(hasRequired_listCacheSet)return _listCacheSet;hasRequired_listCacheSet=1;var e=require_assocIndexOf();function t(Ke,Ye){var Je=this.__data__,Xe=e(Je,Ke);return Xe<0?(++this.size,Je.push([Ke,Ye])):Je[Xe][1]=Ye,this}return _listCacheSet=t,_listCacheSet}var _ListCache,hasRequired_ListCache;function require_ListCache(){if(hasRequired_ListCache)return _ListCache;hasRequired_ListCache=1;var e=require_listCacheClear(),t=require_listCacheDelete(),Ke=require_listCacheGet(),Ye=require_listCacheHas(),Je=require_listCacheSet();function Xe(et){var tt=-1,rt=et==null?0:et.length;for(this.clear();++tt<rt;){var st=et[tt];this.set(st[0],st[1])}}return Xe.prototype.clear=e,Xe.prototype.delete=t,Xe.prototype.get=Ke,Xe.prototype.has=Ye,Xe.prototype.set=Je,_ListCache=Xe,_ListCache}var _stackClear,hasRequired_stackClear;function require_stackClear(){if(hasRequired_stackClear)return _stackClear;hasRequired_stackClear=1;var e=require_ListCache();function t(){this.__data__=new e,this.size=0}return _stackClear=t,_stackClear}var _stackDelete,hasRequired_stackDelete;function require_stackDelete(){if(hasRequired_stackDelete)return _stackDelete;hasRequired_stackDelete=1;function e(t){var Ke=this.__data__,Ye=Ke.delete(t);return this.size=Ke.size,Ye}return _stackDelete=e,_stackDelete}var _stackGet,hasRequired_stackGet;function require_stackGet(){if(hasRequired_stackGet)return _stackGet;hasRequired_stackGet=1;function e(t){return this.__data__.get(t)}return _stackGet=e,_stackGet}var _stackHas,hasRequired_stackHas;function require_stackHas(){if(hasRequired_stackHas)return _stackHas;hasRequired_stackHas=1;function e(t){return this.__data__.has(t)}return _stackHas=e,_stackHas}var _freeGlobal,hasRequired_freeGlobal;function require_freeGlobal(){if(hasRequired_freeGlobal)return _freeGlobal;hasRequired_freeGlobal=1;var e=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal;return _freeGlobal=e,_freeGlobal}var _root,hasRequired_root;function require_root(){if(hasRequired_root)return _root;hasRequired_root=1;var e=require_freeGlobal(),t=typeof self=="object"&&self&&self.Object===Object&&self,Ke=e||t||Function("return this")();return _root=Ke,_root}var _Symbol,hasRequired_Symbol;function require_Symbol(){if(hasRequired_Symbol)return _Symbol;hasRequired_Symbol=1;var e=require_root(),t=e.Symbol;return _Symbol=t,_Symbol}var _getRawTag,hasRequired_getRawTag;function require_getRawTag(){if(hasRequired_getRawTag)return _getRawTag;hasRequired_getRawTag=1;var e=require_Symbol(),t=Object.prototype,Ke=t.hasOwnProperty,Ye=t.toString,Je=e?e.toStringTag:void 0;function Xe(et){var tt=Ke.call(et,Je),rt=et[Je];try{et[Je]=void 0;var st=!0}catch{}var at=Ye.call(et);return st&&(tt?et[Je]=rt:delete et[Je]),at}return _getRawTag=Xe,_getRawTag}var _objectToString,hasRequired_objectToString;function require_objectToString(){if(hasRequired_objectToString)return _objectToString;hasRequired_objectToString=1;var e=Object.prototype,t=e.toString;function Ke(Ye){return t.call(Ye)}return _objectToString=Ke,_objectToString}var _baseGetTag,hasRequired_baseGetTag;function require_baseGetTag(){if(hasRequired_baseGetTag)return _baseGetTag;hasRequired_baseGetTag=1;var e=require_Symbol(),t=require_getRawTag(),Ke=require_objectToString(),Ye="[object Null]",Je="[object Undefined]",Xe=e?e.toStringTag:void 0;function et(tt){return tt==null?tt===void 0?Je:Ye:Xe&&Xe in Object(tt)?t(tt):Ke(tt)}return _baseGetTag=et,_baseGetTag}var isObject_1,hasRequiredIsObject;function requireIsObject(){if(hasRequiredIsObject)return isObject_1;hasRequiredIsObject=1;function e(t){var Ke=typeof t;return t!=null&&(Ke=="object"||Ke=="function")}return isObject_1=e,isObject_1}var isFunction_1,hasRequiredIsFunction;function requireIsFunction(){if(hasRequiredIsFunction)return isFunction_1;hasRequiredIsFunction=1;var e=require_baseGetTag(),t=requireIsObject(),Ke="[object AsyncFunction]",Ye="[object Function]",Je="[object GeneratorFunction]",Xe="[object Proxy]";function et(tt){if(!t(tt))return!1;var rt=e(tt);return rt==Ye||rt==Je||rt==Ke||rt==Xe}return isFunction_1=et,isFunction_1}var _coreJsData,hasRequired_coreJsData;function require_coreJsData(){if(hasRequired_coreJsData)return _coreJsData;hasRequired_coreJsData=1;var e=require_root(),t=e["__core-js_shared__"];return _coreJsData=t,_coreJsData}var _isMasked,hasRequired_isMasked;function require_isMasked(){if(hasRequired_isMasked)return _isMasked;hasRequired_isMasked=1;var e=require_coreJsData(),t=(function(){var Ye=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return Ye?"Symbol(src)_1."+Ye:""})();function Ke(Ye){return!!t&&t in Ye}return _isMasked=Ke,_isMasked}var _toSource,hasRequired_toSource;function require_toSource(){if(hasRequired_toSource)return _toSource;hasRequired_toSource=1;var e=Function.prototype,t=e.toString;function Ke(Ye){if(Ye!=null){try{return t.call(Ye)}catch{}try{return Ye+""}catch{}}return""}return _toSource=Ke,_toSource}var _baseIsNative,hasRequired_baseIsNative;function require_baseIsNative(){if(hasRequired_baseIsNative)return _baseIsNative;hasRequired_baseIsNative=1;var e=requireIsFunction(),t=require_isMasked(),Ke=requireIsObject(),Ye=require_toSource(),Je=/[\\^$.*+?()[\]{}|]/g,Xe=/^\[object .+?Constructor\]$/,et=Function.prototype,tt=Object.prototype,rt=et.toString,st=tt.hasOwnProperty,at=RegExp("^"+rt.call(st).replace(Je,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function nt(it){if(!Ke(it)||t(it))return!1;var ot=e(it)?at:Xe;return ot.test(Ye(it))}return _baseIsNative=nt,_baseIsNative}var _getValue,hasRequired_getValue;function require_getValue(){if(hasRequired_getValue)return _getValue;hasRequired_getValue=1;function e(t,Ke){return t?.[Ke]}return _getValue=e,_getValue}var _getNative,hasRequired_getNative;function require_getNative(){if(hasRequired_getNative)return _getNative;hasRequired_getNative=1;var e=require_baseIsNative(),t=require_getValue();function Ke(Ye,Je){var Xe=t(Ye,Je);return e(Xe)?Xe:void 0}return _getNative=Ke,_getNative}var _Map,hasRequired_Map;function require_Map(){if(hasRequired_Map)return _Map;hasRequired_Map=1;var e=require_getNative(),t=require_root(),Ke=e(t,"Map");return _Map=Ke,_Map}var _nativeCreate,hasRequired_nativeCreate;function require_nativeCreate(){if(hasRequired_nativeCreate)return _nativeCreate;hasRequired_nativeCreate=1;var e=require_getNative(),t=e(Object,"create");return _nativeCreate=t,_nativeCreate}var _hashClear,hasRequired_hashClear;function require_hashClear(){if(hasRequired_hashClear)return _hashClear;hasRequired_hashClear=1;var e=require_nativeCreate();function t(){this.__data__=e?e(null):{},this.size=0}return _hashClear=t,_hashClear}var _hashDelete,hasRequired_hashDelete;function require_hashDelete(){if(hasRequired_hashDelete)return _hashDelete;hasRequired_hashDelete=1;function e(t){var Ke=this.has(t)&&delete this.__data__[t];return this.size-=Ke?1:0,Ke}return _hashDelete=e,_hashDelete}var _hashGet,hasRequired_hashGet;function require_hashGet(){if(hasRequired_hashGet)return _hashGet;hasRequired_hashGet=1;var e=require_nativeCreate(),t="__lodash_hash_undefined__",Ke=Object.prototype,Ye=Ke.hasOwnProperty;function Je(Xe){var et=this.__data__;if(e){var tt=et[Xe];return tt===t?void 0:tt}return Ye.call(et,Xe)?et[Xe]:void 0}return _hashGet=Je,_hashGet}var _hashHas,hasRequired_hashHas;function require_hashHas(){if(hasRequired_hashHas)return _hashHas;hasRequired_hashHas=1;var e=require_nativeCreate(),t=Object.prototype,Ke=t.hasOwnProperty;function Ye(Je){var Xe=this.__data__;return e?Xe[Je]!==void 0:Ke.call(Xe,Je)}return _hashHas=Ye,_hashHas}var _hashSet,hasRequired_hashSet;function require_hashSet(){if(hasRequired_hashSet)return _hashSet;hasRequired_hashSet=1;var e=require_nativeCreate(),t="__lodash_hash_undefined__";function Ke(Ye,Je){var Xe=this.__data__;return this.size+=this.has(Ye)?0:1,Xe[Ye]=e&&Je===void 0?t:Je,this}return _hashSet=Ke,_hashSet}var _Hash,hasRequired_Hash;function require_Hash(){if(hasRequired_Hash)return _Hash;hasRequired_Hash=1;var e=require_hashClear(),t=require_hashDelete(),Ke=require_hashGet(),Ye=require_hashHas(),Je=require_hashSet();function Xe(et){var tt=-1,rt=et==null?0:et.length;for(this.clear();++tt<rt;){var st=et[tt];this.set(st[0],st[1])}}return Xe.prototype.clear=e,Xe.prototype.delete=t,Xe.prototype.get=Ke,Xe.prototype.has=Ye,Xe.prototype.set=Je,_Hash=Xe,_Hash}var _mapCacheClear,hasRequired_mapCacheClear;function require_mapCacheClear(){if(hasRequired_mapCacheClear)return _mapCacheClear;hasRequired_mapCacheClear=1;var e=require_Hash(),t=require_ListCache(),Ke=require_Map();function Ye(){this.size=0,this.__data__={hash:new e,map:new(Ke||t),string:new e}}return _mapCacheClear=Ye,_mapCacheClear}var _isKeyable,hasRequired_isKeyable;function require_isKeyable(){if(hasRequired_isKeyable)return _isKeyable;hasRequired_isKeyable=1;function e(t){var Ke=typeof t;return Ke=="string"||Ke=="number"||Ke=="symbol"||Ke=="boolean"?t!=="__proto__":t===null}return _isKeyable=e,_isKeyable}var _getMapData,hasRequired_getMapData;function require_getMapData(){if(hasRequired_getMapData)return _getMapData;hasRequired_getMapData=1;var e=require_isKeyable();function t(Ke,Ye){var Je=Ke.__data__;return e(Ye)?Je[typeof Ye=="string"?"string":"hash"]:Je.map}return _getMapData=t,_getMapData}var _mapCacheDelete,hasRequired_mapCacheDelete;function require_mapCacheDelete(){if(hasRequired_mapCacheDelete)return _mapCacheDelete;hasRequired_mapCacheDelete=1;var e=require_getMapData();function t(Ke){var Ye=e(this,Ke).delete(Ke);return this.size-=Ye?1:0,Ye}return _mapCacheDelete=t,_mapCacheDelete}var _mapCacheGet,hasRequired_mapCacheGet;function require_mapCacheGet(){if(hasRequired_mapCacheGet)return _mapCacheGet;hasRequired_mapCacheGet=1;var e=require_getMapData();function t(Ke){return e(this,Ke).get(Ke)}return _mapCacheGet=t,_mapCacheGet}var _mapCacheHas,hasRequired_mapCacheHas;function require_mapCacheHas(){if(hasRequired_mapCacheHas)return _mapCacheHas;hasRequired_mapCacheHas=1;var e=require_getMapData();function t(Ke){return e(this,Ke).has(Ke)}return _mapCacheHas=t,_mapCacheHas}var _mapCacheSet,hasRequired_mapCacheSet;function require_mapCacheSet(){if(hasRequired_mapCacheSet)return _mapCacheSet;hasRequired_mapCacheSet=1;var e=require_getMapData();function t(Ke,Ye){var Je=e(this,Ke),Xe=Je.size;return Je.set(Ke,Ye),this.size+=Je.size==Xe?0:1,this}return _mapCacheSet=t,_mapCacheSet}var _MapCache,hasRequired_MapCache;function require_MapCache(){if(hasRequired_MapCache)return _MapCache;hasRequired_MapCache=1;var e=require_mapCacheClear(),t=require_mapCacheDelete(),Ke=require_mapCacheGet(),Ye=require_mapCacheHas(),Je=require_mapCacheSet();function Xe(et){var tt=-1,rt=et==null?0:et.length;for(this.clear();++tt<rt;){var st=et[tt];this.set(st[0],st[1])}}return Xe.prototype.clear=e,Xe.prototype.delete=t,Xe.prototype.get=Ke,Xe.prototype.has=Ye,Xe.prototype.set=Je,_MapCache=Xe,_MapCache}var _stackSet,hasRequired_stackSet;function require_stackSet(){if(hasRequired_stackSet)return _stackSet;hasRequired_stackSet=1;var e=require_ListCache(),t=require_Map(),Ke=require_MapCache(),Ye=200;function Je(Xe,et){var tt=this.__data__;if(tt instanceof e){var rt=tt.__data__;if(!t||rt.length<Ye-1)return rt.push([Xe,et]),this.size=++tt.size,this;tt=this.__data__=new Ke(rt)}return tt.set(Xe,et),this.size=tt.size,this}return _stackSet=Je,_stackSet}var _Stack,hasRequired_Stack;function require_Stack(){if(hasRequired_Stack)return _Stack;hasRequired_Stack=1;var e=require_ListCache(),t=require_stackClear(),Ke=require_stackDelete(),Ye=require_stackGet(),Je=require_stackHas(),Xe=require_stackSet();function et(tt){var rt=this.__data__=new e(tt);this.size=rt.size}return et.prototype.clear=t,et.prototype.delete=Ke,et.prototype.get=Ye,et.prototype.has=Je,et.prototype.set=Xe,_Stack=et,_Stack}var _arrayEach,hasRequired_arrayEach;function require_arrayEach(){if(hasRequired_arrayEach)return _arrayEach;hasRequired_arrayEach=1;function e(t,Ke){for(var Ye=-1,Je=t==null?0:t.length;++Ye<Je&&Ke(t[Ye],Ye,t)!==!1;);return t}return _arrayEach=e,_arrayEach}var _defineProperty,hasRequired_defineProperty;function require_defineProperty(){if(hasRequired_defineProperty)return _defineProperty;hasRequired_defineProperty=1;var e=require_getNative(),t=(function(){try{var Ke=e(Object,"defineProperty");return Ke({},"",{}),Ke}catch{}})();return _defineProperty=t,_defineProperty}var _baseAssignValue,hasRequired_baseAssignValue;function require_baseAssignValue(){if(hasRequired_baseAssignValue)return _baseAssignValue;hasRequired_baseAssignValue=1;var e=require_defineProperty();function t(Ke,Ye,Je){Ye=="__proto__"&&e?e(Ke,Ye,{configurable:!0,enumerable:!0,value:Je,writable:!0}):Ke[Ye]=Je}return _baseAssignValue=t,_baseAssignValue}var _assignValue,hasRequired_assignValue;function require_assignValue(){if(hasRequired_assignValue)return _assignValue;hasRequired_assignValue=1;var e=require_baseAssignValue(),t=requireEq(),Ke=Object.prototype,Ye=Ke.hasOwnProperty;function Je(Xe,et,tt){var rt=Xe[et];(!(Ye.call(Xe,et)&&t(rt,tt))||tt===void 0&&!(et in Xe))&&e(Xe,et,tt)}return _assignValue=Je,_assignValue}var _copyObject,hasRequired_copyObject;function require_copyObject(){if(hasRequired_copyObject)return _copyObject;hasRequired_copyObject=1;var e=require_assignValue(),t=require_baseAssignValue();function Ke(Ye,Je,Xe,et){var tt=!Xe;Xe||(Xe={});for(var rt=-1,st=Je.length;++rt<st;){var at=Je[rt],nt=et?et(Xe[at],Ye[at],at,Xe,Ye):void 0;nt===void 0&&(nt=Ye[at]),tt?t(Xe,at,nt):e(Xe,at,nt)}return Xe}return _copyObject=Ke,_copyObject}var _baseTimes,hasRequired_baseTimes;function require_baseTimes(){if(hasRequired_baseTimes)return _baseTimes;hasRequired_baseTimes=1;function e(t,Ke){for(var Ye=-1,Je=Array(t);++Ye<t;)Je[Ye]=Ke(Ye);return Je}return _baseTimes=e,_baseTimes}var isObjectLike_1,hasRequiredIsObjectLike;function requireIsObjectLike(){if(hasRequiredIsObjectLike)return isObjectLike_1;hasRequiredIsObjectLike=1;function e(t){return t!=null&&typeof t=="object"}return isObjectLike_1=e,isObjectLike_1}var _baseIsArguments,hasRequired_baseIsArguments;function require_baseIsArguments(){if(hasRequired_baseIsArguments)return _baseIsArguments;hasRequired_baseIsArguments=1;var e=require_baseGetTag(),t=requireIsObjectLike(),Ke="[object Arguments]";function Ye(Je){return t(Je)&&e(Je)==Ke}return _baseIsArguments=Ye,_baseIsArguments}var isArguments_1,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments_1;hasRequiredIsArguments=1;var e=require_baseIsArguments(),t=requireIsObjectLike(),Ke=Object.prototype,Ye=Ke.hasOwnProperty,Je=Ke.propertyIsEnumerable,Xe=e((function(){return arguments})())?e:function(et){return t(et)&&Ye.call(et,"callee")&&!Je.call(et,"callee")};return isArguments_1=Xe,isArguments_1}var isArray_1,hasRequiredIsArray;function requireIsArray(){if(hasRequiredIsArray)return isArray_1;hasRequiredIsArray=1;var e=Array.isArray;return isArray_1=e,isArray_1}var isBuffer={exports:{}},stubFalse_1,hasRequiredStubFalse;function requireStubFalse(){if(hasRequiredStubFalse)return stubFalse_1;hasRequiredStubFalse=1;function e(){return!1}return stubFalse_1=e,stubFalse_1}isBuffer.exports;var hasRequiredIsBuffer;function requireIsBuffer(){return hasRequiredIsBuffer||(hasRequiredIsBuffer=1,(function(e,t){var Ke=require_root(),Ye=requireStubFalse(),Je=t&&!t.nodeType&&t,Xe=Je&&!0&&e&&!e.nodeType&&e,et=Xe&&Xe.exports===Je,tt=et?Ke.Buffer:void 0,rt=tt?tt.isBuffer:void 0,st=rt||Ye;e.exports=st})(isBuffer,isBuffer.exports)),isBuffer.exports}var _isIndex,hasRequired_isIndex;function require_isIndex(){if(hasRequired_isIndex)return _isIndex;hasRequired_isIndex=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function Ke(Ye,Je){var Xe=typeof Ye;return Je=Je??e,!!Je&&(Xe=="number"||Xe!="symbol"&&t.test(Ye))&&Ye>-1&&Ye%1==0&&Ye<Je}return _isIndex=Ke,_isIndex}var isLength_1,hasRequiredIsLength;function requireIsLength(){if(hasRequiredIsLength)return isLength_1;hasRequiredIsLength=1;var e=9007199254740991;function t(Ke){return typeof Ke=="number"&&Ke>-1&&Ke%1==0&&Ke<=e}return isLength_1=t,isLength_1}var _baseIsTypedArray,hasRequired_baseIsTypedArray;function require_baseIsTypedArray(){if(hasRequired_baseIsTypedArray)return _baseIsTypedArray;hasRequired_baseIsTypedArray=1;var e=require_baseGetTag(),t=requireIsLength(),Ke=requireIsObjectLike(),Ye="[object Arguments]",Je="[object Array]",Xe="[object Boolean]",et="[object Date]",tt="[object Error]",rt="[object Function]",st="[object Map]",at="[object Number]",nt="[object Object]",it="[object RegExp]",ot="[object Set]",lt="[object String]",ut="[object WeakMap]",ft="[object ArrayBuffer]",ct="[object DataView]",dt="[object Float32Array]",ht="[object Float64Array]",xt="[object Int8Array]",vt="[object Int16Array]",bt="[object Int32Array]",_t="[object Uint8Array]",Ct="[object Uint8ClampedArray]",Rt="[object Uint16Array]",jt="[object Uint32Array]",yt={};yt[dt]=yt[ht]=yt[xt]=yt[vt]=yt[bt]=yt[_t]=yt[Ct]=yt[Rt]=yt[jt]=!0,yt[Ye]=yt[Je]=yt[ft]=yt[Xe]=yt[ct]=yt[et]=yt[tt]=yt[rt]=yt[st]=yt[at]=yt[nt]=yt[it]=yt[ot]=yt[lt]=yt[ut]=!1;function Et(pt){return Ke(pt)&&t(pt.length)&&!!yt[e(pt)]}return _baseIsTypedArray=Et,_baseIsTypedArray}var _baseUnary,hasRequired_baseUnary;function require_baseUnary(){if(hasRequired_baseUnary)return _baseUnary;hasRequired_baseUnary=1;function e(t){return function(Ke){return t(Ke)}}return _baseUnary=e,_baseUnary}var _nodeUtil={exports:{}};_nodeUtil.exports;var hasRequired_nodeUtil;function require_nodeUtil(){return hasRequired_nodeUtil||(hasRequired_nodeUtil=1,(function(e,t){var Ke=require_freeGlobal(),Ye=t&&!t.nodeType&&t,Je=Ye&&!0&&e&&!e.nodeType&&e,Xe=Je&&Je.exports===Ye,et=Xe&&Ke.process,tt=(function(){try{var rt=Je&&Je.require&&Je.require("util").types;return rt||et&&et.binding&&et.binding("util")}catch{}})();e.exports=tt})(_nodeUtil,_nodeUtil.exports)),_nodeUtil.exports}var isTypedArray_1,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray_1;hasRequiredIsTypedArray=1;var e=require_baseIsTypedArray(),t=require_baseUnary(),Ke=require_nodeUtil(),Ye=Ke&&Ke.isTypedArray,Je=Ye?t(Ye):e;return isTypedArray_1=Je,isTypedArray_1}var _arrayLikeKeys,hasRequired_arrayLikeKeys;function require_arrayLikeKeys(){if(hasRequired_arrayLikeKeys)return _arrayLikeKeys;hasRequired_arrayLikeKeys=1;var e=require_baseTimes(),t=requireIsArguments(),Ke=requireIsArray(),Ye=requireIsBuffer(),Je=require_isIndex(),Xe=requireIsTypedArray(),et=Object.prototype,tt=et.hasOwnProperty;function rt(st,at){var nt=Ke(st),it=!nt&&t(st),ot=!nt&&!it&&Ye(st),lt=!nt&&!it&&!ot&&Xe(st),ut=nt||it||ot||lt,ft=ut?e(st.length,String):[],ct=ft.length;for(var dt in st)(at||tt.call(st,dt))&&!(ut&&(dt=="length"||ot&&(dt=="offset"||dt=="parent")||lt&&(dt=="buffer"||dt=="byteLength"||dt=="byteOffset")||Je(dt,ct)))&&ft.push(dt);return ft}return _arrayLikeKeys=rt,_arrayLikeKeys}var _isPrototype,hasRequired_isPrototype;function require_isPrototype(){if(hasRequired_isPrototype)return _isPrototype;hasRequired_isPrototype=1;var e=Object.prototype;function t(Ke){var Ye=Ke&&Ke.constructor,Je=typeof Ye=="function"&&Ye.prototype||e;return Ke===Je}return _isPrototype=t,_isPrototype}var _overArg,hasRequired_overArg;function require_overArg(){if(hasRequired_overArg)return _overArg;hasRequired_overArg=1;function e(t,Ke){return function(Ye){return t(Ke(Ye))}}return _overArg=e,_overArg}var _nativeKeys,hasRequired_nativeKeys;function require_nativeKeys(){if(hasRequired_nativeKeys)return _nativeKeys;hasRequired_nativeKeys=1;var e=require_overArg(),t=e(Object.keys,Object);return _nativeKeys=t,_nativeKeys}var _baseKeys,hasRequired_baseKeys;function require_baseKeys(){if(hasRequired_baseKeys)return _baseKeys;hasRequired_baseKeys=1;var e=require_isPrototype(),t=require_nativeKeys(),Ke=Object.prototype,Ye=Ke.hasOwnProperty;function Je(Xe){if(!e(Xe))return t(Xe);var et=[];for(var tt in Object(Xe))Ye.call(Xe,tt)&&tt!="constructor"&&et.push(tt);return et}return _baseKeys=Je,_baseKeys}var isArrayLike_1,hasRequiredIsArrayLike;function requireIsArrayLike(){if(hasRequiredIsArrayLike)return isArrayLike_1;hasRequiredIsArrayLike=1;var e=requireIsFunction(),t=requireIsLength();function Ke(Ye){return Ye!=null&&t(Ye.length)&&!e(Ye)}return isArrayLike_1=Ke,isArrayLike_1}var keys_1,hasRequiredKeys;function requireKeys(){if(hasRequiredKeys)return keys_1;hasRequiredKeys=1;var e=require_arrayLikeKeys(),t=require_baseKeys(),Ke=requireIsArrayLike();function Ye(Je){return Ke(Je)?e(Je):t(Je)}return keys_1=Ye,keys_1}var _baseAssign,hasRequired_baseAssign;function require_baseAssign(){if(hasRequired_baseAssign)return _baseAssign;hasRequired_baseAssign=1;var e=require_copyObject(),t=requireKeys();function Ke(Ye,Je){return Ye&&e(Je,t(Je),Ye)}return _baseAssign=Ke,_baseAssign}var _nativeKeysIn,hasRequired_nativeKeysIn;function require_nativeKeysIn(){if(hasRequired_nativeKeysIn)return _nativeKeysIn;hasRequired_nativeKeysIn=1;function e(t){var Ke=[];if(t!=null)for(var Ye in Object(t))Ke.push(Ye);return Ke}return _nativeKeysIn=e,_nativeKeysIn}var _baseKeysIn,hasRequired_baseKeysIn;function require_baseKeysIn(){if(hasRequired_baseKeysIn)return _baseKeysIn;hasRequired_baseKeysIn=1;var e=requireIsObject(),t=require_isPrototype(),Ke=require_nativeKeysIn(),Ye=Object.prototype,Je=Ye.hasOwnProperty;function Xe(et){if(!e(et))return Ke(et);var tt=t(et),rt=[];for(var st in et)st=="constructor"&&(tt||!Je.call(et,st))||rt.push(st);return rt}return _baseKeysIn=Xe,_baseKeysIn}var keysIn_1,hasRequiredKeysIn;function requireKeysIn(){if(hasRequiredKeysIn)return keysIn_1;hasRequiredKeysIn=1;var e=require_arrayLikeKeys(),t=require_baseKeysIn(),Ke=requireIsArrayLike();function Ye(Je){return Ke(Je)?e(Je,!0):t(Je)}return keysIn_1=Ye,keysIn_1}var _baseAssignIn,hasRequired_baseAssignIn;function require_baseAssignIn(){if(hasRequired_baseAssignIn)return _baseAssignIn;hasRequired_baseAssignIn=1;var e=require_copyObject(),t=requireKeysIn();function Ke(Ye,Je){return Ye&&e(Je,t(Je),Ye)}return _baseAssignIn=Ke,_baseAssignIn}var _cloneBuffer={exports:{}};_cloneBuffer.exports;var hasRequired_cloneBuffer;function require_cloneBuffer(){return hasRequired_cloneBuffer||(hasRequired_cloneBuffer=1,(function(e,t){var Ke=require_root(),Ye=t&&!t.nodeType&&t,Je=Ye&&!0&&e&&!e.nodeType&&e,Xe=Je&&Je.exports===Ye,et=Xe?Ke.Buffer:void 0,tt=et?et.allocUnsafe:void 0;function rt(st,at){if(at)return st.slice();var nt=st.length,it=tt?tt(nt):new st.constructor(nt);return st.copy(it),it}e.exports=rt})(_cloneBuffer,_cloneBuffer.exports)),_cloneBuffer.exports}var _copyArray,hasRequired_copyArray;function require_copyArray(){if(hasRequired_copyArray)return _copyArray;hasRequired_copyArray=1;function e(t,Ke){var Ye=-1,Je=t.length;for(Ke||(Ke=Array(Je));++Ye<Je;)Ke[Ye]=t[Ye];return Ke}return _copyArray=e,_copyArray}var _arrayFilter,hasRequired_arrayFilter;function require_arrayFilter(){if(hasRequired_arrayFilter)return _arrayFilter;hasRequired_arrayFilter=1;function e(t,Ke){for(var Ye=-1,Je=t==null?0:t.length,Xe=0,et=[];++Ye<Je;){var tt=t[Ye];Ke(tt,Ye,t)&&(et[Xe++]=tt)}return et}return _arrayFilter=e,_arrayFilter}var stubArray_1,hasRequiredStubArray;function requireStubArray(){if(hasRequiredStubArray)return stubArray_1;hasRequiredStubArray=1;function e(){return[]}return stubArray_1=e,stubArray_1}var _getSymbols,hasRequired_getSymbols;function require_getSymbols(){if(hasRequired_getSymbols)return _getSymbols;hasRequired_getSymbols=1;var e=require_arrayFilter(),t=requireStubArray(),Ke=Object.prototype,Ye=Ke.propertyIsEnumerable,Je=Object.getOwnPropertySymbols,Xe=Je?function(et){return et==null?[]:(et=Object(et),e(Je(et),function(tt){return Ye.call(et,tt)}))}:t;return _getSymbols=Xe,_getSymbols}var _copySymbols,hasRequired_copySymbols;function require_copySymbols(){if(hasRequired_copySymbols)return _copySymbols;hasRequired_copySymbols=1;var e=require_copyObject(),t=require_getSymbols();function Ke(Ye,Je){return e(Ye,t(Ye),Je)}return _copySymbols=Ke,_copySymbols}var _arrayPush,hasRequired_arrayPush;function require_arrayPush(){if(hasRequired_arrayPush)return _arrayPush;hasRequired_arrayPush=1;function e(t,Ke){for(var Ye=-1,Je=Ke.length,Xe=t.length;++Ye<Je;)t[Xe+Ye]=Ke[Ye];return t}return _arrayPush=e,_arrayPush}var _getPrototype,hasRequired_getPrototype;function require_getPrototype(){if(hasRequired_getPrototype)return _getPrototype;hasRequired_getPrototype=1;var e=require_overArg(),t=e(Object.getPrototypeOf,Object);return _getPrototype=t,_getPrototype}var _getSymbolsIn,hasRequired_getSymbolsIn;function require_getSymbolsIn(){if(hasRequired_getSymbolsIn)return _getSymbolsIn;hasRequired_getSymbolsIn=1;var e=require_arrayPush(),t=require_getPrototype(),Ke=require_getSymbols(),Ye=requireStubArray(),Je=Object.getOwnPropertySymbols,Xe=Je?function(et){for(var tt=[];et;)e(tt,Ke(et)),et=t(et);return tt}:Ye;return _getSymbolsIn=Xe,_getSymbolsIn}var _copySymbolsIn,hasRequired_copySymbolsIn;function require_copySymbolsIn(){if(hasRequired_copySymbolsIn)return _copySymbolsIn;hasRequired_copySymbolsIn=1;var e=require_copyObject(),t=require_getSymbolsIn();function Ke(Ye,Je){return e(Ye,t(Ye),Je)}return _copySymbolsIn=Ke,_copySymbolsIn}var _baseGetAllKeys,hasRequired_baseGetAllKeys;function require_baseGetAllKeys(){if(hasRequired_baseGetAllKeys)return _baseGetAllKeys;hasRequired_baseGetAllKeys=1;var e=require_arrayPush(),t=requireIsArray();function Ke(Ye,Je,Xe){var et=Je(Ye);return t(Ye)?et:e(et,Xe(Ye))}return _baseGetAllKeys=Ke,_baseGetAllKeys}var _getAllKeys,hasRequired_getAllKeys;function require_getAllKeys(){if(hasRequired_getAllKeys)return _getAllKeys;hasRequired_getAllKeys=1;var e=require_baseGetAllKeys(),t=require_getSymbols(),Ke=requireKeys();function Ye(Je){return e(Je,Ke,t)}return _getAllKeys=Ye,_getAllKeys}var _getAllKeysIn,hasRequired_getAllKeysIn;function require_getAllKeysIn(){if(hasRequired_getAllKeysIn)return _getAllKeysIn;hasRequired_getAllKeysIn=1;var e=require_baseGetAllKeys(),t=require_getSymbolsIn(),Ke=requireKeysIn();function Ye(Je){return e(Je,Ke,t)}return _getAllKeysIn=Ye,_getAllKeysIn}var _DataView,hasRequired_DataView;function require_DataView(){if(hasRequired_DataView)return _DataView;hasRequired_DataView=1;var e=require_getNative(),t=require_root(),Ke=e(t,"DataView");return _DataView=Ke,_DataView}var _Promise,hasRequired_Promise;function require_Promise(){if(hasRequired_Promise)return _Promise;hasRequired_Promise=1;var e=require_getNative(),t=require_root(),Ke=e(t,"Promise");return _Promise=Ke,_Promise}var _Set,hasRequired_Set;function require_Set(){if(hasRequired_Set)return _Set;hasRequired_Set=1;var e=require_getNative(),t=require_root(),Ke=e(t,"Set");return _Set=Ke,_Set}var _WeakMap,hasRequired_WeakMap;function require_WeakMap(){if(hasRequired_WeakMap)return _WeakMap;hasRequired_WeakMap=1;var e=require_getNative(),t=require_root(),Ke=e(t,"WeakMap");return _WeakMap=Ke,_WeakMap}var _getTag,hasRequired_getTag;function require_getTag(){if(hasRequired_getTag)return _getTag;hasRequired_getTag=1;var e=require_DataView(),t=require_Map(),Ke=require_Promise(),Ye=require_Set(),Je=require_WeakMap(),Xe=require_baseGetTag(),et=require_toSource(),tt="[object Map]",rt="[object Object]",st="[object Promise]",at="[object Set]",nt="[object WeakMap]",it="[object DataView]",ot=et(e),lt=et(t),ut=et(Ke),ft=et(Ye),ct=et(Je),dt=Xe;return(e&&dt(new e(new ArrayBuffer(1)))!=it||t&&dt(new t)!=tt||Ke&&dt(Ke.resolve())!=st||Ye&&dt(new Ye)!=at||Je&&dt(new Je)!=nt)&&(dt=function(ht){var xt=Xe(ht),vt=xt==rt?ht.constructor:void 0,bt=vt?et(vt):"";if(bt)switch(bt){case ot:return it;case lt:return tt;case ut:return st;case ft:return at;case ct:return nt}return xt}),_getTag=dt,_getTag}var _initCloneArray,hasRequired_initCloneArray;function require_initCloneArray(){if(hasRequired_initCloneArray)return _initCloneArray;hasRequired_initCloneArray=1;var e=Object.prototype,t=e.hasOwnProperty;function Ke(Ye){var Je=Ye.length,Xe=new Ye.constructor(Je);return Je&&typeof Ye[0]=="string"&&t.call(Ye,"index")&&(Xe.index=Ye.index,Xe.input=Ye.input),Xe}return _initCloneArray=Ke,_initCloneArray}var _Uint8Array,hasRequired_Uint8Array;function require_Uint8Array(){if(hasRequired_Uint8Array)return _Uint8Array;hasRequired_Uint8Array=1;var e=require_root(),t=e.Uint8Array;return _Uint8Array=t,_Uint8Array}var _cloneArrayBuffer,hasRequired_cloneArrayBuffer;function require_cloneArrayBuffer(){if(hasRequired_cloneArrayBuffer)return _cloneArrayBuffer;hasRequired_cloneArrayBuffer=1;var e=require_Uint8Array();function t(Ke){var Ye=new Ke.constructor(Ke.byteLength);return new e(Ye).set(new e(Ke)),Ye}return _cloneArrayBuffer=t,_cloneArrayBuffer}var _cloneDataView,hasRequired_cloneDataView;function require_cloneDataView(){if(hasRequired_cloneDataView)return _cloneDataView;hasRequired_cloneDataView=1;var e=require_cloneArrayBuffer();function t(Ke,Ye){var Je=Ye?e(Ke.buffer):Ke.buffer;return new Ke.constructor(Je,Ke.byteOffset,Ke.byteLength)}return _cloneDataView=t,_cloneDataView}var _cloneRegExp,hasRequired_cloneRegExp;function require_cloneRegExp(){if(hasRequired_cloneRegExp)return _cloneRegExp;hasRequired_cloneRegExp=1;var e=/\w*$/;function t(Ke){var Ye=new Ke.constructor(Ke.source,e.exec(Ke));return Ye.lastIndex=Ke.lastIndex,Ye}return _cloneRegExp=t,_cloneRegExp}var _cloneSymbol,hasRequired_cloneSymbol;function require_cloneSymbol(){if(hasRequired_cloneSymbol)return _cloneSymbol;hasRequired_cloneSymbol=1;var e=require_Symbol(),t=e?e.prototype:void 0,Ke=t?t.valueOf:void 0;function Ye(Je){return Ke?Object(Ke.call(Je)):{}}return _cloneSymbol=Ye,_cloneSymbol}var _cloneTypedArray,hasRequired_cloneTypedArray;function require_cloneTypedArray(){if(hasRequired_cloneTypedArray)return _cloneTypedArray;hasRequired_cloneTypedArray=1;var e=require_cloneArrayBuffer();function t(Ke,Ye){var Je=Ye?e(Ke.buffer):Ke.buffer;return new Ke.constructor(Je,Ke.byteOffset,Ke.length)}return _cloneTypedArray=t,_cloneTypedArray}var _initCloneByTag,hasRequired_initCloneByTag;function require_initCloneByTag(){if(hasRequired_initCloneByTag)return _initCloneByTag;hasRequired_initCloneByTag=1;var e=require_cloneArrayBuffer(),t=require_cloneDataView(),Ke=require_cloneRegExp(),Ye=require_cloneSymbol(),Je=require_cloneTypedArray(),Xe="[object Boolean]",et="[object Date]",tt="[object Map]",rt="[object Number]",st="[object RegExp]",at="[object Set]",nt="[object String]",it="[object Symbol]",ot="[object ArrayBuffer]",lt="[object DataView]",ut="[object Float32Array]",ft="[object Float64Array]",ct="[object Int8Array]",dt="[object Int16Array]",ht="[object Int32Array]",xt="[object Uint8Array]",vt="[object Uint8ClampedArray]",bt="[object Uint16Array]",_t="[object Uint32Array]";function Ct(Rt,jt,yt){var Et=Rt.constructor;switch(jt){case ot:return e(Rt);case Xe:case et:return new Et(+Rt);case lt:return t(Rt,yt);case ut:case ft:case ct:case dt:case ht:case xt:case vt:case bt:case _t:return Je(Rt,yt);case tt:return new Et;case rt:case nt:return new Et(Rt);case st:return Ke(Rt);case at:return new Et;case it:return Ye(Rt)}}return _initCloneByTag=Ct,_initCloneByTag}var _baseCreate,hasRequired_baseCreate;function require_baseCreate(){if(hasRequired_baseCreate)return _baseCreate;hasRequired_baseCreate=1;var e=requireIsObject(),t=Object.create,Ke=(function(){function Ye(){}return function(Je){if(!e(Je))return{};if(t)return t(Je);Ye.prototype=Je;var Xe=new Ye;return Ye.prototype=void 0,Xe}})();return _baseCreate=Ke,_baseCreate}var _initCloneObject,hasRequired_initCloneObject;function require_initCloneObject(){if(hasRequired_initCloneObject)return _initCloneObject;hasRequired_initCloneObject=1;var e=require_baseCreate(),t=require_getPrototype(),Ke=require_isPrototype();function Ye(Je){return typeof Je.constructor=="function"&&!Ke(Je)?e(t(Je)):{}}return _initCloneObject=Ye,_initCloneObject}var _baseIsMap,hasRequired_baseIsMap;function require_baseIsMap(){if(hasRequired_baseIsMap)return _baseIsMap;hasRequired_baseIsMap=1;var e=require_getTag(),t=requireIsObjectLike(),Ke="[object Map]";function Ye(Je){return t(Je)&&e(Je)==Ke}return _baseIsMap=Ye,_baseIsMap}var isMap_1,hasRequiredIsMap;function requireIsMap(){if(hasRequiredIsMap)return isMap_1;hasRequiredIsMap=1;var e=require_baseIsMap(),t=require_baseUnary(),Ke=require_nodeUtil(),Ye=Ke&&Ke.isMap,Je=Ye?t(Ye):e;return isMap_1=Je,isMap_1}var _baseIsSet,hasRequired_baseIsSet;function require_baseIsSet(){if(hasRequired_baseIsSet)return _baseIsSet;hasRequired_baseIsSet=1;var e=require_getTag(),t=requireIsObjectLike(),Ke="[object Set]";function Ye(Je){return t(Je)&&e(Je)==Ke}return _baseIsSet=Ye,_baseIsSet}var isSet_1,hasRequiredIsSet;function requireIsSet(){if(hasRequiredIsSet)return isSet_1;hasRequiredIsSet=1;var e=require_baseIsSet(),t=require_baseUnary(),Ke=require_nodeUtil(),Ye=Ke&&Ke.isSet,Je=Ye?t(Ye):e;return isSet_1=Je,isSet_1}var _baseClone,hasRequired_baseClone;function require_baseClone(){if(hasRequired_baseClone)return _baseClone;hasRequired_baseClone=1;var e=require_Stack(),t=require_arrayEach(),Ke=require_assignValue(),Ye=require_baseAssign(),Je=require_baseAssignIn(),Xe=require_cloneBuffer(),et=require_copyArray(),tt=require_copySymbols(),rt=require_copySymbolsIn(),st=require_getAllKeys(),at=require_getAllKeysIn(),nt=require_getTag(),it=require_initCloneArray(),ot=require_initCloneByTag(),lt=require_initCloneObject(),ut=requireIsArray(),ft=requireIsBuffer(),ct=requireIsMap(),dt=requireIsObject(),ht=requireIsSet(),xt=requireKeys(),vt=requireKeysIn(),bt=1,_t=2,Ct=4,Rt="[object Arguments]",jt="[object Array]",yt="[object Boolean]",Et="[object Date]",pt="[object Error]",mt="[object Function]",gt="[object GeneratorFunction]",St="[object Map]",wt="[object Number]",$t="[object Object]",Tt="[object RegExp]",At="[object Set]",Dt="[object String]",It="[object Symbol]",Ot="[object WeakMap]",Mt="[object ArrayBuffer]",Kt="[object DataView]",qt="[object Float32Array]",Bt="[object Float64Array]",kt="[object Int8Array]",Nt="[object Int16Array]",Pt="[object Int32Array]",Ft="[object Uint8Array]",Ut="[object Uint8ClampedArray]",Ht="[object Uint16Array]",Zt="[object Uint32Array]",Jt={};Jt[Rt]=Jt[jt]=Jt[Mt]=Jt[Kt]=Jt[yt]=Jt[Et]=Jt[qt]=Jt[Bt]=Jt[kt]=Jt[Nt]=Jt[Pt]=Jt[St]=Jt[wt]=Jt[$t]=Jt[Tt]=Jt[At]=Jt[Dt]=Jt[It]=Jt[Ft]=Jt[Ut]=Jt[Ht]=Jt[Zt]=!0,Jt[pt]=Jt[mt]=Jt[Ot]=!1;function zt(Yt,tr,rr,dr,fr,nr){var cr,ur=tr&bt,or=tr&_t,gr=tr&Ct;if(rr&&(cr=fr?rr(Yt,dr,fr,nr):rr(Yt)),cr!==void 0)return cr;if(!dt(Yt))return Yt;var xr=ut(Yt);if(xr){if(cr=it(Yt),!ur)return et(Yt,cr)}else{var pr=nt(Yt),br=pr==mt||pr==gt;if(ft(Yt))return Xe(Yt,ur);if(pr==$t||pr==Rt||br&&!fr){if(cr=or||br?{}:lt(Yt),!ur)return or?rt(Yt,Je(cr,Yt)):tt(Yt,Ye(cr,Yt))}else{if(!Jt[pr])return fr?Yt:{};cr=ot(Yt,pr,ur)}}nr||(nr=new e);var Er=nr.get(Yt);if(Er)return Er;nr.set(Yt,cr),ht(Yt)?Yt.forEach(function(Gt){cr.add(zt(Gt,tr,rr,Gt,Yt,nr))}):ct(Yt)&&Yt.forEach(function(Gt,Lt){cr.set(Lt,zt(Gt,tr,rr,Lt,Yt,nr))});var vr=gr?or?at:st:or?vt:xt,Rr=xr?void 0:vr(Yt);return t(Rr||Yt,function(Gt,Lt){Rr&&(Lt=Gt,Gt=Yt[Lt]),Ke(cr,Lt,zt(Gt,tr,rr,Lt,Yt,nr))}),cr}return _baseClone=zt,_baseClone}var cloneDeep_1,hasRequiredCloneDeep;function requireCloneDeep(){if(hasRequiredCloneDeep)return cloneDeep_1;hasRequiredCloneDeep=1;var e=require_baseClone(),t=1,Ke=4;function Ye(Je){return e(Je,t|Ke)}return cloneDeep_1=Ye,cloneDeep_1}var _setCacheAdd,hasRequired_setCacheAdd;function require_setCacheAdd(){if(hasRequired_setCacheAdd)return _setCacheAdd;hasRequired_setCacheAdd=1;var e="__lodash_hash_undefined__";function t(Ke){return this.__data__.set(Ke,e),this}return _setCacheAdd=t,_setCacheAdd}var _setCacheHas,hasRequired_setCacheHas;function require_setCacheHas(){if(hasRequired_setCacheHas)return _setCacheHas;hasRequired_setCacheHas=1;function e(t){return this.__data__.has(t)}return _setCacheHas=e,_setCacheHas}var _SetCache,hasRequired_SetCache;function require_SetCache(){if(hasRequired_SetCache)return _SetCache;hasRequired_SetCache=1;var e=require_MapCache(),t=require_setCacheAdd(),Ke=require_setCacheHas();function Ye(Je){var Xe=-1,et=Je==null?0:Je.length;for(this.__data__=new e;++Xe<et;)this.add(Je[Xe])}return Ye.prototype.add=Ye.prototype.push=t,Ye.prototype.has=Ke,_SetCache=Ye,_SetCache}var _arraySome,hasRequired_arraySome;function require_arraySome(){if(hasRequired_arraySome)return _arraySome;hasRequired_arraySome=1;function e(t,Ke){for(var Ye=-1,Je=t==null?0:t.length;++Ye<Je;)if(Ke(t[Ye],Ye,t))return!0;return!1}return _arraySome=e,_arraySome}var _cacheHas,hasRequired_cacheHas;function require_cacheHas(){if(hasRequired_cacheHas)return _cacheHas;hasRequired_cacheHas=1;function e(t,Ke){return t.has(Ke)}return _cacheHas=e,_cacheHas}var _equalArrays,hasRequired_equalArrays;function require_equalArrays(){if(hasRequired_equalArrays)return _equalArrays;hasRequired_equalArrays=1;var e=require_SetCache(),t=require_arraySome(),Ke=require_cacheHas(),Ye=1,Je=2;function Xe(et,tt,rt,st,at,nt){var it=rt&Ye,ot=et.length,lt=tt.length;if(ot!=lt&&!(it&&lt>ot))return!1;var ut=nt.get(et),ft=nt.get(tt);if(ut&&ft)return ut==tt&&ft==et;var ct=-1,dt=!0,ht=rt&Je?new e:void 0;for(nt.set(et,tt),nt.set(tt,et);++ct<ot;){var xt=et[ct],vt=tt[ct];if(st)var bt=it?st(vt,xt,ct,tt,et,nt):st(xt,vt,ct,et,tt,nt);if(bt!==void 0){if(bt)continue;dt=!1;break}if(ht){if(!t(tt,function(_t,Ct){if(!Ke(ht,Ct)&&(xt===_t||at(xt,_t,rt,st,nt)))return ht.push(Ct)})){dt=!1;break}}else if(!(xt===vt||at(xt,vt,rt,st,nt))){dt=!1;break}}return nt.delete(et),nt.delete(tt),dt}return _equalArrays=Xe,_equalArrays}var _mapToArray,hasRequired_mapToArray;function require_mapToArray(){if(hasRequired_mapToArray)return _mapToArray;hasRequired_mapToArray=1;function e(t){var Ke=-1,Ye=Array(t.size);return t.forEach(function(Je,Xe){Ye[++Ke]=[Xe,Je]}),Ye}return _mapToArray=e,_mapToArray}var _setToArray,hasRequired_setToArray;function require_setToArray(){if(hasRequired_setToArray)return _setToArray;hasRequired_setToArray=1;function e(t){var Ke=-1,Ye=Array(t.size);return t.forEach(function(Je){Ye[++Ke]=Je}),Ye}return _setToArray=e,_setToArray}var _equalByTag,hasRequired_equalByTag;function require_equalByTag(){if(hasRequired_equalByTag)return _equalByTag;hasRequired_equalByTag=1;var e=require_Symbol(),t=require_Uint8Array(),Ke=requireEq(),Ye=require_equalArrays(),Je=require_mapToArray(),Xe=require_setToArray(),et=1,tt=2,rt="[object Boolean]",st="[object Date]",at="[object Error]",nt="[object Map]",it="[object Number]",ot="[object RegExp]",lt="[object Set]",ut="[object String]",ft="[object Symbol]",ct="[object ArrayBuffer]",dt="[object DataView]",ht=e?e.prototype:void 0,xt=ht?ht.valueOf:void 0;function vt(bt,_t,Ct,Rt,jt,yt,Et){switch(Ct){case dt:if(bt.byteLength!=_t.byteLength||bt.byteOffset!=_t.byteOffset)return!1;bt=bt.buffer,_t=_t.buffer;case ct:return!(bt.byteLength!=_t.byteLength||!yt(new t(bt),new t(_t)));case rt:case st:case it:return Ke(+bt,+_t);case at:return bt.name==_t.name&&bt.message==_t.message;case ot:case ut:return bt==_t+"";case nt:var pt=Je;case lt:var mt=Rt&et;if(pt||(pt=Xe),bt.size!=_t.size&&!mt)return!1;var gt=Et.get(bt);if(gt)return gt==_t;Rt|=tt,Et.set(bt,_t);var St=Ye(pt(bt),pt(_t),Rt,jt,yt,Et);return Et.delete(bt),St;case ft:if(xt)return xt.call(bt)==xt.call(_t)}return!1}return _equalByTag=vt,_equalByTag}var _equalObjects,hasRequired_equalObjects;function require_equalObjects(){if(hasRequired_equalObjects)return _equalObjects;hasRequired_equalObjects=1;var e=require_getAllKeys(),t=1,Ke=Object.prototype,Ye=Ke.hasOwnProperty;function Je(Xe,et,tt,rt,st,at){var nt=tt&t,it=e(Xe),ot=it.length,lt=e(et),ut=lt.length;if(ot!=ut&&!nt)return!1;for(var ft=ot;ft--;){var ct=it[ft];if(!(nt?ct in et:Ye.call(et,ct)))return!1}var dt=at.get(Xe),ht=at.get(et);if(dt&&ht)return dt==et&&ht==Xe;var xt=!0;at.set(Xe,et),at.set(et,Xe);for(var vt=nt;++ft<ot;){ct=it[ft];var bt=Xe[ct],_t=et[ct];if(rt)var Ct=nt?rt(_t,bt,ct,et,Xe,at):rt(bt,_t,ct,Xe,et,at);if(!(Ct===void 0?bt===_t||st(bt,_t,tt,rt,at):Ct)){xt=!1;break}vt||(vt=ct=="constructor")}if(xt&&!vt){var Rt=Xe.constructor,jt=et.constructor;Rt!=jt&&"constructor"in Xe&&"constructor"in et&&!(typeof Rt=="function"&&Rt instanceof Rt&&typeof jt=="function"&&jt instanceof jt)&&(xt=!1)}return at.delete(Xe),at.delete(et),xt}return _equalObjects=Je,_equalObjects}var _baseIsEqualDeep,hasRequired_baseIsEqualDeep;function require_baseIsEqualDeep(){if(hasRequired_baseIsEqualDeep)return _baseIsEqualDeep;hasRequired_baseIsEqualDeep=1;var e=require_Stack(),t=require_equalArrays(),Ke=require_equalByTag(),Ye=require_equalObjects(),Je=require_getTag(),Xe=requireIsArray(),et=requireIsBuffer(),tt=requireIsTypedArray(),rt=1,st="[object Arguments]",at="[object Array]",nt="[object Object]",it=Object.prototype,ot=it.hasOwnProperty;function lt(ut,ft,ct,dt,ht,xt){var vt=Xe(ut),bt=Xe(ft),_t=vt?at:Je(ut),Ct=bt?at:Je(ft);_t=_t==st?nt:_t,Ct=Ct==st?nt:Ct;var Rt=_t==nt,jt=Ct==nt,yt=_t==Ct;if(yt&&et(ut)){if(!et(ft))return!1;vt=!0,Rt=!1}if(yt&&!Rt)return xt||(xt=new e),vt||tt(ut)?t(ut,ft,ct,dt,ht,xt):Ke(ut,ft,_t,ct,dt,ht,xt);if(!(ct&rt)){var Et=Rt&&ot.call(ut,"__wrapped__"),pt=jt&&ot.call(ft,"__wrapped__");if(Et||pt){var mt=Et?ut.value():ut,gt=pt?ft.value():ft;return xt||(xt=new e),ht(mt,gt,ct,dt,xt)}}return yt?(xt||(xt=new e),Ye(ut,ft,ct,dt,ht,xt)):!1}return _baseIsEqualDeep=lt,_baseIsEqualDeep}var _baseIsEqual,hasRequired_baseIsEqual;function require_baseIsEqual(){if(hasRequired_baseIsEqual)return _baseIsEqual;hasRequired_baseIsEqual=1;var e=require_baseIsEqualDeep(),t=requireIsObjectLike();function Ke(Ye,Je,Xe,et,tt){return Ye===Je?!0:Ye==null||Je==null||!t(Ye)&&!t(Je)?Ye!==Ye&&Je!==Je:e(Ye,Je,Xe,et,Ke,tt)}return _baseIsEqual=Ke,_baseIsEqual}var isEqual_1,hasRequiredIsEqual;function requireIsEqual(){if(hasRequiredIsEqual)return isEqual_1;hasRequiredIsEqual=1;var e=require_baseIsEqual();function t(Ke,Ye){return e(Ke,Ye)}return isEqual_1=t,isEqual_1}var _isFlattenable,hasRequired_isFlattenable;function require_isFlattenable(){if(hasRequired_isFlattenable)return _isFlattenable;hasRequired_isFlattenable=1;var e=require_Symbol(),t=requireIsArguments(),Ke=requireIsArray(),Ye=e?e.isConcatSpreadable:void 0;function Je(Xe){return Ke(Xe)||t(Xe)||!!(Ye&&Xe&&Xe[Ye])}return _isFlattenable=Je,_isFlattenable}var _baseFlatten,hasRequired_baseFlatten;function require_baseFlatten(){if(hasRequired_baseFlatten)return _baseFlatten;hasRequired_baseFlatten=1;var e=require_arrayPush(),t=require_isFlattenable();function Ke(Ye,Je,Xe,et,tt){var rt=-1,st=Ye.length;for(Xe||(Xe=t),tt||(tt=[]);++rt<st;){var at=Ye[rt];Je>0&&Xe(at)?Je>1?Ke(at,Je-1,Xe,et,tt):e(tt,at):et||(tt[tt.length]=at)}return tt}return _baseFlatten=Ke,_baseFlatten}var _arrayMap,hasRequired_arrayMap;function require_arrayMap(){if(hasRequired_arrayMap)return _arrayMap;hasRequired_arrayMap=1;function e(t,Ke){for(var Ye=-1,Je=t==null?0:t.length,Xe=Array(Je);++Ye<Je;)Xe[Ye]=Ke(t[Ye],Ye,t);return Xe}return _arrayMap=e,_arrayMap}var isSymbol_1,hasRequiredIsSymbol;function requireIsSymbol(){if(hasRequiredIsSymbol)return isSymbol_1;hasRequiredIsSymbol=1;var e=require_baseGetTag(),t=requireIsObjectLike(),Ke="[object Symbol]";function Ye(Je){return typeof Je=="symbol"||t(Je)&&e(Je)==Ke}return isSymbol_1=Ye,isSymbol_1}var _isKey,hasRequired_isKey;function require_isKey(){if(hasRequired_isKey)return _isKey;hasRequired_isKey=1;var e=requireIsArray(),t=requireIsSymbol(),Ke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ye=/^\w*$/;function Je(Xe,et){if(e(Xe))return!1;var tt=typeof Xe;return tt=="number"||tt=="symbol"||tt=="boolean"||Xe==null||t(Xe)?!0:Ye.test(Xe)||!Ke.test(Xe)||et!=null&&Xe in Object(et)}return _isKey=Je,_isKey}var memoize_1,hasRequiredMemoize;function requireMemoize(){if(hasRequiredMemoize)return memoize_1;hasRequiredMemoize=1;var e=require_MapCache(),t="Expected a function";function Ke(Ye,Je){if(typeof Ye!="function"||Je!=null&&typeof Je!="function")throw new TypeError(t);var Xe=function(){var et=arguments,tt=Je?Je.apply(this,et):et[0],rt=Xe.cache;if(rt.has(tt))return rt.get(tt);var st=Ye.apply(this,et);return Xe.cache=rt.set(tt,st)||rt,st};return Xe.cache=new(Ke.Cache||e),Xe}return Ke.Cache=e,memoize_1=Ke,memoize_1}var _memoizeCapped,hasRequired_memoizeCapped;function require_memoizeCapped(){if(hasRequired_memoizeCapped)return _memoizeCapped;hasRequired_memoizeCapped=1;var e=requireMemoize(),t=500;function Ke(Ye){var Je=e(Ye,function(et){return Xe.size===t&&Xe.clear(),et}),Xe=Je.cache;return Je}return _memoizeCapped=Ke,_memoizeCapped}var _stringToPath,hasRequired_stringToPath;function require_stringToPath(){if(hasRequired_stringToPath)return _stringToPath;hasRequired_stringToPath=1;var e=require_memoizeCapped(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ke=/\\(\\)?/g,Ye=e(function(Je){var Xe=[];return Je.charCodeAt(0)===46&&Xe.push(""),Je.replace(t,function(et,tt,rt,st){Xe.push(rt?st.replace(Ke,"$1"):tt||et)}),Xe});return _stringToPath=Ye,_stringToPath}var _baseToString,hasRequired_baseToString;function require_baseToString(){if(hasRequired_baseToString)return _baseToString;hasRequired_baseToString=1;var e=require_Symbol(),t=require_arrayMap(),Ke=requireIsArray(),Ye=requireIsSymbol(),Je=e?e.prototype:void 0,Xe=Je?Je.toString:void 0;function et(tt){if(typeof tt=="string")return tt;if(Ke(tt))return t(tt,et)+"";if(Ye(tt))return Xe?Xe.call(tt):"";var rt=tt+"";return rt=="0"&&1/tt==-1/0?"-0":rt}return _baseToString=et,_baseToString}var toString_1,hasRequiredToString;function requireToString(){if(hasRequiredToString)return toString_1;hasRequiredToString=1;var e=require_baseToString();function t(Ke){return Ke==null?"":e(Ke)}return toString_1=t,toString_1}var _castPath,hasRequired_castPath;function require_castPath(){if(hasRequired_castPath)return _castPath;hasRequired_castPath=1;var e=requireIsArray(),t=require_isKey(),Ke=require_stringToPath(),Ye=requireToString();function Je(Xe,et){return e(Xe)?Xe:t(Xe,et)?[Xe]:Ke(Ye(Xe))}return _castPath=Je,_castPath}var _toKey,hasRequired_toKey;function require_toKey(){if(hasRequired_toKey)return _toKey;hasRequired_toKey=1;var e=requireIsSymbol();function t(Ke){if(typeof Ke=="string"||e(Ke))return Ke;var Ye=Ke+"";return Ye=="0"&&1/Ke==-1/0?"-0":Ye}return _toKey=t,_toKey}var _baseGet,hasRequired_baseGet;function require_baseGet(){if(hasRequired_baseGet)return _baseGet;hasRequired_baseGet=1;var e=require_castPath(),t=require_toKey();function Ke(Ye,Je){Je=e(Je,Ye);for(var Xe=0,et=Je.length;Ye!=null&&Xe<et;)Ye=Ye[t(Je[Xe++])];return Xe&&Xe==et?Ye:void 0}return _baseGet=Ke,_baseGet}var _baseIsMatch,hasRequired_baseIsMatch;function require_baseIsMatch(){if(hasRequired_baseIsMatch)return _baseIsMatch;hasRequired_baseIsMatch=1;var e=require_Stack(),t=require_baseIsEqual(),Ke=1,Ye=2;function Je(Xe,et,tt,rt){var st=tt.length,at=st,nt=!rt;if(Xe==null)return!at;for(Xe=Object(Xe);st--;){var it=tt[st];if(nt&&it[2]?it[1]!==Xe[it[0]]:!(it[0]in Xe))return!1}for(;++st<at;){it=tt[st];var ot=it[0],lt=Xe[ot],ut=it[1];if(nt&&it[2]){if(lt===void 0&&!(ot in Xe))return!1}else{var ft=new e;if(rt)var ct=rt(lt,ut,ot,Xe,et,ft);if(!(ct===void 0?t(ut,lt,Ke|Ye,rt,ft):ct))return!1}}return!0}return _baseIsMatch=Je,_baseIsMatch}var _isStrictComparable,hasRequired_isStrictComparable;function require_isStrictComparable(){if(hasRequired_isStrictComparable)return _isStrictComparable;hasRequired_isStrictComparable=1;var e=requireIsObject();function t(Ke){return Ke===Ke&&!e(Ke)}return _isStrictComparable=t,_isStrictComparable}var _getMatchData,hasRequired_getMatchData;function require_getMatchData(){if(hasRequired_getMatchData)return _getMatchData;hasRequired_getMatchData=1;var e=require_isStrictComparable(),t=requireKeys();function Ke(Ye){for(var Je=t(Ye),Xe=Je.length;Xe--;){var et=Je[Xe],tt=Ye[et];Je[Xe]=[et,tt,e(tt)]}return Je}return _getMatchData=Ke,_getMatchData}var _matchesStrictComparable,hasRequired_matchesStrictComparable;function require_matchesStrictComparable(){if(hasRequired_matchesStrictComparable)return _matchesStrictComparable;hasRequired_matchesStrictComparable=1;function e(t,Ke){return function(Ye){return Ye==null?!1:Ye[t]===Ke&&(Ke!==void 0||t in Object(Ye))}}return _matchesStrictComparable=e,_matchesStrictComparable}var _baseMatches,hasRequired_baseMatches;function require_baseMatches(){if(hasRequired_baseMatches)return _baseMatches;hasRequired_baseMatches=1;var e=require_baseIsMatch(),t=require_getMatchData(),Ke=require_matchesStrictComparable();function Ye(Je){var Xe=t(Je);return Xe.length==1&&Xe[0][2]?Ke(Xe[0][0],Xe[0][1]):function(et){return et===Je||e(et,Je,Xe)}}return _baseMatches=Ye,_baseMatches}var get_1,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get_1;hasRequiredGet=1;var e=require_baseGet();function t(Ke,Ye,Je){var Xe=Ke==null?void 0:e(Ke,Ye);return Xe===void 0?Je:Xe}return get_1=t,get_1}var _baseHasIn,hasRequired_baseHasIn;function require_baseHasIn(){if(hasRequired_baseHasIn)return _baseHasIn;hasRequired_baseHasIn=1;function e(t,Ke){return t!=null&&Ke in Object(t)}return _baseHasIn=e,_baseHasIn}var _hasPath,hasRequired_hasPath;function require_hasPath(){if(hasRequired_hasPath)return _hasPath;hasRequired_hasPath=1;var e=require_castPath(),t=requireIsArguments(),Ke=requireIsArray(),Ye=require_isIndex(),Je=requireIsLength(),Xe=require_toKey();function et(tt,rt,st){rt=e(rt,tt);for(var at=-1,nt=rt.length,it=!1;++at<nt;){var ot=Xe(rt[at]);if(!(it=tt!=null&&st(tt,ot)))break;tt=tt[ot]}return it||++at!=nt?it:(nt=tt==null?0:tt.length,!!nt&&Je(nt)&&Ye(ot,nt)&&(Ke(tt)||t(tt)))}return _hasPath=et,_hasPath}var hasIn_1,hasRequiredHasIn;function requireHasIn(){if(hasRequiredHasIn)return hasIn_1;hasRequiredHasIn=1;var e=require_baseHasIn(),t=require_hasPath();function Ke(Ye,Je){return Ye!=null&&t(Ye,Je,e)}return hasIn_1=Ke,hasIn_1}var _baseMatchesProperty,hasRequired_baseMatchesProperty;function require_baseMatchesProperty(){if(hasRequired_baseMatchesProperty)return _baseMatchesProperty;hasRequired_baseMatchesProperty=1;var e=require_baseIsEqual(),t=requireGet(),Ke=requireHasIn(),Ye=require_isKey(),Je=require_isStrictComparable(),Xe=require_matchesStrictComparable(),et=require_toKey(),tt=1,rt=2;function st(at,nt){return Ye(at)&&Je(nt)?Xe(et(at),nt):function(it){var ot=t(it,at);return ot===void 0&&ot===nt?Ke(it,at):e(nt,ot,tt|rt)}}return _baseMatchesProperty=st,_baseMatchesProperty}var identity_1,hasRequiredIdentity;function requireIdentity(){if(hasRequiredIdentity)return identity_1;hasRequiredIdentity=1;function e(t){return t}return identity_1=e,identity_1}var _baseProperty,hasRequired_baseProperty;function require_baseProperty(){if(hasRequired_baseProperty)return _baseProperty;hasRequired_baseProperty=1;function e(t){return function(Ke){return Ke?.[t]}}return _baseProperty=e,_baseProperty}var _basePropertyDeep,hasRequired_basePropertyDeep;function require_basePropertyDeep(){if(hasRequired_basePropertyDeep)return _basePropertyDeep;hasRequired_basePropertyDeep=1;var e=require_baseGet();function t(Ke){return function(Ye){return e(Ye,Ke)}}return _basePropertyDeep=t,_basePropertyDeep}var property_1,hasRequiredProperty;function requireProperty(){if(hasRequiredProperty)return property_1;hasRequiredProperty=1;var e=require_baseProperty(),t=require_basePropertyDeep(),Ke=require_isKey(),Ye=require_toKey();function Je(Xe){return Ke(Xe)?e(Ye(Xe)):t(Xe)}return property_1=Je,property_1}var _baseIteratee,hasRequired_baseIteratee;function require_baseIteratee(){if(hasRequired_baseIteratee)return _baseIteratee;hasRequired_baseIteratee=1;var e=require_baseMatches(),t=require_baseMatchesProperty(),Ke=requireIdentity(),Ye=requireIsArray(),Je=requireProperty();function Xe(et){return typeof et=="function"?et:et==null?Ke:typeof et=="object"?Ye(et)?t(et[0],et[1]):e(et):Je(et)}return _baseIteratee=Xe,_baseIteratee}var _createBaseFor,hasRequired_createBaseFor;function require_createBaseFor(){if(hasRequired_createBaseFor)return _createBaseFor;hasRequired_createBaseFor=1;function e(t){return function(Ke,Ye,Je){for(var Xe=-1,et=Object(Ke),tt=Je(Ke),rt=tt.length;rt--;){var st=tt[t?rt:++Xe];if(Ye(et[st],st,et)===!1)break}return Ke}}return _createBaseFor=e,_createBaseFor}var _baseFor,hasRequired_baseFor;function require_baseFor(){if(hasRequired_baseFor)return _baseFor;hasRequired_baseFor=1;var e=require_createBaseFor(),t=e();return _baseFor=t,_baseFor}var _baseForOwn,hasRequired_baseForOwn;function require_baseForOwn(){if(hasRequired_baseForOwn)return _baseForOwn;hasRequired_baseForOwn=1;var e=require_baseFor(),t=requireKeys();function Ke(Ye,Je){return Ye&&e(Ye,Je,t)}return _baseForOwn=Ke,_baseForOwn}var _createBaseEach,hasRequired_createBaseEach;function require_createBaseEach(){if(hasRequired_createBaseEach)return _createBaseEach;hasRequired_createBaseEach=1;var e=requireIsArrayLike();function t(Ke,Ye){return function(Je,Xe){if(Je==null)return Je;if(!e(Je))return Ke(Je,Xe);for(var et=Je.length,tt=Ye?et:-1,rt=Object(Je);(Ye?tt--:++tt<et)&&Xe(rt[tt],tt,rt)!==!1;);return Je}}return _createBaseEach=t,_createBaseEach}var _baseEach,hasRequired_baseEach;function require_baseEach(){if(hasRequired_baseEach)return _baseEach;hasRequired_baseEach=1;var e=require_baseForOwn(),t=require_createBaseEach(),Ke=t(e);return _baseEach=Ke,_baseEach}var _baseMap,hasRequired_baseMap;function require_baseMap(){if(hasRequired_baseMap)return _baseMap;hasRequired_baseMap=1;var e=require_baseEach(),t=requireIsArrayLike();function Ke(Ye,Je){var Xe=-1,et=t(Ye)?Array(Ye.length):[];return e(Ye,function(tt,rt,st){et[++Xe]=Je(tt,rt,st)}),et}return _baseMap=Ke,_baseMap}var _baseSortBy,hasRequired_baseSortBy;function require_baseSortBy(){if(hasRequired_baseSortBy)return _baseSortBy;hasRequired_baseSortBy=1;function e(t,Ke){var Ye=t.length;for(t.sort(Ke);Ye--;)t[Ye]=t[Ye].value;return t}return _baseSortBy=e,_baseSortBy}var _compareAscending,hasRequired_compareAscending;function require_compareAscending(){if(hasRequired_compareAscending)return _compareAscending;hasRequired_compareAscending=1;var e=requireIsSymbol();function t(Ke,Ye){if(Ke!==Ye){var Je=Ke!==void 0,Xe=Ke===null,et=Ke===Ke,tt=e(Ke),rt=Ye!==void 0,st=Ye===null,at=Ye===Ye,nt=e(Ye);if(!st&&!nt&&!tt&&Ke>Ye||tt&&rt&&at&&!st&&!nt||Xe&&rt&&at||!Je&&at||!et)return 1;if(!Xe&&!tt&&!nt&&Ke<Ye||nt&&Je&&et&&!Xe&&!tt||st&&Je&&et||!rt&&et||!at)return-1}return 0}return _compareAscending=t,_compareAscending}var _compareMultiple,hasRequired_compareMultiple;function require_compareMultiple(){if(hasRequired_compareMultiple)return _compareMultiple;hasRequired_compareMultiple=1;var e=require_compareAscending();function t(Ke,Ye,Je){for(var Xe=-1,et=Ke.criteria,tt=Ye.criteria,rt=et.length,st=Je.length;++Xe<rt;){var at=e(et[Xe],tt[Xe]);if(at){if(Xe>=st)return at;var nt=Je[Xe];return at*(nt=="desc"?-1:1)}}return Ke.index-Ye.index}return _compareMultiple=t,_compareMultiple}var _baseOrderBy,hasRequired_baseOrderBy;function require_baseOrderBy(){if(hasRequired_baseOrderBy)return _baseOrderBy;hasRequired_baseOrderBy=1;var e=require_arrayMap(),t=require_baseGet(),Ke=require_baseIteratee(),Ye=require_baseMap(),Je=require_baseSortBy(),Xe=require_baseUnary(),et=require_compareMultiple(),tt=requireIdentity(),rt=requireIsArray();function st(at,nt,it){nt.length?nt=e(nt,function(ut){return rt(ut)?function(ft){return t(ft,ut.length===1?ut[0]:ut)}:ut}):nt=[tt];var ot=-1;nt=e(nt,Xe(Ke));var lt=Ye(at,function(ut,ft,ct){var dt=e(nt,function(ht){return ht(ut)});return{criteria:dt,index:++ot,value:ut}});return Je(lt,function(ut,ft){return et(ut,ft,it)})}return _baseOrderBy=st,_baseOrderBy}var _apply,hasRequired_apply;function require_apply(){if(hasRequired_apply)return _apply;hasRequired_apply=1;function e(t,Ke,Ye){switch(Ye.length){case 0:return t.call(Ke);case 1:return t.call(Ke,Ye[0]);case 2:return t.call(Ke,Ye[0],Ye[1]);case 3:return t.call(Ke,Ye[0],Ye[1],Ye[2])}return t.apply(Ke,Ye)}return _apply=e,_apply}var _overRest,hasRequired_overRest;function require_overRest(){if(hasRequired_overRest)return _overRest;hasRequired_overRest=1;var e=require_apply(),t=Math.max;function Ke(Ye,Je,Xe){return Je=t(Je===void 0?Ye.length-1:Je,0),function(){for(var et=arguments,tt=-1,rt=t(et.length-Je,0),st=Array(rt);++tt<rt;)st[tt]=et[Je+tt];tt=-1;for(var at=Array(Je+1);++tt<Je;)at[tt]=et[tt];return at[Je]=Xe(st),e(Ye,this,at)}}return _overRest=Ke,_overRest}var constant_1,hasRequiredConstant;function requireConstant(){if(hasRequiredConstant)return constant_1;hasRequiredConstant=1;function e(t){return function(){return t}}return constant_1=e,constant_1}var _baseSetToString,hasRequired_baseSetToString;function require_baseSetToString(){if(hasRequired_baseSetToString)return _baseSetToString;hasRequired_baseSetToString=1;var e=requireConstant(),t=require_defineProperty(),Ke=requireIdentity(),Ye=t?function(Je,Xe){return t(Je,"toString",{configurable:!0,enumerable:!1,value:e(Xe),writable:!0})}:Ke;return _baseSetToString=Ye,_baseSetToString}var _shortOut,hasRequired_shortOut;function require_shortOut(){if(hasRequired_shortOut)return _shortOut;hasRequired_shortOut=1;var e=800,t=16,Ke=Date.now;function Ye(Je){var Xe=0,et=0;return function(){var tt=Ke(),rt=t-(tt-et);if(et=tt,rt>0){if(++Xe>=e)return arguments[0]}else Xe=0;return Je.apply(void 0,arguments)}}return _shortOut=Ye,_shortOut}var _setToString,hasRequired_setToString;function require_setToString(){if(hasRequired_setToString)return _setToString;hasRequired_setToString=1;var e=require_baseSetToString(),t=require_shortOut(),Ke=t(e);return _setToString=Ke,_setToString}var _baseRest,hasRequired_baseRest;function require_baseRest(){if(hasRequired_baseRest)return _baseRest;hasRequired_baseRest=1;var e=requireIdentity(),t=require_overRest(),Ke=require_setToString();function Ye(Je,Xe){return Ke(t(Je,Xe,e),Je+"")}return _baseRest=Ye,_baseRest}var _isIterateeCall,hasRequired_isIterateeCall;function require_isIterateeCall(){if(hasRequired_isIterateeCall)return _isIterateeCall;hasRequired_isIterateeCall=1;var e=requireEq(),t=requireIsArrayLike(),Ke=require_isIndex(),Ye=requireIsObject();function Je(Xe,et,tt){if(!Ye(tt))return!1;var rt=typeof et;return(rt=="number"?t(tt)&&Ke(et,tt.length):rt=="string"&&et in tt)?e(tt[et],Xe):!1}return _isIterateeCall=Je,_isIterateeCall}var sortBy_1,hasRequiredSortBy;function requireSortBy(){if(hasRequiredSortBy)return sortBy_1;hasRequiredSortBy=1;var e=require_baseFlatten(),t=require_baseOrderBy(),Ke=require_baseRest(),Ye=require_isIterateeCall(),Je=Ke(function(Xe,et){if(Xe==null)return[];var tt=et.length;return tt>1&&Ye(Xe,et[0],et[1])?et=[]:tt>2&&Ye(et[0],et[1],et[2])&&(et=[et[0]]),t(Xe,e(et,1),[])});return sortBy_1=Je,sortBy_1}var _baseFindIndex,hasRequired_baseFindIndex;function require_baseFindIndex(){if(hasRequired_baseFindIndex)return _baseFindIndex;hasRequired_baseFindIndex=1;function e(t,Ke,Ye,Je){for(var Xe=t.length,et=Ye+(Je?1:-1);Je?et--:++et<Xe;)if(Ke(t[et],et,t))return et;return-1}return _baseFindIndex=e,_baseFindIndex}var _baseIsNaN,hasRequired_baseIsNaN;function require_baseIsNaN(){if(hasRequired_baseIsNaN)return _baseIsNaN;hasRequired_baseIsNaN=1;function e(t){return t!==t}return _baseIsNaN=e,_baseIsNaN}var _strictIndexOf,hasRequired_strictIndexOf;function require_strictIndexOf(){if(hasRequired_strictIndexOf)return _strictIndexOf;hasRequired_strictIndexOf=1;function e(t,Ke,Ye){for(var Je=Ye-1,Xe=t.length;++Je<Xe;)if(t[Je]===Ke)return Je;return-1}return _strictIndexOf=e,_strictIndexOf}var _baseIndexOf,hasRequired_baseIndexOf;function require_baseIndexOf(){if(hasRequired_baseIndexOf)return _baseIndexOf;hasRequired_baseIndexOf=1;var e=require_baseFindIndex(),t=require_baseIsNaN(),Ke=require_strictIndexOf();function Ye(Je,Xe,et){return Xe===Xe?Ke(Je,Xe,et):e(Je,t,et)}return _baseIndexOf=Ye,_baseIndexOf}var _arrayIncludes,hasRequired_arrayIncludes;function require_arrayIncludes(){if(hasRequired_arrayIncludes)return _arrayIncludes;hasRequired_arrayIncludes=1;var e=require_baseIndexOf();function t(Ke,Ye){var Je=Ke==null?0:Ke.length;return!!Je&&e(Ke,Ye,0)>-1}return _arrayIncludes=t,_arrayIncludes}var _arrayIncludesWith,hasRequired_arrayIncludesWith;function require_arrayIncludesWith(){if(hasRequired_arrayIncludesWith)return _arrayIncludesWith;hasRequired_arrayIncludesWith=1;function e(t,Ke,Ye){for(var Je=-1,Xe=t==null?0:t.length;++Je<Xe;)if(Ye(Ke,t[Je]))return!0;return!1}return _arrayIncludesWith=e,_arrayIncludesWith}var noop_1,hasRequiredNoop;function requireNoop(){if(hasRequiredNoop)return noop_1;hasRequiredNoop=1;function e(){}return noop_1=e,noop_1}var _createSet,hasRequired_createSet;function require_createSet(){if(hasRequired_createSet)return _createSet;hasRequired_createSet=1;var e=require_Set(),t=requireNoop(),Ke=require_setToArray(),Ye=1/0,Je=e&&1/Ke(new e([,-0]))[1]==Ye?function(Xe){return new e(Xe)}:t;return _createSet=Je,_createSet}var _baseUniq,hasRequired_baseUniq;function require_baseUniq(){if(hasRequired_baseUniq)return _baseUniq;hasRequired_baseUniq=1;var e=require_SetCache(),t=require_arrayIncludes(),Ke=require_arrayIncludesWith(),Ye=require_cacheHas(),Je=require_createSet(),Xe=require_setToArray(),et=200;function tt(rt,st,at){var nt=-1,it=t,ot=rt.length,lt=!0,ut=[],ft=ut;if(at)lt=!1,it=Ke;else if(ot>=et){var ct=st?null:Je(rt);if(ct)return Xe(ct);lt=!1,it=Ye,ft=new e}else ft=st?[]:ut;e:for(;++nt<ot;){var dt=rt[nt],ht=st?st(dt):dt;if(dt=at||dt!==0?dt:0,lt&&ht===ht){for(var xt=ft.length;xt--;)if(ft[xt]===ht)continue e;st&&ft.push(ht),ut.push(dt)}else it(ft,ht,at)||(ft!==ut&&ft.push(ht),ut.push(dt))}return ut}return _baseUniq=tt,_baseUniq}var uniq_1,hasRequiredUniq;function requireUniq(){if(hasRequiredUniq)return uniq_1;hasRequiredUniq=1;var e=require_baseUniq();function t(Ke){return Ke&&Ke.length?e(Ke):[]}return uniq_1=t,uniq_1}var uniqWith_1,hasRequiredUniqWith;function requireUniqWith(){if(hasRequiredUniqWith)return uniqWith_1;hasRequiredUniqWith=1;var e=require_baseUniq();function t(Ke,Ye){return Ye=typeof Ye=="function"?Ye:void 0,Ke&&Ke.length?e(Ke,void 0,Ye):[]}return uniqWith_1=t,uniqWith_1}var defaults_1,hasRequiredDefaults;function requireDefaults(){if(hasRequiredDefaults)return defaults_1;hasRequiredDefaults=1;var e=require_baseRest(),t=requireEq(),Ke=require_isIterateeCall(),Ye=requireKeysIn(),Je=Object.prototype,Xe=Je.hasOwnProperty,et=e(function(tt,rt){tt=Object(tt);var st=-1,at=rt.length,nt=at>2?rt[2]:void 0;for(nt&&Ke(rt[0],rt[1],nt)&&(at=1);++st<at;)for(var it=rt[st],ot=Ye(it),lt=-1,ut=ot.length;++lt<ut;){var ft=ot[lt],ct=tt[ft];(ct===void 0||t(ct,Je[ft])&&!Xe.call(tt,ft))&&(tt[ft]=it[ft])}return tt});return defaults_1=et,defaults_1}var _baseIntersection,hasRequired_baseIntersection;function require_baseIntersection(){if(hasRequired_baseIntersection)return _baseIntersection;hasRequired_baseIntersection=1;var e=require_SetCache(),t=require_arrayIncludes(),Ke=require_arrayIncludesWith(),Ye=require_arrayMap(),Je=require_baseUnary(),Xe=require_cacheHas(),et=Math.min;function tt(rt,st,at){for(var nt=at?Ke:t,it=rt[0].length,ot=rt.length,lt=ot,ut=Array(ot),ft=1/0,ct=[];lt--;){var dt=rt[lt];lt&&st&&(dt=Ye(dt,Je(st))),ft=et(dt.length,ft),ut[lt]=!at&&(st||it>=120&&dt.length>=120)?new e(lt&&dt):void 0}dt=rt[0];var ht=-1,xt=ut[0];e:for(;++ht<it&&ct.length<ft;){var vt=dt[ht],bt=st?st(vt):vt;if(vt=at||vt!==0?vt:0,!(xt?Xe(xt,bt):nt(ct,bt,at))){for(lt=ot;--lt;){var _t=ut[lt];if(!(_t?Xe(_t,bt):nt(rt[lt],bt,at)))continue e}xt&&xt.push(bt),ct.push(vt)}}return ct}return _baseIntersection=tt,_baseIntersection}var isArrayLikeObject_1,hasRequiredIsArrayLikeObject;function requireIsArrayLikeObject(){if(hasRequiredIsArrayLikeObject)return isArrayLikeObject_1;hasRequiredIsArrayLikeObject=1;var e=requireIsArrayLike(),t=requireIsObjectLike();function Ke(Ye){return t(Ye)&&e(Ye)}return isArrayLikeObject_1=Ke,isArrayLikeObject_1}var _castArrayLikeObject,hasRequired_castArrayLikeObject;function require_castArrayLikeObject(){if(hasRequired_castArrayLikeObject)return _castArrayLikeObject;hasRequired_castArrayLikeObject=1;var e=requireIsArrayLikeObject();function t(Ke){return e(Ke)?Ke:[]}return _castArrayLikeObject=t,_castArrayLikeObject}var last_1,hasRequiredLast;function requireLast(){if(hasRequiredLast)return last_1;hasRequiredLast=1;function e(t){var Ke=t==null?0:t.length;return Ke?t[Ke-1]:void 0}return last_1=e,last_1}var intersectionWith_1,hasRequiredIntersectionWith;function requireIntersectionWith(){if(hasRequiredIntersectionWith)return intersectionWith_1;hasRequiredIntersectionWith=1;var e=require_arrayMap(),t=require_baseIntersection(),Ke=require_baseRest(),Ye=require_castArrayLikeObject(),Je=requireLast(),Xe=Ke(function(et){var tt=Je(et),rt=e(et,Ye);return tt=typeof tt=="function"?tt:void 0,tt&&rt.pop(),rt.length&&rt[0]===et[0]?t(rt,void 0,tt):[]});return intersectionWith_1=Xe,intersectionWith_1}var isPlainObject_1,hasRequiredIsPlainObject;function requireIsPlainObject(){if(hasRequiredIsPlainObject)return isPlainObject_1;hasRequiredIsPlainObject=1;var e=require_baseGetTag(),t=require_getPrototype(),Ke=requireIsObjectLike(),Ye="[object Object]",Je=Function.prototype,Xe=Object.prototype,et=Je.toString,tt=Xe.hasOwnProperty,rt=et.call(Object);function st(at){if(!Ke(at)||e(at)!=Ye)return!1;var nt=t(at);if(nt===null)return!0;var it=tt.call(nt,"constructor")&&nt.constructor;return typeof it=="function"&&it instanceof it&&et.call(it)==rt}return isPlainObject_1=st,isPlainObject_1}var isBoolean_1,hasRequiredIsBoolean;function requireIsBoolean(){if(hasRequiredIsBoolean)return isBoolean_1;hasRequiredIsBoolean=1;var e=require_baseGetTag(),t=requireIsObjectLike(),Ke="[object Boolean]";function Ye(Je){return Je===!0||Je===!1||t(Je)&&e(Je)==Ke}return isBoolean_1=Ye,isBoolean_1}var src$4,hasRequiredSrc$4;function requireSrc$4(){if(hasRequiredSrc$4)return src$4;hasRequiredSrc$4=1;var e=requireIsEqual(),t=requireSortBy(),Ke=requireUniq(),Ye=requireUniqWith(),Je=requireDefaults(),Xe=requireIntersectionWith(),et=requireIsPlainObject(),tt=requireIsBoolean(),rt=pt=>Array.isArray(pt)?pt:[pt],st=pt=>pt===void 0,at=pt=>et(pt)||Array.isArray(pt)?Object.keys(pt):[],nt=(pt,mt)=>pt.hasOwnProperty(mt),it=pt=>t(Ke(pt)),ot=pt=>st(pt)||Array.isArray(pt)&&pt.length===0,lt=(pt,mt,gt,St)=>mt&&nt(mt,gt)&&pt&&nt(pt,gt)&&St(pt[gt],mt[gt]),ut=(pt,mt)=>st(pt)&&mt===0||st(mt)&&pt===0||e(pt,mt),ft=(pt,mt)=>st(pt)&&mt===!1||st(mt)&&pt===!1||e(pt,mt),ct=pt=>st(pt)||e(pt,{})||pt===!0,dt=pt=>st(pt)||e(pt,{}),ht=pt=>st(pt)||et(pt)||pt===!0||pt===!1;function xt(pt,mt){return ot(pt)&&ot(mt)?!0:e(it(pt),it(mt))}function vt(pt,mt){return pt=rt(pt),mt=rt(mt),e(it(pt),it(mt))}function bt(pt,mt,gt,St){var wt=Ke(at(pt).concat(at(mt)));return dt(pt)&&dt(mt)?!0:dt(pt)&&at(mt).length||dt(mt)&&at(pt).length?!1:wt.every(function($t){var Tt=pt[$t],At=mt[$t];return Array.isArray(Tt)&&Array.isArray(At)?e(it(pt),it(mt)):Array.isArray(Tt)&&!Array.isArray(At)||Array.isArray(At)&&!Array.isArray(Tt)?!1:lt(pt,mt,$t,St)})}function _t(pt,mt,gt,St){return et(pt)&&et(mt)?St(pt,mt):Array.isArray(pt)&&Array.isArray(mt)?bt(pt,mt,gt,St):e(pt,mt)}function Ct(pt,mt,gt,St){var wt=Ye(pt,St),$t=Ye(mt,St),Tt=Xe(wt,$t,St);return Tt.length===Math.max(wt.length,$t.length)}var Rt={title:e,uniqueItems:ft,minLength:ut,minItems:ut,minProperties:ut,required:xt,enum:xt,type:vt,items:_t,anyOf:Ct,allOf:Ct,oneOf:Ct,properties:bt,patternProperties:bt,dependencies:bt},jt=["properties","patternProperties","dependencies","uniqueItems","minLength","minItems","minProperties","required"],yt=["additionalProperties","additionalItems","contains","propertyNames","not"];function Et(pt,mt,gt){if(gt=Je(gt,{ignore:[]}),ct(pt)&&ct(mt))return!0;if(!ht(pt)||!ht(mt))throw new Error("Either of the values are not a JSON schema.");if(pt===mt)return!0;if(tt(pt)&&tt(mt))return pt===mt;if(pt===void 0&&mt===!1||mt===void 0&&pt===!1||st(pt)&&!st(mt)||!st(pt)&&st(mt))return!1;var St=Ke(Object.keys(pt).concat(Object.keys(mt)));if(gt.ignore.length&&(St=St.filter($t=>gt.ignore.indexOf($t)===-1)),!St.length)return!0;function wt($t,Tt){return Et($t,Tt,gt)}return St.every(function($t){var Tt=pt[$t],At=mt[$t];if(yt.indexOf($t)!==-1)return Et(Tt,At,gt);var Dt=Rt[$t];if(Dt||(Dt=e),e(Tt,At))return!0;if(jt.indexOf($t)===-1&&(!nt(pt,$t)&&nt(mt,$t)||nt(pt,$t)&&!nt(mt,$t)))return Tt===At;var It=Dt(Tt,At,$t,wt);if(!tt(It))throw new Error("Comparer must return true or false");return It})}return src$4=Et,src$4}var lib$6,hasRequiredLib$6;function requireLib$6(){if(hasRequiredLib$6)return lib$6;hasRequiredLib$6=1;function e(t){return Object.prototype.toString.call(t)==="[object Array]"}return lib$6=Array.isArray||e,lib$6}var lib$5,hasRequiredLib$5;function requireLib$5(){if(hasRequiredLib$5)return lib$5;hasRequiredLib$5=1;function e(t){return(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")&&t.valueOf()===t.valueOf()}return lib$5=e,lib$5}var lib$4,hasRequiredLib$4;function requireLib$4(){if(hasRequiredLib$4)return lib$4;hasRequiredLib$4=1;var e=requireLib$5();function t(Ke){return e(Ke)&&Ke%1===0}return lib$4=t,lib$4}var lib$3,hasRequiredLib$3;function requireLib$3(){if(hasRequiredLib$3)return lib$3;hasRequiredLib$3=1;var e=requireLib$6(),t=requireLib$4();function Ke(Ye){var Je;if(!e(Ye)||(Je=Ye.length,!Je))return!1;for(var Xe=0;Xe<Je;Xe++)if(!t(Ye[Xe]))return!1;return!0}return lib$3=Ke,lib$3}var lib$2,hasRequiredLib$2;function requireLib$2(){if(hasRequiredLib$2)return lib$2;hasRequiredLib$2=1;function e(t){return typeof t=="function"}return lib$2=e,lib$2}var lib$1,hasRequiredLib$1;function requireLib$1(){if(hasRequiredLib$1)return lib$1;hasRequiredLib$1=1;var e=requireLib$6(),t=requireLib$3(),Ke=requireLib$2(),Ye=Math.pow(2,31)-1;function Je(tt,rt){var st=1,at;if(tt===0)return rt;if(rt===0)return tt;for(;tt%2===0&&rt%2===0;)tt=tt/2,rt=rt/2,st=st*2;for(;tt%2===0;)tt=tt/2;for(;rt;){for(;rt%2===0;)rt=rt/2;tt>rt&&(at=rt,rt=tt,tt=at),rt=rt-tt}return st*tt}function Xe(tt,rt){var st=0,at;if(tt===0)return rt;if(rt===0)return tt;for(;(tt&1)===0&&(rt&1)===0;)tt>>>=1,rt>>>=1,st++;for(;(tt&1)===0;)tt>>>=1;for(;rt;){for(;(rt&1)===0;)rt>>>=1;tt>rt&&(at=rt,rt=tt,tt=at),rt=rt-tt}return tt<<st}function et(){var tt=arguments.length,rt,st,at,nt,it,ot,lt;for(rt=new Array(tt),lt=0;lt<tt;lt++)rt[lt]=arguments[lt];if(t(rt)){if(tt===2)return it=rt[0],ot=rt[1],it<0&&(it=-it),ot<0&&(ot=-ot),it<=Ye&&ot<=Ye?Xe(it,ot):Je(it,ot);at=rt}else if(e(rt[0]))if(tt>1){if(at=rt[0],st=rt[1],!Ke(st))throw new TypeError("gcd()::invalid input argument. Accessor must be a function. Value: `"+st+"`.")}else at=rt[0];else throw new TypeError("gcd()::invalid input argument. Must provide an array of integers. Value: `"+rt[0]+"`.");if(nt=at.length,nt<2)return null;if(st){for(it=new Array(nt),lt=0;lt<nt;lt++)it[lt]=st(at[lt],lt);at=it}if(tt<3&&!t(at))throw new TypeError("gcd()::invalid input argument. Accessed array values must be integers. Value: `"+at+"`.");for(lt=0;lt<nt;lt++)it=at[lt],it<0&&(at[lt]=-it);for(it=at[0],lt=1;lt<nt;lt++)ot=at[lt],ot<=Ye&&it<=Ye?it=Xe(it,ot):it=Je(it,ot);return it}return lib$1=et,lib$1}var lib,hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib;hasRequiredLib=1;var e=requireLib$1(),t=requireLib$6(),Ke=requireLib$3(),Ye=requireLib$2();function Je(){var Xe=arguments.length,et,tt,rt,st,at,nt,it;for(et=new Array(Xe),it=0;it<Xe;it++)et[it]=arguments[it];if(Ke(et)){if(Xe===2)return at=et[0],nt=et[1],at<0&&(at=-at),nt<0&&(nt=-nt),at===0||nt===0?0:at/e(at,nt)*nt;rt=et}else if(t(et[0]))if(Xe>1){if(rt=et[0],tt=et[1],!Ye(tt))throw new TypeError("lcm()::invalid input argument. Accessor must be a function. Value: `"+tt+"`.")}else rt=et[0];else throw new TypeError("lcm()::invalid input argument. Must provide an array of integers. Value: `"+et[0]+"`.");if(st=rt.length,st<2)return null;if(tt){for(at=new Array(st),it=0;it<st;it++)at[it]=tt(rt[it],it);rt=at}if(Xe<3&&!Ke(rt))throw new TypeError("lcm()::invalid input argument. Accessed array values must be integers. Value: `"+rt+"`.");for(it=0;it<st;it++)at=rt[it],at<0&&(rt[it]=-at);for(at=rt[0],it=1;it<st;it++){if(nt=rt[it],at===0||nt===0)return 0;at=at/e(at,nt)*nt}return at}return lib=Je,lib}var _assignMergeValue,hasRequired_assignMergeValue;function require_assignMergeValue(){if(hasRequired_assignMergeValue)return _assignMergeValue;hasRequired_assignMergeValue=1;var e=require_baseAssignValue(),t=requireEq();function Ke(Ye,Je,Xe){(Xe!==void 0&&!t(Ye[Je],Xe)||Xe===void 0&&!(Je in Ye))&&e(Ye,Je,Xe)}return _assignMergeValue=Ke,_assignMergeValue}var _safeGet,hasRequired_safeGet;function require_safeGet(){if(hasRequired_safeGet)return _safeGet;hasRequired_safeGet=1;function e(t,Ke){if(!(Ke==="constructor"&&typeof t[Ke]=="function")&&Ke!="__proto__")return t[Ke]}return _safeGet=e,_safeGet}var toPlainObject_1,hasRequiredToPlainObject;function requireToPlainObject(){if(hasRequiredToPlainObject)return toPlainObject_1;hasRequiredToPlainObject=1;var e=require_copyObject(),t=requireKeysIn();function Ke(Ye){return e(Ye,t(Ye))}return toPlainObject_1=Ke,toPlainObject_1}var _baseMergeDeep,hasRequired_baseMergeDeep;function require_baseMergeDeep(){if(hasRequired_baseMergeDeep)return _baseMergeDeep;hasRequired_baseMergeDeep=1;var e=require_assignMergeValue(),t=require_cloneBuffer(),Ke=require_cloneTypedArray(),Ye=require_copyArray(),Je=require_initCloneObject(),Xe=requireIsArguments(),et=requireIsArray(),tt=requireIsArrayLikeObject(),rt=requireIsBuffer(),st=requireIsFunction(),at=requireIsObject(),nt=requireIsPlainObject(),it=requireIsTypedArray(),ot=require_safeGet(),lt=requireToPlainObject();function ut(ft,ct,dt,ht,xt,vt,bt){var _t=ot(ft,dt),Ct=ot(ct,dt),Rt=bt.get(Ct);if(Rt){e(ft,dt,Rt);return}var jt=vt?vt(_t,Ct,dt+"",ft,ct,bt):void 0,yt=jt===void 0;if(yt){var Et=et(Ct),pt=!Et&&rt(Ct),mt=!Et&&!pt&&it(Ct);jt=Ct,Et||pt||mt?et(_t)?jt=_t:tt(_t)?jt=Ye(_t):pt?(yt=!1,jt=t(Ct,!0)):mt?(yt=!1,jt=Ke(Ct,!0)):jt=[]:nt(Ct)||Xe(Ct)?(jt=_t,Xe(_t)?jt=lt(_t):(!at(_t)||st(_t))&&(jt=Je(Ct))):yt=!1}yt&&(bt.set(Ct,jt),xt(jt,Ct,ht,vt,bt),bt.delete(Ct)),e(ft,dt,jt)}return _baseMergeDeep=ut,_baseMergeDeep}var _baseMerge,hasRequired_baseMerge;function require_baseMerge(){if(hasRequired_baseMerge)return _baseMerge;hasRequired_baseMerge=1;var e=require_Stack(),t=require_assignMergeValue(),Ke=require_baseFor(),Ye=require_baseMergeDeep(),Je=requireIsObject(),Xe=requireKeysIn(),et=require_safeGet();function tt(rt,st,at,nt,it){rt!==st&&Ke(st,function(ot,lt){if(it||(it=new e),Je(ot))Ye(rt,st,lt,at,tt,nt,it);else{var ut=nt?nt(et(rt,lt),ot,lt+"",rt,st,it):void 0;ut===void 0&&(ut=ot),t(rt,lt,ut)}},Xe)}return _baseMerge=tt,_baseMerge}var _customDefaultsMerge,hasRequired_customDefaultsMerge;function require_customDefaultsMerge(){if(hasRequired_customDefaultsMerge)return _customDefaultsMerge;hasRequired_customDefaultsMerge=1;var e=require_baseMerge(),t=requireIsObject();function Ke(Ye,Je,Xe,et,tt,rt){return t(Ye)&&t(Je)&&(rt.set(Je,Ye),e(Ye,Je,void 0,Ke,rt),rt.delete(Je)),Ye}return _customDefaultsMerge=Ke,_customDefaultsMerge}var _createAssigner,hasRequired_createAssigner;function require_createAssigner(){if(hasRequired_createAssigner)return _createAssigner;hasRequired_createAssigner=1;var e=require_baseRest(),t=require_isIterateeCall();function Ke(Ye){return e(function(Je,Xe){var et=-1,tt=Xe.length,rt=tt>1?Xe[tt-1]:void 0,st=tt>2?Xe[2]:void 0;for(rt=Ye.length>3&&typeof rt=="function"?(tt--,rt):void 0,st&&t(Xe[0],Xe[1],st)&&(rt=tt<3?void 0:rt,tt=1),Je=Object(Je);++et<tt;){var at=Xe[et];at&&Ye(Je,at,et,rt)}return Je})}return _createAssigner=Ke,_createAssigner}var mergeWith_1,hasRequiredMergeWith;function requireMergeWith(){if(hasRequiredMergeWith)return mergeWith_1;hasRequiredMergeWith=1;var e=require_baseMerge(),t=require_createAssigner(),Ke=t(function(Ye,Je,Xe,et){e(Ye,Je,Xe,et)});return mergeWith_1=Ke,mergeWith_1}var defaultsDeep_1,hasRequiredDefaultsDeep;function requireDefaultsDeep(){if(hasRequiredDefaultsDeep)return defaultsDeep_1;hasRequiredDefaultsDeep=1;var e=require_apply(),t=require_baseRest(),Ke=require_customDefaultsMerge(),Ye=requireMergeWith(),Je=t(function(Xe){return Xe.push(void 0,Ke),e(Ye,void 0,Xe)});return defaultsDeep_1=Je,defaultsDeep_1}var flatten_1,hasRequiredFlatten;function requireFlatten(){if(hasRequiredFlatten)return flatten_1;hasRequiredFlatten=1;var e=require_baseFlatten();function t(Ke){var Ye=Ke==null?0:Ke.length;return Ye?e(Ke,1):[]}return flatten_1=t,flatten_1}var flattenDeep_1,hasRequiredFlattenDeep;function requireFlattenDeep(){if(hasRequiredFlattenDeep)return flattenDeep_1;hasRequiredFlattenDeep=1;var e=require_baseFlatten(),t=1/0;function Ke(Ye){var Je=Ye==null?0:Ye.length;return Je?e(Ye,t):[]}return flattenDeep_1=Ke,flattenDeep_1}var intersection_1,hasRequiredIntersection;function requireIntersection(){if(hasRequiredIntersection)return intersection_1;hasRequiredIntersection=1;var e=require_arrayMap(),t=require_baseIntersection(),Ke=require_baseRest(),Ye=require_castArrayLikeObject(),Je=Ke(function(Xe){var et=e(Xe,Ye);return et.length&&et[0]===Xe[0]?t(et):[]});return intersection_1=Je,intersection_1}var _baseIndexOfWith,hasRequired_baseIndexOfWith;function require_baseIndexOfWith(){if(hasRequired_baseIndexOfWith)return _baseIndexOfWith;hasRequired_baseIndexOfWith=1;function e(t,Ke,Ye,Je){for(var Xe=Ye-1,et=t.length;++Xe<et;)if(Je(t[Xe],Ke))return Xe;return-1}return _baseIndexOfWith=e,_baseIndexOfWith}var _basePullAll,hasRequired_basePullAll;function require_basePullAll(){if(hasRequired_basePullAll)return _basePullAll;hasRequired_basePullAll=1;var e=require_arrayMap(),t=require_baseIndexOf(),Ke=require_baseIndexOfWith(),Ye=require_baseUnary(),Je=require_copyArray(),Xe=Array.prototype,et=Xe.splice;function tt(rt,st,at,nt){var it=nt?Ke:t,ot=-1,lt=st.length,ut=rt;for(rt===st&&(st=Je(st)),at&&(ut=e(rt,Ye(at)));++ot<lt;)for(var ft=0,ct=st[ot],dt=at?at(ct):ct;(ft=it(ut,dt,ft,nt))>-1;)ut!==rt&&et.call(ut,ft,1),et.call(rt,ft,1);return rt}return _basePullAll=tt,_basePullAll}var pullAll_1,hasRequiredPullAll;function requirePullAll(){if(hasRequiredPullAll)return pullAll_1;hasRequiredPullAll=1;var e=require_basePullAll();function t(Ke,Ye){return Ke&&Ke.length&&Ye&&Ye.length?e(Ke,Ye):Ke}return pullAll_1=t,pullAll_1}var _castFunction,hasRequired_castFunction;function require_castFunction(){if(hasRequired_castFunction)return _castFunction;hasRequired_castFunction=1;var e=requireIdentity();function t(Ke){return typeof Ke=="function"?Ke:e}return _castFunction=t,_castFunction}var forEach_1,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach_1;hasRequiredForEach=1;var e=require_arrayEach(),t=require_baseEach(),Ke=require_castFunction(),Ye=requireIsArray();function Je(Xe,et){var tt=Ye(Xe)?e:t;return tt(Xe,Ke(et))}return forEach_1=Je,forEach_1}var _baseDifference,hasRequired_baseDifference;function require_baseDifference(){if(hasRequired_baseDifference)return _baseDifference;hasRequired_baseDifference=1;var e=require_SetCache(),t=require_arrayIncludes(),Ke=require_arrayIncludesWith(),Ye=require_arrayMap(),Je=require_baseUnary(),Xe=require_cacheHas(),et=200;function tt(rt,st,at,nt){var it=-1,ot=t,lt=!0,ut=rt.length,ft=[],ct=st.length;if(!ut)return ft;at&&(st=Ye(st,Je(at))),nt?(ot=Ke,lt=!1):st.length>=et&&(ot=Xe,lt=!1,st=new e(st));e:for(;++it<ut;){var dt=rt[it],ht=at==null?dt:at(dt);if(dt=nt||dt!==0?dt:0,lt&&ht===ht){for(var xt=ct;xt--;)if(st[xt]===ht)continue e;ft.push(dt)}else ot(st,ht,nt)||ft.push(dt)}return ft}return _baseDifference=tt,_baseDifference}var without_1,hasRequiredWithout;function requireWithout(){if(hasRequiredWithout)return without_1;hasRequiredWithout=1;var e=require_baseDifference(),t=require_baseRest(),Ke=requireIsArrayLikeObject(),Ye=t(function(Je,Xe){return Ke(Je)?e(Je,Xe):[]});return without_1=Ye,without_1}var common,hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common;hasRequiredCommon$1=1;const e=requireFlatten(),t=requireFlattenDeep(),Ke=requireIsPlainObject(),Ye=requireUniq(),Je=requireUniqWith(),Xe=requireWithout();function et(ut){for(const ft in ut)st(ut,ft)&&ot(ut[ft])&&delete ut[ft];return ut}const tt=ut=>Ye(t(ut.map(at))),rt=(ut,ft)=>ut.map(ct=>ct&&ct[ft]),st=(ut,ft)=>Object.prototype.hasOwnProperty.call(ut,ft),at=ut=>Ke(ut)||Array.isArray(ut)?Object.keys(ut):[],nt=ut=>ut!==void 0,it=ut=>Ke(ut)||ut===!0||ut===!1,ot=ut=>!at(ut).length&&ut!==!1&&ut!==!0;return common={allUniqueKeys:tt,deleteUndefinedProps:et,getValues:rt,has:st,isEmptySchema:ot,isSchema:it,keys:at,notUndefined:nt,uniqWith:Je,withoutArr:(ut,...ft)=>Xe.apply(null,[ut].concat(e(ft)))},common}var properties,hasRequiredProperties;function requireProperties(){if(hasRequiredProperties)return properties;hasRequiredProperties=1;const e=requireSrc$4(),t=requireForEach(),{allUniqueKeys:Ke,deleteUndefinedProps:Ye,getValues:Je,keys:Xe,notUndefined:et,uniqWith:tt,withoutArr:rt}=requireCommon$1();function st(nt){t(nt,function(it,ot){it===!1&&delete nt[ot]})}function at(nt,it){return Ke(nt).reduce(function(lt,ut){const ft=Je(nt,ut),ct=tt(ft.filter(et),e);return lt[ut]=it(ct,ut),lt},{})}return properties={keywords:["properties","patternProperties","additionalProperties"],resolver(nt,it,ot,lt){lt.ignoreAdditionalProperties||(nt.forEach(function(ft){const ct=nt.filter(vt=>vt!==ft),dt=Xe(ft.properties),xt=Xe(ft.patternProperties).map(vt=>new RegExp(vt));ct.forEach(function(vt){const bt=Xe(vt.properties),_t=bt.filter(Rt=>xt.some(jt=>jt.test(Rt)));rt(bt,dt,_t).forEach(function(Rt){vt.properties[Rt]=ot.properties([vt.properties[Rt],ft.additionalProperties],Rt)})})}),nt.forEach(function(ft){const ct=nt.filter(ht=>ht!==ft),dt=Xe(ft.patternProperties);ft.additionalProperties===!1&&ct.forEach(function(ht){const xt=Xe(ht.patternProperties);rt(xt,dt).forEach(bt=>delete ht.patternProperties[bt])})}));const ut={additionalProperties:ot.additionalProperties(nt.map(ft=>ft.additionalProperties)),patternProperties:at(nt.map(ft=>ft.patternProperties),ot.patternProperties),properties:at(nt.map(ft=>ft.properties),ot.properties)};return ut.additionalProperties===!1&&st(ut.properties),Ye(ut)}},properties}var items,hasRequiredItems;function requireItems(){if(hasRequiredItems)return items;hasRequiredItems=1;const e=requireSrc$4(),t=requireForEach(),{allUniqueKeys:Ke,deleteUndefinedProps:Ye,has:Je,isSchema:Xe,notUndefined:et,uniqWith:tt}=requireCommon$1();function rt(it){t(it,function(ot,lt){ot===!1&&it.splice(lt,1)})}function st(it,ot){return it.map(function(lt){if(lt)if(Array.isArray(lt.items)){const ut=lt.items[ot];if(Xe(ut))return ut;if(Je(lt,"additionalItems"))return lt.additionalItems}else return lt.items})}function at(it){return it.map(function(ot){if(ot)return Array.isArray(ot.items)?ot.additionalItems:ot.items})}function nt(it,ot,lt){return Ke(lt).reduce(function(ft,ct){const dt=st(it,ct),ht=tt(dt.filter(et),e);return ft[ct]=ot(ht,ct),ft},[])}return items={keywords:["items","additionalItems"],resolver(it,ot,lt){const ut=it.map(ht=>ht.items),ft=ut.filter(et),ct={};ft.every(Xe)?ct.items=lt.items(ut):ct.items=nt(it,lt.items,ut);let dt;return ft.every(Array.isArray)?dt=it.map(ht=>ht.additionalItems):ft.some(Array.isArray)&&(dt=at(it)),dt&&(ct.additionalItems=lt.additionalItems(dt)),ct.additionalItems===!1&&Array.isArray(ct.items)&&rt(ct.items),Ye(ct)}},items}var src$3,hasRequiredSrc$3;function requireSrc$3(){if(hasRequiredSrc$3)return src$3;hasRequiredSrc$3=1;const e=requireCloneDeep(),t=requireSrc$4(),Ke=requireLib(),Ye=requireDefaultsDeep(),Je=requireFlatten(),Xe=requireFlattenDeep(),et=requireIntersection(),tt=requireIntersectionWith(),rt=requireIsEqual(),st=requireIsPlainObject(),at=requirePullAll(),nt=requireSortBy(),it=requireUniq(),ot=requireUniqWith(),lt=requireProperties(),ut=requireItems(),ft=(Nt,Pt)=>Nt.indexOf(Pt)!==-1,ct=Nt=>st(Nt)||Nt===!0||Nt===!1,dt=Nt=>Nt===!1,ht=Nt=>Nt===!0,xt=(Nt,Pt,Ft)=>Ft(Nt),vt=Nt=>nt(it(Xe(Nt))),bt=Nt=>Nt!==void 0,_t=Nt=>it(Xe(Nt.map($t))),Ct=Nt=>Nt[0],Rt=Nt=>vt(Nt),jt=Nt=>Math.max.apply(Math,Nt),yt=Nt=>Math.min.apply(Math,Nt),Et=Nt=>Nt.some(ht),pt=Nt=>ot(Je(Nt),rt);function mt(Nt){return function(Pt,Ft){return t({[Nt]:Pt},{[Nt]:Ft})}}function gt(Nt){let{allOf:Pt=[],...Ft}=Nt;return Ft=st(Nt)?Ft:Nt,[Ft,...Pt.map(gt)]}function St(Nt,Pt){return Nt.map(Ft=>Ft&&Ft[Pt])}function wt(Nt,Pt){return Nt.map(function(Ft,Ut){try{return Pt(Ft,Ut)}catch{return}}).filter(bt)}function $t(Nt){return st(Nt)||Array.isArray(Nt)?Object.keys(Nt):[]}function Tt(Nt,Pt){if(Pt=Pt||[],!Nt.length)return Pt;const Ft=Nt.slice(0).shift(),Ut=Nt.slice(1);return Pt.length?Tt(Ut,Je(Pt.map(Ht=>Ft.map(Zt=>[Zt].concat(Ht))))):Tt(Ut,Ft.map(Ht=>Ht))}function At(Nt,Pt){let Ft;try{Ft=Nt.map(function(Ut){return JSON.stringify(Ut,null,2)}).join(`
`)}catch{Ft=Nt.join(", ")}throw new Error('Could not resolve values for path:"'+Pt.join(".")+`". They are probably incompatible. Values: 
`+Ft)}function Dt(Nt,Pt,Ft,Ut,Ht,Zt){if(Nt.length){const Jt=Ht.complexResolvers[Pt];if(!Jt||!Jt.resolver)throw new Error("No resolver found for "+Pt);const zt=Ft.map(dr=>Nt.reduce((fr,nr)=>(dr[nr]!==void 0&&(fr[nr]=dr[nr]),fr),{})),Yt=ot(zt,t),tr=Jt.keywords.reduce((dr,fr)=>({...dr,[fr]:(nr,cr=[])=>Ut(nr,null,Zt.concat(fr,cr))}),{}),rr=Jt.resolver(Yt,Zt.concat(Pt),tr,Ht);return st(rr)||At(Yt,Zt.concat(Pt)),rr}}function It(Nt){return{required:Nt}}const Ot=["properties","patternProperties","definitions","dependencies"],Mt=["anyOf","oneOf"],Kt=["additionalProperties","additionalItems","contains","propertyNames","not","items"],qt={type(Nt){if(Nt.some(Array.isArray)){const Pt=Nt.map(function(Ut){return Array.isArray(Ut)?Ut:[Ut]}),Ft=et.apply(null,Pt);if(Ft.length===1)return Ft[0];if(Ft.length>1)return it(Ft)}},dependencies(Nt,Pt,Ft){return _t(Nt).reduce(function(Ht,Zt){const Jt=St(Nt,Zt);let zt=ot(Jt.filter(bt),rt);const Yt=zt.filter(Array.isArray);if(Yt.length){if(Yt.length===zt.length)Ht[Zt]=vt(zt);else{const tr=zt.filter(ct),rr=Yt.map(It);Ht[Zt]=Ft(tr.concat(rr),Zt)}return Ht}return zt=ot(zt,t),Ht[Zt]=Ft(zt,Zt),Ht},{})},oneOf(Nt,Pt,Ft){const Ut=Tt(e(Nt)),Ht=wt(Ut,Ft),Zt=ot(Ht,t);if(Zt.length)return Zt},not(Nt){return{anyOf:Nt}},pattern(Nt){return Nt.map(Pt=>"(?="+Pt+")").join("")},multipleOf(Nt){let Pt=Nt.slice(0),Ft=1;for(;Pt.some(Ut=>!Number.isInteger(Ut));)Pt=Pt.map(Ut=>Ut*10),Ft=Ft*10;return Ke(Pt)/Ft},enum(Nt){const Pt=tt.apply(null,Nt.concat(rt));if(Pt.length)return nt(Pt)}};qt.$id=Ct,qt.$ref=Ct,qt.$schema=Ct,qt.additionalItems=xt,qt.additionalProperties=xt,qt.anyOf=qt.oneOf,qt.contains=xt,qt.default=Ct,qt.definitions=qt.dependencies,qt.description=Ct,qt.examples=pt,qt.exclusiveMaximum=yt,qt.exclusiveMinimum=jt,qt.items=ut,qt.maximum=yt,qt.maxItems=yt,qt.maxLength=yt,qt.maxProperties=yt,qt.minimum=jt,qt.minItems=jt,qt.minLength=jt,qt.minProperties=jt,qt.properties=lt,qt.propertyNames=xt,qt.required=Rt,qt.title=Ct,qt.uniqueItems=Et;const Bt={properties:lt,items:ut};function kt(Nt,Pt,Ft){Pt=Ye(Pt,{ignoreAdditionalProperties:!1,resolvers:qt,complexResolvers:Bt,deep:!0});const Ut=Object.entries(Pt.complexResolvers);function Ht(zt,Yt,tr){zt=e(zt.filter(bt)),tr=tr||[];const rr=st(Yt)?Yt:{};if(!zt.length)return;if(zt.some(dt))return!1;if(zt.every(ht))return!0;zt=zt.filter(st);const dr=_t(zt);if(Pt.deep&&ft(dr,"allOf"))return kt({allOf:zt},Pt);const fr=Ut.map(([nr,cr])=>dr.filter(ur=>cr.keywords.includes(ur)));return fr.forEach(nr=>at(dr,nr)),dr.forEach(function(nr){const cr=St(zt,nr),ur=ot(cr.filter(bt),mt(nr));if(ur.length===1&&ft(Mt,nr))rr[nr]=ur[0].map(or=>Ht([or],or));else if(ur.length===1&&!ft(Ot,nr)&&!ft(Kt,nr))rr[nr]=ur[0];else{const or=Pt.resolvers[nr]||Pt.resolvers.defaultResolver;if(!or)throw new Error("No resolver found for key "+nr+". You can provide a resolver for this keyword in the options, or provide a default resolver.");const gr=(xr,pr=[])=>Ht(xr,null,tr.concat(nr,pr));rr[nr]=or(ur,tr.concat(nr),gr,Pt),rr[nr]===void 0?At(ur,tr.concat(nr)):rr[nr]===void 0&&delete rr[nr]}}),Ut.reduce((nr,[cr,ur],or)=>({...nr,...Dt(fr[or],cr,zt,Ht,Pt,tr)}),rr)}const Zt=Xe(gt(Nt));return Ht(Zt)}return kt.options={resolvers:qt},src$3=kt,src$3}var srcExports$2=requireSrc$3();const mergeAllOf=getDefaultExportFromCjs(srcExports$2);var jsonpointer$1={},hasRequiredJsonpointer;function requireJsonpointer(){if(hasRequiredJsonpointer)return jsonpointer$1;hasRequiredJsonpointer=1;var e=/~/,t=/~[01]/g;function Ke(st){switch(st){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+st)}function Ye(st){return e.test(st)?st.replace(t,Ke):st}function Je(st,at,nt){for(var it,ot,lt=1,ut=at.length;lt<ut;){if(at[lt]==="constructor"||at[lt]==="prototype"||at[lt]==="__proto__")return st;if(it=Ye(at[lt++]),ot=ut>lt,typeof st[it]>"u"&&(Array.isArray(st)&&it==="-"&&(it=st.length),ot&&(at[lt]!==""&&at[lt]<1/0||at[lt]==="-"?st[it]=[]:st[it]={})),!ot)break;st=st[it]}var ft=st[it];return nt===void 0?delete st[it]:st[it]=nt,ft}function Xe(st){if(typeof st=="string"){if(st=st.split("/"),st[0]==="")return st;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(st)){for(const at of st)if(typeof at!="string"&&typeof at!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return st}throw new Error("Invalid JSON pointer.")}function et(st,at){if(typeof st!="object")throw new Error("Invalid input object.");at=Xe(at);var nt=at.length;if(nt===1)return st;for(var it=1;it<nt;){if(st=st[Ye(at[it++])],nt===it)return st;if(typeof st!="object"||st===null)return}}function tt(st,at,nt){if(typeof st!="object")throw new Error("Invalid input object.");if(at=Xe(at),at.length===0)throw new Error("Invalid JSON pointer for set.");return Je(st,at,nt)}function rt(st){var at=Xe(st);return{get:function(nt){return et(nt,at)},set:function(nt,it){return tt(nt,at,it)}}}return jsonpointer$1.get=et,jsonpointer$1.set=tt,jsonpointer$1.compile=rt,jsonpointer$1}var jsonpointerExports=requireJsonpointer();const jsonpointer=getDefaultExportFromCjs(jsonpointerExports);function baseAssign(e,t){return e&&copyObject(t,keys(t),e)}function baseAssignIn(e,t){return e&&copyObject(t,keysIn(t),e)}function copySymbols(e,t){return copyObject(e,getSymbols(e),t)}var nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols?function(e){for(var t=[];e;)arrayPush(t,getSymbols(e)),e=getPrototype(e);return t}:stubArray;function copySymbolsIn(e,t){return copyObject(e,getSymbolsIn(e),t)}function getAllKeysIn(e){return baseGetAllKeys(e,keysIn,getSymbolsIn)}var objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function initCloneArray(e){var t=e.length,Ke=new e.constructor(t);return t&&typeof e[0]=="string"&&hasOwnProperty$1.call(e,"index")&&(Ke.index=e.index,Ke.input=e.input),Ke}function cloneDataView(e,t){var Ke=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(Ke,e.byteOffset,e.byteLength)}var reFlags=/\w*$/;function cloneRegExp(e){var t=new e.constructor(e.source,reFlags.exec(e));return t.lastIndex=e.lastIndex,t}var symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function cloneSymbol(e){return symbolValueOf?Object(symbolValueOf.call(e)):{}}var boolTag$1="[object Boolean]",dateTag$1="[object Date]",mapTag$3="[object Map]",numberTag$2="[object Number]",regexpTag$1="[object RegExp]",setTag$3="[object Set]",stringTag$2="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(e,t,Ke){var Ye=e.constructor;switch(t){case arrayBufferTag$1:return cloneArrayBuffer(e);case boolTag$1:case dateTag$1:return new Ye(+e);case dataViewTag$1:return cloneDataView(e,Ke);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(e,Ke);case mapTag$3:return new Ye;case numberTag$2:case stringTag$2:return new Ye(e);case regexpTag$1:return cloneRegExp(e);case setTag$3:return new Ye;case symbolTag$1:return cloneSymbol(e)}}var mapTag$2="[object Map]";function baseIsMap(e){return isObjectLike(e)&&getTag(e)==mapTag$2}var nodeIsMap=nodeUtil&&nodeUtil.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap,setTag$2="[object Set]";function baseIsSet(e){return isObjectLike(e)&&getTag(e)==setTag$2}var nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,CLONE_DEEP_FLAG$2=1,CLONE_FLAT_FLAG$1=2,CLONE_SYMBOLS_FLAG$2=4,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag$1="[object Map]",numberTag$1="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag$1]=cloneableTags[numberTag$1]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag$1]=cloneableTags[stringTag$1]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone(e,t,Ke,Ye,Je,Xe){var et,tt=t&CLONE_DEEP_FLAG$2,rt=t&CLONE_FLAT_FLAG$1,st=t&CLONE_SYMBOLS_FLAG$2;if(Ke&&(et=Je?Ke(e,Ye,Je,Xe):Ke(e)),et!==void 0)return et;if(!isObject(e))return e;var at=isArray(e);if(at){if(et=initCloneArray(e),!tt)return copyArray(e,et)}else{var nt=getTag(e),it=nt==funcTag||nt==genTag;if(isBuffer$1(e))return cloneBuffer(e,tt);if(nt==objectTag||nt==argsTag||it&&!Je){if(et=rt||it?{}:initCloneObject(e),!tt)return rt?copySymbolsIn(e,baseAssignIn(et,e)):copySymbols(e,baseAssign(et,e))}else{if(!cloneableTags[nt])return Je?e:{};et=initCloneByTag(e,nt,tt)}}Xe||(Xe=new Stack);var ot=Xe.get(e);if(ot)return ot;Xe.set(e,et),isSet(e)?e.forEach(function(ft){et.add(baseClone(ft,t,Ke,ft,e,Xe))}):isMap(e)&&e.forEach(function(ft,ct){et.set(ct,baseClone(ft,t,Ke,ct,e,Xe))});var lt=st?rt?getAllKeysIn:getAllKeys:rt?keysIn:keys,ut=at?void 0:lt(e);return arrayEach(ut||e,function(ft,ct){ut&&(ct=ft,ft=e[ct]),assignValue(et,ct,baseClone(ft,t,Ke,ct,e,Xe))}),et}function last(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function baseSlice(e,t,Ke){var Ye=-1,Je=e.length;t<0&&(t=-t>Je?0:Je+t),Ke=Ke>Je?Je:Ke,Ke<0&&(Ke+=Je),Je=t>Ke?0:Ke-t>>>0,t>>>=0;for(var Xe=Array(Je);++Ye<Je;)Xe[Ye]=e[Ye+t];return Xe}function parent(e,t){return t.length<2?e:baseGet(e,baseSlice(t,0,-1))}function baseUnset(e,t){return t=castPath(t,e),e=parent(e,t),e==null||delete e[toKey(last(t))]}function customOmitClone(e){return isPlainObject(e)?void 0:e}function flatten(e){var t=e==null?0:e.length;return t?baseFlatten(e,1):[]}function flatRest(e){return setToString(overRest(e,void 0,flatten),e+"")}var CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$1=4,omit=flatRest(function(e,t){var Ke={};if(e==null)return Ke;var Ye=!1;t=arrayMap(t,function(Xe){return Xe=castPath(Xe,e),Ye||(Ye=Xe.length>1),Xe}),copyObject(e,getAllKeysIn(e),Ke),Ye&&(Ke=baseClone(Ke,CLONE_DEEP_FLAG$1|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG$1,customOmitClone));for(var Je=t.length;Je--;)baseUnset(Ke,t[Je]);return Ke}),mapTag="[object Map]",setTag="[object Set]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function isEmpty(e){if(e==null)return!0;if(isArrayLike(e)&&(isArray(e)||typeof e=="string"||typeof e.splice=="function"||isBuffer$1(e)||isTypedArray(e)||isArguments(e)))return!e.length;var t=getTag(e);if(t==mapTag||t==setTag)return!e.size;if(isPrototype(e))return!baseKeys(e).length;for(var Ke in e)if(hasOwnProperty.call(e,Ke))return!1;return!0}var fastUriExports=requireFastUri();const UriResolver=getDefaultExportFromCjs(fastUriExports);function findEmbeddedSchemaRecursive(e,t){if(ID_KEY in e&&UriResolver.equal(e[ID_KEY],t))return e;for(const Ke of Object.values(e))if(Array.isArray(Ke)){for(const Ye of Ke)if(isObject(Ye)){const Je=findEmbeddedSchemaRecursive(Ye,t);if(Je!==void 0)return Je}}else if(isObject(Ke)){const Ye=findEmbeddedSchemaRecursive(Ke,t);if(Ye!==void 0)return Ye}}function makeAllReferencesAbsolute(e,t){const Ke=get(e,ID_KEY,t);REF_KEY in e&&(e={...e,[REF_KEY]:UriResolver.resolve(Ke,e[REF_KEY])});for(const[Ye,Je]of Object.entries(e))Array.isArray(Je)?e={...e,[Ye]:Je.map(Xe=>isObject(Xe)?makeAllReferencesAbsolute(Xe,Ke):Xe)}:isObject(Je)&&(e={...e,[Ye]:makeAllReferencesAbsolute(Je,Ke)});return e}function splitKeyElementFromObject(e,t){const Ke=t[e];return[omit(t,[e]),Ke]}function findSchemaDefinitionRecursive(e,t={},Ke=[],Ye=get(t,[ID_KEY])){const Je=e||"";let Xe;if(Je.startsWith("#")){const tt=decodeURIComponent(Je.substring(1));Ye===void 0||ID_KEY in t&&t[ID_KEY]===Ye?Xe=jsonpointer.get(t,tt):t[SCHEMA_KEY]===JSON_SCHEMA_DRAFT_2020_12&&(Xe=findEmbeddedSchemaRecursive(t,Ye.replace(/\/$/,"")),Xe!==void 0&&(Xe=jsonpointer.get(Xe,tt)))}else if(t[SCHEMA_KEY]===JSON_SCHEMA_DRAFT_2020_12){const tt=Ye?UriResolver.resolve(Ye,Je):Je,[rt,...st]=tt.replace(/#\/?$/,"").split("#");Xe=findEmbeddedSchemaRecursive(t,rt.replace(/\/$/,"")),Xe!==void 0&&(Ye=Xe[ID_KEY],isEmpty(st)||(Xe=jsonpointer.get(Xe,decodeURIComponent(st.join("#")))))}if(Xe===void 0)throw new Error(`Could not find a definition for ${e}.`);const et=Xe[REF_KEY];if(et){if(Ke.includes(et)){if(Ke.length===1)throw new Error(`Definition for ${e} is a circular reference`);const[at,...nt]=Ke,it=[...nt,Je,at].join(" -> ");throw new Error(`Definition for ${at} contains a circular reference through ${it}`)}const[tt,rt]=splitKeyElementFromObject(REF_KEY,Xe),st=findSchemaDefinitionRecursive(rt,t,[...Ke,Je],Ye);return Object.keys(tt).length>0?t[SCHEMA_KEY]===JSON_SCHEMA_DRAFT_2019_09||t[SCHEMA_KEY]===JSON_SCHEMA_DRAFT_2020_12?{[ALL_OF_KEY]:[tt,st]}:{...tt,...st}:st}return Xe}function findSchemaDefinition(e,t={},Ke=get(t,[ID_KEY])){return findSchemaDefinitionRecursive(e,t,[],Ke)}var stringTag="[object String]";function isString$1(e){return typeof e=="string"||!isArray(e)&&isObjectLike(e)&&baseGetTag(e)==stringTag}function getDiscriminatorFieldFromSchema(e){let t;const Ke=get(e,DISCRIMINATOR_PATH);return isString$1(Ke)?t=Ke:Ke!==void 0&&console.warn(`Expecting discriminator to be a string, got "${typeof Ke}" instead`),t}function guessType(e){return Array.isArray(e)?"array":typeof e=="string"?"string":e==null?"null":typeof e=="boolean"?"boolean":isNaN(e)?typeof e=="object"?"object":"string":"number"}var union=baseRest(function(e){return baseUniq(baseFlatten(e,1,isArrayLikeObject,!0))});function getSchemaType(e){let{type:t}=e;return!t&&e.const?guessType(e.const):!t&&e.enum?"string":!t&&(e.properties||e.additionalProperties||e.patternProperties)?"object":(Array.isArray(t)&&(t.length===2&&t.includes("null")?t=t.find(Ke=>Ke!=="null"):t=t[0]),t)}function mergeSchemas(e,t){const Ke=Object.assign({},e);return Object.keys(t).reduce((Ye,Je)=>{const Xe=e?e[Je]:{},et=t[Je];return e&&Je in e&&isObject$1(et)?Ye[Je]=mergeSchemas(Xe,et):e&&t&&(getSchemaType(e)==="object"||getSchemaType(t)==="object")&&Je===REQUIRED_KEY&&Array.isArray(Xe)&&Array.isArray(et)?Ye[Je]=union(Xe,et):Ye[Je]=et,Ye},Ke)}var numberTag="[object Number]";function isNumber(e){return typeof e=="number"||isObjectLike(e)&&baseGetTag(e)==numberTag}function getOptionMatchingSimpleDiscriminator(e,t,Ke){var Ye;if(e&&Ke){const Je=get(e,Ke);if(Je===void 0)return;for(let Xe=0;Xe<t.length;Xe++){const et=t[Xe],tt=get(et,[PROPERTIES_KEY,Ke],{});if(!(tt.type==="object"||tt.type==="array")&&(tt.const===Je||!((Ye=tt.enum)===null||Ye===void 0)&&Ye.includes(Je)))return Xe}}}function getFirstMatchingOption(e,t,Ke,Ye,Je){if(t===void 0)return 0;const Xe=getOptionMatchingSimpleDiscriminator(t,Ke,Je);if(isNumber(Xe))return Xe;for(let et=0;et<Ke.length;et++){const tt=Ke[et];if(Je&&has(tt,[PROPERTIES_KEY,Je])){const rt=get(t,Je),st=get(tt,[PROPERTIES_KEY,Je],{});if(e.isValid(st,rt,Ye))return et}else if(tt[PROPERTIES_KEY]){const rt={anyOf:Object.keys(tt[PROPERTIES_KEY]).map(at=>({required:[at]}))};let st;if(tt.anyOf){const{...at}=tt;at.allOf?at.allOf=at.allOf.slice():at.allOf=[],at.allOf.push(rt),st=at}else st=Object.assign({},tt,rt);if(delete st.required,e.isValid(st,t,Ye))return et}else if(e.isValid(tt,t,Ye))return et}return 0}function retrieveSchema(e,t,Ke={},Ye,Je){return retrieveSchemaInternal(e,t,Ke,Ye,void 0,void 0,Je)[0]}function resolveCondition(e,t,Ke,Ye,Je,Xe,et){const{if:tt,then:rt,else:st,...at}=t,nt=e.isValid(tt,Xe||{},Ke);let it=[at],ot=[];if(Ye)rt&&typeof rt!="boolean"&&(ot=ot.concat(retrieveSchemaInternal(e,rt,Ke,Xe,Ye,Je,et))),st&&typeof st!="boolean"&&(ot=ot.concat(retrieveSchemaInternal(e,st,Ke,Xe,Ye,Je,et)));else{const lt=nt?rt:st;lt&&typeof lt!="boolean"&&(ot=ot.concat(retrieveSchemaInternal(e,lt,Ke,Xe,Ye,Je,et)))}return ot.length&&(it=ot.map(lt=>mergeSchemas(at,lt))),it.flatMap(lt=>retrieveSchemaInternal(e,lt,Ke,Xe,Ye,Je,et))}function getAllPermutationsOfXxxOf(e){return e.reduce((Ke,Ye)=>Ye.length>1?Ye.flatMap(Je=>times(Ke.length,Xe=>[...Ke[Xe]].concat(Je))):(Ke.forEach(Je=>Je.push(Ye[0])),Ke),[[]])}function getMatchingPatternProperties(e,t){return Object.keys(e.patternProperties).filter(Ke=>RegExp(Ke).test(t)).reduce((Ke,Ye)=>(set(Ke,[Ye],e.patternProperties[Ye]),Ke),{})}function resolveSchema(e,t,Ke,Ye,Je,Xe,et){const tt=resolveReference(e,t,Ke,Ye,Je,Xe);if(tt.length>1||tt[0]!==t)return tt;if(DEPENDENCIES_KEY in t)return resolveDependencies(e,t,Ke,Ye,Je,Xe).flatMap(st=>retrieveSchemaInternal(e,st,Ke,Xe,Ye,Je,et));if(ALL_OF_KEY in t&&Array.isArray(t.allOf)){const rt=t.allOf.map(at=>retrieveSchemaInternal(e,at,Ke,Xe,Ye,Je,et));return getAllPermutationsOfXxxOf(rt).map(at=>({...t,allOf:at}))}return[t]}function resolveReference(e,t,Ke,Ye,Je,Xe,et){const tt=resolveAllReferences(t,Ke,Je);return tt!==t?retrieveSchemaInternal(e,tt,Ke,Xe,Ye,Je,et):[t]}function resolveAllReferences(e,t,Ke,Ye){if(!isObject$1(e))return e;let Je=e;if(REF_KEY in Je){const{$ref:Xe,...et}=Je;if(Ke.includes(Xe))return Je;Ke.push(Xe),Je={...findSchemaDefinition(Xe,t,Ye),...et},ID_KEY in Je&&(Ye=Je[ID_KEY])}if(PROPERTIES_KEY in Je){const Xe=[],et=transform(Je[PROPERTIES_KEY],(tt,rt,st)=>{const at=[...Ke];tt[st]=resolveAllReferences(rt,t,at,Ye),Xe.push(at)},{});merge(Ke,uniq(flattenDeep(Xe))),Je={...Je,[PROPERTIES_KEY]:et}}return ITEMS_KEY in Je&&!Array.isArray(Je.items)&&typeof Je.items!="boolean"&&(Je={...Je,items:resolveAllReferences(Je.items,t,Ke,Ye)}),deepEquals(e,Je)?e:Je}function stubExistingAdditionalProperties(e,t,Ke,Ye,Je){const Xe={...t,properties:{...t.properties}},et=Ye&&isObject$1(Ye)?Ye:{};return Object.keys(et).forEach(tt=>{if(!(tt in Xe.properties)){if(PATTERN_PROPERTIES_KEY in Xe){const rt=getMatchingPatternProperties(Xe,tt);if(!isEmpty(rt)){Xe.properties[tt]=retrieveSchema(e,{[ALL_OF_KEY]:Object.values(rt)},Ke,get(et,[tt]),Je),set(Xe.properties,[tt,ADDITIONAL_PROPERTY_FLAG],!0);return}}if(ADDITIONAL_PROPERTIES_KEY in Xe&&Xe.additionalProperties!==!1){let rt={};typeof Xe.additionalProperties!="boolean"?REF_KEY in Xe.additionalProperties?rt=retrieveSchema(e,{[REF_KEY]:get(Xe.additionalProperties,[REF_KEY])},Ke,et,Je):"type"in Xe.additionalProperties?rt={...Xe.additionalProperties}:ANY_OF_KEY in Xe.additionalProperties||ONE_OF_KEY in Xe.additionalProperties?rt={type:"object",...Xe.additionalProperties}:rt={type:guessType(get(et,[tt]))}:rt={type:guessType(get(et,[tt]))},Xe.properties[tt]=rt,set(Xe.properties,[tt,ADDITIONAL_PROPERTY_FLAG],!0)}else Xe.properties[tt]={type:"null"},set(Xe.properties,[tt,ADDITIONAL_PROPERTY_FLAG],!0)}}),Xe}function retrieveSchemaInternal(e,t,Ke,Ye,Je=!1,Xe=[],et){return isObject$1(t)?resolveSchema(e,t,Ke,Je,Xe,Ye,et).flatMap(rt=>{var st;let at=rt;if(IF_KEY in at)return resolveCondition(e,at,Ke,Je,Xe,Ye,et);if(ALL_OF_KEY in at){if(Je){const{allOf:it,...ot}=at;return[...it,ot]}try{const it=[],ot=[];(st=at.allOf)===null||st===void 0||st.forEach(lt=>{typeof lt=="object"&&lt.contains?it.push(lt):ot.push(lt)}),it.length&&(at={...at,allOf:ot}),at=et?et(at):mergeAllOf(at,{deep:!1,resolvers:{$defs:mergeAllOf.options.resolvers.definitions}}),it.length&&(at.allOf=it)}catch(it){console.warn(`could not merge subschemas in allOf:
`,it);const{allOf:ot,...lt}=at;return lt}}return PROPERTIES_KEY in at&&PATTERN_PROPERTIES_KEY in at&&(at=Object.keys(at.properties).reduce((it,ot)=>{const lt=getMatchingPatternProperties(it,ot);return isEmpty(lt)||(it.properties[ot]=retrieveSchema(e,{allOf:[it.properties[ot],...Object.values(lt)]},Ke,get(Ye,[ot]),et)),it},{...at,properties:{...at.properties}})),PATTERN_PROPERTIES_KEY in at||ADDITIONAL_PROPERTIES_KEY in at&&at.additionalProperties!==!1?stubExistingAdditionalProperties(e,at,Ke,Ye,et):at}):[{}]}function resolveAnyOrOneOfSchemas(e,t,Ke,Ye,Je){let Xe;const{oneOf:et,anyOf:tt,...rt}=t;if(Array.isArray(et)?Xe=et:Array.isArray(tt)&&(Xe=tt),Xe){const st=Je===void 0&&Ye?{}:Je,at=getDiscriminatorFieldFromSchema(t);Xe=Xe.map(it=>resolveAllReferences(it,Ke,[]));const nt=getFirstMatchingOption(e,st,Xe,Ke,at);if(Ye)return Xe.map(it=>mergeSchemas(rt,it));t=mergeSchemas(rt,Xe[nt])}return[t]}function resolveDependencies(e,t,Ke,Ye,Je,Xe,et){const{dependencies:tt,...rt}=t;return resolveAnyOrOneOfSchemas(e,rt,Ke,Ye,Xe).flatMap(at=>processDependencies(e,tt,at,Ke,Ye,Je,Xe,et))}function processDependencies(e,t,Ke,Ye,Je,Xe,et,tt){let rt=[Ke];for(const st in t){if(!Je&&get(et,[st])===void 0||Ke.properties&&!(st in Ke.properties))continue;const[at,nt]=splitKeyElementFromObject(st,t);return Array.isArray(nt)?rt[0]=withDependentProperties(Ke,nt):isObject$1(nt)&&(rt=withDependentSchema(e,Ke,Ye,st,nt,Je,Xe,et,tt)),rt.flatMap(it=>processDependencies(e,at,it,Ye,Je,Xe,et,tt))}return rt}function withDependentProperties(e,t){if(!t)return e;const Ke=Array.isArray(e.required)?Array.from(new Set([...e.required,...t])):t;return{...e,required:Ke}}function withDependentSchema(e,t,Ke,Ye,Je,Xe,et,tt,rt){return retrieveSchemaInternal(e,Je,Ke,tt,Xe,et,rt).flatMap(at=>{const{oneOf:nt,...it}=at;if(t=mergeSchemas(t,it),nt===void 0)return t;const ot=nt.map(ut=>typeof ut=="boolean"||!(REF_KEY in ut)?[ut]:resolveReference(e,ut,Ke,Xe,et,tt));return getAllPermutationsOfXxxOf(ot).flatMap(ut=>withExactlyOneSubschema(e,t,Ke,Ye,ut,Xe,et,tt,rt))})}function withExactlyOneSubschema(e,t,Ke,Ye,Je,Xe,et,tt,rt){const st=Je.filter(at=>{if(typeof at=="boolean"||!at||!at.properties)return!1;const{[Ye]:nt}=at.properties;if(nt){const it={type:"object",properties:{[Ye]:nt}};return e.isValid(it,tt,Ke)||Xe}return!1});return!Xe&&st.length!==1?(console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),[t]):st.flatMap(at=>{const nt=at,[it]=splitKeyElementFromObject(Ye,nt.properties),ot={...nt,properties:it};return retrieveSchemaInternal(e,ot,Ke,tt,Xe,et,rt).map(ut=>mergeSchemas(t,ut))})}function findSelectedOptionInXxxOf(e,t,Ke,Ye,Je,Xe={},et){if(Array.isArray(Ke[Je])){const rt=getDiscriminatorFieldFromSchema(Ke)||Ye,st=Ke[Je].map(nt=>retrieveSchema(e,nt,t,Xe,et)),at=get(Xe,rt);if(at!==void 0)return st.find(nt=>isEqual(get(nt,[PROPERTIES_KEY,rt,DEFAULT_KEY],get(nt,[PROPERTIES_KEY,rt,CONST_KEY])),at))}}function getFromSchemaInternal(e,t,Ke,Ye,Je){let Xe=Ke;if(has(Ke,REF_KEY)&&(Xe=retrieveSchema(e,Ke,t,void 0,Je)),isEmpty(Ye))return Xe;const et=Array.isArray(Ye)?Ye:Ye.split("."),[tt,...rt]=et;if(tt&&has(Xe,tt))return Xe=get(Xe,tt),getFromSchemaInternal(e,t,Xe,rt,Je)}function getFromSchema(e,t,Ke,Ye,Je,Xe){const et=getFromSchemaInternal(e,t,Ke,Ye,Xe);return et===void 0?Je:et}const NOT_FOUND_SCHEMA={title:"!@#$_UNKNOWN_$#@!"};function findFieldInSchema(e,t,Ke,Ye,Je={},Xe){const et=Array.isArray(Ye)?[...Ye]:Ye.split(".");let tt=Ke;const rt=et.pop();et.length&&et.forEach(it=>{tt=getFromSchema(e,t,tt,[PROPERTIES_KEY,it],{},Xe),has(tt,ONE_OF_KEY)?tt=findSelectedOptionInXxxOf(e,t,tt,rt,ONE_OF_KEY,get(Je,it),Xe):has(tt,ANY_OF_KEY)&&(tt=findSelectedOptionInXxxOf(e,t,tt,rt,ANY_OF_KEY,get(Je,it),Xe))}),has(tt,ONE_OF_KEY)?tt=findSelectedOptionInXxxOf(e,t,tt,rt,ONE_OF_KEY,Je,Xe):has(tt,ANY_OF_KEY)&&(tt=findSelectedOptionInXxxOf(e,t,tt,rt,ANY_OF_KEY,Je,Xe));let st=getFromSchema(e,t,tt,[PROPERTIES_KEY,rt],NOT_FOUND_SCHEMA,Xe);st===NOT_FOUND_SCHEMA&&(st=void 0);const at=getFromSchema(e,t,tt,REQUIRED_KEY,[],Xe);let nt;return st&&Array.isArray(at)&&(nt=at.includes(rt)),{field:st,isRequired:nt}}function arrayReduce(e,t,Ke,Ye){var Je=-1,Xe=e==null?0:e.length;for(Ye&&Xe&&(Ke=e[++Je]);++Je<Xe;)Ke=t(Ke,e[Je],Je,e);return Ke}function createBaseEach(e,t){return function(Ke,Ye){if(Ke==null)return Ke;if(!isArrayLike(Ke))return e(Ke,Ye);for(var Je=Ke.length,Xe=-1,et=Object(Ke);++Xe<Je&&Ye(et[Xe],Xe,et)!==!1;);return Ke}}var baseEach=createBaseEach(baseForOwn);function baseReduce(e,t,Ke,Ye,Je){return Je(e,function(Xe,et,tt){Ke=Ye?(Ye=!1,Xe):t(Ke,Xe,et,tt)}),Ke}function reduce(e,t,Ke){var Ye=isArray(e)?arrayReduce:baseReduce,Je=arguments.length<3;return Ye(e,baseIteratee(t),Ke,Je,baseEach)}const JUNK_OPTION={type:"object",$id:JUNK_OPTION_ID,properties:{__not_really_there__:{type:"number"}}};function calculateIndexScore(e,t,Ke,Ye,Je){let Xe=0;return Ke&&(isObject(Ke.properties)?Xe+=reduce(Ke.properties,(et,tt,rt)=>{const st=get(Ye,rt);if(typeof tt=="boolean")return et;if(has(tt,REF_KEY)){const at=retrieveSchema(e,tt,t,st,Je);return et+calculateIndexScore(e,t,at,st||{},Je)}if((has(tt,ONE_OF_KEY)||has(tt,ANY_OF_KEY))&&st){const at=has(tt,ONE_OF_KEY)?ONE_OF_KEY:ANY_OF_KEY,nt=getDiscriminatorFieldFromSchema(tt);return et+getClosestMatchingOption(e,t,st,get(tt,at),-1,nt,Je)}if(tt.type==="object")return isObject(st)&&(et+=1),et+calculateIndexScore(e,t,tt,st,Je);if(tt.type===guessType(st)){let at=et+1;return tt.default?at+=st===tt.default?1:-1:tt.const&&(at+=st===tt.const?1:-1),at}return et},0):isString$1(Ke.type)&&Ke.type===guessType(Ye)&&(Xe+=1)),Xe}function getClosestMatchingOption(e,t,Ke,Ye,Je=-1,Xe,et){const tt=Ye.map(it=>resolveAllReferences(it,t,[])),rt=getOptionMatchingSimpleDiscriminator(Ke,Ye,Xe);if(isNumber(rt))return rt;const st=tt.reduce((it,ot,lt)=>(getFirstMatchingOption(e,Ke,[JUNK_OPTION,ot],t,Xe)===1&&it.push(lt),it),[]);if(st.length===1)return st[0];st.length||times(tt.length,it=>st.push(it));const at=new Set,{bestIndex:nt}=st.reduce((it,ot)=>{const{bestScore:lt}=it,ut=tt[ot],ft=calculateIndexScore(e,t,ut,Ke,et);return at.add(ft),ft>lt?{bestIndex:ot,bestScore:ft}:it},{bestIndex:Je,bestScore:0});return at.size===1&&Je>=0?Je:nt}function isFixedItems(e){return Array.isArray(e.items)&&e.items.length>0&&e.items.every(t=>isObject$1(t))}function isNil(e){return e==null}function mergeDefaultsWithFormData(e,t,Ke=!1,Ye=!1,Je=!1){if(Array.isArray(t)){const Xe=Array.isArray(e)?e:[],et=Je?Xe:t,tt=Je?t:Xe,rt=et.map((st,at)=>tt[at]!==void 0?mergeDefaultsWithFormData(Xe[at],t[at],Ke,Ye,Je):st);return(Ke||Je)&&rt.length<tt.length&&rt.push(...tt.slice(rt.length)),rt}if(isObject$1(t)){const Xe=Object.assign({},e);return Object.keys(t).reduce((et,tt)=>{var rt;const st=get(t,tt),at=isObject$1(e)&&tt in e,nt=tt in t,it=(rt=get(e,tt))!==null&&rt!==void 0?rt:{},ot=at&&Object.entries(it).some(([,ft])=>isObject$1(ft)),lt=at&&isObject$1(get(e,tt)),ut=nt&&isObject$1(st);return lt&&ut&&!ot?(et[tt]={...get(e,tt),...st},et):(et[tt]=mergeDefaultsWithFormData(get(e,tt),st,Ke,Ye,Je&&(at||!nt)),et)},Xe)}return Ye&&(!isNil(e)&&isNil(t)||typeof t=="number"&&isNaN(t))||Je&&!isNil(t)?e:t}function mergeObjects(e,t,Ke=!1){return Object.keys(t).reduce((Ye,Je)=>{const Xe=e?e[Je]:{},et=t[Je];if(e&&Je in e&&isObject$1(et))Ye[Je]=mergeObjects(Xe,et,Ke);else if(Ke&&Array.isArray(Xe)&&Array.isArray(et)){let tt=et;Ke==="preventDuplicates"&&(tt=et.reduce((rt,st)=>(Xe.includes(st)||rt.push(st),rt),[])),Ye[Je]=Xe.concat(tt)}else Ye[Je]=et;return Ye},Object.assign({},e))}function isConstant(e){return Array.isArray(e.enum)&&e.enum.length===1||CONST_KEY in e}function isSelect(e,t,Ke={},Ye){const Je=retrieveSchema(e,t,Ke,void 0,Ye),Xe=Je.oneOf||Je.anyOf;return Array.isArray(Je.enum)?!0:Array.isArray(Xe)?Xe.every(et=>typeof et!="boolean"&&isConstant(et)):!1}function isMultiSelect(e,t,Ke,Ye){return!t.uniqueItems||!t.items||typeof t.items=="boolean"?!1:isSelect(e,t.items,Ke,Ye)}function constIsAjvDataReference(e){const t=e[CONST_KEY],Ke=getSchemaType(e);return isObject$1(t)&&isString$1(t?.$data)&&Ke!=="object"&&Ke!=="array"}function toConstant(e){if(ENUM_KEY in e&&Array.isArray(e.enum)&&e.enum.length===1)return e.enum[0];if(CONST_KEY in e)return e.const;throw new Error("schema cannot be inferred as a constant")}function optionsList(e,t){if(e.enum){let Xe;if(t){const{enumNames:et}=getUiOptions(t);Xe=et}return e.enum.map((et,tt)=>({label:Xe?.[tt]||String(et),value:et}))}let Ke,Ye;e.anyOf?(Ke=e.anyOf,Ye=t?.anyOf):e.oneOf&&(Ke=e.oneOf,Ye=t?.oneOf);let Je=getDiscriminatorFieldFromSchema(e);if(t){const{optionsSchemaSelector:Xe=Je}=getUiOptions(t);Je=Xe}return Ke&&Ke.map((Xe,et)=>{const{title:tt}=getUiOptions(Ye?.[et]),rt=Xe;let st,at=tt;if(Je){const nt=get(rt,[PROPERTIES_KEY,Je],{});st=get(nt,DEFAULT_KEY,get(nt,CONST_KEY)),at=at||nt?.title||rt.title||String(st)}else st=toConstant(rt),at=at||rt.title||String(st);return{schema:rt,label:at,value:st}})}const PRIMITIVE_TYPES=["string","number","integer","boolean","null"];var AdditionalItemsHandling;(function(e){e[e.Ignore=0]="Ignore",e[e.Invert=1]="Invert",e[e.Fallback=2]="Fallback"})(AdditionalItemsHandling||(AdditionalItemsHandling={}));function getInnerSchemaForArrayItem(e,t=AdditionalItemsHandling.Ignore,Ke=-1){if(Ke>=0){if(Array.isArray(e.items)&&Ke<e.items.length){const Ye=e.items[Ke];if(typeof Ye!="boolean")return Ye}}else if(e.items&&!Array.isArray(e.items)&&typeof e.items!="boolean")return e.items;return t!==AdditionalItemsHandling.Ignore&&isObject$1(e.additionalItems)?e.additionalItems:{}}function maybeAddDefaultToObject(e,t,Ke,Ye,Je,Xe=[],et={},tt=!1){const{emptyObjectFields:rt="populateAllDefaults"}=et;if(Ye===!0||tt)e[t]=Ke;else if(Ye==="excludeObjectChildren")(!isObject$1(Ke)||!isEmpty(Ke))&&(e[t]=Ke);else if(rt!=="skipDefaults"){const st=Je===void 0?Xe.includes(t):Je;isObject$1(Ke)?rt==="skipEmptyDefaults"?isEmpty(Ke)||(e[t]=Ke):(!isEmpty(Ke)||Xe.includes(t))&&(st||rt!=="populateRequiredDefaults")&&(e[t]=Ke):Ke!==void 0&&(rt==="populateAllDefaults"||rt==="skipEmptyDefaults"||st&&Xe.includes(t))&&(e[t]=Ke)}}function computeDefaults(e,t,Ke={}){const{parentDefaults:Ye,rawFormData:Je,rootSchema:Xe={},includeUndefinedValues:et=!1,_recurseList:tt=[],experimental_defaultFormStateBehavior:rt=void 0,experimental_customMergeAllOf:st=void 0,required:at,shouldMergeDefaultsIntoFormData:nt=!1}=Ke;let it=isObject$1(Je)?Je:{};const ot=isObject$1(t)?t:{};let lt=Ye,ut=null,ft=rt,ct=tt;if(ot[CONST_KEY]!==void 0&&rt?.constAsDefaults!=="never"&&!constIsAjvDataReference(ot))lt=ot[CONST_KEY];else if(isObject$1(lt)&&isObject$1(ot.default))lt=mergeObjects(lt,ot.default);else if(DEFAULT_KEY in ot&&!ot[ANY_OF_KEY]&&!ot[ONE_OF_KEY]&&!ot[REF_KEY])lt=ot.default;else if(REF_KEY in ot){const xt=ot[REF_KEY];tt.includes(xt)||(ct=tt.concat(xt),ut=findSchemaDefinition(xt,Xe)),ut&&!lt&&(lt=ot.default),nt&&ut&&!isObject$1(Je)&&(it=Je)}else if(DEPENDENCIES_KEY in ot){const xt={...getDefaultBasedOnSchemaType(e,ot,Ke,lt),...it};ut=resolveDependencies(e,ot,Xe,!1,[],xt,st)[0]}else if(isFixedItems(ot))lt=ot.items.map((xt,vt)=>computeDefaults(e,xt,{rootSchema:Xe,includeUndefinedValues:et,_recurseList:tt,experimental_defaultFormStateBehavior:rt,experimental_customMergeAllOf:st,parentDefaults:Array.isArray(Ye)?Ye[vt]:void 0,rawFormData:it,required:at,shouldMergeDefaultsIntoFormData:nt}));else if(ONE_OF_KEY in ot){const{oneOf:xt,...vt}=ot;if(xt.length===0)return;const bt=getDiscriminatorFieldFromSchema(ot),{type:_t="null"}=vt;!Array.isArray(_t)&&PRIMITIVE_TYPES.includes(_t)&&ft?.constAsDefaults==="skipOneOf"&&(ft={...ft,constAsDefaults:"never"}),ut=xt[getClosestMatchingOption(e,Xe,Je??ot.default,xt,0,bt,st)],ut=mergeSchemas(vt,ut)}else if(ANY_OF_KEY in ot){const{anyOf:xt,...vt}=ot;if(xt.length===0)return;const bt=getDiscriminatorFieldFromSchema(ot);ut=xt[getClosestMatchingOption(e,Xe,Je??ot.default,xt,0,bt,st)],ut=mergeSchemas(vt,ut)}if(ut)return computeDefaults(e,ut,{rootSchema:Xe,includeUndefinedValues:et,_recurseList:ct,experimental_defaultFormStateBehavior:ft,experimental_customMergeAllOf:st,parentDefaults:lt,rawFormData:Je??it,required:at,shouldMergeDefaultsIntoFormData:nt});lt===void 0&&(lt=ot.default);const dt=getDefaultBasedOnSchemaType(e,ot,Ke,lt);let ht=dt??lt;if(nt){const{arrayMinItems:xt={}}=rt||{},{mergeExtraDefaults:vt}=xt,bt=ensureFormDataMatchingSchema(e,ot,Xe,Je,rt,st);(!isObject$1(Je)||ALL_OF_KEY in ot)&&(ht=mergeDefaultsWithFormData(ht,bt,vt,!0))}return ht}function ensureFormDataMatchingSchema(e,t,Ke,Ye,Je,Xe){const et=!isConstant(t)&&isSelect(e,t,Ke,Xe);let tt=Ye;if(et){const st=optionsList(t);tt=st?.some(nt=>deepEquals(nt.value,Ye))?Ye:void 0}return t[CONST_KEY]&&Je?.constAsDefaults==="always"&&(tt=t.const),tt}function getObjectDefaults(e,t,{rawFormData:Ke,rootSchema:Ye={},includeUndefinedValues:Je=!1,_recurseList:Xe=[],experimental_defaultFormStateBehavior:et=void 0,experimental_customMergeAllOf:tt=void 0,required:rt,shouldMergeDefaultsIntoFormData:st}={},at){{const nt=isObject$1(Ke)?Ke:{},it=t,ot=et?.allOf==="populateDefaults"&&ALL_OF_KEY in it?retrieveSchema(e,it,Ye,nt,tt):it,lt=ot[CONST_KEY],ut=Object.keys(ot.properties||{}).reduce((ft,ct)=>{var dt;const ht=get(ot,[PROPERTIES_KEY,ct],{}),xt=isObject$1(lt)&&lt[ct]!==void 0,vt=(isObject$1(ht)&&CONST_KEY in ht||xt)&&et?.constAsDefaults!=="never"&&!constIsAjvDataReference(ht),bt=computeDefaults(e,ht,{rootSchema:Ye,_recurseList:Xe,experimental_defaultFormStateBehavior:et,experimental_customMergeAllOf:tt,includeUndefinedValues:Je===!0,parentDefaults:get(at,[ct]),rawFormData:get(nt,[ct]),required:(dt=ot.required)===null||dt===void 0?void 0:dt.includes(ct),shouldMergeDefaultsIntoFormData:st});return maybeAddDefaultToObject(ft,ct,bt,Je,rt,ot.required,et,vt),ft},{});if(ot.additionalProperties){const ft=isObject$1(ot.additionalProperties)?ot.additionalProperties:{},ct=new Set;isObject$1(at)&&Object.keys(at).filter(ht=>!ot.properties||!ot.properties[ht]).forEach(ht=>ct.add(ht));const dt=[];Object.keys(nt).filter(ht=>!ot.properties||!ot.properties[ht]).forEach(ht=>{ct.add(ht),dt.push(ht)}),ct.forEach(ht=>{var xt;const vt=computeDefaults(e,ft,{rootSchema:Ye,_recurseList:Xe,experimental_defaultFormStateBehavior:et,experimental_customMergeAllOf:tt,includeUndefinedValues:Je===!0,parentDefaults:get(at,[ht]),rawFormData:get(nt,[ht]),required:(xt=ot.required)===null||xt===void 0?void 0:xt.includes(ht),shouldMergeDefaultsIntoFormData:st});maybeAddDefaultToObject(ut,ht,vt,Je,rt,dt)})}return ut}}function getArrayDefaults(e,t,{rawFormData:Ke,rootSchema:Ye={},_recurseList:Je=[],experimental_defaultFormStateBehavior:Xe=void 0,experimental_customMergeAllOf:et=void 0,required:tt,shouldMergeDefaultsIntoFormData:rt}={},st){var at,nt;const it=t,ot=(at=Xe?.arrayMinItems)!==null&&at!==void 0?at:{},{populate:lt,mergeExtraDefaults:ut}=ot,ft=lt==="never",ct=lt==="requiredOnly",dt=lt==="all"||!ft&&!ct,ht=(nt=ot?.computeSkipPopulate)!==null&&nt!==void 0?nt:(()=>!1),vt=Xe?.emptyObjectFields==="skipEmptyDefaults"?void 0:[];if(Array.isArray(st)&&(st=st.map((Et,pt)=>{const mt=getInnerSchemaForArrayItem(it,AdditionalItemsHandling.Fallback,pt);return computeDefaults(e,mt,{rootSchema:Ye,_recurseList:Je,experimental_defaultFormStateBehavior:Xe,experimental_customMergeAllOf:et,parentDefaults:Et,required:tt,shouldMergeDefaultsIntoFormData:rt})})),Array.isArray(Ke)){const Et=getInnerSchemaForArrayItem(it);if(ft)st=Ke;else{const pt=Ke.map((gt,St)=>computeDefaults(e,Et,{rootSchema:Ye,_recurseList:Je,experimental_defaultFormStateBehavior:Xe,experimental_customMergeAllOf:et,rawFormData:gt,parentDefaults:get(st,[St]),required:tt,shouldMergeDefaultsIntoFormData:rt}));st=mergeDefaultsWithFormData(st,pt,(ct&&tt||dt)&&ut)}}if((isObject$1(it)&&CONST_KEY in it&&Xe?.constAsDefaults!=="never")===!1){if(ft)return st??vt;if(ct&&!tt)return st||void 0}const _t=Array.isArray(st)?st.length:0;if(!it.minItems||isMultiSelect(e,it,Ye,et)||ht(e,it,Ye)||it.minItems<=_t)return st||vt;const Ct=st||[],Rt=getInnerSchemaForArrayItem(it,AdditionalItemsHandling.Invert),jt=Rt.default,yt=new Array(it.minItems-_t).fill(computeDefaults(e,Rt,{parentDefaults:jt,rootSchema:Ye,_recurseList:Je,experimental_defaultFormStateBehavior:Xe,experimental_customMergeAllOf:et,required:tt,shouldMergeDefaultsIntoFormData:rt}));return Ct.concat(yt)}function getDefaultBasedOnSchemaType(e,t,Ke={},Ye){switch(getSchemaType(t)){case"object":return getObjectDefaults(e,t,Ke,Ye);case"array":return getArrayDefaults(e,t,Ke,Ye)}}function getDefaultFormState(e,t,Ke,Ye,Je=!1,Xe,et){if(!isObject$1(t))throw new Error("Invalid schema: "+t);const tt=retrieveSchema(e,t,Ye,Ke,et),rt=computeDefaults(e,tt,{rootSchema:Ye,includeUndefinedValues:Je,experimental_defaultFormStateBehavior:Xe,experimental_customMergeAllOf:et,rawFormData:Ke,shouldMergeDefaultsIntoFormData:!0});if(tt.type!=="object"&&isObject$1(tt.default))return{...rt,...Ke};if(isObject$1(Ke)||Array.isArray(Ke)){const{mergeDefaultsIntoFormData:st}=Xe||{};return mergeDefaultsWithFormData(rt,Ke,!0,st==="useDefaultIfFormDataUndefined",!0)}return rt}function isCustomWidget(e={}){return"widget"in getUiOptions(e)&&getUiOptions(e).widget!=="hidden"}function isFilesArray(e,t,Ke={},Ye,Je){if(Ke[UI_WIDGET_KEY]==="files")return!0;if(t.items){const Xe=retrieveSchema(e,t.items,Ye,void 0,Je);return Xe.type==="string"&&Xe.format==="data-url"}return!1}function getDisplayLabel(e,t,Ke={},Ye,Je,Xe){const et=getUiOptions(Ke,Je),{label:tt=!0}=et;let rt=!!tt;const st=getSchemaType(t);return st==="array"&&(rt=isMultiSelect(e,t,Ye,Xe)||isFilesArray(e,t,Ke,Ye,Xe)||isCustomWidget(Ke)),st==="object"&&(rt=!1),st==="boolean"&&Ke&&!Ke[UI_WIDGET_KEY]&&(rt=!1),Ke&&Ke[UI_FIELD_KEY]&&(rt=!1),rt}const NO_VALUE=Symbol("no Value");function sanitizeDataForNewSchema(e,t,Ke,Ye,Je={},Xe){let et;if(has(Ke,PROPERTIES_KEY)){const tt={};if(has(Ye,PROPERTIES_KEY)){const at=get(Ye,PROPERTIES_KEY,{});Object.keys(at).forEach(nt=>{has(Je,nt)&&(tt[nt]=void 0)})}const rt=Object.keys(get(Ke,PROPERTIES_KEY,{})),st={};rt.forEach(at=>{const nt=get(Je,at);let it=get(Ye,[PROPERTIES_KEY,at],{}),ot=get(Ke,[PROPERTIES_KEY,at],{});has(it,REF_KEY)&&(it=retrieveSchema(e,it,t,nt,Xe)),has(ot,REF_KEY)&&(ot=retrieveSchema(e,ot,t,nt,Xe));const lt=get(it,"type"),ut=get(ot,"type");if(!lt||lt===ut)if(has(tt,at)&&delete tt[at],ut==="object"||ut==="array"&&Array.isArray(nt)){const ft=sanitizeDataForNewSchema(e,t,ot,it,nt,Xe);(ft!==void 0||ut==="array")&&(st[at]=ft)}else{const ft=get(ot,"default",NO_VALUE),ct=get(it,"default",NO_VALUE);ft!==NO_VALUE&&ft!==nt&&(ct===nt?tt[at]=ft:get(ot,"readOnly")===!0&&(tt[at]=void 0));const dt=get(ot,"const",NO_VALUE),ht=get(it,"const",NO_VALUE);dt!==NO_VALUE&&dt!==nt&&(tt[at]=ht===nt?dt:void 0)}}),et={...typeof Je=="string"||Array.isArray(Je)?void 0:Je,...tt,...st}}else if(get(Ye,"type")==="array"&&get(Ke,"type")==="array"&&Array.isArray(Je)){let tt=get(Ye,"items"),rt=get(Ke,"items");if(typeof tt=="object"&&typeof rt=="object"&&!Array.isArray(tt)&&!Array.isArray(rt)){has(tt,REF_KEY)&&(tt=retrieveSchema(e,tt,t,Je,Xe)),has(rt,REF_KEY)&&(rt=retrieveSchema(e,rt,t,Je,Xe));const st=get(tt,"type"),at=get(rt,"type");if(!st||st===at){const nt=get(Ke,"maxItems",-1);at==="object"?et=Je.reduce((it,ot)=>{const lt=sanitizeDataForNewSchema(e,t,rt,tt,ot,Xe);return lt!==void 0&&(nt<0||it.length<nt)&&it.push(lt),it},[]):et=nt>0&&Je.length>nt?Je.slice(0,nt):Je}}else typeof tt=="boolean"&&typeof rt=="boolean"&&tt===rt&&(et=Je)}return et}function toIdSchemaInternal(e,t,Ke,Ye,Je,Xe,et,tt=[],rt){const at={$id:Je||Ke};if(typeof t=="object"){if(REF_KEY in t||DEPENDENCIES_KEY in t||ALL_OF_KEY in t){const nt=retrieveSchema(e,t,Xe,et,rt);if(tt.findIndex(ot=>deepEquals(ot,nt))===-1)return toIdSchemaInternal(e,nt,Ke,Ye,Je,Xe,et,tt.concat(nt),rt)}if(ITEMS_KEY in t&&!get(t,[ITEMS_KEY,REF_KEY]))return toIdSchemaInternal(e,get(t,ITEMS_KEY),Ke,Ye,Je,Xe,et,tt,rt);if(getSchemaType(t)==="object"&&PROPERTIES_KEY in t)for(const nt in t.properties){const it=t[PROPERTIES_KEY][nt],ot=at[ID_KEY]+Ye+nt;at[nt]=toIdSchemaInternal(e,it,Ke,Ye,ot,Xe,get(et,[nt]),tt,rt)}}return at}function toIdSchema(e,t,Ke,Ye,Je,Xe="root",et="_",tt){return toIdSchemaInternal(e,t,Xe,et,Ke,Ye,Je,void 0,tt)}function toPathSchemaInternal(e,t,Ke,Ye,Je,Xe=[],et){if(REF_KEY in t||DEPENDENCIES_KEY in t||ALL_OF_KEY in t){const rt=retrieveSchema(e,t,Ye,Je,et);if(Xe.findIndex(at=>deepEquals(at,rt))===-1)return toPathSchemaInternal(e,rt,Ke,Ye,Je,Xe.concat(rt),et)}let tt={[NAME_KEY]:Ke.replace(/^\./,"")};if(ONE_OF_KEY in t||ANY_OF_KEY in t){const rt=ONE_OF_KEY in t?t.oneOf:t.anyOf,st=getDiscriminatorFieldFromSchema(t),at=getClosestMatchingOption(e,Ye,Je,rt,0,st,et),nt=rt[at];tt={...tt,...toPathSchemaInternal(e,nt,Ke,Ye,Je,Xe,et)}}if(ADDITIONAL_PROPERTIES_KEY in t&&t[ADDITIONAL_PROPERTIES_KEY]!==!1&&set(tt,RJSF_ADDITIONAL_PROPERTIES_FLAG,!0),ITEMS_KEY in t&&Array.isArray(Je)){const{items:rt,additionalItems:st}=t;Array.isArray(rt)?Je.forEach((at,nt)=>{rt[nt]?tt[nt]=toPathSchemaInternal(e,rt[nt],`${Ke}.${nt}`,Ye,at,Xe,et):st?tt[nt]=toPathSchemaInternal(e,st,`${Ke}.${nt}`,Ye,at,Xe,et):console.warn(`Unable to generate path schema for "${Ke}.${nt}". No schema defined for it`)}):Je.forEach((at,nt)=>{tt[nt]=toPathSchemaInternal(e,rt,`${Ke}.${nt}`,Ye,at,Xe,et)})}else if(PROPERTIES_KEY in t)for(const rt in t.properties){const st=get(t,[PROPERTIES_KEY,rt],{});tt[rt]=toPathSchemaInternal(e,st,`${Ke}.${rt}`,Ye,get(Je,[rt]),Xe,et)}return tt}function toPathSchema(e,t,Ke="",Ye,Je,Xe){return toPathSchemaInternal(e,t,Ke,Ye,Je,void 0,Xe)}class SchemaUtils{constructor(t,Ke,Ye,Je){Ke&&Ke[SCHEMA_KEY]===JSON_SCHEMA_DRAFT_2020_12?this.rootSchema=makeAllReferencesAbsolute(Ke,get(Ke,ID_KEY,"#")):this.rootSchema=Ke,this.validator=t,this.experimental_defaultFormStateBehavior=Ye,this.experimental_customMergeAllOf=Je}getRootSchema(){return this.rootSchema}getValidator(){return this.validator}doesSchemaUtilsDiffer(t,Ke,Ye={},Je){return!t||!Ke?!1:this.validator!==t||!deepEquals(this.rootSchema,Ke)||!deepEquals(this.experimental_defaultFormStateBehavior,Ye)||this.experimental_customMergeAllOf!==Je}findFieldInSchema(t,Ke,Ye){return findFieldInSchema(this.validator,this.rootSchema,t,Ke,Ye,this.experimental_customMergeAllOf)}findSelectedOptionInXxxOf(t,Ke,Ye,Je){return findSelectedOptionInXxxOf(this.validator,this.rootSchema,t,Ke,Ye,Je,this.experimental_customMergeAllOf)}getDefaultFormState(t,Ke,Ye=!1){return getDefaultFormState(this.validator,t,Ke,this.rootSchema,Ye,this.experimental_defaultFormStateBehavior,this.experimental_customMergeAllOf)}getDisplayLabel(t,Ke,Ye){return getDisplayLabel(this.validator,t,Ke,this.rootSchema,Ye,this.experimental_customMergeAllOf)}getClosestMatchingOption(t,Ke,Ye,Je){return getClosestMatchingOption(this.validator,this.rootSchema,t,Ke,Ye,Je,this.experimental_customMergeAllOf)}getFirstMatchingOption(t,Ke,Ye){return getFirstMatchingOption(this.validator,t,Ke,this.rootSchema,Ye)}getFromSchema(t,Ke,Ye){return getFromSchema(this.validator,this.rootSchema,t,Ke,Ye,this.experimental_customMergeAllOf)}isFilesArray(t,Ke){return isFilesArray(this.validator,t,Ke,this.rootSchema,this.experimental_customMergeAllOf)}isMultiSelect(t){return isMultiSelect(this.validator,t,this.rootSchema,this.experimental_customMergeAllOf)}isSelect(t){return isSelect(this.validator,t,this.rootSchema,this.experimental_customMergeAllOf)}retrieveSchema(t,Ke){return retrieveSchema(this.validator,t,this.rootSchema,Ke,this.experimental_customMergeAllOf)}sanitizeDataForNewSchema(t,Ke,Ye){return sanitizeDataForNewSchema(this.validator,this.rootSchema,t,Ke,Ye,this.experimental_customMergeAllOf)}toIdSchema(t,Ke,Ye,Je="root",Xe="_"){return toIdSchema(this.validator,t,Ke,this.rootSchema,Ye,Je,Xe,this.experimental_customMergeAllOf)}toPathSchema(t,Ke,Ye){return toPathSchema(this.validator,t,Ke,this.rootSchema,Ye,this.experimental_customMergeAllOf)}}function createSchemaUtils(e,t,Ke={},Ye){return new SchemaUtils(e,t,Ke,Ye)}function dataURItoBlob(e){var t;if(e.indexOf("data:")===-1)throw new Error("File is invalid: URI must be a dataURI");const Ye=e.slice(5).split(";base64,");if(Ye.length!==2)throw new Error("File is invalid: dataURI must be base64");const[Je,Xe]=Ye,[et,...tt]=Je.split(";"),rt=et||"",st=decodeURI(((t=tt.map(at=>at.split("=")).find(([at])=>at==="name"))===null||t===void 0?void 0:t[1])||"unknown");try{const at=atob(Xe),nt=new Array(at.length);for(let ot=0;ot<at.length;ot++)nt[ot]=at.charCodeAt(ot);return{blob:new window.Blob([new Uint8Array(nt)],{type:rt}),name:st}}catch(at){throw new Error("File is invalid: "+at.message)}}function pad(e,t){let Ke=String(e);for(;Ke.length<t;)Ke="0"+Ke;return Ke}function dateRangeOptions(e,t){if(e<=0&&t<=0)e=new Date().getFullYear()+e,t=new Date().getFullYear()+t;else if(e<0||t<0)throw new Error(`Both start (${e}) and stop (${t}) must both be <= 0 or > 0, got one of each`);if(e>t)return dateRangeOptions(t,e).reverse();const Ke=[];for(let Ye=e;Ye<=t;Ye++)Ke.push({value:Ye,label:pad(Ye,2)});return Ke}function shallowEquals(e,t){if(Object.is(e,t))return!0;if(e==null||t==null||typeof e!="object"||typeof t!="object")return!1;const Ke=Object.keys(e),Ye=Object.keys(t);if(Ke.length!==Ye.length)return!1;for(let Je=0;Je<Ke.length;Je++){const Xe=Ke[Je];if(!Object.prototype.hasOwnProperty.call(t,Xe)||!Object.is(e[Xe],t[Xe]))return!1}return!0}function replaceStringParameters(e,t){let Ke=e;if(Array.isArray(t)){const Ye=Ke.split(/(%\d)/);t.forEach((Je,Xe)=>{const et=Ye.findIndex(tt=>tt===`%${Xe+1}`);et>=0&&(Ye[et]=Je)}),Ke=Ye.join("")}return Ke}function englishStringTranslator(e,t){return replaceStringParameters(e,t)}function enumOptionsValueForIndex(e,t=[],Ke){if(Array.isArray(e))return e.map(Xe=>enumOptionsValueForIndex(Xe,t)).filter(Xe=>Xe!==Ke);const Ye=e===""||e===null?-1:Number(e),Je=t[Ye];return Je?Je.value:Ke}function enumOptionsDeselectValue(e,t,Ke=[]){const Ye=enumOptionsValueForIndex(e,Ke);return Array.isArray(t)?t.filter(Je=>!deepEquals(Je,Ye)):deepEquals(Ye,t)?void 0:t}function enumOptionsIsSelected(e,t){return Array.isArray(t)?t.some(Ke=>deepEquals(Ke,e)):deepEquals(t,e)}function enumOptionsIndexForValue(e,t=[],Ke=!1){const Ye=t.map((Je,Xe)=>enumOptionsIsSelected(Je.value,e)?String(Xe):void 0).filter(Je=>typeof Je<"u");return Ke?Ye:Ye[0]}function enumOptionsSelectValue(e,t,Ke=[]){const Ye=enumOptionsValueForIndex(e,Ke);if(!isNil(Ye)){const Je=Ke.findIndex(tt=>Ye===tt.value),Xe=Ke.map(({value:tt})=>tt);return t.slice(0,Je).concat(Ye,t.slice(Je)).sort((tt,rt)=>+(Xe.indexOf(tt)>Xe.indexOf(rt)))}return t}var CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(e){return baseClone(e,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}function setWith(e,t,Ke,Ye){return Ye=typeof Ye=="function"?Ye:void 0,e==null?e:baseSet(e,t,Ke,Ye)}class ErrorSchemaBuilder{constructor(t){this.errorSchema={},this.resetAllErrors(t)}get ErrorSchema(){return this.errorSchema}getOrCreateErrorBlock(t){let Ye=Array.isArray(t)&&t.length>0||typeof t=="string"?get(this.errorSchema,t):this.errorSchema;return!Ye&&t&&(Ye={},setWith(this.errorSchema,t,Ye,Object)),Ye}resetAllErrors(t){return this.errorSchema=t?cloneDeep(t):{},this}addErrors(t,Ke){const Ye=this.getOrCreateErrorBlock(Ke);let Je=get(Ye,ERRORS_KEY);return Array.isArray(Je)||(Je=[],Ye[ERRORS_KEY]=Je),Array.isArray(t)?set(Ye,ERRORS_KEY,[...new Set([...Je,...t])]):set(Ye,ERRORS_KEY,[...new Set([...Je,t])]),this}setErrors(t,Ke){const Ye=this.getOrCreateErrorBlock(Ke),Je=Array.isArray(t)?[...new Set([...t])]:[t];return set(Ye,ERRORS_KEY,Je),this}clearErrors(t){const Ke=this.getOrCreateErrorBlock(t);return set(Ke,ERRORS_KEY,[]),this}}function getDateElementProps(e,t,Ke=[1900,new Date().getFullYear()+2],Ye="YMD"){const{day:Je,month:Xe,year:et,hour:tt,minute:rt,second:st}=e,at={type:"day",range:[1,31],value:Je},nt={type:"month",range:[1,12],value:Xe},it={type:"year",range:Ke,value:et},ot=[];switch(Ye){case"MDY":ot.push(nt,at,it);break;case"DMY":ot.push(at,nt,it);break;case"YMD":default:ot.push(it,nt,at)}return t&&ot.push({type:"hour",range:[0,23],value:tt},{type:"minute",range:[0,59],value:rt},{type:"second",range:[0,59],value:st}),ot}function rangeSpec(e){const t={};return e.multipleOf&&(t.step=e.multipleOf),(e.minimum||e.minimum===0)&&(t.min=e.minimum),(e.maximum||e.maximum===0)&&(t.max=e.maximum),t}function getInputProps(e,t,Ke={},Ye=!0){const Je={type:t||"text",...rangeSpec(e)};return Ke.inputType?Je.type=Ke.inputType:t||(e.type==="number"?(Je.type="number",Ye&&Je.step===void 0&&(Je.step="any")):e.type==="integer"&&(Je.type="number",Je.step===void 0&&(Je.step=1))),Ke.autocomplete&&(Je.autoComplete=Ke.autocomplete),Ke.accept&&(Je.accept=Ke.accept),Je}const DEFAULT_OPTIONS={props:{disabled:!1},submitText:"Submit",norender:!1};function getSubmitButtonOptions(e={}){const t=getUiOptions(e);if(t&&t[SUBMIT_BTN_OPTIONS_KEY]){const Ke=t[SUBMIT_BTN_OPTIONS_KEY];return{...DEFAULT_OPTIONS,...Ke}}return DEFAULT_OPTIONS}function getTemplate(e,t,Ke={}){const{templates:Ye}=t;if(e==="ButtonTemplates")return Ye[e];if(Object.hasOwn(Ke,e)&&typeof Ke[e]=="string"&&Object.hasOwn(Ye,Ke[e])){const Je=Ke[e];return Ye[Je]}return Ke[e]||Ye[e]}var idCounter=0;function uniqueId(e){var t=++idCounter;return toString(e)+t}function getTestIds(){if(typeof process>"u"||get(process,"env.NODE_ENV")!=="test")return{};const e=new Map;return new Proxy({},{get(t,Ke){return e.has(Ke)||e.set(Ke,uniqueId("test-id-")),e.get(Ke)}})}var reactIs={exports:{}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production_min;function requireReactIs_production_min(){if(hasRequiredReactIs_production_min)return reactIs_production_min;hasRequiredReactIs_production_min=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),Ke=Symbol.for("react.fragment"),Ye=Symbol.for("react.strict_mode"),Je=Symbol.for("react.profiler"),Xe=Symbol.for("react.provider"),et=Symbol.for("react.context"),tt=Symbol.for("react.server_context"),rt=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),nt=Symbol.for("react.memo"),it=Symbol.for("react.lazy"),ot=Symbol.for("react.offscreen"),lt;lt=Symbol.for("react.module.reference");function ut(ft){if(typeof ft=="object"&&ft!==null){var ct=ft.$$typeof;switch(ct){case e:switch(ft=ft.type,ft){case Ke:case Je:case Ye:case st:case at:return ft;default:switch(ft=ft&&ft.$$typeof,ft){case tt:case et:case rt:case it:case nt:case Xe:return ft;default:return ct}}case t:return ct}}}return reactIs_production_min.ContextConsumer=et,reactIs_production_min.ContextProvider=Xe,reactIs_production_min.Element=e,reactIs_production_min.ForwardRef=rt,reactIs_production_min.Fragment=Ke,reactIs_production_min.Lazy=it,reactIs_production_min.Memo=nt,reactIs_production_min.Portal=t,reactIs_production_min.Profiler=Je,reactIs_production_min.StrictMode=Ye,reactIs_production_min.Suspense=st,reactIs_production_min.SuspenseList=at,reactIs_production_min.isAsyncMode=function(){return!1},reactIs_production_min.isConcurrentMode=function(){return!1},reactIs_production_min.isContextConsumer=function(ft){return ut(ft)===et},reactIs_production_min.isContextProvider=function(ft){return ut(ft)===Xe},reactIs_production_min.isElement=function(ft){return typeof ft=="object"&&ft!==null&&ft.$$typeof===e},reactIs_production_min.isForwardRef=function(ft){return ut(ft)===rt},reactIs_production_min.isFragment=function(ft){return ut(ft)===Ke},reactIs_production_min.isLazy=function(ft){return ut(ft)===it},reactIs_production_min.isMemo=function(ft){return ut(ft)===nt},reactIs_production_min.isPortal=function(ft){return ut(ft)===t},reactIs_production_min.isProfiler=function(ft){return ut(ft)===Je},reactIs_production_min.isStrictMode=function(ft){return ut(ft)===Ye},reactIs_production_min.isSuspense=function(ft){return ut(ft)===st},reactIs_production_min.isSuspenseList=function(ft){return ut(ft)===at},reactIs_production_min.isValidElementType=function(ft){return typeof ft=="string"||typeof ft=="function"||ft===Ke||ft===Je||ft===Ye||ft===st||ft===at||ft===ot||typeof ft=="object"&&ft!==null&&(ft.$$typeof===it||ft.$$typeof===nt||ft.$$typeof===Xe||ft.$$typeof===et||ft.$$typeof===rt||ft.$$typeof===lt||ft.getModuleId!==void 0)},reactIs_production_min.typeOf=ut,reactIs_production_min}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production_min()),reactIs.exports}var reactIsExports=requireReactIs();const ReactIs=getDefaultExportFromCjs(reactIsExports),widgetMap={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",time:"TimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function mergeWidgetOptions(e){let t=get(e,"MergedWidget");if(!t){const Ke=e.defaultProps&&e.defaultProps.options||{};t=({options:Ye,...Je})=>jsxRuntimeExports.jsx(e,{options:{...Ke,...Ye},...Je}),set(e,"MergedWidget",t)}return t}function getWidget(e,t,Ke={}){const Ye=getSchemaType(e);if(typeof t=="function"||t&&ReactIs.isForwardRef(reactExports.createElement(t))||ReactIs.isMemo(t))return mergeWidgetOptions(t);if(typeof t!="string")throw new Error(`Unsupported widget definition: ${typeof t}`);if(t in Ke){const Je=Ke[t];return getWidget(e,Je,Ke)}if(typeof Ye=="string"){if(!(Ye in widgetMap))throw new Error(`No widget for type '${Ye}'`);if(t in widgetMap[Ye]){const Je=Ke[widgetMap[Ye][t]];return getWidget(e,Je,Ke)}}throw new Error(`No widget '${t}' for type '${Ye}'`)}function hashString(e){let t=0;for(let Ke=0;Ke<e.length;Ke+=1){const Ye=e.charCodeAt(Ke);t=(t<<5)-t+Ye,t=t&t}return t.toString(16)}function sortedJSONStringify(e){const t=new Set;return JSON.stringify(e,(Ke,Ye)=>(t.add(Ke),Ye)),JSON.stringify(e,Array.from(t).sort())}function hashObject(e){return hashString(sortedJSONStringify(e))}function hashForSchema(e){return hashObject(e)}function hasWidget(e,t,Ke={}){try{return getWidget(e,t,Ke),!0}catch(Ye){const Je=Ye;if(Je.message&&(Je.message.startsWith("No widget")||Je.message.startsWith("Unsupported widget")))return!1;throw Ye}}function idGenerator(e,t){return`${isString$1(e)?e:e[ID_KEY]}__${t}`}function descriptionId(e){return idGenerator(e,"description")}function errorId(e){return idGenerator(e,"error")}function examplesId(e){return idGenerator(e,"examples")}function helpId(e){return idGenerator(e,"help")}function titleId(e){return idGenerator(e,"title")}function ariaDescribedByIds(e,t=!1){const Ke=t?` ${examplesId(e)}`:"";return`${errorId(e)} ${descriptionId(e)} ${helpId(e)}${Ke}`}function optionId(e,t){return`${e}-${t}`}function buttonId(e,t){return idGenerator(e,t)}function labelValue(e,t,Ke){return t?Ke:e}function localToUTC(e){return e?new Date(e).toJSON():void 0}function lookupFromFormContext(e,t,Ke){const Ye=[LOOKUP_MAP_NAME];return has(e,FORM_CONTEXT_NAME)&&Ye.unshift(FORM_CONTEXT_NAME),get(e,[...Ye,t],Ke)}function orderProperties(e,t){if(!Array.isArray(t))return e;const Ke=at=>at.reduce((nt,it)=>(nt[it]=!0,nt),{}),Ye=at=>at.length>1?`properties '${at.join("', '")}'`:`property '${at[0]}'`,Je=Ke(e),Xe=t.filter(at=>at==="*"||Je[at]),et=Ke(Xe),tt=e.filter(at=>!et[at]),rt=Xe.indexOf("*");if(rt===-1){if(tt.length)throw new Error(`uiSchema order list does not contain ${Ye(tt)}`);return Xe}if(rt!==Xe.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");const st=[...Xe];return st.splice(rt,1,...tt),st}function parseDateString(e,t=!0){if(!e)return{year:-1,month:-1,day:-1,hour:t?-1:0,minute:t?-1:0,second:t?-1:0};const Ke=new Date(e);if(Number.isNaN(Ke.getTime()))throw new Error("Unable to parse date "+e);return{year:Ke.getUTCFullYear(),month:Ke.getUTCMonth()+1,day:Ke.getUTCDate(),hour:t?Ke.getUTCHours():0,minute:t?Ke.getUTCMinutes():0,second:t?Ke.getUTCSeconds():0}}function schemaRequiresTrueValue(e){if(e.const||e.enum&&e.enum.length===1&&e.enum[0]===!0)return!0;if(e.anyOf&&e.anyOf.length===1)return schemaRequiresTrueValue(e.anyOf[0]);if(e.oneOf&&e.oneOf.length===1)return schemaRequiresTrueValue(e.oneOf[0]);if(e.allOf){const t=Ke=>schemaRequiresTrueValue(Ke);return e.allOf.some(t)}return!1}function shouldRender(e,t,Ke,Ye="customDeep"){if(Ye==="always")return!0;if(Ye==="shallow"){const{props:et,state:tt}=e;return!shallowEquals(et,t)||!shallowEquals(tt,Ke)}const{props:Je,state:Xe}=e;return!deepEquals(Je,t)||!deepEquals(Xe,Ke)}function toDateString(e,t=!0){const{year:Ke,month:Ye,day:Je,hour:Xe=0,minute:et=0,second:tt=0}=e,rt=Date.UTC(Ke,Ye-1,Je,Xe,et,tt),st=new Date(rt).toJSON();return t?st:st.slice(0,10)}function toErrorList(e,t=[]){if(!e)return[];let Ke=[];return ERRORS_KEY in e&&(Ke=Ke.concat(e[ERRORS_KEY].map(Ye=>{const Je=`.${t.join(".")}`;return{property:Je,message:Ye,stack:`${Je} ${Ye}`}}))),Object.keys(e).reduce((Ye,Je)=>{if(Je!==ERRORS_KEY){const Xe=e[Je];isPlainObject(Xe)&&(Ye=Ye.concat(toErrorList(Xe,[...t,Je])))}return Ye},Ke)}function toPath(e){return isArray(e)?arrayMap(e,toKey):isSymbol(e)?[e]:copyArray(stringToPath(toString(e)))}function toErrorSchema(e){const t=new ErrorSchemaBuilder;return e.length&&e.forEach(Ke=>{const{property:Ye,message:Je}=Ke,Xe=Ye==="."?[]:toPath(Ye);Xe.length>0&&Xe[0]===""&&Xe.splice(0,1),Je&&t.addErrors(Je,Xe)}),t.ErrorSchema}function unwrapErrorHandler(e){return Object.keys(e).reduce((t,Ke)=>{if(Ke==="addError")return t;{const Ye=e[Ke];return isPlainObject(Ye)?{...t,[Ke]:unwrapErrorHandler(Ye)}:{...t,[Ke]:Ye}}},{})}function utcToLocal(e){if(!e)return"";const t=new Date(e),Ke=pad(t.getFullYear(),4),Ye=pad(t.getMonth()+1,2),Je=pad(t.getDate(),2),Xe=pad(t.getHours(),2),et=pad(t.getMinutes(),2),tt=pad(t.getSeconds(),2),rt=pad(t.getMilliseconds(),3);return`${Ke}-${Ye}-${Je}T${Xe}:${et}:${tt}.${rt}`}function validationDataMerge(e,t){if(!t)return e;const{errors:Ke,errorSchema:Ye}=e;let Je=toErrorList(t),Xe=t;return isEmpty(Ye)||(Xe=mergeObjects(Ye,t,!0),Je=[...Ke].concat(Je)),{errorSchema:Xe,errors:Je}}function withIdRefPrefixObject(e){for(const t in e){const Ke=e,Ye=Ke[t];t===REF_KEY&&typeof Ye=="string"&&Ye.startsWith("#")?Ke[t]=ROOT_SCHEMA_PREFIX+Ye:Ke[t]=withIdRefPrefix(Ye)}return e}function withIdRefPrefixArray(e){for(let t=0;t<e.length;t++)e[t]=withIdRefPrefix(e[t]);return e}function withIdRefPrefix(e){return Array.isArray(e)?withIdRefPrefixArray([...e]):isObject(e)?withIdRefPrefixObject({...e}):e}function basePickBy(e,t,Ke){for(var Ye=-1,Je=t.length,Xe={};++Ye<Je;){var et=t[Ye],tt=baseGet(e,et);Ke(tt,et)&&baseSet(Xe,castPath(et,e),tt)}return Xe}function pickBy(e,t){if(e==null)return{};var Ke=arrayMap(getAllKeysIn(e),function(Ye){return[Ye]});return t=baseIteratee(t),basePickBy(e,Ke,function(Ye,Je){return t(Ye,Je[0])})}var LARGE_ARRAY_SIZE=200;function baseDifference(e,t,Ke,Ye){var Je=-1,Xe=arrayIncludes,et=!0,tt=e.length,rt=[],st=t.length;if(!tt)return rt;t.length>=LARGE_ARRAY_SIZE&&(Xe=cacheHas,et=!1,t=new SetCache(t));e:for(;++Je<tt;){var at=e[Je],nt=at;if(at=at!==0?at:0,et&&nt===nt){for(var it=st;it--;)if(t[it]===nt)continue e;rt.push(at)}else Xe(t,nt,Ye)||rt.push(at)}return rt}var difference=baseRest(function(e,t){return isArrayLikeObject(e)?baseDifference(e,baseFlatten(t,1,isArrayLikeObject,!0)):[]});function getChangedFields(e,t){const Ke=isPlainObject(e),Ye=isPlainObject(t);if(e===t||!Ke&&!Ye)return[];if(Ke&&!Ye)return keys(e);if(!Ke&&Ye)return keys(t);{const Je=keys(pickBy(e,(et,tt)=>!deepEquals(et,get(t,tt)))),Xe=difference(keys(t),keys(e));return[...Je,...Xe]}}var TranslatableString;(function(e){e.ArrayItemTitle="Item",e.MissingItems="Missing items definition",e.EmptyArray="No items yet. Use the button below to add some.",e.YesLabel="Yes",e.NoLabel="No",e.CloseLabel="Close",e.ErrorsLabel="Errors",e.NewStringDefault="New Value",e.AddButton="Add",e.AddItemButton="Add Item",e.CopyButton="Copy",e.MoveDownButton="Move down",e.MoveUpButton="Move up",e.RemoveButton="Remove",e.NowLabel="Now",e.ClearLabel="Clear",e.AriaDateLabel="Select a date",e.PreviewLabel="Preview",e.DecrementAriaLabel="Decrease value by 1",e.IncrementAriaLabel="Increase value by 1",e.UnknownFieldType="Unknown field type %1",e.OptionPrefix="Option %1",e.TitleOptionPrefix="%1 option %2",e.KeyLabel="%1 Key",e.InvalidObjectField='Invalid "%1" object field configuration: _%2_.',e.UnsupportedField="Unsupported field schema.",e.UnsupportedFieldWithId="Unsupported field schema for field `%1`.",e.UnsupportedFieldWithReason="Unsupported field schema: _%1_.",e.UnsupportedFieldWithIdAndReason="Unsupported field schema for field `%1`: _%2_.",e.FilesInfo="**%1** (%2, %3 bytes)"})(TranslatableString||(TranslatableString={}));function forEach(e,t){var Ke=isArray(e)?arrayEach:baseEach;return Ke(e,castFunction(t))}function basePick(e,t){return basePickBy(e,t,function(Ke,Ye){return hasIn(e,Ye)})}var pick=flatRest(function(e,t){return e==null?{}:basePick(e,t)});function generateRowId(){return uniqueId("rjsf-array-item-")}function generateKeyedFormData(e){return Array.isArray(e)?e.map(t=>({key:generateRowId(),item:t})):[]}function keyedToPlainFormData(e){return Array.isArray(e)?e.map(t=>t.item):[]}class ArrayField extends reactExports.Component{constructor(t){super(t);const{formData:Ke=[]}=t,Ye=generateKeyedFormData(Ke);this.state={keyedFormData:Ye,updatedKeyedFormData:!1}}static getDerivedStateFromProps(t,Ke){if(Ke.updatedKeyedFormData)return{updatedKeyedFormData:!1};const Ye=Array.isArray(t.formData)?t.formData:[],Je=Ke.keyedFormData||[];return{keyedFormData:Ye.length===Je.length?Je.map((et,tt)=>({key:et.key,item:Ye[tt]})):generateKeyedFormData(Ye)}}get itemTitle(){const{schema:t,registry:Ke}=this.props,{translateString:Ye}=Ke;return get(t,[ITEMS_KEY,"title"],get(t,[ITEMS_KEY,"description"],Ye(TranslatableString.ArrayItemTitle)))}isItemRequired(t){return Array.isArray(t.type)?!t.type.includes("null"):t.type!=="null"}canAddItem(t){const{schema:Ke,uiSchema:Ye,registry:Je}=this.props;let{addable:Xe}=getUiOptions(Ye,Je.globalUiOptions);return Xe!==!1&&(Ke.maxItems!==void 0?Xe=t.length<Ke.maxItems:Xe=!0),Xe}_getNewFormDataRow=()=>{const{schema:t,registry:Ke}=this.props,{schemaUtils:Ye}=Ke;let Je=t.items;return isFixedItems(t)&&allowAdditionalItems(t)&&(Je=t.additionalItems),Ye.getDefaultFormState(Je)};_handleAddClick(t,Ke){t&&t.preventDefault();const{onChange:Ye,errorSchema:Je}=this.props,{keyedFormData:Xe}=this.state;let et;if(Je){et={};for(const st in Je){const at=parseInt(st);Ke===void 0||at<Ke?set(et,[at],Je[st]):at>=Ke&&set(et,[at+1],Je[st])}}const tt={key:generateRowId(),item:this._getNewFormDataRow()},rt=[...Xe];Ke!==void 0?rt.splice(Ke,0,tt):rt.push(tt),this.setState({keyedFormData:rt,updatedKeyedFormData:!0},()=>Ye(keyedToPlainFormData(rt),[],et))}onAddClick=t=>{this._handleAddClick(t)};onAddIndexClick=t=>Ke=>{this._handleAddClick(Ke,t)};onCopyIndexClick=t=>Ke=>{Ke&&Ke.preventDefault();const{onChange:Ye,errorSchema:Je}=this.props,{keyedFormData:Xe}=this.state;let et;if(Je){et={};for(const st in Je){const at=parseInt(st);at<=t?set(et,[at],Je[st]):at>t&&set(et,[at+1],Je[st])}}const tt={key:generateRowId(),item:cloneDeep(Xe[t].item)},rt=[...Xe];t!==void 0?rt.splice(t+1,0,tt):rt.push(tt),this.setState({keyedFormData:rt,updatedKeyedFormData:!0},()=>Ye(keyedToPlainFormData(rt),[],et))};onDropIndexClick=t=>Ke=>{Ke&&Ke.preventDefault();const{onChange:Ye,errorSchema:Je}=this.props,{keyedFormData:Xe}=this.state;let et;if(Je){et={};for(const rt in Je){const st=parseInt(rt);st<t?set(et,[st],Je[rt]):st>t&&set(et,[st-1],Je[rt])}}const tt=Xe.filter((rt,st)=>st!==t);this.setState({keyedFormData:tt,updatedKeyedFormData:!0},()=>Ye(keyedToPlainFormData(tt),[],et))};onReorderClick=(t,Ke)=>Ye=>{Ye&&(Ye.preventDefault(),Ye.currentTarget.blur());const{onChange:Je,errorSchema:Xe}=this.props;let et;if(Xe){et={};for(const at in Xe){const nt=parseInt(at);nt==t?set(et,[Ke],Xe[t]):nt==Ke?set(et,[t],Xe[Ke]):set(et,[at],Xe[nt])}}const{keyedFormData:tt}=this.state;function rt(){const at=tt.slice();return at.splice(t,1),at.splice(Ke,0,tt[t]),at}const st=rt();this.setState({keyedFormData:st},()=>Je(keyedToPlainFormData(st),[],et))};onChangeForIndex=t=>(Ke,Ye,Je,Xe)=>{const{onChange:et}=this.props,tt=Array.isArray(Ye)?Ye.slice():[];tt.unshift(t),et(Ke===void 0?null:Ke,tt,Je,Xe)};onSelectChange=t=>{const{onChange:Ke,idSchema:Ye}=this.props;Ke(t,[],void 0,Ye&&Ye.$id)};computeItemUiSchema(t,Ke,Ye,Je){if(typeof t.items=="function")try{return t.items(Ke,Ye,Je)}catch(Xe){console.error(`Error executing dynamic uiSchema.items function for item at index ${Ye}:`,Xe);return}else return t.items}render(){const{schema:t,uiSchema:Ke,idSchema:Ye,registry:Je}=this.props,{schemaUtils:Xe,translateString:et}=Je;if(!(ITEMS_KEY in t)){const tt=getUiOptions(Ke),rt=getTemplate("UnsupportedFieldTemplate",Je,tt);return jsxRuntimeExports.jsx(rt,{schema:t,idSchema:Ye,reason:et(TranslatableString.MissingItems),registry:Je})}return Xe.isMultiSelect(t)?this.renderMultiSelect():isCustomWidget(Ke)?this.renderCustomWidget():isFixedItems(t)?this.renderFixedArray():Xe.isFilesArray(t,Ke)?this.renderFiles():this.renderNormalArray()}renderNormalArray(){const{schema:t,uiSchema:Ke={},errorSchema:Ye,idSchema:Je,name:Xe,title:et,disabled:tt=!1,readonly:rt=!1,autofocus:st=!1,required:at=!1,registry:nt,onBlur:it,onFocus:ot,idPrefix:lt,idSeparator:ut="_",rawErrors:ft}=this.props,{keyedFormData:ct}=this.state,dt=t.title||et||Xe,{schemaUtils:ht,formContext:xt}=nt,vt=getUiOptions(Ke),bt=isObject(t.items)?t.items:{},_t=ht.retrieveSchema(bt),Ct=keyedToPlainFormData(this.state.keyedFormData),Rt=this.canAddItem(Ct),jt={canAdd:Rt,items:ct.map((Et,pt)=>{const{key:mt,item:gt}=Et,St=gt,wt=ht.retrieveSchema(bt,St),$t=Ye?Ye[pt]:void 0,Tt=Je.$id+ut+pt,At=ht.toIdSchema(wt,Tt,St,lt,ut),Dt=this.computeItemUiSchema(Ke,gt,pt,xt);return this.renderArrayFieldItem({key:mt,index:pt,name:Xe&&`${Xe}-${pt}`,title:dt?`${dt}-${pt+1}`:void 0,canAdd:Rt,canMoveUp:pt>0,canMoveDown:pt<Ct.length-1,itemSchema:wt,itemIdSchema:At,itemErrorSchema:$t,itemData:St,itemUiSchema:Dt,autofocus:st&&pt===0,onBlur:it,onFocus:ot,rawErrors:ft,totalItems:ct.length})}),className:`rjsf-field rjsf-field-array rjsf-field-array-of-${_t.type}`,disabled:tt,idSchema:Je,uiSchema:Ke,onAddClick:this.onAddClick,readonly:rt,required:at,schema:t,title:dt,formContext:xt,formData:Ct,rawErrors:ft,registry:nt},yt=getTemplate("ArrayFieldTemplate",nt,vt);return jsxRuntimeExports.jsx(yt,{...jt})}renderCustomWidget(){const{schema:t,idSchema:Ke,uiSchema:Ye,disabled:Je=!1,readonly:Xe=!1,autofocus:et=!1,required:tt=!1,hideError:rt,placeholder:st,onBlur:at,onFocus:nt,formData:it=[],registry:ot,rawErrors:lt,name:ut}=this.props,{widgets:ft,formContext:ct,globalUiOptions:dt,schemaUtils:ht}=ot,{widget:xt,title:vt,...bt}=getUiOptions(Ye,dt),_t=getWidget(t,xt,ft),Ct=vt??t.title??ut,Rt=ht.getDisplayLabel(t,Ye,dt);return jsxRuntimeExports.jsx(_t,{id:Ke.$id,name:ut,multiple:!0,onChange:this.onSelectChange,onBlur:at,onFocus:nt,options:bt,schema:t,uiSchema:Ye,registry:ot,value:it,disabled:Je,readonly:Xe,hideError:rt,required:tt,label:Ct,hideLabel:!Rt,placeholder:st,formContext:ct,autofocus:et,rawErrors:lt})}renderMultiSelect(){const{schema:t,idSchema:Ke,uiSchema:Ye,formData:Je=[],disabled:Xe=!1,readonly:et=!1,autofocus:tt=!1,required:rt=!1,placeholder:st,onBlur:at,onFocus:nt,registry:it,rawErrors:ot,name:lt}=this.props,{widgets:ut,schemaUtils:ft,formContext:ct,globalUiOptions:dt}=it,ht=ft.retrieveSchema(t.items,Je),xt=optionsList(ht,Ye),{widget:vt="select",title:bt,..._t}=getUiOptions(Ye,dt),Ct=getWidget(t,vt,ut),Rt=bt??t.title??lt,jt=ft.getDisplayLabel(t,Ye,dt);return jsxRuntimeExports.jsx(Ct,{id:Ke.$id,name:lt,multiple:!0,onChange:this.onSelectChange,onBlur:at,onFocus:nt,options:{..._t,enumOptions:xt},schema:t,uiSchema:Ye,registry:it,value:Je,disabled:Xe,readonly:et,required:rt,label:Rt,hideLabel:!jt,placeholder:st,formContext:ct,autofocus:tt,rawErrors:ot})}renderFiles(){const{schema:t,uiSchema:Ke,idSchema:Ye,name:Je,disabled:Xe=!1,readonly:et=!1,autofocus:tt=!1,required:rt=!1,onBlur:st,onFocus:at,registry:nt,formData:it=[],rawErrors:ot}=this.props,{widgets:lt,formContext:ut,globalUiOptions:ft,schemaUtils:ct}=nt,{widget:dt="files",title:ht,...xt}=getUiOptions(Ke,ft),vt=getWidget(t,dt,lt),bt=ht??t.title??Je,_t=ct.getDisplayLabel(t,Ke,ft);return jsxRuntimeExports.jsx(vt,{options:xt,id:Ye.$id,name:Je,multiple:!0,onChange:this.onSelectChange,onBlur:st,onFocus:at,schema:t,uiSchema:Ke,value:it,disabled:Xe,readonly:et,required:rt,registry:nt,formContext:ut,autofocus:tt,rawErrors:ot,label:bt,hideLabel:!_t})}renderFixedArray(){const{schema:t,uiSchema:Ke={},formData:Ye=[],errorSchema:Je,idPrefix:Xe,idSeparator:et="_",idSchema:tt,name:rt,title:st,disabled:at=!1,readonly:nt=!1,autofocus:it=!1,required:ot=!1,registry:lt,onBlur:ut,onFocus:ft,rawErrors:ct}=this.props,{keyedFormData:dt}=this.state;let{formData:ht=[]}=this.props;const xt=t.title||st||rt,vt=getUiOptions(Ke),{schemaUtils:bt,formContext:_t}=lt,Rt=(isObject(t.items)?t.items:[]).map((mt,gt)=>bt.retrieveSchema(mt,Ye[gt])),jt=isObject(t.additionalItems)?bt.retrieveSchema(t.additionalItems,Ye):null;(!ht||ht.length<Rt.length)&&(ht=ht||[],ht=ht.concat(new Array(Rt.length-ht.length)));const yt=this.canAddItem(ht)&&!!jt,Et={canAdd:yt,className:"rjsf-field rjsf-field-array rjsf-field-array-fixed-items",disabled:at,idSchema:tt,formData:Ye,items:dt.map((mt,gt)=>{const{key:St,item:wt}=mt,$t=wt,Tt=gt>=Rt.length,At=(Tt&&isObject(t.additionalItems)?bt.retrieveSchema(t.additionalItems,$t):Rt[gt])||{},Dt=tt.$id+et+gt,It=bt.toIdSchema(At,Dt,$t,Xe,et);let Ot;Tt?Ot=Ke.additionalItems:Array.isArray(Ke.items)?Ot=Ke.items[gt]:Ot=this.computeItemUiSchema(Ke,wt,gt,_t);const Mt=Je?Je[gt]:void 0;return this.renderArrayFieldItem({key:St,index:gt,name:rt&&`${rt}-${gt}`,title:xt?`${xt}-${gt+1}`:void 0,canAdd:yt,canRemove:Tt,canMoveUp:gt>=Rt.length+1,canMoveDown:Tt&&gt<ht.length-1,itemSchema:At,itemData:$t,itemUiSchema:Ot,itemIdSchema:It,itemErrorSchema:Mt,autofocus:it&&gt===0,onBlur:ut,onFocus:ft,rawErrors:ct,totalItems:dt.length})}),onAddClick:this.onAddClick,readonly:nt,required:ot,registry:lt,schema:t,uiSchema:Ke,title:xt,formContext:_t,errorSchema:Je,rawErrors:ct},pt=getTemplate("ArrayFieldTemplate",lt,vt);return jsxRuntimeExports.jsx(pt,{...Et})}renderArrayFieldItem(t){const{key:Ke,index:Ye,name:Je,canAdd:Xe,canRemove:et=!0,canMoveUp:tt,canMoveDown:rt,itemSchema:st,itemData:at,itemUiSchema:nt,itemIdSchema:it,itemErrorSchema:ot,autofocus:lt,onBlur:ut,onFocus:ft,rawErrors:ct,totalItems:dt,title:ht}=t,{disabled:xt,hideError:vt,idPrefix:bt,idSeparator:_t,readonly:Ct,uiSchema:Rt,registry:jt,formContext:yt}=this.props,{fields:{ArraySchemaField:Et,SchemaField:pt},globalUiOptions:mt}=jt,gt=Et||pt,{orderable:St=!0,removable:wt=!0,copyable:$t=!1}=getUiOptions(Rt,mt),Tt={moveUp:St&&tt,moveDown:St&&rt,copy:$t&&Xe,remove:wt&&et,toolbar:!1};return Tt.toolbar=Object.keys(Tt).some(At=>Tt[At]),{children:jsxRuntimeExports.jsx(gt,{name:Je,title:ht,index:Ye,schema:st,uiSchema:nt,formData:at,formContext:yt,errorSchema:ot,idPrefix:bt,idSeparator:_t,idSchema:it,required:this.isItemRequired(st),onChange:this.onChangeForIndex(Ye),onBlur:ut,onFocus:ft,registry:jt,disabled:xt,readonly:Ct,hideError:vt,autofocus:lt,rawErrors:ct}),buttonsProps:{idSchema:it,disabled:xt,readonly:Ct,canAdd:Xe,hasCopy:Tt.copy,hasMoveUp:Tt.moveUp,hasMoveDown:Tt.moveDown,hasRemove:Tt.remove,index:Ye,totalItems:dt,onAddIndexClick:this.onAddIndexClick,onCopyIndexClick:this.onCopyIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,registry:jt,schema:st,uiSchema:nt},className:"rjsf-array-item",disabled:xt,hasToolbar:Tt.toolbar,index:Ye,totalItems:dt,key:Ke,readonly:Ct,registry:jt,schema:st,uiSchema:nt}}}function BooleanField(e){const{schema:t,name:Ke,uiSchema:Ye,idSchema:Je,formData:Xe,registry:et,required:tt,disabled:rt,readonly:st,hideError:at,autofocus:nt,title:it,onChange:ot,onFocus:lt,onBlur:ut,rawErrors:ft}=e,{title:ct}=t,{widgets:dt,formContext:ht,translateString:xt,globalUiOptions:vt}=et,{widget:bt="checkbox",title:_t,label:Ct=!0,enumNames:Rt,...jt}=getUiOptions(Ye,vt),yt=getWidget(t,bt,dt),Et=xt(TranslatableString.YesLabel),pt=xt(TranslatableString.NoLabel);let mt;const gt=_t??ct??it??Ke;if(Array.isArray(t.oneOf))mt=optionsList({oneOf:t.oneOf.map(wt=>{if(isObject(wt))return{...wt,title:wt.title||(wt.const===!0?Et:pt)}}).filter(wt=>wt)},Ye);else{const wt=t.enum??[!0,!1];!Rt&&wt.length===2&&wt.every($t=>typeof $t=="boolean")?mt=[{value:wt[0],label:wt[0]?Et:pt},{value:wt[1],label:wt[1]?Et:pt}]:mt=optionsList({enum:wt},Ye)}const St=reactExports.useCallback((wt,$t,Tt)=>ot(wt,[],$t,Tt),[ot]);return jsxRuntimeExports.jsx(yt,{options:{...jt,enumOptions:mt},schema:t,uiSchema:Ye,id:Je.$id,name:Ke,onChange:St,onFocus:lt,onBlur:ut,label:gt,hideLabel:!Ct,value:Xe,required:tt,disabled:rt,readonly:st,hideError:at,registry:et,formContext:ht,autofocus:nt,rawErrors:ft})}function baseValues(e,t){return arrayMap(t,function(Ke){return e[Ke]})}function values(e){return e==null?[]:baseValues(e,keys(e))}var nativeMax=Math.max;function includes(e,t,Ke,Ye){e=isArrayLike(e)?e:values(e),Ke=Ke?toInteger(Ke):0;var Je=e.length;return Ke<0&&(Ke=nativeMax(Je+Ke,0)),isString$1(e)?Ke<=Je&&e.indexOf(t,Ke)>-1:!!Je&&baseIndexOf(e,t,Ke)>-1}var nativeMin=Math.min;function baseIntersection(e,t,Ke){for(var Ye=arrayIncludes,Je=e[0].length,Xe=e.length,et=Xe,tt=Array(Xe),rt=1/0,st=[];et--;){var at=e[et];rt=nativeMin(at.length,rt),tt[et]=Je>=120&&at.length>=120?new SetCache(et&&at):void 0}at=e[0];var nt=-1,it=tt[0];e:for(;++nt<Je&&st.length<rt;){var ot=at[nt],lt=ot;if(ot=ot!==0?ot:0,!(it?cacheHas(it,lt):Ye(st,lt))){for(et=Xe;--et;){var ut=tt[et];if(!(ut?cacheHas(ut,lt):Ye(e[et],lt)))continue e}it&&it.push(lt),st.push(ot)}}return st}function castArrayLikeObject(e){return isArrayLikeObject(e)?e:[]}var intersection=baseRest(function(e){var t=arrayMap(e,castArrayLikeObject);return t.length&&t[0]===e[0]?baseIntersection(t):[]});function isUndefined(e){return e===void 0}var GridType;(function(e){e.ROW="ui:row",e.COLUMN="ui:col",e.COLUMNS="ui:columns",e.CONDITION="ui:condition"})(GridType||(GridType={}));var Operators;(function(e){e.ALL="all",e.SOME="some",e.NONE="none"})(Operators||(Operators={}));const LOOKUP_REGEX=/^\$lookup=(.+)/,LAYOUT_GRID_UI_OPTION="layoutGrid";function getNonNullishValue(e,t){return e??t}function isNumericIndex(e){return/^\d+?$/.test(e)}class LayoutGridField extends reactExports.PureComponent{static defaultProps={layoutGridSchema:void 0};static TEST_IDS=getTestIds();static computeFieldUiSchema(t,Ke,Ye,Je,Xe){const et=get(Ye,[UI_GLOBAL_OPTIONS_KEY],{}),tt=get(Ye,t),rt={...get(tt,[UI_OPTIONS_KEY],{}),...Ke,...et},st={...tt};isEmpty(rt)||set(st,[UI_OPTIONS_KEY],rt),isEmpty(et)||set(st,[UI_GLOBAL_OPTIONS_KEY],et);let{readonly:at}=getUiOptions(st);return(Xe===!0||isUndefined(at)&&Je===!0)&&(at=!0,has(rt,READONLY_KEY)?set(st,[UI_OPTIONS_KEY,READONLY_KEY],!0):set(st,`ui:${READONLY_KEY}`,!0)),{fieldUiSchema:st,uiReadonly:at}}static conditionMatches(t,Ke,Ye="$0m3tH1nG Un3xP3cT3d"){const Je=flatten([Ke]).sort(),Xe=flatten([Ye]).sort();switch(t){case Operators.ALL:return isEqual(Je,Xe);case Operators.SOME:return intersection(Je,Xe).length>0;case Operators.NONE:return intersection(Je,Xe).length===0;default:return!1}}static findChildrenAndProps(t,Ke,Ye){let Je={},Xe=t[Ke];if(isPlainObject(Xe)){const{children:et,className:tt,...rt}=Xe;if(Xe=et,tt){const at=tt.split(" ").map(nt=>lookupFromFormContext(Ye,nt,nt)).join(" ");Je={...rt,className:at}}else Je=rt}if(!Array.isArray(Xe))throw new TypeError(`Expected array for "${Ke}" in ${JSON.stringify(t)}`);return{children:Xe,gridProps:Je}}static getIdSchema(t,Ke,Ye,Je={},Xe){const et=get(Ke,ID_KEY);return t.toIdSchema(Je,et,Ye,et,Xe)}static computeArraySchemasIfPresent(t,Ke,Ye,Je){let Xe;if(isNumericIndex(Ye)&&t&&t?.type==="array"&&has(t,ITEMS_KEY)){const et=Number(Ye),tt=t[ITEMS_KEY];Array.isArray(tt)?et>tt.length?Xe=last(tt):Xe=tt[et]:Xe=tt,Ke={[ID_KEY]:`${Ke[ID_KEY]}${Je??"_"}${et}`}}return{rawSchema:Xe,idSchema:Ke}}static getSchemaDetailsForField(t,Ke,Ye,Je,Xe,et){let tt=Ye,rt=Xe;const st=Ke.split("."),at=st.pop();let nt=t.retrieveSchema(tt,Je),it=Je,ot=nt.readOnly;st.forEach(ft=>{if(has(nt,PROPERTIES_KEY))tt=get(nt,[PROPERTIES_KEY,ft],{}),rt=get(rt,ft,{});else if(nt&&(has(nt,ONE_OF_KEY)||has(nt,ANY_OF_KEY))){const ct=has(nt,ONE_OF_KEY)?ONE_OF_KEY:ANY_OF_KEY,dt=t.findSelectedOptionInXxxOf(nt,ft,ct,it),ht=LayoutGridField.getIdSchema(t,rt,Je,dt,et);tt=get(dt,[PROPERTIES_KEY,ft],{}),rt=get(ht,ft,{})}else{const ct=LayoutGridField.computeArraySchemasIfPresent(nt,rt,ft,et);tt=ct.rawSchema??{},rt=ct.idSchema}it=get(it,ft,{}),nt=t.retrieveSchema(tt,it),ot=getNonNullishValue(nt.readOnly,ot)});let lt,ut=!1;if(isEmpty(nt)&&(nt=void 0),nt&&at){if(nt&&(has(nt,ONE_OF_KEY)||has(nt,ANY_OF_KEY))){const ct=has(nt,ONE_OF_KEY)?ONE_OF_KEY:ANY_OF_KEY;nt=t.findSelectedOptionInXxxOf(nt,at,ct,it);const dt=LayoutGridField.getIdSchema(t,rt,Je,nt,et);rt=mergeObjects(dt,rt)}ut=nt!==void 0&&Array.isArray(nt.required)&&includes(nt.required,at);const ft=LayoutGridField.computeArraySchemasIfPresent(nt,rt,at,et);if(ft.rawSchema?(nt=ft.rawSchema,rt=ft.idSchema):(nt=get(nt,[PROPERTIES_KEY,at]),nt=nt&&t.retrieveSchema(nt),rt=get(rt,at,{})),ot=getNonNullishValue(nt?.readOnly,ot),nt&&(has(nt,ONE_OF_KEY)||has(nt,ANY_OF_KEY))){const ct=has(nt,ONE_OF_KEY)?ONE_OF_KEY:ANY_OF_KEY,dt=getDiscriminatorFieldFromSchema(nt);lt={options:nt[ct],hasDiscriminator:!!dt}}}return{schema:nt,isRequired:ut,isReadonly:ot,optionsInfo:lt,idSchema:rt}}static getCustomRenderComponent(t,Ke){let Ye=t;return isString$1(Ye)&&(Ye=lookupFromFormContext(Ke,Ye)),isFunction(Ye)?Ye:null}static computeUIComponentPropsFromGridSchema(t,Ke){let Ye,Je=null,Xe={},et;if(isString$1(Ke)||isUndefined(Ke))Ye=Ke??"";else{const{name:tt="",render:rt,...st}=Ke;Ye=tt,Xe=st,isEmpty(Xe)||forEach(Xe,(at,nt)=>{if(isString$1(at)){const it=LOOKUP_REGEX.exec(at);if(Array.isArray(it)&&it.length>1){const ot=it[1];Xe[nt]=lookupFromFormContext(t,ot,ot)}}}),Je=LayoutGridField.getCustomRenderComponent(rt,t),!tt&&Je&&(et=jsxRuntimeExports.jsx(Je,{...st,"data-testid":LayoutGridField.TEST_IDS.uiComponent}))}return{name:Ye,UIComponent:Je,uiProps:Xe,rendered:et}}constructor(t){super(t)}onFieldChange=t=>(Ke,Ye,Je,Xe)=>{const{onChange:et,errorSchema:tt}=this.props;let rt=tt;Je&&tt&&(rt=cloneDeep(tt),set(rt,t,Je)),et(Ke,t.split("."),rt,Xe)};renderCondition(t){const{formData:Ke,registry:Ye}=this.props,{children:Je,gridProps:Xe}=LayoutGridField.findChildrenAndProps(t,GridType.CONDITION,Ye),{operator:et,field:tt="",value:rt}=Xe,st=get(Ke,tt,null);return LayoutGridField.conditionMatches(et,st,rt)?this.renderChildren(Je):null}renderCol(t){const{registry:Ke,uiSchema:Ye}=this.props,{children:Je,gridProps:Xe}=LayoutGridField.findChildrenAndProps(t,GridType.COLUMN,Ke),et=getUiOptions(Ye),tt=getTemplate("GridTemplate",Ke,et);return jsxRuntimeExports.jsx(tt,{column:!0,"data-testid":LayoutGridField.TEST_IDS.col,...Xe,children:this.renderChildren(Je)})}renderColumns(t){const{registry:Ke,uiSchema:Ye}=this.props,{children:Je,gridProps:Xe}=LayoutGridField.findChildrenAndProps(t,GridType.COLUMNS,Ke),et=getUiOptions(Ye),tt=getTemplate("GridTemplate",Ke,et);return Je.map(rt=>jsxRuntimeExports.jsx(tt,{column:!0,"data-testid":LayoutGridField.TEST_IDS.col,...Xe,children:this.renderChildren([rt])},`column-${hashObject(rt)}`))}renderRow(t){const{registry:Ke,uiSchema:Ye}=this.props,{children:Je,gridProps:Xe}=LayoutGridField.findChildrenAndProps(t,GridType.ROW,Ke),et=getUiOptions(Ye),tt=getTemplate("GridTemplate",Ke,et);return jsxRuntimeExports.jsx(tt,{...Xe,"data-testid":LayoutGridField.TEST_IDS.row,children:this.renderChildren(Je)})}renderChildren(t){const{registry:Ke,schema:Ye,formData:Je}=this.props,{schemaUtils:Xe}=Ke,et=Xe.retrieveSchema(Ye,Je);return t.map(tt=>reactExports.createElement(LayoutGridField,{...this.props,key:`layoutGrid-${hashObject(tt)}`,schema:et,layoutGridSchema:tt}))}renderField(t){const{schema:Ke,uiSchema:Ye,errorSchema:Je,idSchema:Xe,onBlur:et,onFocus:tt,formData:rt,readonly:st,registry:at,idSeparator:nt,layoutGridSchema:it,...ot}=this.props,{fields:lt,schemaUtils:ut}=at,{SchemaField:ft,LayoutMultiSchemaField:ct}=lt,dt=LayoutGridField.computeUIComponentPropsFromGridSchema(at,t);if(dt.rendered)return dt.rendered;const{name:ht,UIComponent:xt,uiProps:vt}=dt,{schema:bt,isRequired:_t,isReadonly:Ct,optionsInfo:Rt,idSchema:jt}=LayoutGridField.getSchemaDetailsForField(ut,ht,Ke,rt,Xe,nt);if(bt){const yt=Rt?.hasDiscriminator?ct:ft,{fieldUiSchema:Et,uiReadonly:pt}=LayoutGridField.computeFieldUiSchema(ht,vt,Ye,Ct,st);return jsxRuntimeExports.jsx(yt,{"data-testid":Rt?.hasDiscriminator?LayoutGridField.TEST_IDS.layoutMultiSchemaField:LayoutGridField.TEST_IDS.field,...ot,name:ht,required:_t,readonly:pt,schema:bt,uiSchema:Et,errorSchema:get(Je,ht),idSchema:jt,idSeparator:nt,formData:get(rt,ht),onChange:this.onFieldChange(ht),onBlur:et,onFocus:tt,options:Rt?.options,registry:at})}return xt?jsxRuntimeExports.jsx(xt,{"data-testid":LayoutGridField.TEST_IDS.uiComponent,...ot,name:ht,required:_t,formData:rt,readOnly:!!Ct||st,errorSchema:Je,uiSchema:Ye,schema:Ke,idSchema:Xe,idSeparator:nt,onBlur:et,onFocus:tt,registry:at,...vt}):null}render(){const{uiSchema:t}=this.props;let{layoutGridSchema:Ke}=this.props;const Ye=getUiOptions(t);if(!Ke&&LAYOUT_GRID_UI_OPTION in Ye&&isObject(Ye[LAYOUT_GRID_UI_OPTION])&&(Ke=Ye[LAYOUT_GRID_UI_OPTION]),isObject(Ke)){if(GridType.ROW in Ke)return this.renderRow(Ke);if(GridType.COLUMN in Ke)return this.renderCol(Ke);if(GridType.COLUMNS in Ke)return this.renderColumns(Ke);if(GridType.CONDITION in Ke)return this.renderCondition(Ke)}return this.renderField(Ke)}}function LayoutHeaderField(e){const{idSchema:t,title:Ke,schema:Ye,uiSchema:Je,required:Xe,registry:et,name:tt}=e,rt=getUiOptions(Je,et.globalUiOptions),{title:st}=rt,{title:at}=Ye,nt=st||Ke||at||tt;if(!nt)return null;const it=getTemplate("TitleFieldTemplate",et,rt);return jsxRuntimeExports.jsx(it,{id:titleId(t),title:nt,required:Xe,schema:Ye,uiSchema:Je,registry:et})}function getSelectedOption(e,t,Ke){const Ye="!@#!@$@#$!@$#";return e.map(({schema:Xe})=>Xe).find(Xe=>{const et=get(Xe,[PROPERTIES_KEY,t]);return get(et,DEFAULT_KEY,get(et,CONST_KEY,Ye))===Ke})}function computeEnumOptions(e,t,Ke,Ye,Je){const Xe=t.map(rt=>Ke.retrieveSchema(rt,Je));let et=e;has(e,ONE_OF_KEY)?et={...e,[ONE_OF_KEY]:Xe}:has(e,ANY_OF_KEY)&&(et={...e,[ANY_OF_KEY]:Xe});const tt=optionsList(et,Ye);if(!tt)throw new Error(`No enumOptions were computed from the schema ${JSON.stringify(et)}`);return tt}function LayoutMultiSchemaField(e){const{name:t,baseType:Ke,disabled:Ye=!1,formData:Je,idSchema:Xe,onBlur:et,onChange:tt,options:rt,onFocus:st,registry:at,uiSchema:nt,schema:it,formContext:ot,autofocus:lt,readonly:ut,required:ft,errorSchema:ct,hideError:dt=!1}=e,{widgets:ht,schemaUtils:xt,globalUiOptions:vt}=at,[bt,_t]=reactExports.useState(computeEnumOptions(it,rt,xt,nt,Je)),Ct=get(Xe,ID_KEY),Rt=getDiscriminatorFieldFromSchema(it),jt=getTemplate("FieldErrorTemplate",at,rt),yt=getTemplate("FieldTemplate",at,rt),Et=hashObject(it),pt=hashObject(rt),mt=nt?hashObject(nt):"",gt=Je?hashObject(Je):"";reactExports.useEffect(()=>{_t(computeEnumOptions(it,rt,xt,nt,Je))},[Et,pt,xt,mt,gt]);const{widget:St=Rt?"radio":"select",title:wt="",placeholder:$t="",optionsSchemaSelector:Tt=Rt,hideError:At,...Dt}=getUiOptions(nt);if(!Tt)throw new Error("No selector field provided for the LayoutMultiSchemaField");const It=get(Je,Tt);let Ot=get(bt[0]?.schema,[PROPERTIES_KEY,Tt],{});const Mt=getSelectedOption(bt,Tt,It);Ot=Ot?.type?Ot:{...Ot,type:Mt?.type||Ke};const Kt=getWidget(Ot,St,ht),qt=At===void 0?dt:!!At,Bt=get(ct,[ERRORS_KEY],[]),kt=omit(ct,[ERRORS_KEY]),Nt=xt.getDisplayLabel(it,nt,vt),Pt=Zt=>{const Jt=getSelectedOption(bt,Tt,Zt),zt=getSelectedOption(bt,Tt,It);let Yt=xt.sanitizeDataForNewSchema(Jt,zt,Je);Yt&&Jt&&(Yt=xt.getDefaultFormState(Jt,Yt,"excludeObjectChildren")),Yt&&set(Yt,Tt,Zt),tt(Yt,[t],void 0,Ct)},Ft={enumOptions:bt,...Dt},Ut=!qt&&Bt.length>0?jsxRuntimeExports.jsx(jt,{idSchema:Xe,schema:it,errors:Bt,registry:at}):void 0,Ht=Zt=>noop;return jsxRuntimeExports.jsx(yt,{id:Ct,schema:it,label:(wt||it.title)??"",disabled:Ye||Array.isArray(bt)&&isEmpty(bt),uiSchema:nt,formContext:ot,required:ft,readonly:!!ut,registry:at,displayLabel:Nt,errors:Ut,onChange:tt,onDropPropertyClick:Ht,onKeyChange:Ht,children:jsxRuntimeExports.jsx(Kt,{id:Ct,name:t,schema:it,label:(wt||it.title)??"",disabled:Ye||Array.isArray(bt)&&isEmpty(bt),uiSchema:nt,formContext:ot,autofocus:lt,readonly:ut,required:ft,registry:at,multiple:!1,rawErrors:Bt,hideError:qt,hideLabel:!Nt,errorSchema:kt,placeholder:$t,onChange:Pt,onBlur:et,onFocus:st,value:It,options:Ft})})}class AnyOfField extends reactExports.Component{constructor(t){super(t);const{formData:Ke,options:Ye,registry:{schemaUtils:Je}}=this.props,Xe=Ye.map(et=>Je.retrieveSchema(et,Ke));this.state={retrievedOptions:Xe,selectedOption:this.getMatchingOption(0,Ke,Xe)}}componentDidUpdate(t,Ke){const{formData:Ye,options:Je,idSchema:Xe}=this.props,{selectedOption:et}=this.state;let tt=this.state;if(!deepEquals(t.options,Je)){const{registry:{schemaUtils:rt}}=this.props,st=Je.map(at=>rt.retrieveSchema(at,Ye));tt={selectedOption:et,retrievedOptions:st}}if(!deepEquals(Ye,t.formData)&&Xe.$id===t.idSchema.$id){const{retrievedOptions:rt}=tt,st=this.getMatchingOption(et,Ye,rt);Ke&&st!==et&&(tt={selectedOption:st,retrievedOptions:rt})}tt!==this.state&&this.setState(tt)}getMatchingOption(t,Ke,Ye){const{schema:Je,registry:{schemaUtils:Xe}}=this.props,et=getDiscriminatorFieldFromSchema(Je);return Xe.getClosestMatchingOption(Ke,Ye,t,et)}onOptionChange=t=>{const{selectedOption:Ke,retrievedOptions:Ye}=this.state,{formData:Je,onChange:Xe,registry:et}=this.props,{schemaUtils:tt}=et,rt=t!==void 0?parseInt(t,10):-1;if(rt===Ke)return;const st=rt>=0?Ye[rt]:void 0,at=Ke>=0?Ye[Ke]:void 0;let nt=tt.sanitizeDataForNewSchema(st,at,Je);st&&(nt=tt.getDefaultFormState(st,nt,"excludeObjectChildren")),this.setState({selectedOption:rt},()=>{Xe(nt,[],void 0,this.getFieldId())})};getFieldId(){const{idSchema:t,schema:Ke}=this.props;return`${t.$id}${Ke.oneOf?"__oneof_select":"__anyof_select"}`}render(){const{name:t,disabled:Ke=!1,errorSchema:Ye={},formContext:Je,onBlur:Xe,onFocus:et,readonly:tt,registry:rt,schema:st,uiSchema:at}=this.props,{widgets:nt,fields:it,translateString:ot,globalUiOptions:lt,schemaUtils:ut}=rt,{SchemaField:ft}=it,ct=getTemplate("MultiSchemaFieldTemplate",rt,lt),{selectedOption:dt,retrievedOptions:ht}=this.state,{widget:xt="select",placeholder:vt,autofocus:bt,autocomplete:_t,title:Ct=st.title,...Rt}=getUiOptions(at,lt),jt=getWidget({type:"number"},xt,nt),yt=get(Ye,ERRORS_KEY,[]),Et=omit(Ye,[ERRORS_KEY]),pt=ut.getDisplayLabel(st,at,lt),mt=dt>=0&&ht[dt]||null;let gt;if(mt){const{required:Ot}=st;gt=Ot?mergeSchemas({required:Ot},mt):mt}let St=[];ONE_OF_KEY in st&&at&&ONE_OF_KEY in at?Array.isArray(at[ONE_OF_KEY])?St=at[ONE_OF_KEY]:console.warn(`uiSchema.oneOf is not an array for "${Ct||t}"`):ANY_OF_KEY in st&&at&&ANY_OF_KEY in at&&(Array.isArray(at[ANY_OF_KEY])?St=at[ANY_OF_KEY]:console.warn(`uiSchema.anyOf is not an array for "${Ct||t}"`));let wt=at;dt>=0&&St.length>dt&&(wt=St[dt]);const $t=Ct?TranslatableString.TitleOptionPrefix:TranslatableString.OptionPrefix,Tt=Ct?[Ct]:[],At=ht.map((Ot,Mt)=>{const{title:Kt=Ot.title}=getUiOptions(St[Mt]);return{label:Kt||ot($t,Tt.concat(String(Mt+1))),value:Mt}}),Dt=jsxRuntimeExports.jsx(jt,{id:this.getFieldId(),name:`${t}${st.oneOf?"__oneof_select":"__anyof_select"}`,schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:Xe,onFocus:et,disabled:Ke||isEmpty(At),multiple:!1,rawErrors:yt,errorSchema:Et,value:dt>=0?dt:void 0,options:{enumOptions:At,...Rt},registry:rt,formContext:Je,placeholder:vt,autocomplete:_t,autofocus:bt,label:Ct??t,hideLabel:!pt,readonly:tt}),It=gt&&gt.type!=="null"&&jsxRuntimeExports.jsx(ft,{...this.props,schema:gt,uiSchema:wt})||null;return jsxRuntimeExports.jsx(ct,{schema:st,registry:rt,uiSchema:at,selector:Dt,optionSchemaField:It})}}const trailingCharMatcherWithPrefix=/\.([0-9]*0)*$/,trailingCharMatcher=/[0.]0*$/;function NumberField(e){const{registry:t,onChange:Ke,formData:Ye,value:Je}=e,[Xe,et]=reactExports.useState(Je),{StringField:tt}=t.fields;let rt=Ye;const st=reactExports.useCallback((at,nt,it,ot)=>{et(at),`${at}`.charAt(0)==="."&&(at=`0${at}`);const lt=typeof at=="string"&&at.match(trailingCharMatcherWithPrefix)?asNumber(at.replace(trailingCharMatcher,"")):asNumber(at);Ke(lt,nt,it,ot)},[Ke]);if(typeof Xe=="string"&&typeof rt=="number"){const at=new RegExp(`^(${String(rt).replace(".","\\.")})?\\.?0*$`);Xe.match(at)&&(rt=Xe)}return jsxRuntimeExports.jsx(tt,{...e,formData:rt,onChange:st})}function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var Ke=arguments[t];for(var Ye in Ke)Object.prototype.hasOwnProperty.call(Ke,Ye)&&(e[Ye]=Ke[Ye])}return e},n.apply(this,arguments)}const r=["children","options"],o=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((e,t)=>(e[t.toLowerCase()]=t,e),{class:"className",for:"htmlFor"}),a={amp:"&",apos:"'",gt:">",lt:"<",nbsp:"",quot:""},c=["style","script","pre"],i=["src","href","data","formAction","srcDoc","action"],u=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,l=/\n{2,}$/,s=/^(\s*>[\s\S]*?)(?=\n\n|$)/,f=/^ *> ?/gm,_=/^(?:\[!([^\]]*)\]\n)?([\s\S]*)/,d=/^ {2,}\n/,p=/^(?:([-*_])( *\1){2,}) *(?:\n *)+\n/,y=/^(?: {1,3})?(`{3,}|~{3,}) *(\S+)? *([^\n]*?)?\n([\s\S]*?)(?:\1\n?|$)/,h=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,g=/^(`+)((?:\\`|(?!\1)`|[^`])+)\1/,m=/^(?:\n *)*\n/,k=/\r\n?/g,x=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,q=/^\[\^([^\]]+)]/,v=/\f/g,b=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,$=/^\s*?\[(x|\s)\]/,S=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,z=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,E=/^([^\n]+)\n *(=|-)\2{2,} *\n/,A=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,R=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,B=/^<!--[\s\S]*?(?:-->)/,L=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,O=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,j=/^\{.*\}$/,C=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,I=/^<([^ >]+[:@\/][^ >]+)>/,T=/-([a-z])?/gi,M=/^(\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,w=/^[^\n]+(?:  \n|\n{2,})/,D=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,F=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,P=/^\[([^\]]*)\] ?\[([^\]]*)\]/,Z=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,N=/\t/g,G=/(^ *\||\| *$)/g,U=/^ *:-+: *$/,V=/^ *:-+ *$/,H=/^ *-+: *$/,Q=e=>`(?=[\\s\\S]+?\\1${e?"\\1":""})`,W="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|\\\\\\1|[\\s\\S])+?)",J=RegExp(`^([*_])\\1${Q(1)}${W}\\1\\1(?!\\1)`),K=RegExp(`^([*_])${Q(0)}${W}\\1(?!\\1)`),X=RegExp(`^(==)${Q(0)}${W}\\1`),Y=RegExp(`^(~~)${Q(0)}${W}\\1`),ee=/^(:[a-zA-Z0-9-_]+:)/,ne=/^\\([^0-9A-Za-z\s])/,re=/\\([^0-9A-Za-z\s])/g,te=/^[\s\S](?:(?!  \n|[0-9]\.|http)[^=*_~\-\n:<`\\\[!])*/,oe=/^\n+/,ae=/^([ \t]*)/,ce=/(?:^|\n)( *)$/,ie="(?:\\d+\\.)",ue="(?:[*+-])";function le(e){return"( *)("+(e===1?ie:ue)+") +"}const se=le(1),fe=le(2);function _e(e){return RegExp("^"+(e===1?se:fe))}const de=_e(1),pe=_e(2);function ye(e){return RegExp("^"+(e===1?se:fe)+"[^\\n]*(?:\\n(?!\\1"+(e===1?ie:ue)+" )[^\\n]*)*(\\n|$)","gm")}const he=ye(1),ge=ye(2);function me(e){const t=e===1?ie:ue;return RegExp("^( *)("+t+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+t+" (?!"+t+" ))\\n*|\\s*\\n*$)")}const ke=me(1),xe=me(2);function qe(e,t){const Ke=t===1,Ye=Ke?ke:xe,Je=Ke?he:ge,Xe=Ke?de:pe;return{t:et=>Xe.test(et),o:je(function(et,tt){const rt=ce.exec(tt.prevCapture);return rt&&(tt.list||!tt.inline&&!tt.simple)?Ye.exec(et=rt[1]+et):null}),i:1,u(et,tt,rt){const st=Ke?+et[2]:void 0,at=et[0].replace(l,`
`).match(Je);let nt=!1;return{items:at.map(function(it,ot){const lt=Xe.exec(it)[0].length,ut=RegExp("^ {1,"+lt+"}","gm"),ft=it.replace(ut,"").replace(Xe,""),ct=ot===at.length-1,dt=ft.indexOf(`

`)!==-1||ct&&nt;nt=dt;const ht=rt.inline,xt=rt.list;let vt;rt.list=!0,dt?(rt.inline=!1,vt=Se(ft)+`

`):(rt.inline=!0,vt=Se(ft));const bt=tt(vt,rt);return rt.inline=ht,rt.list=xt,bt}),ordered:Ke,start:st}},l:(et,tt,rt)=>e(et.ordered?"ol":"ul",{key:rt.key,start:et.type==="20"?et.start:void 0},et.items.map(function(st,at){return e("li",{key:at},tt(st,rt))}))}}const ve=RegExp(`^\\[((?:\\[[^\\[\\]]*(?:\\[[^\\[\\]]*\\][^\\[\\]]*)*\\]|[^\\[\\]])*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['"]([\\s\\S]*?)['"])?\\s*\\)`),be=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/;function $e(e){return typeof e=="string"}function Se(e){let t=e.length;for(;t>0&&e[t-1]<=" ";)t--;return e.slice(0,t)}function ze(e,t){return e.startsWith(t)}function Ee(e,t,Ke){if(Array.isArray(Ke)){for(let Ye=0;Ye<Ke.length;Ye++)if(ze(e,Ke[Ye]))return!0;return!1}return Ke(e,t)}function Ae(e){return e.replace(/[]/g,"a").replace(/[]/g,"c").replace(/[]/g,"d").replace(/[]/g,"e").replace(/[]/g,"i").replace(/[]/g,"n").replace(/[]/g,"o").replace(/[]/g,"u").replace(/[]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function Re(e){return H.test(e)?"right":U.test(e)?"center":V.test(e)?"left":null}function Be(e,t,Ke,Ye){const Je=Ke.inTable;Ke.inTable=!0;let Xe=[[]],et="";function tt(){if(!et)return;const rt=Xe[Xe.length-1];rt.push.apply(rt,t(et,Ke)),et=""}return e.trim().split(/(`[^`]*`|\\\||\|)/).filter(Boolean).forEach((rt,st,at)=>{rt.trim()==="|"&&(tt(),Ye)?st!==0&&st!==at.length-1&&Xe.push([]):et+=rt}),tt(),Ke.inTable=Je,Xe}function Le(e,t,Ke){Ke.inline=!0;const Ye=e[2]?e[2].replace(G,"").split("|").map(Re):[],Je=e[3]?(function(et,tt,rt){return et.trim().split(`
`).map(function(st){return Be(st,tt,rt,!0)})})(e[3],t,Ke):[],Xe=Be(e[1],t,Ke,!!Je.length);return Ke.inline=!1,Je.length?{align:Ye,cells:Je,header:Xe,type:"25"}:{children:Xe,type:"21"}}function Oe(e,t){return e.align[t]==null?{}:{textAlign:e.align[t]}}function je(e){return e.inline=1,e}function Ce(e){return je(function(t,Ke){return Ke.inline?e.exec(t):null})}function Ie(e){return je(function(t,Ke){return Ke.inline||Ke.simple?e.exec(t):null})}function Te(e){return function(t,Ke){return Ke.inline||Ke.simple?null:e.exec(t)}}function Me(e){return je(function(t){return e.exec(t)})}const we=/(javascript|vbscript|data(?!:image)):/i;function De(e){try{const t=decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"");if(we.test(t))return null}catch{return null}return e}function Fe(e){return e&&e.replace(re,"$1")}function Pe(e,t,Ke){const Ye=Ke.inline||!1,Je=Ke.simple||!1;Ke.inline=!0,Ke.simple=!0;const Xe=e(t,Ke);return Ke.inline=Ye,Ke.simple=Je,Xe}function Ze(e,t,Ke){const Ye=Ke.inline||!1,Je=Ke.simple||!1;Ke.inline=!1,Ke.simple=!0;const Xe=e(t,Ke);return Ke.inline=Ye,Ke.simple=Je,Xe}function Ne(e,t,Ke){const Ye=Ke.inline||!1;Ke.inline=!1;const Je=e(t,Ke);return Ke.inline=Ye,Je}const Ge=(e,t,Ke)=>({children:Pe(t,e[2],Ke)});function Ue(){return{}}function Ve(){return null}function He(...e){return e.filter(Boolean).join(" ")}function Qe(e,t,Ke){let Ye=e;const Je=t.split(".");for(;Je.length&&(Ye=Ye[Je[0]],Ye!==void 0);)Je.shift();return Ye||Ke}function We(e="",t={}){t.overrides=t.overrides||{},t.namedCodesToUnicode=t.namedCodesToUnicode?n({},a,t.namedCodesToUnicode):a;const Ke=t.slugify||Ae,Ye=t.sanitizer||De,Je=t.createElement||reactExports.createElement,Xe=[s,y,h,t.enforceAtxHeadings?z:S,E,M,ke,xe],et=[...Xe,w,A,B,O];function tt(ct,dt){for(let ht=0;ht<ct.length;ht++)if(ct[ht].test(dt))return!0;return!1}function rt(ct,dt,...ht){const xt=Qe(t.overrides,ct+".props",{});return Je((function(vt,bt){const _t=Qe(bt,vt);return _t?typeof _t=="function"||typeof _t=="object"&&"render"in _t?_t:Qe(bt,vt+".component",vt):vt})(ct,t.overrides),n({},dt,xt,{className:He(dt?.className,xt.className)||void 0}),...ht)}function st(ct){ct=ct.replace(b,"");let dt=!1;t.forceInline?dt=!0:t.forceBlock||(dt=Z.test(ct)===!1);const ht=ut(lt(dt?ct:Se(ct).replace(oe,"")+`

`,{inline:dt}));for(;$e(ht[ht.length-1])&&!ht[ht.length-1].trim();)ht.pop();if(t.wrapper===null)return ht;const xt=t.wrapper||(dt?"span":"div");let vt;if(ht.length>1||t.forceWrapper)vt=ht;else{if(ht.length===1)return vt=ht[0],typeof vt=="string"?rt("span",{key:"outer"},vt):vt;vt=null}return Je(xt,{key:"outer"},vt)}function at(ct,dt){if(!dt||!dt.trim())return null;const ht=dt.match(u);return ht?ht.reduce(function(xt,vt){const bt=vt.indexOf("=");if(bt!==-1){const _t=(function(yt){return yt.indexOf("-")!==-1&&yt.match(L)===null&&(yt=yt.replace(T,function(Et,pt){return pt.toUpperCase()})),yt})(vt.slice(0,bt)).trim(),Ct=(function(yt){const Et=yt[0];return(Et==='"'||Et==="'")&&yt.length>=2&&yt[yt.length-1]===Et?yt.slice(1,-1):yt})(vt.slice(bt+1).trim()),Rt=o[_t]||_t;if(Rt==="ref")return xt;const jt=xt[Rt]=(function(yt,Et,pt,mt){return Et==="style"?(function(gt){const St=[];let wt="",$t=!1,Tt=!1,At="";if(!gt)return St;for(let It=0;It<gt.length;It++){const Ot=gt[It];if(Ot!=='"'&&Ot!=="'"||$t||(Tt?Ot===At&&(Tt=!1,At=""):(Tt=!0,At=Ot)),Ot==="("&&wt.endsWith("url")?$t=!0:Ot===")"&&$t&&($t=!1),Ot!==";"||Tt||$t)wt+=Ot;else{const Mt=wt.trim();if(Mt){const Kt=Mt.indexOf(":");if(Kt>0){const qt=Mt.slice(0,Kt).trim(),Bt=Mt.slice(Kt+1).trim();St.push([qt,Bt])}}wt=""}}const Dt=wt.trim();if(Dt){const It=Dt.indexOf(":");if(It>0){const Ot=Dt.slice(0,It).trim(),Mt=Dt.slice(It+1).trim();St.push([Ot,Mt])}}return St})(pt).reduce(function(gt,[St,wt]){return gt[St.replace(/(-[a-z])/g,$t=>$t[1].toUpperCase())]=mt(wt,yt,St),gt},{}):i.indexOf(Et)!==-1?mt(Fe(pt),yt,Et):(pt.match(j)&&(pt=Fe(pt.slice(1,pt.length-1))),pt==="true"||pt!=="false"&&pt)})(ct,_t,Ct,Ye);typeof jt=="string"&&(A.test(jt)||O.test(jt))&&(xt[Rt]=st(jt.trim()))}else vt!=="style"&&(xt[o[vt]||vt]=!0);return xt},{}):null}const nt=[],it={},ot={0:{t:[">"],o:Te(s),i:1,u(ct,dt,ht){const[,xt,vt]=ct[0].replace(f,"").match(_);return{alert:xt,children:dt(vt,ht)}},l(ct,dt,ht){const xt={key:ht.key};return ct.alert&&(xt.className="markdown-alert-"+Ke(ct.alert.toLowerCase(),Ae),ct.children.unshift({attrs:{},children:[{type:"27",text:ct.alert}],noInnerParse:!0,type:"11",tag:"header"})),rt("blockquote",xt,dt(ct.children,ht))}},1:{t:["  "],o:Me(d),i:1,u:Ue,l:(ct,dt,ht)=>rt("br",{key:ht.key})},2:{t:["--","__","**","- ","* ","_ "],o:Te(p),i:1,u:Ue,l:(ct,dt,ht)=>rt("hr",{key:ht.key})},3:{t:["    "],o:Te(h),i:0,u:ct=>({lang:void 0,text:Fe(Se(ct[0].replace(/^ {4}/gm,"")))}),l:(ct,dt,ht)=>rt("pre",{key:ht.key},rt("code",n({},ct.attrs,{className:ct.lang?"lang-"+ct.lang:""}),ct.text))},4:{t:["```","~~~"],o:Te(y),i:0,u:ct=>({attrs:at("code",ct[3]||""),lang:ct[2]||void 0,text:ct[4],type:"3"})},5:{t:["`"],o:Ie(g),i:3,u:ct=>({text:Fe(ct[2])}),l:(ct,dt,ht)=>rt("code",{key:ht.key},ct.text)},6:{t:["[^"],o:Te(x),i:0,u:ct=>(nt.push({footnote:ct[2],identifier:ct[1]}),{}),l:Ve},7:{t:["[^"],o:Ce(q),i:1,u:ct=>({target:"#"+Ke(ct[1],Ae),text:ct[1]}),l:(ct,dt,ht)=>rt("a",{key:ht.key,href:Ye(ct.target,"a","href")},rt("sup",{key:ht.key},ct.text))},8:{t:["[ ]","[x]"],o:Ce($),i:1,u:ct=>({completed:ct[1].toLowerCase()==="x"}),l:(ct,dt,ht)=>rt("input",{checked:ct.completed,key:ht.key,readOnly:!0,type:"checkbox"})},9:{t:["#"],o:Te(t.enforceAtxHeadings?z:S),i:1,u:(ct,dt,ht)=>({children:Pe(dt,ct[2],ht),id:Ke(ct[2],Ae),level:ct[1].length}),l:(ct,dt,ht)=>rt("h"+ct.level,{id:ct.id,key:ht.key},dt(ct.children,ht))},10:{t:ct=>{const dt=ct.indexOf(`
`);return dt>0&&dt<ct.length-1&&(ct[dt+1]==="="||ct[dt+1]==="-")},o:Te(E),i:1,u:(ct,dt,ht)=>({children:Pe(dt,ct[1],ht),level:ct[2]==="="?1:2,type:"9"})},11:{t:["<"],o:Me(A),i:1,u(ct,dt,ht){const[,xt]=ct[3].match(ae),vt=RegExp("^"+xt,"gm"),bt=ct[3].replace(vt,""),_t=tt(et,bt)?Ne:Pe,Ct=ct[1].toLowerCase(),Rt=c.indexOf(Ct)!==-1,jt=(Rt?Ct:ct[1]).trim(),yt={attrs:at(jt,ct[2]),noInnerParse:Rt,tag:jt};if(ht.inAnchor=ht.inAnchor||Ct==="a",Rt)yt.text=ct[3];else{const Et=ht.inHTML;ht.inHTML=!0,yt.children=_t(dt,bt,ht),ht.inHTML=Et}return ht.inAnchor=!1,yt},l:(ct,dt,ht)=>rt(ct.tag,n({key:ht.key},ct.attrs),ct.text||(ct.children?dt(ct.children,ht):""))},13:{t:["<"],o:Me(O),i:1,u(ct){const dt=ct[1].trim();return{attrs:at(dt,ct[2]||""),tag:dt}},l:(ct,dt,ht)=>rt(ct.tag,n({},ct.attrs,{key:ht.key}))},12:{t:["<!--"],o:Me(B),i:1,u:()=>({}),l:Ve},14:{t:["!["],o:Ie(be),i:1,u:ct=>({alt:Fe(ct[1]),target:Fe(ct[2]),title:Fe(ct[3])}),l:(ct,dt,ht)=>rt("img",{key:ht.key,alt:ct.alt||void 0,title:ct.title||void 0,src:Ye(ct.target,"img","src")})},15:{t:["["],o:Ce(ve),i:3,u:(ct,dt,ht)=>({children:Ze(dt,ct[1],ht),target:Fe(ct[2]),title:Fe(ct[3])}),l:(ct,dt,ht)=>rt("a",{key:ht.key,href:Ye(ct.target,"a","href"),title:ct.title},dt(ct.children,ht))},16:{t:["<"],o:Ce(I),i:0,u(ct){let dt=ct[1],ht=!1;return dt.indexOf("@")!==-1&&dt.indexOf("//")===-1&&(ht=!0,dt=dt.replace("mailto:","")),{children:[{text:dt,type:"27"}],target:ht?"mailto:"+dt:dt,type:"15"}}},17:{t:(ct,dt)=>!dt.inAnchor&&!t.disableAutoLink&&(ze(ct,"http://")||ze(ct,"https://")),o:Ce(C),i:0,u:ct=>({children:[{text:ct[1],type:"27"}],target:ct[1],title:void 0,type:"15"})},20:qe(rt,1),33:qe(rt,2),19:{t:[`
`],o:Te(m),i:3,u:Ue,l:()=>`
`},21:{o:je(function(ct,dt){if(dt.inline||dt.simple||dt.inHTML&&ct.indexOf(`

`)===-1&&dt.prevCapture.indexOf(`

`)===-1)return null;let ht="",xt=0;for(;;){const bt=ct.indexOf(`
`,xt),_t=ct.slice(xt,bt===-1?void 0:bt+1);if(tt(Xe,_t)||(ht+=_t,bt===-1||!_t.trim()))break;xt=bt+1}const vt=Se(ht);return vt===""?null:[ht,,vt]}),i:3,u:Ge,l:(ct,dt,ht)=>rt("p",{key:ht.key},dt(ct.children,ht))},22:{t:["["],o:Ce(D),i:0,u:ct=>(it[ct[1]]={target:ct[2],title:ct[4]},{}),l:Ve},23:{t:["!["],o:Ie(F),i:0,u:ct=>({alt:ct[1]?Fe(ct[1]):void 0,ref:ct[2]}),l:(ct,dt,ht)=>it[ct.ref]?rt("img",{key:ht.key,alt:ct.alt,src:Ye(it[ct.ref].target,"img","src"),title:it[ct.ref].title}):null},24:{t:ct=>ct[0]==="["&&ct.indexOf("](")===-1,o:Ce(P),i:0,u:(ct,dt,ht)=>({children:dt(ct[1],ht),fallbackChildren:ct[0],ref:ct[2]}),l:(ct,dt,ht)=>it[ct.ref]?rt("a",{key:ht.key,href:Ye(it[ct.ref].target,"a","href"),title:it[ct.ref].title},dt(ct.children,ht)):rt("span",{key:ht.key},ct.fallbackChildren)},25:{t:["|"],o:Te(M),i:1,u:Le,l(ct,dt,ht){const xt=ct;return rt("table",{key:ht.key},rt("thead",null,rt("tr",null,xt.header.map(function(vt,bt){return rt("th",{key:bt,style:Oe(xt,bt)},dt(vt,ht))}))),rt("tbody",null,xt.cells.map(function(vt,bt){return rt("tr",{key:bt},vt.map(function(_t,Ct){return rt("td",{key:Ct,style:Oe(xt,Ct)},dt(_t,ht))}))})))}},27:{o:je(function(ct,dt){let ht;return ze(ct,":")&&(ht=ee.exec(ct)),ht||te.exec(ct)}),i:4,u(ct){const dt=ct[0];return{text:dt.indexOf("&")===-1?dt:dt.replace(R,(ht,xt)=>t.namedCodesToUnicode[xt]||ht)}},l:ct=>ct.text},28:{t:["**","__"],o:Ie(J),i:2,u:(ct,dt,ht)=>({children:dt(ct[2],ht)}),l:(ct,dt,ht)=>rt("strong",{key:ht.key},dt(ct.children,ht))},29:{t:ct=>{const dt=ct[0];return(dt==="*"||dt==="_")&&ct[1]!==dt},o:Ie(K),i:3,u:(ct,dt,ht)=>({children:dt(ct[2],ht)}),l:(ct,dt,ht)=>rt("em",{key:ht.key},dt(ct.children,ht))},30:{t:["\\"],o:Ie(ne),i:1,u:ct=>({text:ct[1],type:"27"})},31:{t:["=="],o:Ie(X),i:3,u:Ge,l:(ct,dt,ht)=>rt("mark",{key:ht.key},dt(ct.children,ht))},32:{t:["~~"],o:Ie(Y),i:3,u:Ge,l:(ct,dt,ht)=>rt("del",{key:ht.key},dt(ct.children,ht))}};t.disableParsingRawHTML===!0&&(delete ot[11],delete ot[13]);const lt=(function(ct){var dt=Object.keys(ct);function ht(xt,vt){var bt=[];if(vt.prevCapture=vt.prevCapture||"",xt.trim())for(;xt;)for(var _t=0;_t<dt.length;){var Ct=dt[_t],Rt=ct[Ct];if(!Rt.t||Ee(xt,vt,Rt.t)){var jt=Rt.o(xt,vt);if(jt&&jt[0]){xt=xt.substring(jt[0].length);var yt=Rt.u(jt,ht,vt);vt.prevCapture+=jt[0],yt.type||(yt.type=Ct),bt.push(yt);break}_t++}else _t++}return vt.prevCapture="",bt}return dt.sort(function(xt,vt){return ct[xt].i-ct[vt].i||(xt<vt?-1:1)}),function(xt,vt){return ht((function(bt){return bt.replace(k,`
`).replace(v,"").replace(N,"    ")})(xt),vt)}})(ot),ut=(function(ct,dt){return function ht(xt,vt={}){if(Array.isArray(xt)){const bt=vt.key,_t=[];let Ct=!1;for(let Rt=0;Rt<xt.length;Rt++){vt.key=Rt;const jt=ht(xt[Rt],vt),yt=$e(jt);yt&&Ct?_t[_t.length-1]+=jt:jt!==null&&_t.push(jt),Ct=yt}return vt.key=bt,_t}return(function(bt,_t,Ct){const Rt=ct[bt.type].l;return dt?dt(()=>Rt(bt,_t,Ct),bt,_t,Ct):Rt(bt,_t,Ct)})(xt,ht,vt)}})(ot,t.renderRule),ft=st(e);return nt.length?rt("div",null,ft,rt("footer",{key:"footer"},nt.map(function(ct){return rt("div",{id:Ke(ct.identifier,Ae),key:ct.identifier},ct.identifier,ut(lt(ct.footnote,{inline:!0})))}))):ft}const Markdown=e=>{let{children:t="",options:Ke}=e,Ye=(function(Je,Xe){if(Je==null)return{};var et,tt,rt={},st=Object.keys(Je);for(tt=0;tt<st.length;tt++)Xe.indexOf(et=st[tt])>=0||(rt[et]=Je[et]);return rt})(e,r);return reactExports.cloneElement(We(t,Ke),Ye)};function unset(e,t){return e==null?!0:baseUnset(e,t)}class ObjectField extends reactExports.Component{state={wasPropertyKeyModified:!1,additionalProperties:{}};isRequired(t){const{schema:Ke}=this.props;return Array.isArray(Ke.required)&&Ke.required.indexOf(t)!==-1}onPropertyChange=(t,Ke=!1)=>(Ye,Je,Xe,et)=>{const{onChange:tt}=this.props;Ye===void 0&&Ke&&(Ye="");const rt=Array.isArray(Je)?Je.slice():[];rt.unshift(t),tt(Ye,rt,Xe,et)};onDropPropertyClick=t=>Ke=>{Ke.preventDefault();const{onChange:Ye,formData:Je,name:Xe}=this.props,et={...Je};unset(et,t),Ye(et,[Xe])};getAvailableKey=(t,Ke)=>{const{uiSchema:Ye,registry:Je}=this.props,{duplicateKeySuffixSeparator:Xe="-"}=getUiOptions(Ye,Je.globalUiOptions);let et=0,tt=t;for(;has(Ke,tt);)tt=`${t}${Xe}${++et}`;return tt};onKeyChange=t=>Ke=>{if(t===Ke)return;const{formData:Ye,onChange:Je}=this.props;Ke=this.getAvailableKey(Ke,Ye);const Xe={...Ye},et={[t]:Ke},tt=Object.keys(Xe).map(st=>({[et[st]||st]:Xe[st]})),rt=Object.assign({},...tt);this.setState({wasPropertyKeyModified:!0}),Je(rt,[])};getDefaultValue(t){const{registry:{translateString:Ke}}=this.props;switch(t){case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};case"string":default:return Ke(TranslatableString.NewStringDefault)}}handleAddClick=t=>()=>{if(!(t.additionalProperties||t.patternProperties))return;const{formData:Ke,name:Ye,onChange:Je,registry:Xe}=this.props,et={...Ke},tt=this.getAvailableKey("newKey",et);if(t.patternProperties)set(et,tt,null);else{let rt,st,at;if(isObject(t.additionalProperties)){rt=t.additionalProperties.type,st=t.additionalProperties.const,at=t.additionalProperties.default;let it=t.additionalProperties;if(REF_KEY in it){const{schemaUtils:ot}=Xe;it=ot.retrieveSchema({$ref:it[REF_KEY]},Ke),rt=it.type,st=it.const,at=it.default}!rt&&(ANY_OF_KEY in it||ONE_OF_KEY in it)&&(rt="object")}const nt=st??at??this.getDefaultValue(rt);set(et,tt,nt)}Je(et,[Ye])};render(){const{schema:t,uiSchema:Ke={},formData:Ye,errorSchema:Je,idSchema:Xe,name:et,required:tt=!1,disabled:rt,readonly:st,hideError:at,idPrefix:nt,idSeparator:it,onBlur:ot,onFocus:lt,registry:ut,title:ft}=this.props,{fields:ct,formContext:dt,schemaUtils:ht,translateString:xt,globalUiOptions:vt}=ut,{SchemaField:bt}=ct,_t=ht.retrieveSchema(t,Ye),Ct=getUiOptions(Ke,vt),{properties:Rt={}}=_t,jt=Ct.title??_t.title??ft??et,yt=Ct.description??_t.description;let Et;try{const gt=Object.keys(Rt);Et=orderProperties(gt,Ct.order)}catch(gt){return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"rjsf-config-error",style:{color:"red"},children:jsxRuntimeExports.jsx(Markdown,{options:{disableParsingRawHTML:!0},children:xt(TranslatableString.InvalidObjectField,[et||"root",gt.message])})}),jsxRuntimeExports.jsx("pre",{children:JSON.stringify(_t)})]})}const pt=getTemplate("ObjectFieldTemplate",ut,Ct),mt={title:Ct.label===!1?"":jt,description:Ct.label===!1?void 0:yt,properties:Et.map(gt=>{const St=has(_t,[PROPERTIES_KEY,gt,ADDITIONAL_PROPERTY_FLAG]),wt=St?Ke.additionalProperties:Ke[gt],$t=getUiOptions(wt).widget==="hidden",Tt=get(Xe,[gt],{});return{content:jsxRuntimeExports.jsx(bt,{name:gt,required:this.isRequired(gt),schema:get(_t,[PROPERTIES_KEY,gt],{}),uiSchema:wt,errorSchema:get(Je,gt),idSchema:Tt,idPrefix:nt,idSeparator:it,formData:get(Ye,gt),formContext:dt,wasPropertyKeyModified:this.state.wasPropertyKeyModified,onKeyChange:this.onKeyChange(gt),onChange:this.onPropertyChange(gt,St),onBlur:ot,onFocus:lt,registry:ut,disabled:rt,readonly:st,hideError:at,onDropPropertyClick:this.onDropPropertyClick},gt),name:gt,readonly:st,disabled:rt,required:tt,hidden:$t}}),readonly:st,disabled:rt,required:tt,idSchema:Xe,uiSchema:Ke,errorSchema:Je,schema:_t,formData:Ye,formContext:dt,registry:ut};return jsxRuntimeExports.jsx(pt,{...mt,onAddClick:this.handleAddClick})}}const COMPONENT_TYPES={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function getFieldComponent(e,t,Ke,Ye){const Je=t.field,{fields:Xe,translateString:et}=Ye;if(typeof Je=="function")return Je;if(typeof Je=="string"&&Je in Xe)return Xe[Je];const tt=getSchemaType(e),rt=Array.isArray(tt)?tt[0]:tt||"",st=e.$id;let at=COMPONENT_TYPES[rt];return st&&st in Xe&&(at=st),!at&&(e.anyOf||e.oneOf)?()=>null:at in Xe?Xe[at]:()=>{const nt=getTemplate("UnsupportedFieldTemplate",Ye,t);return jsxRuntimeExports.jsx(nt,{schema:e,idSchema:Ke,reason:et(TranslatableString.UnknownFieldType,[String(e.type)]),registry:Ye})}}function SchemaFieldRender(e){const{schema:t,idSchema:Ke,uiSchema:Ye,formData:Je,errorSchema:Xe,idPrefix:et,idSeparator:tt,name:rt,onChange:st,onKeyChange:at,onDropPropertyClick:nt,required:it,registry:ot,wasPropertyKeyModified:lt=!1}=e,{formContext:ut,schemaUtils:ft,globalUiOptions:ct}=ot,dt=getUiOptions(Ye,ct),ht=getTemplate("FieldTemplate",ot,dt),xt=getTemplate("DescriptionFieldTemplate",ot,dt),vt=getTemplate("FieldHelpTemplate",ot,dt),bt=getTemplate("FieldErrorTemplate",ot,dt),_t=ft.retrieveSchema(t,Je),Ct=Ke[ID_KEY],Rt=mergeObjects(ft.toIdSchema(_t,Ct,Je,et,tt),Ke),jt=reactExports.useCallback((Zt,Jt,zt,Yt)=>st(Zt,Jt,zt,Yt||Ct),[Ct,st]),yt=getFieldComponent(_t,dt,Rt,ot),Et=!!(dt.disabled??e.disabled),pt=!!(dt.readonly??(e.readonly||e.schema.readOnly||_t.readOnly)),mt=dt.hideError,gt=mt===void 0?e.hideError:!!mt,St=!!(dt.autofocus??e.autofocus);if(Object.keys(_t).length===0)return null;const wt=ft.getDisplayLabel(_t,Ye,ct),{__errors:$t,...Tt}=Xe||{},At=omit(Ye,["ui:classNames","classNames","ui:style"]);UI_OPTIONS_KEY in At&&(At[UI_OPTIONS_KEY]=omit(At[UI_OPTIONS_KEY],["classNames","style"]));const Dt=jsxRuntimeExports.jsx(yt,{...e,onChange:jt,idSchema:Rt,schema:_t,uiSchema:At,disabled:Et,readonly:pt,hideError:gt,autofocus:St,errorSchema:Tt,formContext:ut,rawErrors:$t}),It=Rt[ID_KEY];let Ot;lt?Ot=rt:Ot=ADDITIONAL_PROPERTY_FLAG in _t?rt:dt.title||e.schema.title||_t.title||e.title||rt;const Mt=dt.description||e.schema.description||_t.description||"",Kt=dt.help,qt=dt.widget==="hidden",Bt=["rjsf-field",`rjsf-field-${getSchemaType(_t)}`];!gt&&$t&&$t.length>0&&Bt.push("rjsf-field-error"),dt.classNames&&Bt.push(dt.classNames);const kt=jsxRuntimeExports.jsx(vt,{help:Kt,idSchema:Rt,schema:_t,uiSchema:Ye,hasErrors:!gt&&$t&&$t.length>0,registry:ot}),Nt=gt||(_t.anyOf||_t.oneOf)&&!ft.isSelect(_t)?void 0:jsxRuntimeExports.jsx(bt,{errors:$t,errorSchema:Xe,idSchema:Rt,schema:_t,uiSchema:Ye,registry:ot}),Pt={description:jsxRuntimeExports.jsx(xt,{id:descriptionId(It),description:Mt,schema:_t,uiSchema:Ye,registry:ot}),rawDescription:Mt,help:kt,rawHelp:typeof Kt=="string"?Kt:void 0,errors:Nt,rawErrors:gt?void 0:$t,id:It,label:Ot,hidden:qt,onChange:st,onKeyChange:at,onDropPropertyClick:nt,required:it,disabled:Et,readonly:pt,hideError:gt,displayLabel:wt,classNames:Bt.join(" ").trim(),style:dt.style,formContext:ut,formData:Je,schema:_t,uiSchema:Ye,registry:ot},Ft=ot.fields.AnyOfField,Ut=ot.fields.OneOfField,Ht=Ye?.["ui:field"]&&Ye?.["ui:fieldReplacesAnyOrOneOf"]===!0;return jsxRuntimeExports.jsx(ht,{...Pt,children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Dt,_t.anyOf&&!Ht&&!ft.isSelect(_t)&&jsxRuntimeExports.jsx(Ft,{name:rt,disabled:Et,readonly:pt,hideError:gt,errorSchema:Xe,formData:Je,formContext:ut,idPrefix:et,idSchema:Rt,idSeparator:tt,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:_t.anyOf.map(Zt=>ft.retrieveSchema(isObject(Zt)?Zt:{},Je)),registry:ot,required:it,schema:_t,uiSchema:Ye}),_t.oneOf&&!Ht&&!ft.isSelect(_t)&&jsxRuntimeExports.jsx(Ut,{name:rt,disabled:Et,readonly:pt,hideError:gt,errorSchema:Xe,formData:Je,formContext:ut,idPrefix:et,idSchema:Rt,idSeparator:tt,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:_t.oneOf.map(Zt=>ft.retrieveSchema(isObject(Zt)?Zt:{},Je)),registry:ot,required:it,schema:_t,uiSchema:Ye})]})})}class SchemaField extends reactExports.Component{shouldComponentUpdate(t){const{experimental_componentUpdateStrategy:Ke="customDeep"}=this.props.registry;return shouldRender(this,t,this.state,Ke)}render(){return jsxRuntimeExports.jsx(SchemaFieldRender,{...this.props})}}function StringField(e){const{schema:t,name:Ke,uiSchema:Ye,idSchema:Je,formData:Xe,required:et,disabled:tt=!1,readonly:rt=!1,autofocus:st=!1,onChange:at,onBlur:nt,onFocus:it,registry:ot,rawErrors:lt,hideError:ut}=e,{title:ft,format:ct}=t,{widgets:dt,formContext:ht,schemaUtils:xt,globalUiOptions:vt}=ot,bt=xt.isSelect(t)?optionsList(t,Ye):void 0;let _t=bt?"select":"text";ct&&hasWidget(t,ct,dt)&&(_t=ct);const{widget:Ct=_t,placeholder:Rt="",title:jt,...yt}=getUiOptions(Ye),Et=xt.getDisplayLabel(t,Ye,vt),pt=jt??ft??Ke,mt=getWidget(t,Ct,dt),gt=reactExports.useCallback((St,wt,$t)=>at(St,[],wt,$t),[at]);return jsxRuntimeExports.jsx(mt,{options:{...yt,enumOptions:bt},schema:t,uiSchema:Ye,id:Je.$id,name:Ke,label:pt,hideLabel:!Et,hideError:ut,value:Xe,onChange:gt,onBlur:nt,onFocus:it,required:et,disabled:tt,readonly:rt,formContext:ht,autofocus:st,registry:ot,placeholder:Rt,rawErrors:lt})}function NullField(e){const{name:t,formData:Ke,onChange:Ye}=e;return reactExports.useEffect(()=>{Ke===void 0&&Ye(null,[t])},[t,Ke,Ye]),null}function fields(){return{AnyOfField,ArrayField,BooleanField,LayoutGridField,LayoutHeaderField,LayoutMultiSchemaField,NumberField,ObjectField,OneOfField:AnyOfField,SchemaField,StringField,NullField}}function ArrayFieldDescriptionTemplate(e){const{idSchema:t,description:Ke,registry:Ye,schema:Je,uiSchema:Xe}=e,et=getUiOptions(Xe,Ye.globalUiOptions),{label:tt=!0}=et;if(!Ke||!tt)return null;const rt=getTemplate("DescriptionFieldTemplate",Ye,et);return jsxRuntimeExports.jsx(rt,{id:descriptionId(t),description:Ke,schema:Je,uiSchema:Xe,registry:Ye})}function ArrayFieldItemTemplate(e){const{children:t,className:Ke,buttonsProps:Ye,hasToolbar:Je,registry:Xe,uiSchema:et}=e,tt=getUiOptions(et),rt=getTemplate("ArrayFieldItemButtonsTemplate",Xe,tt),st={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return jsxRuntimeExports.jsxs("div",{className:Ke,children:[jsxRuntimeExports.jsx("div",{className:Je?"col-xs-9":"col-xs-12",children:t}),Je&&jsxRuntimeExports.jsx("div",{className:"col-xs-3 array-item-toolbox",children:jsxRuntimeExports.jsx("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"},children:jsxRuntimeExports.jsx(rt,{...Ye,style:st})})})]})}function ArrayFieldItemButtonsTemplate(e){const{disabled:t,hasCopy:Ke,hasMoveDown:Ye,hasMoveUp:Je,hasRemove:Xe,idSchema:et,index:tt,onCopyIndexClick:rt,onDropIndexClick:st,onReorderClick:at,readonly:nt,registry:it,uiSchema:ot}=e,{CopyButton:lt,MoveDownButton:ut,MoveUpButton:ft,RemoveButton:ct}=it.templates.ButtonTemplates,dt=reactExports.useMemo(()=>rt(tt),[tt,rt]),ht=reactExports.useMemo(()=>st(tt),[tt,st]),xt=reactExports.useMemo(()=>at(tt,tt-1),[tt,at]),vt=reactExports.useMemo(()=>at(tt,tt+1),[tt,at]);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[(Je||Ye)&&jsxRuntimeExports.jsx(ft,{id:buttonId(et,"moveUp"),className:"rjsf-array-item-move-up",disabled:t||nt||!Je,onClick:xt,uiSchema:ot,registry:it}),(Je||Ye)&&jsxRuntimeExports.jsx(ut,{id:buttonId(et,"moveDown"),className:"rjsf-array-item-move-down",disabled:t||nt||!Ye,onClick:vt,uiSchema:ot,registry:it}),Ke&&jsxRuntimeExports.jsx(lt,{id:buttonId(et,"copy"),className:"rjsf-array-item-copy",disabled:t||nt,onClick:dt,uiSchema:ot,registry:it}),Xe&&jsxRuntimeExports.jsx(ct,{id:buttonId(et,"remove"),className:"rjsf-array-item-remove",disabled:t||nt,onClick:ht,uiSchema:ot,registry:it})]})}function ArrayFieldTemplate$1(e){const{canAdd:t,className:Ke,disabled:Ye,idSchema:Je,uiSchema:Xe,items:et,onAddClick:tt,readonly:rt,registry:st,required:at,schema:nt,title:it}=e,ot=getUiOptions(Xe),lt=getTemplate("ArrayFieldDescriptionTemplate",st,ot),ut=getTemplate("ArrayFieldItemTemplate",st,ot),ft=getTemplate("ArrayFieldTitleTemplate",st,ot),{ButtonTemplates:{AddButton:ct}}=st.templates;return jsxRuntimeExports.jsxs("fieldset",{className:Ke,id:Je.$id,children:[jsxRuntimeExports.jsx(ft,{idSchema:Je,title:ot.title||it,required:at,schema:nt,uiSchema:Xe,registry:st}),jsxRuntimeExports.jsx(lt,{idSchema:Je,description:ot.description||nt.description,schema:nt,uiSchema:Xe,registry:st}),jsxRuntimeExports.jsx("div",{className:"row array-item-list",children:et&&et.map(({key:dt,...ht})=>jsxRuntimeExports.jsx(ut,{...ht},dt))}),t&&jsxRuntimeExports.jsx(ct,{id:buttonId(Je,"add"),className:"rjsf-array-item-add",onClick:tt,disabled:Ye||rt,uiSchema:Xe,registry:st})]})}function ArrayFieldTitleTemplate(e){const{idSchema:t,title:Ke,schema:Ye,uiSchema:Je,required:Xe,registry:et}=e,tt=getUiOptions(Je,et.globalUiOptions),{label:rt=!0}=tt;if(!Ke||!rt)return null;const st=getTemplate("TitleFieldTemplate",et,tt);return jsxRuntimeExports.jsx(st,{id:titleId(t),title:Ke,required:Xe,schema:Ye,uiSchema:Je,registry:et})}function BaseInputTemplate$1(e){const{id:t,name:Ke,value:Ye,readonly:Je,disabled:Xe,autofocus:et,onBlur:tt,onFocus:rt,onChange:st,onChangeOverride:at,options:nt,schema:it,uiSchema:ot,formContext:lt,registry:ut,rawErrors:ft,type:ct,hideLabel:dt,hideError:ht,...xt}=e;if(!t)throw console.log("No id for",e),new Error(`no id for props ${JSON.stringify(e)}`);const vt={...xt,...getInputProps(it,ct,nt)};let bt;vt.type==="number"||vt.type==="integer"?bt=Ye||Ye===0?Ye:"":bt=Ye??"";const _t=reactExports.useCallback(({target:{value:jt}})=>st(jt===""?nt.emptyValue:jt),[st,nt]),Ct=reactExports.useCallback(({target:jt})=>tt(t,jt&&jt.value),[tt,t]),Rt=reactExports.useCallback(({target:jt})=>rt(t,jt&&jt.value),[rt,t]);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("input",{id:t,name:t,className:"form-control",readOnly:Je,disabled:Xe,autoFocus:et,value:bt,...vt,list:it.examples?examplesId(t):void 0,onChange:at||_t,onBlur:Ct,onFocus:Rt,"aria-describedby":ariaDescribedByIds(t,!!it.examples)}),Array.isArray(it.examples)&&jsxRuntimeExports.jsx("datalist",{id:examplesId(t),children:it.examples.concat(it.default&&!it.examples.includes(it.default)?[it.default]:[]).map(jt=>jsxRuntimeExports.jsx("option",{value:jt},jt))},`datalist_${t}`)]})}function SubmitButton({uiSchema:e}){const{submitText:t,norender:Ke,props:Ye={}}=getSubmitButtonOptions(e);return Ke?null:jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("button",{type:"submit",...Ye,className:`btn btn-info ${Ye.className||""}`,children:t})})}function IconButton(e){const{iconType:t="default",icon:Ke,className:Ye,uiSchema:Je,registry:Xe,...et}=e;return jsxRuntimeExports.jsx("button",{type:"button",className:`btn btn-${t} ${Ye}`,...et,children:jsxRuntimeExports.jsx("i",{className:`glyphicon glyphicon-${Ke}`})})}function CopyButton(e){const{registry:{translateString:t}}=e;return jsxRuntimeExports.jsx(IconButton,{title:t(TranslatableString.CopyButton),...e,icon:"copy"})}function MoveDownButton(e){const{registry:{translateString:t}}=e;return jsxRuntimeExports.jsx(IconButton,{title:t(TranslatableString.MoveDownButton),...e,icon:"arrow-down"})}function MoveUpButton(e){const{registry:{translateString:t}}=e;return jsxRuntimeExports.jsx(IconButton,{title:t(TranslatableString.MoveUpButton),...e,icon:"arrow-up"})}function RemoveButton(e){const{registry:{translateString:t}}=e;return jsxRuntimeExports.jsx(IconButton,{title:t(TranslatableString.RemoveButton),...e,iconType:"danger",icon:"remove"})}function AddButton({className:e,onClick:t,disabled:Ke,registry:Ye}){const{translateString:Je}=Ye;return jsxRuntimeExports.jsx("div",{className:"row",children:jsxRuntimeExports.jsx("p",{className:`col-xs-3 col-xs-offset-9 text-right ${e}`,children:jsxRuntimeExports.jsx(IconButton,{iconType:"info",icon:"plus",className:"btn-add col-xs-12",title:Je(TranslatableString.AddButton),onClick:t,disabled:Ke,registry:Ye})})})}function buttonTemplates(){return{SubmitButton,AddButton,CopyButton,MoveDownButton,MoveUpButton,RemoveButton}}const TEST_IDS=getTestIds();function RichDescription({description:e,registry:t,uiSchema:Ke={}}){const{globalUiOptions:Ye}=t;return getUiOptions(Ke,Ye).enableMarkdownInDescription&&typeof e=="string"?jsxRuntimeExports.jsx(Markdown,{options:{disableParsingRawHTML:!0},"data-testid":TEST_IDS.markdown,children:e}):e}RichDescription.TEST_IDS=TEST_IDS;function DescriptionField(e){const{id:t,description:Ke,registry:Ye,uiSchema:Je}=e;return Ke?jsxRuntimeExports.jsx("div",{id:t,className:"field-description",children:jsxRuntimeExports.jsx(RichDescription,{description:Ke,registry:Ye,uiSchema:Je})}):null}function ErrorList({errors:e,registry:t}){const{translateString:Ke}=t;return jsxRuntimeExports.jsxs("div",{className:"panel panel-danger errors",children:[jsxRuntimeExports.jsx("div",{className:"panel-heading",children:jsxRuntimeExports.jsx("h3",{className:"panel-title",children:Ke(TranslatableString.ErrorsLabel)})}),jsxRuntimeExports.jsx("ul",{className:"list-group",children:e.map((Ye,Je)=>jsxRuntimeExports.jsx("li",{className:"list-group-item text-danger",children:Ye.stack},Je))})]})}const REQUIRED_FIELD_SYMBOL$1="*";function Label(e){const{label:t,required:Ke,id:Ye}=e;return t?jsxRuntimeExports.jsxs("label",{className:"control-label",htmlFor:Ye,children:[t,Ke&&jsxRuntimeExports.jsx("span",{className:"required",children:REQUIRED_FIELD_SYMBOL$1})]}):null}function FieldTemplate$1(e){const{id:t,label:Ke,children:Ye,errors:Je,help:Xe,description:et,hidden:tt,required:rt,displayLabel:st,registry:at,uiSchema:nt}=e,it=getUiOptions(nt),ot=getTemplate("WrapIfAdditionalTemplate",at,it);return tt?jsxRuntimeExports.jsx("div",{className:"hidden",children:Ye}):jsxRuntimeExports.jsxs(ot,{...e,children:[st&&jsxRuntimeExports.jsx(Label,{label:Ke,required:rt,id:t}),st&&et?et:null,Ye,Je,Xe]})}function FieldErrorTemplate(e){const{errors:t=[],idSchema:Ke}=e;if(t.length===0)return null;const Ye=errorId(Ke);return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("ul",{id:Ye,className:"error-detail bs-callout bs-callout-info",children:t.filter(Je=>!!Je).map((Je,Xe)=>jsxRuntimeExports.jsx("li",{className:"text-danger",children:Je},Xe))})})}function FieldHelpTemplate(e){const{idSchema:t,help:Ke}=e;if(!Ke)return null;const Ye=helpId(t);return typeof Ke=="string"?jsxRuntimeExports.jsx("p",{id:Ye,className:"help-block",children:Ke}):jsxRuntimeExports.jsx("div",{id:Ye,className:"help-block",children:Ke})}function GridTemplate(e){const{children:t,column:Ke,className:Ye,...Je}=e;return jsxRuntimeExports.jsx("div",{className:Ye,...Je,children:t})}function MultiSchemaFieldTemplate$1(e){const{selector:t,optionSchemaField:Ke}=e;return jsxRuntimeExports.jsxs("div",{className:"panel panel-default panel-body",children:[jsxRuntimeExports.jsx("div",{className:"form-group",children:t}),Ke]})}function ObjectFieldTemplate$1(e){const{description:t,disabled:Ke,formData:Ye,idSchema:Je,onAddClick:Xe,properties:et,readonly:tt,registry:rt,required:st,schema:at,title:nt,uiSchema:it}=e,ot=getUiOptions(it),lt=getTemplate("TitleFieldTemplate",rt,ot),ut=getTemplate("DescriptionFieldTemplate",rt,ot),{ButtonTemplates:{AddButton:ft}}=rt.templates;return jsxRuntimeExports.jsxs("fieldset",{id:Je.$id,children:[nt&&jsxRuntimeExports.jsx(lt,{id:titleId(Je),title:nt,required:st,schema:at,uiSchema:it,registry:rt}),t&&jsxRuntimeExports.jsx(ut,{id:descriptionId(Je),description:t,schema:at,uiSchema:it,registry:rt}),et.map(ct=>ct.content),canExpand(at,it,Ye)&&jsxRuntimeExports.jsx(ft,{id:buttonId(Je,"add"),className:"rjsf-object-property-expand",onClick:Xe(at),disabled:Ke||tt,uiSchema:it,registry:rt})]})}const REQUIRED_FIELD_SYMBOL="*";function TitleField(e){const{id:t,title:Ke,required:Ye}=e;return jsxRuntimeExports.jsxs("legend",{id:t,children:[Ke,Ye&&jsxRuntimeExports.jsx("span",{className:"required",children:REQUIRED_FIELD_SYMBOL})]})}function UnsupportedField(e){const{schema:t,idSchema:Ke,reason:Ye,registry:Je}=e,{translateString:Xe}=Je;let et=TranslatableString.UnsupportedField;const tt=[];return Ke&&Ke.$id&&(et=TranslatableString.UnsupportedFieldWithId,tt.push(Ke.$id)),Ye&&(et=et===TranslatableString.UnsupportedField?TranslatableString.UnsupportedFieldWithReason:TranslatableString.UnsupportedFieldWithIdAndReason,tt.push(Ye)),jsxRuntimeExports.jsxs("div",{className:"unsupported-field",children:[jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx(Markdown,{options:{disableParsingRawHTML:!0},children:Xe(et,tt)})}),t&&jsxRuntimeExports.jsx("pre",{children:JSON.stringify(t,null,2)})]})}function WrapIfAdditionalTemplate$1(e){const{id:t,classNames:Ke,style:Ye,disabled:Je,label:Xe,onKeyChange:et,onDropPropertyClick:tt,readonly:rt,required:st,schema:at,hideError:nt,rawErrors:it,children:ot,uiSchema:lt,registry:ut}=e,{templates:ft,translateString:ct}=ut,{RemoveButton:dt}=ft.ButtonTemplates,ht=ct(TranslatableString.KeyLabel,[Xe]),xt=ADDITIONAL_PROPERTY_FLAG in at,vt=["form-group",Ke];!nt&&it&&it.length>0&&vt.push("has-error has-danger");const bt=vt.join(" ").trim();return xt?jsxRuntimeExports.jsx("div",{className:bt,style:Ye,children:jsxRuntimeExports.jsxs("div",{className:"row",children:[jsxRuntimeExports.jsx("div",{className:"col-xs-5 form-additional",children:jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx(Label,{label:ht,required:st,id:`${t}-key`}),jsxRuntimeExports.jsx("input",{className:"form-control",type:"text",id:`${t}-key`,onBlur:({target:_t})=>et(_t&&_t.value),defaultValue:Xe})]})}),jsxRuntimeExports.jsx("div",{className:"form-additional form-group col-xs-5",children:ot}),jsxRuntimeExports.jsx("div",{className:"col-xs-2",children:jsxRuntimeExports.jsx(dt,{id:buttonId(t,"remove"),className:"rjsf-object-property-remove btn-block",style:{border:"0"},disabled:Je||rt,onClick:tt(Xe),uiSchema:lt,registry:ut})})]})}):jsxRuntimeExports.jsx("div",{className:bt,style:Ye,children:ot})}function templates(){return{ArrayFieldDescriptionTemplate,ArrayFieldItemTemplate,ArrayFieldItemButtonsTemplate,ArrayFieldTemplate:ArrayFieldTemplate$1,ArrayFieldTitleTemplate,ButtonTemplates:buttonTemplates(),BaseInputTemplate:BaseInputTemplate$1,DescriptionFieldTemplate:DescriptionField,ErrorListTemplate:ErrorList,FieldTemplate:FieldTemplate$1,FieldErrorTemplate,FieldHelpTemplate,GridTemplate,MultiSchemaFieldTemplate:MultiSchemaFieldTemplate$1,ObjectFieldTemplate:ObjectFieldTemplate$1,TitleFieldTemplate:TitleField,UnsupportedFieldTemplate:UnsupportedField,WrapIfAdditionalTemplate:WrapIfAdditionalTemplate$1}}function readyForChange(e){return Object.values(e).every(t=>t!==-1)}function DateElement({type:e,range:t,value:Ke,select:Ye,rootId:Je,name:Xe,disabled:et,readonly:tt,autofocus:rt,registry:st,onBlur:at,onFocus:nt}){const it=Je+"_"+e,{SelectWidget:ot}=st.widgets;return jsxRuntimeExports.jsx(ot,{schema:{type:"integer"},id:it,name:Xe,className:"form-control",options:{enumOptions:dateRangeOptions(t[0],t[1])},placeholder:e,value:Ke,disabled:et,readonly:tt,autofocus:rt,onChange:lt=>Ye(e,lt),onBlur:at,onFocus:nt,registry:st,label:"","aria-describedby":ariaDescribedByIds(Je)})}function AltDateWidget({time:e=!1,disabled:t=!1,readonly:Ke=!1,autofocus:Ye=!1,options:Je,id:Xe,name:et,registry:tt,onBlur:rt,onFocus:st,onChange:at,value:nt}){const{translateString:it}=tt,[ot,lt]=reactExports.useState(parseDateString(nt,e));reactExports.useEffect(()=>{lt(parseDateString(nt,e))},[e,nt]);const ut=reactExports.useCallback((dt,ht)=>{const xt={...ot,[dt]:typeof ht>"u"?-1:ht};readyForChange(xt)?at(toDateString(xt,e)):lt(xt)},[ot,at,e]),ft=reactExports.useCallback(dt=>{if(dt.preventDefault(),t||Ke)return;const ht=parseDateString(new Date().toJSON(),e);at(toDateString(ht,e))},[t,Ke,e,at]),ct=reactExports.useCallback(dt=>{dt.preventDefault(),!(t||Ke)&&at(void 0)},[t,Ke,at]);return jsxRuntimeExports.jsxs("ul",{className:"list-inline",children:[getDateElementProps(ot,e,Je.yearsRange,Je.format).map((dt,ht)=>jsxRuntimeExports.jsx("li",{className:"list-inline-item",children:jsxRuntimeExports.jsx(DateElement,{rootId:Xe,name:et,select:ut,...dt,disabled:t,readonly:Ke,registry:tt,onBlur:rt,onFocus:st,autofocus:Ye&&ht===0})},ht)),(Je.hideNowButton!=="undefined"?!Je.hideNowButton:!0)&&jsxRuntimeExports.jsx("li",{className:"list-inline-item",children:jsxRuntimeExports.jsx("a",{href:"#",className:"btn btn-info btn-now",onClick:ft,children:it(TranslatableString.NowLabel)})}),(Je.hideClearButton!=="undefined"?!Je.hideClearButton:!0)&&jsxRuntimeExports.jsx("li",{className:"list-inline-item",children:jsxRuntimeExports.jsx("a",{href:"#",className:"btn btn-warning btn-clear",onClick:ct,children:it(TranslatableString.ClearLabel)})})]})}function AltDateTimeWidget({time:e=!0,...t}){const{AltDateWidget:Ke}=t.registry.widgets;return jsxRuntimeExports.jsx(Ke,{time:e,...t})}function CheckboxWidget({schema:e,uiSchema:t,options:Ke,id:Ye,value:Je,disabled:Xe,readonly:et,label:tt,hideLabel:rt,autofocus:st=!1,onBlur:at,onFocus:nt,onChange:it,registry:ot}){const lt=getTemplate("DescriptionFieldTemplate",ot,Ke),ut=schemaRequiresTrueValue(e),ft=reactExports.useCallback(xt=>it(xt.target.checked),[it]),ct=reactExports.useCallback(xt=>at(Ye,xt.target.checked),[at,Ye]),dt=reactExports.useCallback(xt=>nt(Ye,xt.target.checked),[nt,Ye]),ht=Ke.description??e.description;return jsxRuntimeExports.jsxs("div",{className:`checkbox ${Xe||et?"disabled":""}`,children:[!rt&&ht&&jsxRuntimeExports.jsx(lt,{id:descriptionId(Ye),description:ht,schema:e,uiSchema:t,registry:ot}),jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:Ye,name:Ye,checked:typeof Je>"u"?!1:Je,required:ut,disabled:Xe||et,autoFocus:st,onChange:ft,onBlur:ct,onFocus:dt,"aria-describedby":ariaDescribedByIds(Ye)}),labelValue(jsxRuntimeExports.jsx("span",{children:tt}),rt)]})]})}function CheckboxesWidget({id:e,disabled:t,options:{inline:Ke=!1,enumOptions:Ye,enumDisabled:Je,emptyValue:Xe},value:et,autofocus:tt=!1,readonly:rt,onChange:st,onBlur:at,onFocus:nt}){const it=Array.isArray(et)?et:[et],ot=reactExports.useCallback(({target:ut})=>at(e,enumOptionsValueForIndex(ut&&ut.value,Ye,Xe)),[at,e,Ye,Xe]),lt=reactExports.useCallback(({target:ut})=>nt(e,enumOptionsValueForIndex(ut&&ut.value,Ye,Xe)),[nt,e,Ye,Xe]);return jsxRuntimeExports.jsx("div",{className:"checkboxes",id:e,children:Array.isArray(Ye)&&Ye.map((ut,ft)=>{const ct=enumOptionsIsSelected(ut.value,it),dt=Array.isArray(Je)&&Je.indexOf(ut.value)!==-1,ht=t||dt||rt?"disabled":"",xt=bt=>{bt.target.checked?st(enumOptionsSelectValue(ft,it,Ye)):st(enumOptionsDeselectValue(ft,it,Ye))},vt=jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:optionId(e,ft),name:e,checked:ct,value:String(ft),disabled:t||dt||rt,autoFocus:tt&&ft===0,onChange:xt,onBlur:ot,onFocus:lt,"aria-describedby":ariaDescribedByIds(e)}),jsxRuntimeExports.jsx("span",{children:ut.label})]});return Ke?jsxRuntimeExports.jsx("label",{className:`checkbox-inline ${ht}`,children:vt},ft):jsxRuntimeExports.jsx("div",{className:`checkbox ${ht}`,children:jsxRuntimeExports.jsx("label",{children:vt})},ft)})})}function ColorWidget(e){const{disabled:t,readonly:Ke,options:Ye,registry:Je}=e,Xe=getTemplate("BaseInputTemplate",Je,Ye);return jsxRuntimeExports.jsx(Xe,{type:"color",...e,disabled:t||Ke})}function DateWidget(e){const{onChange:t,options:Ke,registry:Ye}=e,Je=getTemplate("BaseInputTemplate",Ye,Ke),Xe=reactExports.useCallback(et=>t(et||void 0),[t]);return jsxRuntimeExports.jsx(Je,{type:"date",...e,onChange:Xe})}function DateTimeWidget(e){const{onChange:t,value:Ke,options:Ye,registry:Je}=e,Xe=getTemplate("BaseInputTemplate",Je,Ye);return jsxRuntimeExports.jsx(Xe,{type:"datetime-local",...e,value:utcToLocal(Ke),onChange:et=>t(localToUTC(et))})}function EmailWidget(e){const{options:t,registry:Ke}=e,Ye=getTemplate("BaseInputTemplate",Ke,t);return jsxRuntimeExports.jsx(Ye,{type:"email",...e})}function addNameToDataURL(e,t){return e===null?null:e.replace(";base64",`;name=${encodeURIComponent(t)};base64`)}function processFile(e){const{name:t,size:Ke,type:Ye}=e;return new Promise((Je,Xe)=>{const et=new window.FileReader;et.onerror=Xe,et.onload=tt=>{typeof tt.target?.result=="string"?Je({dataURL:addNameToDataURL(tt.target.result,t),name:t,size:Ke,type:Ye}):Je({dataURL:null,name:t,size:Ke,type:Ye})},et.readAsDataURL(e)})}function processFiles(e){return Promise.all(Array.from(e).map(processFile))}function FileInfoPreview({fileInfo:e,registry:t}){const{translateString:Ke}=t,{dataURL:Ye,type:Je,name:Xe}=e;return Ye?["image/jpeg","image/png"].includes(Je)?jsxRuntimeExports.jsx("img",{src:Ye,style:{maxWidth:"100%"},className:"file-preview"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" ",jsxRuntimeExports.jsx("a",{download:`preview-${Xe}`,href:Ye,className:"file-download",children:Ke(TranslatableString.PreviewLabel)})]}):null}function FilesInfo({filesInfo:e,registry:t,preview:Ke,onRemove:Ye,options:Je}){if(e.length===0)return null;const{translateString:Xe}=t,{RemoveButton:et}=getTemplate("ButtonTemplates",t,Je);return jsxRuntimeExports.jsx("ul",{className:"file-info",children:e.map((tt,rt)=>{const{name:st,size:at,type:nt}=tt,it=()=>Ye(rt);return jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx(Markdown,{children:Xe(TranslatableString.FilesInfo,[st,nt,String(at)])}),Ke&&jsxRuntimeExports.jsx(FileInfoPreview,{fileInfo:tt,registry:t}),jsxRuntimeExports.jsx(et,{onClick:it,registry:t})]},rt)})})}function extractFileInfo(e){return e.reduce((t,Ke)=>{if(!Ke)return t;try{const{blob:Ye,name:Je}=dataURItoBlob(Ke);return[...t,{dataURL:Ke,name:Je,size:Ye.size,type:Ye.type}]}catch{return t}},[])}function FileWidget(e){const{disabled:t,readonly:Ke,required:Ye,multiple:Je,onChange:Xe,value:et,options:tt,registry:rt}=e,st=getTemplate("BaseInputTemplate",rt,tt),at=reactExports.useCallback(ot=>{ot.target.files&&processFiles(ot.target.files).then(lt=>{const ut=lt.map(ft=>ft.dataURL);Xe(Je?et.concat(ut):ut[0])})},[Je,et,Xe]),nt=reactExports.useMemo(()=>extractFileInfo(Array.isArray(et)?et:[et]),[et]),it=reactExports.useCallback(ot=>{if(Je){const lt=et.filter((ut,ft)=>ft!==ot);Xe(lt)}else Xe(void 0)},[Je,et,Xe]);return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(st,{...e,disabled:t||Ke,type:"file",required:et?!1:Ye,onChangeOverride:at,value:"",accept:tt.accept?String(tt.accept):void 0}),jsxRuntimeExports.jsx(FilesInfo,{filesInfo:nt,onRemove:it,registry:rt,preview:tt.filePreview,options:tt})]})}function HiddenWidget({id:e,value:t}){return jsxRuntimeExports.jsx("input",{type:"hidden",id:e,name:e,value:typeof t>"u"?"":t})}function PasswordWidget(e){const{options:t,registry:Ke}=e,Ye=getTemplate("BaseInputTemplate",Ke,t);return jsxRuntimeExports.jsx(Ye,{type:"password",...e})}function RadioWidget({options:e,value:t,required:Ke,disabled:Ye,readonly:Je,autofocus:Xe=!1,onBlur:et,onFocus:tt,onChange:rt,id:st}){const{enumOptions:at,enumDisabled:nt,inline:it,emptyValue:ot}=e,lt=reactExports.useCallback(({target:ft})=>et(st,enumOptionsValueForIndex(ft&&ft.value,at,ot)),[et,at,ot,st]),ut=reactExports.useCallback(({target:ft})=>tt(st,enumOptionsValueForIndex(ft&&ft.value,at,ot)),[tt,at,ot,st]);return jsxRuntimeExports.jsx("div",{className:"field-radio-group",id:st,role:"radiogroup",children:Array.isArray(at)&&at.map((ft,ct)=>{const dt=enumOptionsIsSelected(ft.value,t),ht=Array.isArray(nt)&&nt.indexOf(ft.value)!==-1,xt=Ye||ht||Je?"disabled":"",vt=()=>rt(ft.value),bt=jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("input",{type:"radio",id:optionId(st,ct),checked:dt,name:st,required:Ke,value:String(ct),disabled:Ye||ht||Je,autoFocus:Xe&&ct===0,onChange:vt,onBlur:lt,onFocus:ut,"aria-describedby":ariaDescribedByIds(st)}),jsxRuntimeExports.jsx("span",{children:ft.label})]});return it?jsxRuntimeExports.jsx("label",{className:`radio-inline ${xt}`,children:bt},ct):jsxRuntimeExports.jsx("div",{className:`radio ${xt}`,children:jsxRuntimeExports.jsx("label",{children:bt})},ct)})})}function RangeWidget(e){const{value:t,registry:{templates:{BaseInputTemplate:Ke}}}=e;return jsxRuntimeExports.jsxs("div",{className:"field-range-wrapper",children:[jsxRuntimeExports.jsx(Ke,{type:"range",...e}),jsxRuntimeExports.jsx("span",{className:"range-view",children:t})]})}function RatingWidget({id:e,value:t,required:Ke,disabled:Ye,readonly:Je,autofocus:Xe,onChange:et,onFocus:tt,onBlur:rt,schema:st,options:at}){const{stars:nt=5,shape:it="star"}=at,ot=st.maximum?Math.min(st.maximum,5):Math.min(Math.max(nt,1),5),lt=st.minimum||0,ut=reactExports.useCallback(ht=>{!Ye&&!Je&&et(ht)},[et,Ye,Je]),ft=reactExports.useCallback(ht=>{if(tt){const xt=Number(ht.target.dataset.value);tt(e,xt)}},[tt,e]),ct=reactExports.useCallback(ht=>{if(rt){const xt=Number(ht.target.dataset.value);rt(e,xt)}},[rt,e]),dt=ht=>it==="heart"?ht?"":"":ht?"":"";return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:"rating-widget",style:{display:"inline-flex",fontSize:"1.5rem",cursor:Ye||Je?"default":"pointer"},children:[[...Array(ot)].map((ht,xt)=>{const vt=lt+xt,bt=vt<=t;return jsxRuntimeExports.jsx("span",{onClick:()=>ut(vt),onFocus:ft,onBlur:ct,"data-value":vt,tabIndex:Ye||Je?-1:0,role:"radio","aria-checked":vt===t,"aria-label":`${vt} ${it==="heart"?"heart":"star"}${vt===1?"":"s"}`,style:{color:bt?"#FFD700":"#ccc",padding:"0 0.2rem",transition:"color 0.2s",userSelect:"none"},children:dt(bt)},xt)}),jsxRuntimeExports.jsx("input",{type:"hidden",id:e,name:e,value:t||"",required:Ke,disabled:Ye||Je,"aria-hidden":"true"})]})})}function getValue(e,t){return t?Array.from(e.target.options).slice().filter(Ke=>Ke.selected).map(Ke=>Ke.value):e.target.value}function SelectWidget({schema:e,id:t,options:Ke,value:Ye,required:Je,disabled:Xe,readonly:et,multiple:tt=!1,autofocus:rt=!1,onChange:st,onBlur:at,onFocus:nt,placeholder:it}){const{enumOptions:ot,enumDisabled:lt,emptyValue:ut}=Ke,ft=tt?[]:"",ct=reactExports.useCallback(bt=>{const _t=getValue(bt,tt);return nt(t,enumOptionsValueForIndex(_t,ot,ut))},[nt,t,tt,ot,ut]),dt=reactExports.useCallback(bt=>{const _t=getValue(bt,tt);return at(t,enumOptionsValueForIndex(_t,ot,ut))},[at,t,tt,ot,ut]),ht=reactExports.useCallback(bt=>{const _t=getValue(bt,tt);return st(enumOptionsValueForIndex(_t,ot,ut))},[st,tt,ot,ut]),xt=enumOptionsIndexForValue(Ye,ot,tt),vt=!tt&&e.default===void 0;return jsxRuntimeExports.jsxs("select",{id:t,name:t,multiple:tt,role:"combobox",className:"form-control",value:typeof xt>"u"?ft:xt,required:Je,disabled:Xe||et,autoFocus:rt,onBlur:dt,onFocus:ct,onChange:ht,"aria-describedby":ariaDescribedByIds(t),children:[vt&&jsxRuntimeExports.jsx("option",{value:"",children:it}),Array.isArray(ot)&&ot.map(({value:bt,label:_t},Ct)=>{const Rt=lt&&lt.indexOf(bt)!==-1;return jsxRuntimeExports.jsx("option",{value:String(Ct),disabled:Rt,children:_t},Ct)})]})}function TextareaWidget({id:e,options:t={},placeholder:Ke,value:Ye,required:Je,disabled:Xe,readonly:et,autofocus:tt=!1,onChange:rt,onBlur:st,onFocus:at}){const nt=reactExports.useCallback(({target:{value:lt}})=>rt(lt===""?t.emptyValue:lt),[rt,t.emptyValue]),it=reactExports.useCallback(({target:lt})=>st(e,lt&&lt.value),[st,e]),ot=reactExports.useCallback(({target:lt})=>at(e,lt&&lt.value),[e,at]);return jsxRuntimeExports.jsx("textarea",{id:e,name:e,className:"form-control",value:Ye||"",placeholder:Ke,required:Je,disabled:Xe,readOnly:et,autoFocus:tt,rows:t.rows,onBlur:it,onFocus:ot,onChange:nt,"aria-describedby":ariaDescribedByIds(e)})}TextareaWidget.defaultProps={autofocus:!1,options:{}};function TextWidget(e){const{options:t,registry:Ke}=e,Ye=getTemplate("BaseInputTemplate",Ke,t);return jsxRuntimeExports.jsx(Ye,{...e})}function TimeWidget(e){const{onChange:t,options:Ke,registry:Ye}=e,Je=getTemplate("BaseInputTemplate",Ye,Ke),Xe=reactExports.useCallback(et=>t(et?`${et}:00`:void 0),[t]);return jsxRuntimeExports.jsx(Je,{type:"time",...e,onChange:Xe})}function URLWidget(e){const{options:t,registry:Ke}=e,Ye=getTemplate("BaseInputTemplate",Ke,t);return jsxRuntimeExports.jsx(Ye,{type:"url",...e})}function UpDownWidget(e){const{options:t,registry:Ke}=e,Ye=getTemplate("BaseInputTemplate",Ke,t);return jsxRuntimeExports.jsx(Ye,{type:"number",...e})}function widgets(){return{AltDateWidget,AltDateTimeWidget,CheckboxWidget,CheckboxesWidget,ColorWidget,DateWidget,DateTimeWidget,EmailWidget,FileWidget,HiddenWidget,PasswordWidget,RadioWidget,RangeWidget,RatingWidget,SelectWidget,TextWidget,TextareaWidget,TimeWidget,UpDownWidget,URLWidget}}function getDefaultRegistry(){return{fields:fields(),templates:templates(),widgets:widgets(),rootSchema:{},formContext:{},translateString:englishStringTranslator}}class Form extends reactExports.Component{formElement;pendingChanges=[];constructor(t){if(super(t),!t.validator)throw new Error("A validator is required for Form functionality to work");this.state=this.getStateFromProps(t,t.formData),this.props.onChange&&!deepEquals(this.state.formData,this.props.formData)&&this.props.onChange(this.state),this.formElement=reactExports.createRef()}getSnapshotBeforeUpdate(t,Ke){if(!deepEquals(this.props,t)){const Ye=getChangedFields(this.props.formData,t.formData),Je=getChangedFields(this.props.formData,this.state.formData),Xe=!deepEquals(t.schema,this.props.schema),et=Ye.length>0||!deepEquals(t.formData,this.props.formData),tt=Je.length>0||!deepEquals(this.state.formData,this.props.formData),rt=this.getStateFromProps(this.props,this.props.formData,Xe||et?void 0:this.state.retrievedSchema,Xe,Ye,!tt),st=!deepEquals(rt,Ke);return{nextState:rt,shouldUpdate:st}}return{shouldUpdate:!1}}componentDidUpdate(t,Ke,Ye){if(Ye.shouldUpdate){const{nextState:Je}=Ye;!deepEquals(Je.formData,this.props.formData)&&!deepEquals(Je.formData,Ke.formData)&&this.props.onChange&&this.props.onChange(Je),this.setState(Je)}}getStateFromProps(t,Ke,Ye,Je=!1,Xe=[],et=!1){const tt=this.state||{},rt="schema"in t?t.schema:this.props.schema,st="validator"in t?t.validator:this.props.validator,at=("uiSchema"in t?t.uiSchema:this.props.uiSchema)||{},nt=typeof Ke<"u",it="liveValidate"in t?t.liveValidate:this.props.liveValidate,ot=nt&&!t.noValidate&&it&&!et,lt="experimental_defaultFormStateBehavior"in t?t.experimental_defaultFormStateBehavior:this.props.experimental_defaultFormStateBehavior,ut="experimental_customMergeAllOf"in t?t.experimental_customMergeAllOf:this.props.experimental_customMergeAllOf;let ft=tt.schemaUtils;(!ft||ft.doesSchemaUtilsDiffer(st,rt,lt,ut))&&(ft=createSchemaUtils(st,rt,lt,ut));const ct=ft.getRootSchema(),dt=ft.getDefaultFormState(ct,Ke),ht=this.updateRetrievedSchema(Ye??ft.retrieveSchema(ct,dt)),xt=()=>t.noValidate||Je?{errors:[],errorSchema:{}}:t.liveValidate?{errors:tt.errors||[],errorSchema:tt.errorSchema||{}}:{errors:tt.schemaValidationErrors||[],errorSchema:tt.schemaValidationErrorSchema||{}};let vt,bt,_t=tt.schemaValidationErrors,Ct=tt.schemaValidationErrorSchema;if(ot){const yt=this.validate(dt,ct,ft,ht);vt=yt.errors,Ye===void 0?bt=yt.errorSchema:bt=mergeObjects(this.state?.errorSchema,yt.errorSchema,"preventDuplicates"),_t=vt,Ct=bt}else{const yt=xt();if(vt=yt.errors,bt=yt.errorSchema,Xe.length>0){const Et=Xe.reduce((pt,mt)=>(pt[mt]=void 0,pt),{});bt=Ct=mergeObjects(yt.errorSchema,Et,"preventDuplicates")}}if(t.extraErrors){const yt=validationDataMerge({errorSchema:bt,errors:vt},t.extraErrors);bt=yt.errorSchema,vt=yt.errors}const Rt=ft.toIdSchema(ht,at["ui:rootFieldId"],dt,t.idPrefix,t.idSeparator);return{schemaUtils:ft,schema:ct,uiSchema:at,idSchema:Rt,formData:dt,edit:nt,errors:vt,errorSchema:bt,schemaValidationErrors:_t,schemaValidationErrorSchema:Ct,retrievedSchema:ht}}shouldComponentUpdate(t,Ke){const{experimental_componentUpdateStrategy:Ye="customDeep"}=this.props;return shouldRender(this,t,Ke,Ye)}getPreviousCustomValidateErrors(){const{customValidate:t,uiSchema:Ke}=this.props,Ye=this.state.formData;let Je={};if(typeof t=="function"){const Xe=t(Ye,createErrorHandler(Ye),Ke);Je=unwrapErrorHandler(Xe)}return Je}validate(t,Ke=this.state.schema,Ye,Je){const Xe=Ye||this.state.schemaUtils,{customValidate:et,transformErrors:tt,uiSchema:rt}=this.props,st=Je??Xe.retrieveSchema(Ke,t);return Xe.getValidator().validateFormData(t,st,et,tt,rt)}renderErrors(t){const{errors:Ke,errorSchema:Ye,schema:Je,uiSchema:Xe}=this.state,{formContext:et}=this.props,tt=getUiOptions(Xe),rt=getTemplate("ErrorListTemplate",t,tt);return Ke&&Ke.length?jsxRuntimeExports.jsx(rt,{errors:Ke,errorSchema:Ye||{},schema:Je,uiSchema:Xe,formContext:et,registry:t}):null}getUsedFormData=(t,Ke)=>{if(Ke.length===0&&typeof t!="object")return t;const Ye=pick(t,Ke);return Array.isArray(t)?Object.keys(Ye).map(Je=>Ye[Je]):Ye};getFieldNames=(t,Ke)=>{const Ye=(Je,Xe=[],et=[[]])=>(Object.keys(Je).forEach(tt=>{if(typeof Je[tt]=="object"){const rt=et.map(st=>[...st,tt]);Je[tt][RJSF_ADDITIONAL_PROPERTIES_FLAG]&&Je[tt][NAME_KEY]!==""?Xe.push(Je[tt][NAME_KEY]):Ye(Je[tt],Xe,rt)}else tt===NAME_KEY&&Je[tt]!==""&&et.forEach(rt=>{const st=get(Ke,rt);(typeof st!="object"||isEmpty(st)||Array.isArray(st)&&st.every(at=>typeof at!="object"))&&Xe.push(rt)})}),Xe);return Ye(t)};omitExtraData=t=>{const{schema:Ke,schemaUtils:Ye}=this.state,Je=Ye.retrieveSchema(Ke,t),Xe=Ye.toPathSchema(Je,"",t),et=this.getFieldNames(Xe,t);return this.getUsedFormData(t,et)};filterErrorsBasedOnSchema(t,Ke,Ye){const{retrievedSchema:Je,schemaUtils:Xe}=this.state,et=Ke??Je,tt=Xe.toPathSchema(et,"",Ye),rt=this.getFieldNames(tt,Ye),st=pick(t,rt);Ke?.type!=="object"&&Ke?.type!=="array"&&(st.__errors=t.__errors);const at=this.getPreviousCustomValidateErrors(),nt=(ot=[],lt)=>ot.length===0?ot:ot.filter(ut=>!lt.includes(ut)),it=(ot,lt={})=>(forEach(ot,(ut,ft)=>{const ct=lt[ft];isNil(ut)||Array.isArray(ut)&&ut.length===0?delete ot[ft]:isObject$1(ut)&&isObject$1(ct)&&Array.isArray(ct?.__errors)?ot[ft]=nt(ut.__errors,ct.__errors):typeof ut=="object"&&!Array.isArray(ut.__errors)&&it(ut,lt[ft])}),ot);return it(st,at)}onChange=(t,Ke,Ye,Je)=>{this.pendingChanges.push({newValue:t,path:Ke,newErrorSchema:Ye,id:Je}),this.pendingChanges.length===1&&this.processPendingChange()};processPendingChange(){if(this.pendingChanges.length===0)return;const{newValue:t,path:Ke,id:Ye}=this.pendingChanges[0];let{newErrorSchema:Je}=this.pendingChanges[0];const{extraErrors:Xe,omitExtraData:et,liveOmit:tt,noValidate:rt,liveValidate:st,onChange:at,idPrefix:nt=""}=this.props,{formData:it,schemaUtils:ot,schema:lt,errorSchema:ut}=this.state,ft=!Ke||Ke.length===0||Ke.length===1&&Ke[0]===nt;let ct=this.state.retrievedSchema,dt=ft?t:cloneDeep(it);if(isObject$1(dt)||Array.isArray(dt)){ft||set(dt,Ke,t);const bt=this.getStateFromProps(this.props,dt,void 0,void 0,void 0,!0);dt=bt.formData,ct=bt.retrievedSchema}const ht=!rt&&st;let xt={formData:dt,schema:lt},vt=dt;if(et===!0&&tt===!0&&(vt=this.omitExtraData(dt),xt={formData:vt}),Je&&!ft){const bt=cloneDeep(ut);set(bt,Ke,Je),Je=bt}if(ht&&this.pendingChanges.length===1){const bt=this.validate(vt,lt,ot,ct);let _t=bt.errors,Ct=bt.errorSchema;const Rt=_t,jt=Ct;if(Xe){const yt=validationDataMerge(bt,Xe);Ct=yt.errorSchema,_t=yt.errors}if(Je){const yt=this.filterErrorsBasedOnSchema(Je,ct,vt);Ct=mergeObjects(Ct,yt,"preventDuplicates")}xt={formData:vt,errors:_t,errorSchema:Ct,schemaValidationErrors:Rt,schemaValidationErrorSchema:jt}}else if(!rt&&Je){const bt=Xe?mergeObjects(Je,Xe,"preventDuplicates"):Je;xt={formData:vt,errorSchema:bt,errors:toErrorList(bt)}}this.setState(xt,()=>{at&&at({...this.state,...xt},Ye),this.pendingChanges.shift(),this.processPendingChange()})}updateRetrievedSchema(t){return deepEquals(t,this.state?.retrievedSchema)?this.state.retrievedSchema:t}reset=()=>{const{onChange:t}=this.props,Je={formData:this.getStateFromProps(this.props,void 0).formData,errorSchema:{},errors:[],schemaValidationErrors:[],schemaValidationErrorSchema:{}};this.setState(Je,()=>t&&t({...this.state,...Je}))};onBlur=(t,Ke)=>{const{onBlur:Ye}=this.props;Ye&&Ye(t,Ke)};onFocus=(t,Ke)=>{const{onFocus:Ye}=this.props;Ye&&Ye(t,Ke)};onSubmit=t=>{if(t.preventDefault(),t.target!==t.currentTarget)return;t.persist();const{omitExtraData:Ke,extraErrors:Ye,noValidate:Je,onSubmit:Xe}=this.props;let{formData:et}=this.state;if(Ke===!0&&(et=this.omitExtraData(et)),Je||this.validateFormWithFormData(et)){const tt=Ye||{},rt=Ye?toErrorList(Ye):[];this.setState({formData:et,errors:rt,errorSchema:tt,schemaValidationErrors:[],schemaValidationErrorSchema:{}},()=>{Xe&&Xe({...this.state,formData:et,status:"submitted"},t)})}};getRegistry(){const{translateString:t,uiSchema:Ke={},experimental_componentUpdateStrategy:Ye="customDeep"}=this.props,{schema:Je,schemaUtils:Xe}=this.state,{fields:et,templates:tt,widgets:rt,formContext:st,translateString:at}=getDefaultRegistry();return{fields:{...et,...this.props.fields},templates:{...tt,...this.props.templates,ButtonTemplates:{...tt.ButtonTemplates,...this.props.templates?.ButtonTemplates}},widgets:{...rt,...this.props.widgets},rootSchema:Je,formContext:this.props.formContext||st,schemaUtils:Xe,translateString:t||at,globalUiOptions:Ke[UI_GLOBAL_OPTIONS_KEY],experimental_componentUpdateStrategy:Ye}}submit=()=>{if(this.formElement.current){const t=new CustomEvent("submit",{cancelable:!0});t.preventDefault(),this.formElement.current.dispatchEvent(t),this.formElement.current.requestSubmit()}};focusOnError(t){const{idPrefix:Ke="root",idSeparator:Ye="_"}=this.props,{property:Je}=t,Xe=toPath(Je);Xe[0]===""?Xe[0]=Ke:Xe.unshift(Ke);const et=Xe.join(Ye);let tt=this.formElement.current.elements[et];tt||(tt=this.formElement.current.querySelector(`input[id^="${et}"`)),tt&&tt.length&&(tt=tt[0]),tt&&tt.focus()}validateFormWithFormData=t=>{const{extraErrors:Ke,extraErrorsBlockSubmit:Ye,focusOnFirstError:Je,onError:Xe}=this.props,{errors:et}=this.state,tt=this.validate(t);let rt=tt.errors,st=tt.errorSchema;const at=rt,nt=st,it=rt.length>0||Ke&&Ye;if(it){if(Ke){const ot=validationDataMerge(tt,Ke);st=ot.errorSchema,rt=ot.errors}Je&&(typeof Je=="function"?Je(rt[0]):this.focusOnError(rt[0])),this.setState({errors:rt,errorSchema:st,schemaValidationErrors:at,schemaValidationErrorSchema:nt},()=>{Xe?Xe(rt):console.error("Form validation failed",rt)})}else et.length>0&&this.setState({errors:[],errorSchema:{},schemaValidationErrors:[],schemaValidationErrorSchema:{}});return!it};validateForm(){const{omitExtraData:t}=this.props;let{formData:Ke}=this.state;return t===!0&&(Ke=this.omitExtraData(Ke)),this.validateFormWithFormData(Ke)}render(){const{children:t,id:Ke,idPrefix:Ye="",idSeparator:Je,className:Xe="",tagName:et,name:tt,method:rt,target:st,action:at,autoComplete:nt,enctype:it,acceptCharset:ot,noHtml5Validate:lt=!1,disabled:ut,readonly:ft,formContext:ct,showErrorList:dt="top",_internalFormWrapper:ht}=this.props,{schema:xt,uiSchema:vt,formData:bt,errorSchema:_t,idSchema:Ct}=this.state,Rt=this.getRegistry(),{SchemaField:jt}=Rt.fields,{SubmitButton:yt}=Rt.templates.ButtonTemplates,Et=ht?et:void 0,pt=ht||et||"form";let{[SUBMIT_BTN_OPTIONS_KEY]:mt={}}=getUiOptions(vt);ut&&(mt={...mt,props:{...mt.props,disabled:!0}});const gt={[UI_OPTIONS_KEY]:{[SUBMIT_BTN_OPTIONS_KEY]:mt}};return jsxRuntimeExports.jsxs(pt,{className:Xe||"rjsf",id:Ke,name:tt,method:rt,target:st,action:at,autoComplete:nt,encType:it,acceptCharset:ot,noValidate:lt,onSubmit:this.onSubmit,as:Et,ref:this.formElement,children:[dt==="top"&&this.renderErrors(Rt),jsxRuntimeExports.jsx(jt,{name:Ye,schema:xt,uiSchema:vt,errorSchema:_t,idSchema:Ct,idPrefix:Ye,idSeparator:Je,formContext:ct,formData:bt,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:Rt,disabled:ut,readonly:ft}),t||jsxRuntimeExports.jsx(yt,{uiSchema:gt,registry:Rt}),dt==="bottom"&&this.renderErrors(Rt)]})}}function withTheme(e){return reactExports.forwardRef(({fields:t,widgets:Ke,templates:Ye,...Je},Xe)=>(t={...e?.fields,...t},Ke={...e?.widgets,...Ke},Ye={...e?.templates,...Ye,ButtonTemplates:{...e?.templates?.ButtonTemplates,...Ye?.ButtonTemplates}},jsxRuntimeExports.jsx(Form,{...e,...Je,fields:t,widgets:Ke,templates:Ye,ref:Xe})))}var dist={exports:{}},formats={},hasRequiredFormats;function requireFormats(){return hasRequiredFormats||(hasRequiredFormats=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(Rt,jt){return{validate:Rt,compare:jt}}e.fullFormats={date:t(Xe,et),time:t(rt,st),"date-time":t(nt,it),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:ut,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:Ct,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:ct,int32:{type:"number",validate:xt},int64:{type:"number",validate:vt},float:{type:"number",validate:bt},double:{type:"number",validate:bt},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,et),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,st),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,it),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function Ke(Rt){return Rt%4===0&&(Rt%100!==0||Rt%400===0)}const Ye=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Je=[0,31,28,31,30,31,30,31,31,30,31,30,31];function Xe(Rt){const jt=Ye.exec(Rt);if(!jt)return!1;const yt=+jt[1],Et=+jt[2],pt=+jt[3];return Et>=1&&Et<=12&&pt>=1&&pt<=(Et===2&&Ke(yt)?29:Je[Et])}function et(Rt,jt){if(Rt&&jt)return Rt>jt?1:Rt<jt?-1:0}const tt=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function rt(Rt,jt){const yt=tt.exec(Rt);if(!yt)return!1;const Et=+yt[1],pt=+yt[2],mt=+yt[3],gt=yt[5];return(Et<=23&&pt<=59&&mt<=59||Et===23&&pt===59&&mt===60)&&(!jt||gt!=="")}function st(Rt,jt){if(!(Rt&&jt))return;const yt=tt.exec(Rt),Et=tt.exec(jt);if(yt&&Et)return Rt=yt[1]+yt[2]+yt[3]+(yt[4]||""),jt=Et[1]+Et[2]+Et[3]+(Et[4]||""),Rt>jt?1:Rt<jt?-1:0}const at=/t|\s/i;function nt(Rt){const jt=Rt.split(at);return jt.length===2&&Xe(jt[0])&&rt(jt[1],!0)}function it(Rt,jt){if(!(Rt&&jt))return;const[yt,Et]=Rt.split(at),[pt,mt]=jt.split(at),gt=et(yt,pt);if(gt!==void 0)return gt||st(Et,mt)}const ot=/\/|:/,lt=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function ut(Rt){return ot.test(Rt)&&lt.test(Rt)}const ft=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function ct(Rt){return ft.lastIndex=0,ft.test(Rt)}const dt=-2147483648,ht=2**31-1;function xt(Rt){return Number.isInteger(Rt)&&Rt<=ht&&Rt>=dt}function vt(Rt){return Number.isInteger(Rt)}function bt(){return!0}const _t=/[^\\]\\Z/;function Ct(Rt){if(_t.test(Rt))return!1;try{return new RegExp(Rt),!0}catch{return!1}}})(formats)),formats}var limit={},hasRequiredLimit;function requireLimit(){return hasRequiredLimit||(hasRequiredLimit=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=requireAjv(),Ke=requireCodegen$1(),Ye=Ke.operators,Je={formatMaximum:{okStr:"<=",ok:Ye.LTE,fail:Ye.GT},formatMinimum:{okStr:">=",ok:Ye.GTE,fail:Ye.LT},formatExclusiveMaximum:{okStr:"<",ok:Ye.LT,fail:Ye.GTE},formatExclusiveMinimum:{okStr:">",ok:Ye.GT,fail:Ye.LTE}},Xe={message:({keyword:tt,schemaCode:rt})=>Ke.str`should be ${Je[tt].okStr} ${rt}`,params:({keyword:tt,schemaCode:rt})=>Ke._`{comparison: ${Je[tt].okStr}, limit: ${rt}}`};e.formatLimitDefinition={keyword:Object.keys(Je),type:"string",schemaType:"string",$data:!0,error:Xe,code(tt){const{gen:rt,data:st,schemaCode:at,keyword:nt,it}=tt,{opts:ot,self:lt}=it;if(!ot.validateFormats)return;const ut=new t.KeywordCxt(it,lt.RULES.all.format.definition,"format");ut.$data?ft():ct();function ft(){const ht=rt.scopeValue("formats",{ref:lt.formats,code:ot.code.formats}),xt=rt.const("fmt",Ke._`${ht}[${ut.schemaCode}]`);tt.fail$data(Ke.or(Ke._`typeof ${xt} != "object"`,Ke._`${xt} instanceof RegExp`,Ke._`typeof ${xt}.compare != "function"`,dt(xt)))}function ct(){const ht=ut.schema,xt=lt.formats[ht];if(!xt||xt===!0)return;if(typeof xt!="object"||xt instanceof RegExp||typeof xt.compare!="function")throw new Error(`"${nt}": format "${ht}" does not define "compare" function`);const vt=rt.scopeValue("formats",{key:ht,ref:xt,code:ot.code.formats?Ke._`${ot.code.formats}${Ke.getProperty(ht)}`:void 0});tt.fail$data(dt(vt))}function dt(ht){return Ke._`${ht}.compare(${st}, ${at}) ${Je[nt].fail} 0`}},dependencies:["format"]};const et=tt=>(tt.addKeyword(e.formatLimitDefinition),tt);e.default=et})(limit)),limit}var hasRequiredDist;function requireDist(){return hasRequiredDist||(hasRequiredDist=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const Ke=requireFormats(),Ye=requireLimit(),Je=requireCodegen$1(),Xe=new Je.Name("fullFormats"),et=new Je.Name("fastFormats"),tt=(st,at={keywords:!0})=>{if(Array.isArray(at))return rt(st,at,Ke.fullFormats,Xe),st;const[nt,it]=at.mode==="fast"?[Ke.fastFormats,et]:[Ke.fullFormats,Xe],ot=at.formats||Ke.formatNames;return rt(st,ot,nt,it),at.keywords&&Ye.default(st),st};tt.get=(st,at="full")=>{const it=(at==="fast"?Ke.fastFormats:Ke.fullFormats)[st];if(!it)throw new Error(`Unknown format "${st}"`);return it};function rt(st,at,nt,it){var ot,lt;(ot=(lt=st.opts.code).formats)!==null&&ot!==void 0||(lt.formats=Je._`require("ajv-formats/dist/formats").${it}`);for(const ut of at)st.addFormat(ut,nt[ut])}e.exports=t=tt,Object.defineProperty(t,"__esModule",{value:!0}),t.default=tt})(dist,dist.exports)),dist.exports}var distExports=requireDist();const addFormats=getDefaultExportFromCjs(distExports),AJV_CONFIG={allErrors:!0,multipleOfPrecision:8,strict:!1,verbose:!0,discriminator:!1},COLOR_FORMAT_REGEX=/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,DATA_URL_FORMAT_REGEX=/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/;function createAjvInstance(e,t,Ke={},Ye,Je=Ajv){const Xe=new Je({...AJV_CONFIG,...Ke});return Ye?addFormats(Xe,Ye):Ye!==!1&&addFormats(Xe),Xe.addFormat("data-url",DATA_URL_FORMAT_REGEX),Xe.addFormat("color",COLOR_FORMAT_REGEX),Xe.addKeyword(ADDITIONAL_PROPERTY_FLAG),Xe.addKeyword(RJSF_ADDITIONAL_PROPERTIES_FLAG),Array.isArray(e)&&Xe.addMetaSchema(e),isObject(t)&&Object.keys(t).forEach(et=>{Xe.addFormat(et,t[et])}),Xe}function transformRJSFValidationErrors(e=[],t){return e.map(Ke=>{var Ye;const{instancePath:Je,keyword:Xe,params:et,schemaPath:tt,parentSchema:rt,...st}=Ke;let{message:at=""}=st,nt=Je.replace(/\//g,"."),it=`${nt} ${at}`.trim(),ot="";const lt=[...((Ye=et.deps)===null||Ye===void 0?void 0:Ye.split(", "))||[],et.missingProperty,et.property].filter(ut=>ut);if(lt.length>0)lt.forEach(ut=>{const ft=nt?`${nt}.${ut}`:ut;let ct=getUiOptions(get(t,`${ft.replace(/^\./,"")}`)).title;if(ct===void 0){const dt=tt.replace(/\/properties\//g,"/").split("/").slice(1,-1).concat([ut]);ct=getUiOptions(get(t,dt)).title}if(ct)at=at.replace(`'${ut}'`,`'${ct}'`),ot=ct;else{const dt=get(rt,[PROPERTIES_KEY,ut,"title"]);dt&&(at=at.replace(`'${ut}'`,`'${dt}'`),ot=dt)}}),it=at;else{const ut=getUiOptions(get(t,`${nt.replace(/^\./,"")}`)).title;if(ut)it=`'${ut}' ${at}`.trim(),ot=ut;else{const ft=rt?.title;ft&&(it=`'${ft}' ${at}`.trim(),ot=ft)}}return"missingProperty"in et&&(nt=nt?`${nt}.${et.missingProperty}`:et.missingProperty),{name:Xe,property:nt,message:at,params:et,stack:it,schemaPath:tt,title:ot}})}function processRawValidationErrors(e,t,Ke,Ye,Je,Xe,et){const{validationError:tt}=t;let rt=transformRJSFValidationErrors(t.errors,et);tt&&(rt=[...rt,{stack:tt.message}]),typeof Xe=="function"&&(rt=Xe(rt,et));let st=toErrorSchema(rt);if(tt&&(st={...st,$schema:{__errors:[tt.message]}}),typeof Je!="function")return{errors:rt,errorSchema:st};const at=getDefaultFormState(e,Ye,Ke,Ye,!0),nt=Je(at,createErrorHandler(at),et),it=unwrapErrorHandler(nt);return validationDataMerge({errors:rt,errorSchema:st},it)}class AJV8Validator{constructor(t,Ke){const{additionalMetaSchemas:Ye,customFormats:Je,ajvOptionsOverrides:Xe,ajvFormatOptions:et,AjvClass:tt}=t;this.ajv=createAjvInstance(Ye,Je,Xe,et,tt),this.localizer=Ke}reset(){this.ajv.removeSchema()}rawValidation(t,Ke){var Ye,Je;let Xe,et;try{t[ID_KEY]&&(et=this.ajv.getSchema(t[ID_KEY])),et===void 0&&(et=this.ajv.compile(t)),et(Ke)}catch(rt){Xe=rt}let tt;return et&&(typeof this.localizer=="function"&&(((Ye=et.errors)!==null&&Ye!==void 0?Ye:[]).forEach(rt=>{var st;["missingProperty","property"].forEach(at=>{var nt;!((nt=rt.params)===null||nt===void 0)&&nt[at]&&(rt.params[at]=`'${rt.params[at]}'`)}),!((st=rt.params)===null||st===void 0)&&st.deps&&(rt.params.deps=rt.params.deps.split(", ").map(at=>`'${at}'`).join(", "))}),this.localizer(et.errors),((Je=et.errors)!==null&&Je!==void 0?Je:[]).forEach(rt=>{var st;["missingProperty","property"].forEach(at=>{var nt;!((nt=rt.params)===null||nt===void 0)&&nt[at]&&(rt.params[at]=rt.params[at].slice(1,-1))}),!((st=rt.params)===null||st===void 0)&&st.deps&&(rt.params.deps=rt.params.deps.split(", ").map(at=>at.slice(1,-1)).join(", "))})),tt=et.errors||void 0,et.errors=null),{errors:tt,validationError:Xe}}validateFormData(t,Ke,Ye,Je,Xe){const et=this.rawValidation(Ke,t);return processRawValidationErrors(this,et,t,Ke,Ye,Je,Xe)}handleSchemaUpdate(t){var Ke,Ye;const Je=(Ke=t[ID_KEY])!==null&&Ke!==void 0?Ke:ROOT_SCHEMA_PREFIX;this.ajv.getSchema(Je)===void 0?this.ajv.addSchema(t,Je):deepEquals(t,(Ye=this.ajv.getSchema(Je))===null||Ye===void 0?void 0:Ye.schema)||(this.ajv.removeSchema(Je),this.ajv.addSchema(t,Je))}isValid(t,Ke,Ye){var Je;try{this.handleSchemaUpdate(Ye);const Xe=withIdRefPrefix(t),et=(Je=Xe[ID_KEY])!==null&&Je!==void 0?Je:hashForSchema(Xe);let tt;return tt=this.ajv.getSchema(et),tt===void 0&&(tt=this.ajv.addSchema(Xe,et).getSchema(et)||this.ajv.compile(Xe)),tt(Ke)}catch(Xe){return console.warn("Error encountered compiling schema:",Xe),!1}}}function customizeValidator(e={},t){return new AJV8Validator(e,t)}const validator=customizeValidator(),DatePicker=({label:e,description:t,errorMessage:Ke,firstDayOfWeek:Ye,...Je})=>jsxRuntimeExports.jsxs($06d5b8ec9ee5d538$export$5109c6dd95d8fb00,{"aria-label":"Insomnia Date Picker",...Je,children:[jsxRuntimeExports.jsxs($a049562f99e7db0e$export$eb2fcfdbd7ba97d4,{className:"flex w-full items-center justify-between rounded border border-solid border-[--hl-sm] px-2 py-1 data-[invalid]:border-[--color-danger]",children:[jsxRuntimeExports.jsx($40825cdb76e74f70$export$7edc06cf1783b30f,{children:Xe=>jsxRuntimeExports.jsx($40825cdb76e74f70$export$336ab7fa954c4b5f,{segment:Xe})}),jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{children:jsxRuntimeExports.jsx(Icon,{icon:"chevron-down"})})]}),jsxRuntimeExports.jsx($07b14b47974efb58$export$5b6b19405a83ff9d,{className:"rounded border border-solid border-[--hl-sm] bg-[--color-bg] p-8 text-[--color-font]",children:jsxRuntimeExports.jsx($de32f1b87079253c$export$3ddf2d174ce01153,{children:jsxRuntimeExports.jsxs($dfd62f934fc76fed$export$e1aef45b828286de,{firstDayOfWeek:Ye,children:[jsxRuntimeExports.jsxs("header",{className:"mb-4 flex items-center justify-between",children:[jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{slot:"previous",children:jsxRuntimeExports.jsx(Icon,{icon:"chevron-left"})}),jsxRuntimeExports.jsx($5cb03073d3f54797$export$a8a3e93435678ff9,{}),jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{slot:"next",children:jsxRuntimeExports.jsx(Icon,{icon:"chevron-right"})})]}),jsxRuntimeExports.jsx($dfd62f934fc76fed$export$5bd780d491cfc46c,{children:Xe=>jsxRuntimeExports.jsx($dfd62f934fc76fed$export$5d847498420df57b,{className:"w-8 text-center leading-8 data-[selected]:bg-[--color-surprise]",date:Xe})})]})})})]}),Select=({value:e,onChange:t,className:Ke,options:Ye,...Je})=>jsxRuntimeExports.jsx($82d7e5349645de74$export$ef9b1a59e592288f,{placeholder:"Select an item",selectedKey:e,onSelectionChange:t,...Je,className:classNames("",Ke),children:({isInvalid:Xe,isDisabled:et})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:classNames("flex w-full gap-2 rounded border border-solid px-2 py-1 text-[--color-font]",{"border-[--hl-xs]":et,"border-[--color-danger]":Xe,"border-[--hl-sm]":!et&&!Xe}),children:[jsxRuntimeExports.jsx($82d7e5349645de74$export$e288731fd71264f0,{className:"flex-1"}),jsxRuntimeExports.jsx("span",{"aria-hidden":"true",children:jsxRuntimeExports.jsx(Icon,{icon:"chevron-down"})})]}),jsxRuntimeExports.jsx($07b14b47974efb58$export$5b6b19405a83ff9d,{className:"w-[--trigger-width]",children:jsxRuntimeExports.jsx($eed445e0843c11d0$export$41f133550aa26f48,{className:"rounded border border-solid border-[--hl-sm] bg-[--color-bg]",children:Ye?.map(tt=>jsxRuntimeExports.jsx($eed445e0843c11d0$export$a11e76429ed99b4,{className:({isHovered:rt,isPressed:st,isFocused:at})=>classNames("flex min-h-[32px] cursor-pointer items-center px-2 text-[--color-font]",{"bg-[--hl-xs]":rt||st||at}),id:tt.value,children:({isSelected:rt})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"flex w-5 items-center justify-center",children:rt&&""}),jsxRuntimeExports.jsx("span",{className:"ml-1",children:tt.label})]})},tt.value))})})]})}),baseInputClasses="w-full rounded-sm border border-solid border-[--hl-sm] bg-[--color-bg] py-1 px-2 text-[--color-font] transition-colors placeholder:italic focus:outline-none focus:ring-1 focus:ring-[--hl-md]",labelClasses="text-sm font-medium text-[--color-font] mb-1 block",errorClasses="text-red-500 text-xs mt-1",descriptionClasses="text-[--hl] text-xs mb-2",CustomCheckboxWidget=e=>{const{id:t,value:Ke,onChange:Ye,disabled:Je,readonly:Xe,required:et,label:tt,schema:rt}=e;return jsxRuntimeExports.jsx(Checkbox,{"aria-label":"rjsf-checkbox",id:t,isSelected:Ke||!1,onChange:Ye,isDisabled:Je,isReadOnly:Xe,isRequired:et,children:jsxRuntimeExports.jsx("span",{className:"text-sm text-[--color-font]",children:rt?.description||tt})})},CustomSelectWidget=e=>{const{id:t,value:Ke,onChange:Ye,disabled:Je,required:Xe,readonly:et,options:tt,multiple:rt,rawErrors:st}=e,{enumOptions:at}=tt,nt=st&&st.length>0;return rt?jsxRuntimeExports.jsx(CheckboxGroup,{isDisabled:Je,isRequired:Xe,isReadOnly:et,options:at||[],value:Ke||[],onChange:Ye,className:"flex flex-col gap-1"}):jsxRuntimeExports.jsx(Select,{"aria-label":"rjsf-select",id:t,isInvalid:nt,isDisabled:Je,isRequired:Xe,options:at||[],value:Ke||"",onChange:Ye,className:"w-full"})},CustomDatePickerWidget=e=>{const{id:t,value:Ke,onChange:Ye,rawErrors:Je}=e,Xe=Je&&Je.length>0,et=tt=>{Ye(tt?tt?.toString():"")};return jsxRuntimeExports.jsx(DatePicker,{id:t,isInvalid:Xe,value:Ke?$fae977aafc393c5c$export$6b862160d295c8e(Ke):null,onChange:et})},BaseInputTemplate=e=>{const{id:t,value:Ke,onChange:Ye,onChangeOverride:Je,onBlur:Xe,onFocus:et,options:tt,required:rt,disabled:st,readonly:at,autofocus:nt,placeholder:it,rawErrors:ot,schema:lt,type:ut}=e,ft=ht=>{if(Je)Je(ht);else{const xt=ht.target.value;Ye(xt===""?tt.emptyValue||"":xt)}},ct=ot&&ot.length>0,dt=getInputProps(lt,ut,tt);return jsxRuntimeExports.jsx($bcdf0525bf22703d$export$2c73285ae9390cec,{"aria-label":"rjsf-input",value:Ke||"",isDisabled:st,isReadOnly:at,isRequired:rt,autoFocus:nt,onBlur:ht=>Xe&&Xe(t,ht.target.value),onFocus:ht=>et&&et(t,ht.target.value),children:jsxRuntimeExports.jsx($3985021b0ad6602f$export$f5b8910cec6cf069,{className:classNames(`${baseInputClasses}`,{"!border-[--color-danger]":ct,"border-[--hl-xs]":st}),id:t,placeholder:it,onChange:ft,...dt})})},WrapIfAdditionalTemplate=e=>{const{id:t,label:Ke,onKeyChange:Ye,onDropPropertyClick:Je,schema:Xe,children:et,classNames:tt,style:rt}=e;return ADDITIONAL_PROPERTY_FLAG in Xe?jsxRuntimeExports.jsxs("div",{className:classNames("flex items-center gap-2",tt),style:rt,children:[jsxRuntimeExports.jsxs($bcdf0525bf22703d$export$2c73285ae9390cec,{className:"flex-grow","aria-label":"rjsf-input",onBlur:at=>Ye(at.currentTarget.value),defaultValue:Ke,children:[jsxRuntimeExports.jsx($01b77f81d0f07f68$export$b04be29aa201d4f5,{className:labelClasses,children:Ke}),jsxRuntimeExports.jsx($3985021b0ad6602f$export$f5b8910cec6cf069,{className:classNames(`${baseInputClasses}`,{}),id:t})]}),jsxRuntimeExports.jsx("div",{className:"flex-grow",children:et}),jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 basis-[50px] self-end",children:jsxRuntimeExports.jsx(Button,{size:"small",bg:"default",variant:"contained",className:"border-none",onClick:Je(Ke),children:jsxRuntimeExports.jsx(Icon,{icon:"trash"})})})]}):jsxRuntimeExports.jsx("div",{className:tt,style:rt,children:et})},MultiSchemaFieldTemplate=e=>{const{optionSchemaField:t,selector:Ke}=e;return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{children:Ke}),t]})},FieldTemplate=e=>{const{id:t,classNames:Ke,style:Ye,label:Je,help:Xe,required:et,description:tt,rawDescription:rt,errors:st,children:at,displayLabel:nt,hidden:it,schema:ot,registry:lt,rawErrors:ut,rawHelp:ft}=e;if(it)return jsxRuntimeExports.jsx("div",{style:{display:"none"},children:at});const ct=ot?.type!=="boolean"&&tt&&rt,dt=ot?.type==="boolean"||nt,ht=lt.templates.WrapIfAdditionalTemplate;return jsxRuntimeExports.jsx("div",{className:classNames("mb-2",Ke),style:{...Ye},children:jsxRuntimeExports.jsxs(ht,{...e,children:[dt&&Je&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("label",{htmlFor:t,className:labelClasses,children:[Je,et&&jsxRuntimeExports.jsx("span",{className:"ml-1 text-red-500",children:"*"}),jsxRuntimeExports.jsxs("span",{className:"text-[--hl]",children:[": ",ot.type]})]}),ct&&jsxRuntimeExports.jsx("div",{className:descriptionClasses,children:tt})]}),at,ut&&jsxRuntimeExports.jsx("div",{className:errorClasses,children:st}),ft&&jsxRuntimeExports.jsx("div",{className:"mt-1 text-xs text-[--hl]",children:Xe})]})})},ObjectFieldTemplate=e=>{const{title:t,description:Ke,properties:Ye,required:Je,schema:Xe,idSchema:et,onAddClick:tt}=e,rt=et.$id.split("_").length,st=Xe.additionalItems||Xe.additionalProperties;return jsxRuntimeExports.jsxs("div",{children:[t&&jsxRuntimeExports.jsxs("label",{className:labelClasses,children:[jsxRuntimeExports.jsx("span",{className:"mb-2 font-medium text-[--color-font]",children:t}),Je&&jsxRuntimeExports.jsx("span",{className:"ml-1 text-red-500",children:"*"}),jsxRuntimeExports.jsxs("span",{className:"text-[--hl]",children:[": ",Xe.type]})]}),Ke&&jsxRuntimeExports.jsx("div",{className:descriptionClasses,children:Ke}),jsxRuntimeExports.jsx("div",{className:classNames("space-y-4",{"border-l border-solid border-[--hl-sm]":rt>1,"pl-4":rt>1}),children:Ye.map(at=>jsxRuntimeExports.jsx("div",{className:at.hidden?"hidden":"",children:at.content},at.name))}),st&&jsxRuntimeExports.jsx("div",{className:"px-4",children:jsxRuntimeExports.jsx(Button,{bg:"surprise",variant:"contained",onClick:tt(Xe),children:"+ Add Item"})})]})},ArrayFieldTemplate=e=>{const{title:t,items:Ke,canAdd:Ye,onAddClick:Je,disabled:Xe,readonly:et,required:tt,schema:rt}=e;return jsxRuntimeExports.jsxs("div",{className:"rounded-md bg-[--color-bg]",children:[t&&jsxRuntimeExports.jsxs("label",{className:labelClasses,children:[jsxRuntimeExports.jsx("span",{className:"mb-2 font-medium text-[--color-font]",children:t}),tt&&jsxRuntimeExports.jsx("span",{className:"ml-1 text-red-500",children:"*"}),jsxRuntimeExports.jsxs("span",{className:"text-[--hl]",children:[": ",rt.type]})]}),rt.description&&jsxRuntimeExports.jsx("div",{className:descriptionClasses,children:rt.description}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 rounded border border-solid border-[--hl-sm] py-2",children:[Ke.map(st=>jsxRuntimeExports.jsxs("div",{className:classNames("flex items-start gap-4 rounded px-4",{"border-b border-solid border-[--hl-sm]":st.index<Ke.length-1}),children:[jsxRuntimeExports.jsx("div",{className:"flex-1",children:st.children}),jsxRuntimeExports.jsx("div",{className:"flex gap-1",children:jsxRuntimeExports.jsx(Button,{size:"small",bg:"default",variant:"contained",className:"border-none",disabled:Xe||et,onClick:st.buttonsProps.onDropIndexClick(st.index),children:jsxRuntimeExports.jsx(Icon,{icon:"trash"})})})]},st.key)),Ye&&jsxRuntimeExports.jsx("div",{className:"px-4",children:jsxRuntimeExports.jsx(Button,{bg:"surprise",variant:"contained",onClick:Je,children:"+ Add Item"})})]})]})},themeWidgets={CheckboxWidget:CustomCheckboxWidget,SelectWidget:CustomSelectWidget,DateWidget:CustomDatePickerWidget},themeTemplates={BaseInputTemplate,FieldTemplate,ObjectFieldTemplate,ArrayFieldTemplate,WrapIfAdditionalTemplate,MultiSchemaFieldTemplate},ThemeObject={widgets:themeWidgets,templates:themeTemplates},ThemedForm=withTheme(ThemeObject),InsomniaRjsfForm=reactExports.forwardRef(({onChange:e,schema:t,uiSchema:Ke={},formData:Ye,renderSubmitButton:Je,...Xe},et)=>{const tt=useLatest(e),rt=useLatest(Ye),st=reactExports.useRef(null);reactExports.useEffect(()=>{if(t){const it=getDefaultFormState(validator,t,rt.current,t,!0);tt?.current?.(it)}},[rt,tt,t]);const at={"ui:submitButtonOptions":{norender:!Je},...Ke},nt=it=>{e?.(it.formData)};return reactExports.useImperativeHandle(et,()=>({validate:()=>st.current?.validateForm()||!1})),jsxRuntimeExports.jsx(ThemedForm,{ref:st,onChange:nt,schema:t,validator,uiSchema:at,formData:Ye,...Xe})}),AuthRow=({labelFor:e,label:t,help:Ke,disabled:Ye,children:Je})=>{const Xe=useRequestLoaderData(),et=useRequestGroupLoaderData(),{authentication:tt}=Xe?.activeRequest||et?.activeRequestGroup||{},rt=tt&&"disabled"in tt&&tt.disabled||Ye;return jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"pad-right no-wrap valign-middle",children:jsxRuntimeExports.jsxs("label",{htmlFor:e,className:"label--small no-pad",children:[t,Ke?jsxRuntimeExports.jsx(HelpTooltip,{children:Ke}):null]})}),jsxRuntimeExports.jsx("td",{className:"wide",children:jsxRuntimeExports.jsx("div",{className:classNames("form-control form-control--underlined no-margin wide flex",{"form-control--inactive":rt}),children:Je})})]},e)},AuthInputRow=({label:e,getAutocompleteConstants:t,property:Ke,mask:Ye,help:Je,disabled:Xe=!1,overrideValueWhenDisabled:et,copyBtn:tt=!1})=>{const{settings:rt}=useRootLoaderData(),{showPasswords:st}=rt,at=useRequestLoaderData(),nt=useRequestGroupLoaderData(),it=useRequestPatcher(),ot=useRequestGroupPatcher(),{authentication:lt,_id:ut}=at?.activeRequest||nt?.activeRequestGroup||{},ft=at?it:ot,[ct,dt]=useToggle(!0),ht=!st&&Ye,xt=ht&&ct,vt=lt[Ke]||"",bt=reactExports.useRef(vt);reactExports.useEffect(()=>{bt.current=vt},[vt]);const _t=reactExports.useCallback(yt=>{Xe||ft(ut,{authentication:{...lt,[Ke]:yt}})},[ft,ut,lt,Ke,Xe]),Ct=toKebabCase(e),Rt=reactExports.useRef(null);reactExports.useEffect(()=>{et&&(Xe?Rt.current?.setValue(et):Rt.current?.setValue(bt.current))},[Xe,et]);const jt=reactExports.useCallback(async yt=>{yt.preventDefault(),yt.stopPropagation();let Et=vt;et&&Xe&&(Et=et),Et&&window.clipboard.writeText(Et)},[et,Xe,vt]);return jsxRuntimeExports.jsxs(AuthRow,{labelFor:Ct,label:e,help:Je,disabled:Xe,children:[jsxRuntimeExports.jsx(OneLineEditor,{ref:Rt,id:Ct,type:xt?"password":"text",onChange:_t,readOnly:Xe,defaultValue:lt[Ke]||"",getAutocompleteConstants:t}),ht?jsxRuntimeExports.jsx("button",{className:"btn btn--super-super-compact pointer",onClick:dt,disabled:Xe,children:xt?jsxRuntimeExports.jsx("i",{className:"fa fa-eye","data-testid":"reveal-password-icon"}):jsxRuntimeExports.jsx("i",{className:"fa fa-eye-slash","data-testid":"mask-password-icon"})}):null,tt&&jsxRuntimeExports.jsx("button",{className:"btn btn--super-super-compact pointer btn--forever-enabled",onClick:jt,children:jsxRuntimeExports.jsx("i",{className:"fa fa-copy","data-testid":"reveal-password-icon"})})]})},AuthTableBody=({children:e})=>jsxRuntimeExports.jsx("div",{className:"pad",children:jsxRuntimeExports.jsx("table",{children:jsxRuntimeExports.jsx("tbody",{children:e})})}),ToggleIcon=({isOn:e})=>e?jsxRuntimeExports.jsx("i",{"data-testid":"toggle-is-on",className:"fa fa-check-square-o"}):jsxRuntimeExports.jsx("i",{"data-testid":"toggle-is-off",className:"fa fa-square-o"}),AuthToggleRow=({label:e,property:t,help:Ke,invert:Ye,onTitle:Je="Disable item",offTitle:Xe="Enable item",disabled:et=!1})=>{const tt=useRequestLoaderData(),rt=useRequestGroupLoaderData(),st=useRequestGroupPatcher(),{authentication:at,_id:nt}=tt?.activeRequest||rt?.activeRequestGroup||{},it=useRequestPatcher(),ot=tt?it:st,lt=!!at[t],ut=reactExports.useCallback(ct=>ot(nt,{authentication:{...at,[t]:ct}}),[ot,nt,at,t]),ft=Ye?!lt:lt;return jsxRuntimeExports.jsx(AuthRow,{labelFor:toKebabCase(e),label:e,help:Ke,disabled:et,children:jsxRuntimeExports.jsx("button",{className:"btn btn--super-super-compact",id:toKebabCase(e),onClick:()=>ut(!lt),title:ft?Je:Xe,disabled:et,children:jsxRuntimeExports.jsx(ToggleIcon,{isOn:ft})})})},SingleTokenAuth=({disabled:e=!1})=>jsxRuntimeExports.jsxs(AuthTableBody,{children:[jsxRuntimeExports.jsx(AuthToggleRow,{label:"Enabled",property:"disabled",invert:!0,disabled:e}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Token",property:"token",mask:!0,disabled:e})]});function castOneAuthTypeToAnother(e,t){if(e==="none")return{type:"none"};if(e==="apikey"){const Ke=t;return{type:e,disabled:Ke.disabled||!1,key:Ke.key||"",value:Ke.value||"",addTo:Ke.addTo||"header"}}if(e==="basic"){const Ke=t;return{type:e,useISO88591:Ke.useISO88591||!1,disabled:Ke.disabled||!1,username:Ke.username||"",password:Ke.password||""}}if(e==="digest"||e==="ntlm"){const Ke=t;return{type:e,disabled:Ke.disabled||!1,username:Ke.username||"",password:Ke.password||""}}if(e==="oauth1")return{type:e,disabled:!1,signatureMethod:SIGNATURE_METHOD_HMAC_SHA1,consumerKey:"",consumerSecret:"",tokenKey:"",tokenSecret:"",privateKey:"",version:"1.0",nonce:"",timestamp:"",callback:""};if(e==="oauth2")return{type:e,grantType:GRANT_TYPE_AUTHORIZATION_CODE};if(e==="iam"){const Ke=t;return{type:e,disabled:Ke.disabled||!1,accessKeyId:Ke.accessKeyId||"",secretAccessKey:Ke.secretAccessKey||"",sessionToken:Ke.sessionToken||""}}return e==="hawk"?{type:e,algorithm:HAWK_ALGORITHM_SHA256,id:"",key:""}:e==="asap"?{type:e,issuer:"",subject:"",audience:"",additionalClaims:"",keyId:"",privateKey:""}:{type:e}}const defaultTypes=["apikey","basic","digest","oauth1","oauth2","ntlm","iam","bearer","hawk","asap","netrc"],AuthDropdown=({authentication:e,authTypes:t=defaultTypes,disabled:Ke=!1,hideOthers:Ye=!1,hideInherit:Je=!1})=>{const{requestId:Xe,requestGroupId:et}=useParams(),tt=useRequestPatcher(),rt=useRequestGroupPatcher(),st=reactExports.useCallback(async lt=>{if(lt===getAuthObjectOrNull(e)?.type||"")return;const ct=lt==="inherit"?{}:castOneAuthTypeToAnother(lt,e||{});Xe&&tt(Xe,{authentication:ct}),et&&rt(et,{authentication:ct})},[e,tt,rt,et,Xe]),at=getAuthObjectOrNull(e)?.type||"inherit",it={id:"Auth Types",name:"Auth Types",icon:"lock",items:[{id:"apikey",name:"API Key"},{id:"basic",name:"Basic"},{id:"digest",name:"Digest"},{id:"ntlm",name:"NTLM"},{id:"oauth1",name:"OAuth 1.0"},{id:"oauth2",name:"OAuth 2.0"},{id:"iam",name:"AWS IAM"},{id:"bearer",name:"Bearer Token"},{id:"hawk",name:"Hawk"},{id:"asap",name:"Atlassian ASAP"},{id:"netrc",name:"Netrc"},{id:"singleToken",name:"token"}].filter(lt=>t.includes(lt.id))},ot=Ye?[it]:[{id:"Other",name:"Other",icon:"ellipsis-h",items:[...Je?[]:[{id:"inherit",name:"Inherit from parent"}],{id:"none",name:"None"}]},it];return jsxRuntimeExports.jsxs($82d7e5349645de74$export$ef9b1a59e592288f,{isDisabled:Ke,"aria-label":"Change Authentication type",name:"auth-type",onSelectionChange:lt=>{st(lt)},selectedKey:at,children:[jsxRuntimeExports.jsxs($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"flex min-w-[17ch] flex-1 items-center justify-between gap-2 rounded-sm px-4 py-1 text-sm font-bold text-[--color-font] ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] aria-pressed:bg-[--hl-sm]",children:[jsxRuntimeExports.jsx($82d7e5349645de74$export$e288731fd71264f0,{className:"flex items-center justify-center gap-2 truncate",children:({selectedText:lt})=>jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 text-[--hl]",children:lt||"Auth Type"})}),jsxRuntimeExports.jsx(Icon,{icon:"caret-down"})]}),jsxRuntimeExports.jsx($07b14b47974efb58$export$5b6b19405a83ff9d,{className:"flex min-w-[17ch] flex-col overflow-y-hidden",children:jsxRuntimeExports.jsx($eed445e0843c11d0$export$41f133550aa26f48,{items:ot,className:"min-w-max select-none overflow-y-auto rounded-md border border-solid border-[--hl-sm] bg-[--color-bg] py-2 text-sm shadow-lg focus:outline-none",children:lt=>jsxRuntimeExports.jsxs($eed445e0843c11d0$export$dca12b0bb56e4fc,{children:[jsxRuntimeExports.jsxs($72a5793c14baf454$export$8b251419efc915eb,{className:"flex items-center gap-2 py-1 pl-2 text-xs uppercase text-[--hl]",children:[jsxRuntimeExports.jsx(Icon,{icon:lt.icon})," ",jsxRuntimeExports.jsx("span",{children:lt.name})]}),jsxRuntimeExports.jsx($e1995378a142960e$export$fb8073518f34e6ec,{items:lt.items,children:ut=>jsxRuntimeExports.jsx($eed445e0843c11d0$export$a11e76429ed99b4,{className:"flex h-[--line-height-xs] w-full items-center gap-2 whitespace-nowrap bg-transparent px-[--padding-md] text-[--color-font] transition-colors hover:bg-[--hl-sm] focus:bg-[--hl-xs] focus:outline-none disabled:cursor-not-allowed aria-selected:font-bold","aria-label":ut.name,textValue:ut.name,children:({isSelected:ft})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{children:ut.name}),ft&&jsxRuntimeExports.jsx(Icon,{icon:"check",className:"justify-self-end text-[--color-success]"})]})})})]})})})]})},AuthSelectRow=({label:e,property:t,help:Ke,options:Ye,disabled:Je})=>{const Xe=useRequestLoaderData(),et=useRequestGroupLoaderData(),tt=useRequestPatcher(),rt=useRequestGroupPatcher(),st=Xe?tt:rt,{authentication:at,_id:nt}=Xe?.activeRequest||et?.activeRequestGroup||{},it=getAuthObjectOrNull(at),ot=it?it[t]+"":Ye[0].value,lt=reactExports.useCallback(ut=>{let ft=ut.currentTarget.value;(ft==="true"||ft==="false")&&(ft=JSON.parse(ft)),st(nt,{authentication:{...at,[t]:ft}})},[st,nt,at,t]);return jsxRuntimeExports.jsx(AuthRow,{labelFor:toKebabCase(e),label:e,help:Ke,disabled:Je,children:jsxRuntimeExports.jsx("select",{id:toKebabCase(e),onChange:lt,value:ot,disabled:Je,children:Ye.map(({name:ut,value:ft})=>jsxRuntimeExports.jsx("option",{value:ft,children:ut},ft))})})},options=[{name:"Header",value:HEADER},{name:"Query params",value:QUERY_PARAMS},{name:"Cookie",value:COOKIE}],ApiKeyAuth=({disabled:e=!1,addToHeaderOnly:t=!1})=>jsxRuntimeExports.jsxs(AuthTableBody,{children:[jsxRuntimeExports.jsx(AuthToggleRow,{label:"Enabled",property:"disabled",invert:!0,disabled:e}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Key",property:"key",disabled:e}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Value",property:"value",mask:!0,disabled:e}),!t&&jsxRuntimeExports.jsx(AuthSelectRow,{label:"Add to",property:"addTo",options,disabled:e})]}),PRIVATE_KEY_PLACEHOLDER=`
-----BEGIN RSA PRIVATE KEY-----
MIIEpQIBAAKCAQEA39k9udklHnmkU0GtTLpnYtKk1l5txYmUD/cGI0bFd3HHOOLG
mI0av55vMFEhxL7yrFrcL8pRKp0+pnOVStMDmbwsPE/pu9pf3uxD+m9/Flv89bUk
mml+R3E8PwAYzkX0cr4yQTPN9PSSqy+d2+KrZ9QZmpc3tqltTbMVV93cxKCxfBrf
jbiMIAVh7silDVY5+V46SJu8zY2kXOBBtlrE7/JoMiTURCkRjNIA8/sgSmRxBTdM
313lKJM7NgxaGnREbP75U7ErfBvReJsf5p6h5+XXFirG7F2ntcqjUoR3M+opngp0
CgffdGcsK7MmUUgAG7r05b0mljhI35t/0Y57MwIDAQABAoIBAQCH1rLohudJmROp
Gl/qAewfQiiZlfATQavCDGuDGL1YAIme8a8GgApNYf2jWnidhiqJgRHBRor+yzFr
cJV+wRTs/Szp6LXAgMmTkKMJ+9XXErUIUgwbl27Y3Rv/9ox1p5VRg+A=
-----END RSA PRIVATE KEY-----
`.trim(),AuthPrivateKeyRow=({label:e,property:t,help:Ke})=>{const Ye=useRequestLoaderData(),Je=useRequestGroupLoaderData(),Xe=useRequestPatcher(),et=useRequestGroupPatcher(),tt=Ye?Xe:et,{authentication:rt,_id:st}=Ye?.activeRequest||Je.activeRequestGroup;invariant("privateKey"in rt,"must have privateKey property in authentication object");const at=rt[t],nt=reactExports.useCallback(lt=>tt(st,{authentication:{...rt,[t]:lt}}),[st,rt,tt,t]),it=()=>{showModal(CodePromptModal,{submitName:"Done",title:"Edit Private Key",defaultValue:at||"",onChange:nt,placeholder:PRIVATE_KEY_PLACEHOLDER,mode:"text/plain",hideMode:!0})},ot=toKebabCase(e);return jsxRuntimeExports.jsx(AuthRow,{labelFor:ot,label:e,help:Ke,children:jsxRuntimeExports.jsxs("button",{id:ot,className:"btn btn--clicky wide",onClick:it,children:[jsxRuntimeExports.jsx("i",{className:"fa fa-edit space-right"}),at?"Click to Edit":"Click to Add"]})})},AsapAuth=()=>jsxRuntimeExports.jsxs(AuthTableBody,{children:[jsxRuntimeExports.jsx(AuthToggleRow,{label:"Enabled",property:"disabled",invert:!0}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Issuer (iss)",property:"issuer"}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Subject (sub)",property:"subject"}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Audience (aud)",property:"audience"}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Additional Claims",property:"additionalClaims"}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Key ID (kid)",property:"keyId"}),jsxRuntimeExports.jsx(AuthPrivateKeyRow,{label:"Private Key",property:"privateKey",help:"Can also use single line data-uri format (e.g. obtained from asap-cli export-as-data-uri command), useful for saving as environment data"})]}),AWSAuth=()=>jsxRuntimeExports.jsxs(AuthTableBody,{children:[jsxRuntimeExports.jsx(AuthToggleRow,{label:"Enabled",property:"disabled",invert:!0}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Access Key ID",property:"accessKeyId"}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Secret Access Key",property:"secretAccessKey",mask:!0}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Region",property:"region",help:"Will be calculated from hostname or host or use 'us-east-1' if not given"}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Service",property:"service",help:"Will be calculated from hostname or host if not given"}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Session Token",property:"sessionToken",help:"Optional token used for multi-factor authentication"})]}),BasicAuth=({disabled:e=!1})=>jsxRuntimeExports.jsxs(AuthTableBody,{children:[jsxRuntimeExports.jsx(AuthToggleRow,{label:"Enabled",property:"disabled",invert:!0,disabled:e}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Username",property:"username",disabled:e}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Password",property:"password",mask:!0,disabled:e}),jsxRuntimeExports.jsx(AuthToggleRow,{label:"Use ISO 8859-1",help:"Check this to use ISO-8859-1 encoding instead of default UTF-8",property:"useISO88591",disabled:e})]}),BearerAuth=({disabled:e=!1})=>jsxRuntimeExports.jsxs(AuthTableBody,{children:[jsxRuntimeExports.jsx(AuthToggleRow,{label:"Enabled",property:"disabled",invert:!0,disabled:e}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Token",property:"token",mask:!0,disabled:e}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Prefix",property:"prefix",disabled:e})]}),DigestAuth=({disabled:e=!1})=>jsxRuntimeExports.jsxs(AuthTableBody,{children:[jsxRuntimeExports.jsx(AuthToggleRow,{label:"Enabled",property:"disabled",invert:!0,disabled:e}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Username",property:"username",disabled:e}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Password",property:"password",mask:!0,disabled:e})]}),HawkAuth=()=>jsxRuntimeExports.jsxs(AuthTableBody,{children:[jsxRuntimeExports.jsx(AuthToggleRow,{label:"Enabled",property:"disabled",invert:!0}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Auth Id",property:"id"}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Auth Key",property:"key",mask:!0}),jsxRuntimeExports.jsx(AuthSelectRow,{label:"Algorithm",property:"algorithm",options:[{name:HAWK_ALGORITHM_SHA256,value:HAWK_ALGORITHM_SHA256},{name:HAWK_ALGORITHM_SHA1,value:HAWK_ALGORITHM_SHA1}]}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Ext",property:"ext"}),jsxRuntimeExports.jsx(AuthToggleRow,{label:"Validate Payload",property:"validatePayload"})]}),NetrcAuth=()=>jsxRuntimeExports.jsx("div",{className:"vertically-center text-center",children:jsxRuntimeExports.jsxs("p",{className:"pad super-faint text-center text-sm",children:[jsxRuntimeExports.jsx("br",{}),"Your netrc file will be used to authenticate this request"]})}),NTLMAuth=()=>jsxRuntimeExports.jsxs(AuthTableBody,{children:[jsxRuntimeExports.jsx(AuthToggleRow,{label:"Enabled",property:"disabled",invert:!0}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Username",property:"username"}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Password",property:"password",mask:!0})]}),blankForDefault="Leave blank for default",signatureMethodOptions=[{name:"HMAC-SHA1",value:SIGNATURE_METHOD_HMAC_SHA1},{name:"HMAC-SHA256",value:SIGNATURE_METHOD_HMAC_SHA256},{name:"RSA-SHA1",value:SIGNATURE_METHOD_RSA_SHA1},{name:"PLAINTEXT",value:SIGNATURE_METHOD_PLAINTEXT}],OAuth1Auth=()=>{const e=useRequestLoaderData(),t=useRequestGroupLoaderData(),Ke=(e?.activeRequest||t.activeRequestGroup).authentication,{signatureMethod:Ye}=Ke;return jsxRuntimeExports.jsxs(AuthTableBody,{children:[jsxRuntimeExports.jsx(AuthToggleRow,{label:"Enabled",property:"disabled",invert:!0}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Consumer Key",property:"consumerKey"}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Consumer Secret",property:"consumerSecret",mask:!0}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Token Key",property:"tokenKey"}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Token Secret",property:"tokenSecret",mask:!0}),jsxRuntimeExports.jsx(AuthSelectRow,{label:"Signature Method",property:"signatureMethod",options:signatureMethodOptions}),Ye===SIGNATURE_METHOD_RSA_SHA1&&jsxRuntimeExports.jsx(AuthPrivateKeyRow,{label:"Private Key",property:"privateKey"}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Callback URL",property:"callback"}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Version",property:"version"}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Timestamp",property:"timestamp",help:blankForDefault}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Realm",property:"realm",help:blankForDefault}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Nonce",property:"nonce",help:blankForDefault}),jsxRuntimeExports.jsx(AuthInputRow,{label:"Verifier",property:"verifier",help:blankForDefault}),jsxRuntimeExports.jsx(AuthToggleRow,{label:"Hash Body",property:"includeBodyHash",help:"If a application/x-www-form-urlencoded body is present, also generate a oauth_body_hash property"})]})},accessTokenUrls=["https://api.dropboxapi.com/oauth2/token","https://github.com/login/oauth/access_token","https://gitlab.example.com/oauth/token","https://slack.com/api/oauth.access","https://graph.facebook.com/v2.8/oauth/access_token","https://api.medium.com/v1/tokens","https://www.linkedin.com/oauth/v2/accessToken","https://www.googleapis.com/oauth2/v4/token","https://public-api.wordpress.com/oauth2/token","https://todoist.com/oauth/access_token","https://{{ shop }}.myshopify.com/admin/oauth/authorize","https://api.box.com/oauth2/token","https://api-ssl.bitly.com/oauth/access_token","https://api.imgur.com/oauth2/token"],authorizationUrls=["https://www.dropbox.com/oauth2/authorize","https://github.com/login/oauth/authorize","https://gitlab.example.com/oauth/authorize","https://slack.com/oauth/authorize","https://www.facebook.com/v2.8/dialog/oauth","https://medium.com/m/oauth/authorize","https://www.linkedin.com/oauth/v2/authorization","https://accounts.google.com/o/oauth2/v2/auth","https://public-api.wordpress.com/oauth2/authorize","https://{{ shop }}.myshopify.com/admin/oauth/access_token","https://todoist.com/oauth/authorize","https://account.box.com/api/oauth2/authorize","https://bitly.com/oauth/authorize","https://api.imgur.com/oauth2/authorize"],AuthAccordion=({accordionKey:e,label:t,children:Ke})=>{const Ye=useRequestLoaderData(),Je=!Ye||!!Ye.activeRequestMeta?.expandedAccordionKeys[e],Xe=useRequestMetaPatcher(),et=()=>{Ye&&Xe(Ye.activeRequest._id,{expandedAccordionKeys:{...Ye.activeRequestMeta?.expandedAccordionKeys,[e]:!Je}})};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{className:"pad-top",children:jsxRuntimeExports.jsxs("button",{onClick:et,className:"faint",children:[jsxRuntimeExports.jsx("i",{style:{minWidth:"0.8rem"},className:classNames("fa fa--skinny",`fa-caret-${Je?"down":"right"}`)}),t]})})}),Je&&Ke]})},getAuthorizationUrls=()=>authorizationUrls,getAccessTokenUrls=()=>accessTokenUrls,grantTypeOptions=[{name:"Authorization Code",value:GRANT_TYPE_AUTHORIZATION_CODE},{name:"Implicit",value:GRANT_TYPE_IMPLICIT},{name:"Resource Owner Password Credentials",value:GRANT_TYPE_PASSWORD},{name:"Client Credentials",value:GRANT_TYPE_CLIENT_CREDENTIALS}],grantTypeOptionsWithMcpAuthFlow=[...grantTypeOptions,{name:"MCP Auth Flow",value:GRANT_TYPE_MCP_AUTH_FLOW}],pkceMethodOptions=[{name:"SHA-256",value:PKCE_CHALLENGE_S256},{name:"Plain",value:PKCE_CHALLENGE_PLAIN}],responseTypeOptions=[{name:"Access Token",value:"token"},{name:"ID Token",value:"id_token"},{name:"ID and Access Token",value:"id_token token"}],credentialsInBodyOptions=[{name:"As Basic Auth Header (default)",value:"false"},{name:"In Request Body",value:"true"}],getFields=e=>{const t=jsxRuntimeExports.jsx(AuthInputRow,{label:"Client ID",property:"clientId"},"clientId"),Ke=jsxRuntimeExports.jsx(AuthInputRow,{label:"Client Secret",property:"clientSecret",mask:!0},"clientSecret"),Ye=jsxRuntimeExports.jsx(AuthToggleRow,{label:"Use PKCE",property:"usePkce",onTitle:"Disable PKCE",offTitle:"Enable PKCE"},"usePkce"),Je=jsxRuntimeExports.jsx(AuthSelectRow,{label:"Code Challenge Method",property:"pkceMethod",disabled:!e.usePkce,options:pkceMethodOptions},"pkceMethod"),Xe=jsxRuntimeExports.jsx(AuthInputRow,{label:"Authorization URL",property:"authorizationUrl",getAutocompleteConstants:getAuthorizationUrls},"authorizationUrl"),et=jsxRuntimeExports.jsx(AuthInputRow,{label:"Access Token URL",property:"accessTokenUrl",getAutocompleteConstants:getAccessTokenUrls},"accessTokenUrl"),tt=jsxRuntimeExports.jsx(AuthInputRow,{label:"Redirect URL",property:"redirectUrl",help:"This can be whatever you want or need it to be. Insomnia will automatically detect a redirect in the client browser window and extract the code from the redirected URL."},"redirectUrl"),rt=jsxRuntimeExports.jsx(AuthInputRow,{label:"Redirect URL",property:"redirectUrl",help:"The callback URL is provided by Insomnia and cannot be modified when authorizing via the default browser.",disabled:!0,overrideValueWhenDisabled:getOauthRedirectUrl(),copyBtn:!0},"redirectUrl"),st=e.useDefaultBrowser?rt:tt;return{clientId:t,clientSecret:Ke,usePkce:Ye,pkceMethod:Je,authorizationUrl:Xe,accessTokenUrl:et,redirectUri:st,defaultRedirectUri:tt,readonlyRedirectUri:rt,useDefaultBrowser:jsxRuntimeExports.jsx(AuthToggleRow,{label:"Using default browser",property:"useDefaultBrowser",help:"You must use the redirect URL provided by Insomnia when using the default browser. You also need to set the redirect URL in your OAuth 2 provider to match the one provided by Insomnia.",onTitle:"Click to use built-in browser",offTitle:"Click to use default browser"},"useDefaultBrowser"),state:jsxRuntimeExports.jsx(AuthInputRow,{label:"State",property:"state"},"state"),scope:jsxRuntimeExports.jsx(AuthInputRow,{label:"Scope",property:"scope"},"scope"),username:jsxRuntimeExports.jsx(AuthInputRow,{label:"Username",property:"username"},"username"),password:jsxRuntimeExports.jsx(AuthInputRow,{label:"Password",property:"password",mask:!0},"password"),tokenPrefix:jsxRuntimeExports.jsx(AuthInputRow,{label:"Header Prefix",property:"tokenPrefix",help:'Change Authorization header prefix from "Bearer" to something else. Use "NO_PREFIX" to send raw token without prefix.'},"tokenPrefix"),responseType:jsxRuntimeExports.jsx(AuthSelectRow,{label:"Response Type",property:"responseType",options:responseTypeOptions,help:"Indicates the type of credentials returned in the response"},"responseType"),audience:jsxRuntimeExports.jsx(AuthInputRow,{label:"Audience",property:"audience",help:"Indicate what resource server to access"},"audience"),resource:jsxRuntimeExports.jsx(AuthInputRow,{label:"Resource",property:"resource",help:"Indicate what resource to access"},"resource"),origin:jsxRuntimeExports.jsx(AuthInputRow,{label:"Origin",property:"origin",help:"Specify Origin header when CORS is required for oauth endpoints"},"origin"),credentialsInBody:jsxRuntimeExports.jsx(AuthSelectRow,{label:"Credentials",property:"credentialsInBody",options:credentialsInBodyOptions,help:"Whether or not to send credentials as Basic Auth, or as plain text in the request body"},"credentialsInBody")}},getFieldsForGrantType=e=>{const{clientId:t,clientSecret:Ke,usePkce:Ye,pkceMethod:Je,authorizationUrl:Xe,accessTokenUrl:et,redirectUri:tt,defaultRedirectUri:rt,readonlyRedirectUri:st,useDefaultBrowser:at,state:nt,scope:it,username:ot,password:lt,tokenPrefix:ut,responseType:ft,audience:ct,resource:dt,origin:ht,credentialsInBody:xt}=getFields(e),{grantType:vt}=e;let bt=[],_t=[];return vt===GRANT_TYPE_AUTHORIZATION_CODE?(bt=[Xe,et,t,Ke,Ye,Je,tt,at],_t=[it,nt,xt,ut,ct,dt,ht]):vt===GRANT_TYPE_CLIENT_CREDENTIALS?(bt=[et,t,Ke],_t=[it,xt,ut,ct,dt]):vt===GRANT_TYPE_PASSWORD?(bt=[ot,lt,et,t,Ke],_t=[it,xt,ut,ct]):vt===GRANT_TYPE_IMPLICIT?(bt=[Xe,t,rt],_t=[ft,it,nt,ut,ct]):vt===GRANT_TYPE_MCP_AUTH_FLOW&&(bt=[t,Ke,st],_t=[]),{basic:bt,advanced:_t}},OAuth2Auth=({showMcpAuthFlow:e,disabled:t})=>{const Ke=useRequestLoaderData(),Ye=useRequestGroupLoaderData(),{authentication:Je}=Ke?.activeRequest||Ye.activeRequestGroup,{basic:Xe,advanced:et}=getFieldsForGrantType(Je);return"grantType"in Je&&Je.grantType===GRANT_TYPE_MCP_AUTH_FLOW?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(AuthTableBody,{children:[jsxRuntimeExports.jsx(AuthToggleRow,{label:"Enabled",property:"disabled",invert:!0,disabled:t}),jsxRuntimeExports.jsx(AuthSelectRow,{label:"Grant Type",property:"grantType",disabled:t,options:e?grantTypeOptionsWithMcpAuthFlow:grantTypeOptions}),Xe]}),jsxRuntimeExports.jsx("div",{className:"pad",children:jsxRuntimeExports.jsx(OAuth2Tokens,{hideRefresh:!0})})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(AuthTableBody,{children:[jsxRuntimeExports.jsx(AuthToggleRow,{label:"Enabled",property:"disabled",invert:!0,disabled:t}),jsxRuntimeExports.jsx(AuthSelectRow,{label:"Grant Type",property:"grantType",disabled:t,options:e?grantTypeOptionsWithMcpAuthFlow:grantTypeOptions}),Xe,jsxRuntimeExports.jsxs(AuthAccordion,{accordionKey:"OAuth2AdvancedOptions",label:"Advanced Options",children:[et,jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{}),jsxRuntimeExports.jsx("td",{className:"wide",children:jsxRuntimeExports.jsx("div",{className:"pad-top text-right",children:jsxRuntimeExports.jsx("button",{className:"h-[--line-height-xs] rounded-[--radius-md] border border-solid border-[--hl-lg] px-[--padding-md] hover:bg-[--hl-xs]",onClick:initNewOAuthSession,children:"Clear OAuth 2 session"})})})]})]})]}),jsxRuntimeExports.jsx("div",{className:"pad",children:jsxRuntimeExports.jsx(OAuth2Tokens,{})})]})};function convertEpochToMilliseconds(e){e=Math.floor(e);const t=e.toString().length;return parseInt(String(e*10**(13-t)),10)}const renderIdentityTokenExpiry=e=>{if(!e||!e.identityToken)return;const t=e.identityToken.split(".")[1];let Ke="";try{Ke=window.atob(t)}catch{return}try{const{exp:Ye}=JSON.parse(Ke);if(!Ye)return"(never expires)";const Je=convertEpochToMilliseconds(Ye);return jsxRuntimeExports.jsxs("span",{children:["(expires ",jsxRuntimeExports.jsx(TimeFromNow,{timestamp:Je}),")"]})}catch(Ye){return console.error(Ye),""}},renderAccessTokenExpiry=e=>!e||!e.accessToken?null:e.expiresAt?jsxRuntimeExports.jsxs("span",{children:["(expires ",jsxRuntimeExports.jsx(TimeFromNow,{timestamp:e.expiresAt}),")"]}):"(never expires)",OAuth2TokenInput=({token:e,label:t,property:Ke})=>{const Ye=useRequestLoaderData(),Je=useRequestGroupLoaderData(),{_id:Xe}=Ye?.activeRequest||Je.activeRequestGroup,et=async({currentTarget:{value:st}})=>{e?await oAuth2Token.update(e,{[Ke]:st}):await oAuth2Token.create({[Ke]:st,parentId:Xe})},tt=reactExports.useMemo(()=>Ke==="identityToken"?e&&renderIdentityTokenExpiry(e):Ke==="accessToken"?e&&renderAccessTokenExpiry(e):null,[Ke,e]),rt=toKebabCase(t);return jsxRuntimeExports.jsx("div",{className:"form-control form-control--outlined",children:jsxRuntimeExports.jsxs("label",{htmlFor:rt,children:[jsxRuntimeExports.jsxs("small",{children:[t,tt?jsxRuntimeExports.jsxs("em",{children:[" ",tt]}):null]}),jsxRuntimeExports.jsx("input",{value:e?.[Ke]||"",placeholder:"n/a",onChange:et})]})})},OAuth2Error=({token:e})=>{const t=()=>{!e||!e.xResponseId||showModal(ResponseDebugModal,{responseId:e.xResponseId,showBody:!0})},Ke=e?.xResponseId?jsxRuntimeExports.jsxs(Button,{onClick:t,className:"margin-top-sm",title:"View response timeline",children:[jsxRuntimeExports.jsx("i",{className:"fa fa-bug space-right"})," Response Timeline"]}):null,Ye=e?.errorUri?jsxRuntimeExports.jsx(Link,{href:e.errorUri,title:e.errorUri,className:"space-left icon",children:jsxRuntimeExports.jsx("i",{className:"fa fa-question-circle"})}):null,Je=e?e.error||e.xError:null;if(e&&Je){const{errorDescription:Xe}=e;return jsxRuntimeExports.jsxs("div",{className:"notice error margin-bottom",children:[jsxRuntimeExports.jsx("h2",{className:"no-margin-top txt-lg force-wrap",children:Je}),jsxRuntimeExports.jsxs("p",{children:[Xe||"no description provided",Ye]}),Ke]})}return Ke},OAuth2Tokens=({hideRefresh:e})=>{const t=useRequestLoaderData(),Ke=useRequestGroupLoaderData(),{authentication:Ye,_id:Je}=t?.activeRequest||Ke.activeRequestGroup,[Xe,et]=reactExports.useState();reactExports.useEffect(()=>{(async()=>{const ot=await oAuth2Token.getByParentId(Je);et(ot)})()},[Je]);const{handleRender:tt}=useNunjucks({renderContext:{purpose:"send"}}),[rt,st]=reactExports.useState(""),[at,nt]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"notice subtle text-left",children:[rt&&jsxRuntimeExports.jsx("p",{className:"selectable notice warning margin-bottom",children:rt}),jsxRuntimeExports.jsx(OAuth2Error,{token:Xe}),jsxRuntimeExports.jsx(OAuth2TokenInput,{token:Xe,label:"Refresh Token",property:"refreshToken"}),jsxRuntimeExports.jsx(OAuth2TokenInput,{token:Xe,label:"Identity Token",property:"identityToken"}),jsxRuntimeExports.jsx(OAuth2TokenInput,{token:Xe,label:"Access Token",property:"accessToken"}),jsxRuntimeExports.jsxs("div",{className:"pad-top text-right",children:[Xe?jsxRuntimeExports.jsx("button",{className:"h-[--line-height-xs] rounded-[--radius-md] border border-solid border-[--hl-lg] px-[--padding-md] hover:bg-[--hl-xs]",disabled:!Xe,onClick:()=>{Xe&&(et(void 0),oAuth2Token.remove(Xe))},children:"Clear"}):null,!e&&jsxRuntimeExports.jsx("button",{className:"ml-2 h-[--line-height-xs] rounded-[--radius-md] border border-solid border-[--hl-lg] px-[--padding-md] hover:bg-[--hl-xs]",onClick:async()=>{st(""),nt(!0);try{const it=await tt(Ye),ot=await getOAuth2Token(Je,it,!0);et(ot),nt(!1)}catch(it){Xe&&(et(void 0),oAuth2Token.remove(Xe)),st(it.message),nt(!1)}},disabled:at,children:at?Xe?"Refreshing...":"Fetching...":Xe?"Refresh Token":"Fetch Tokens"})]})]})},AuthWrapper=({authentication:e,disabled:t=!1,authTypes:Ke,hideOthers:Ye,hideInherit:Je,showMcpAuthFlow:Xe,addToHeaderOnly:et})=>{const tt=getAuthObjectOrNull(e)?.type||"";let rt=null;return tt==="basic"?rt=jsxRuntimeExports.jsx(BasicAuth,{disabled:t}):tt==="apikey"?rt=jsxRuntimeExports.jsx(ApiKeyAuth,{disabled:t,addToHeaderOnly:et}):tt==="oauth2"?rt=jsxRuntimeExports.jsx(OAuth2Auth,{showMcpAuthFlow:Xe,disabled:t}):tt==="hawk"?rt=jsxRuntimeExports.jsx(HawkAuth,{}):tt==="oauth1"?rt=jsxRuntimeExports.jsx(OAuth1Auth,{}):tt==="digest"?rt=jsxRuntimeExports.jsx(DigestAuth,{disabled:t}):tt==="ntlm"?rt=jsxRuntimeExports.jsx(NTLMAuth,{}):tt==="bearer"?rt=jsxRuntimeExports.jsx(BearerAuth,{disabled:t}):tt==="iam"?rt=jsxRuntimeExports.jsx(AWSAuth,{}):tt==="netrc"?rt=jsxRuntimeExports.jsx(NetrcAuth,{}):tt==="asap"?rt=jsxRuntimeExports.jsx(AsapAuth,{}):tt==="singleToken"?rt=jsxRuntimeExports.jsx(SingleTokenAuth,{disabled:t}):rt=jsxRuntimeExports.jsx("div",{className:"flex h-full w-full select-none items-center justify-center",children:jsxRuntimeExports.jsxs("p",{className:"p-4 text-center text-sm text-[--hl]",children:[jsxRuntimeExports.jsx("i",{className:"fa fa-unlock-alt",style:{fontSize:"8rem",opacity:.3}}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),"Select an auth type from above"]})}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx($13c3c67164f4d5be$export$4c260019440d418f,{className:"flex h-[--line-height-sm] w-full flex-shrink-0 items-center border-b border-solid border-[--hl-md] px-2",children:jsxRuntimeExports.jsx(AuthDropdown,{authentication:e,authTypes:Ke,hideOthers:Ye,hideInherit:Je,disabled:t})}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto",children:rt})]})},readOnlyWebsocketPairs=[{name:"Connection",value:"Upgrade"},{name:"Upgrade",value:"websocket"},{name:"Sec-WebSocket-Key",value:"<calculated at runtime>"},{name:"Sec-WebSocket-Version",value:"13"},{name:"Sec-WebSocket-Extensions",value:"permessage-deflate; client_max_window_bits"}].map(e=>({...e,id:generateId("pair")})),readOnlyHttpPairs=[{name:"Accept",value:"*/*"},{name:"Host",value:"<calculated at runtime>"}].map(e=>({...e,id:generateId("pair")})),RequestHeadersEditor=({headers:e,bulk:t,isDisabled:Ke,requestType:Ye})=>{const Je=useRequestPatcher(),Xe=useRequestGroupPatcher(),et=Ye==="RequestGroup"?Xe:Je,tt=Ye==="WebSocketRequest",{requestId:rt,requestGroupId:st}=useParams(),at=Ye==="RequestGroup"?st:rt;invariant(at,"Request or RequestGroup ID is required");const nt=reactExports.useCallback(ot=>{const lt=[],ut=ot.split(/\n+/);for(const ft of ut){const[ct,dt]=ft.split(/:(.*)$/),ht=(ct||"").trim(),xt=(dt||"").trim();!ht&&!xt||lt.push({name:ht,value:xt})}et(at,{headers:lt})},[et,at]);let it="";for(const ot of e)ot.disabled||!ot.name&&!ot.value||(it+=`${ot.name}: ${ot.value}
`);return t?jsxRuntimeExports.jsx("div",{className:"tall",children:jsxRuntimeExports.jsx(CodeEditor,{id:"request-headers-editor",onChange:nt,defaultValue:it,enableNunjucks:!0})}):jsxRuntimeExports.jsx(KeyValueEditor,{namePlaceholder:"header",valuePlaceholder:"value",descriptionPlaceholder:"description",pairs:e,handleGetAutocompleteNameConstants:getCommonHeaderNames,handleGetAutocompleteValueConstants:getCommonHeaderValues,onChange:ot=>et(at,{headers:ot}),isDisabled:Ke,readOnlyPairs:tt?readOnlyWebsocketPairs:readOnlyHttpPairs})},rootPrefix="file://",McpRootsPanel=({request:e,readyState:t})=>{const[Ke,Ye]=reactExports.useState(rootPrefix),[Je,Xe]=reactExports.useState(e.roots),[et,tt]=reactExports.useState(!0),rt=useRequestPatcher(),st=e._id,at=t==="connected",nt=()=>{const ot=Ke.trim();ot.startsWith(rootPrefix)&&ot.length>rootPrefix.length?(Xe(lt=>{const ut=[...lt,{uri:Ke.trim()}];return rt(st,{roots:ut}),ut}),Ye(rootPrefix),tt(!0)):tt(!1)},it=ot=>{Xe(lt=>{const ut=lt.filter((ft,ct)=>ct!==ot);return rt(st,{roots:ut}),ut})};return jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto px-2",children:[jsxRuntimeExports.jsxs($13c3c67164f4d5be$export$4c260019440d418f,{className:"flex h-[--line-height-sm] w-full flex-shrink-0 items-center justify-between gap-2 px-2 py-2",children:[jsxRuntimeExports.jsx($5cb03073d3f54797$export$a8a3e93435678ff9,{className:"text-sm font-bold text-[--hl]",children:"Configure Roots"}),jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"rounded bg-[--color-surprise] px-[--padding-md] text-center text-[--color-font-surprise]",onClick:()=>{window.main.mcp.notification.rootListChange({requestId:st})},isDisabled:!at,children:"Notify Roots"})]}),jsxRuntimeExports.jsx($eed445e0843c11d0$export$41f133550aa26f48,{"aria-label":"data folders",className:"margin-top-sm flex w-full flex-col overflow-y-auto",children:Je.map(({uri:ot},lt)=>{const ut=`${ot}-${lt}`;return jsxRuntimeExports.jsxs($eed445e0843c11d0$export$a11e76429ed99b4,{id:ut,textValue:ot,className:"my-1 flex min-h-[30px] justify-between gap-2 rounded-sm p-2 outline-none odd:bg-[--hl-xs]",children:[jsxRuntimeExports.jsx("span",{className:"flex min-w-[70%] flex-grow items-center break-all","data-testid":"cookie-domain",children:jsxRuntimeExports.jsx("span",{children:ot||""})}),jsxRuntimeExports.jsx("div",{className:"flex min-w-[10%] items-center justify-end gap-1",children:jsxRuntimeExports.jsx(PromptButton,{className:"flex min-w-[15px] items-center gap-2 px-2 py-1 text-sm font-semibold text-[--color-font] transition-all aria-pressed:bg-[--hl-sm]",confirmMessage:"",doneMessage:"",onClick:()=>it(lt),title:"Delete cookie",children:jsxRuntimeExports.jsx("i",{className:"fa fa-trash-o"})})})]},ut)})}),jsxRuntimeExports.jsxs("div",{className:"mt-5 flex justify-between gap-1 px-2",children:[jsxRuntimeExports.jsx("input",{value:Ke,onChange:ot=>Ye(ot.target.value),type:"text",className:"w-full rounded-sm border border-solid border-[--hl-sm] bg-[--color-bg] py-1 pl-2 pr-7 text-[--color-font] transition-colors focus:outline-none focus:ring-1 focus:ring-[--hl-md]"}),jsxRuntimeExports.jsx("button",{className:"btn btn--outlined btn--super-compact flex items-center gap-2",onClick:nt,children:"Add Root"})]}),!et&&jsxRuntimeExports.jsx("div",{className:"mt-5 px-2",children:jsxRuntimeExports.jsx("p",{className:"notice error margin-bottom-sm mt-2 w-full",children:`Invalid root, please config root directory and must be start with ${rootPrefix}`})})]})},tryToInterpolateRequestOrShowRenderErrorModal=async({request:e,environmentId:t,payload:Ke})=>{try{const Ye=await getRenderContext({request:e,environment:t,purpose:"send"});return await render(Ke,Ye)}catch(Ye){if(Ye instanceof RenderError){showModal(RequestRenderErrorModal,{request:e,error:Ye});return}throw Ye}},DisconnectButton=({requestId:e})=>{const t=()=>{isWebSocketRequestId(e)?window.main.webSocket.close({requestId:e}):isSocketIORequestId(e)?window.main.socketIO.close({requestId:e}):isMcpRequestId(e)&&window.main.mcp.close({requestId:e})},Ke=()=>{isWebSocketRequestId(e)?window.main.webSocket.closeAll():isSocketIORequestId(e)?window.main.socketIO.closeAll():isMcpRequestId(e)&&window.main.mcp.closeAll()};return jsxRuntimeExports.jsxs("div",{style:{borderRadius:"var(--radius-sm)",overflow:"hidden",display:"flex",color:"var(--color-font-surprise)"},children:[jsxRuntimeExports.jsx("button",{type:"button",style:{paddingRight:"var(--padding-md)",paddingLeft:"var(--padding-md)",background:"var(--color-danger)"},onClick:t,children:"Disconnect"}),jsxRuntimeExports.jsxs(Dropdown,{className:"tall",style:{display:"flex",textAlign:"center",borderLeft:"1px solid var(--hl-md)",background:"var(--color-danger)"},"data-testid":"DisconnectDropdown__Dropdown","aria-label":"Disconnect Dropdown",triggerButton:jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{style:{paddingRight:"var(--padding-xs)",paddingLeft:"var(--padding-xs)"},name:"DisconnectDropdown__DropdownButton",children:jsxRuntimeExports.jsx("i",{className:"fa fa-caret-down"})}),children:[jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":"Disconnect this request",children:jsxRuntimeExports.jsxs(ItemContent,{onClick:t,children:[jsxRuntimeExports.jsx("div",{className:"flex w-[25px] justify-evenly",children:jsxRuntimeExports.jsx("div",{className:"bg-success h-[10px] w-[10px] rounded-[50%]"})}),jsxRuntimeExports.jsx("div",{className:"w-full pl-[--padding-xs] text-left",children:"Disconnect this request"})]})}),jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":"Disconnect all requests",children:jsxRuntimeExports.jsxs(ItemContent,{onClick:Ke,children:[jsxRuntimeExports.jsxs("div",{className:"flex w-[25px] justify-evenly",children:[jsxRuntimeExports.jsx("div",{className:"bg-success h-[5px] w-[5px] rounded-[50%]"}),jsxRuntimeExports.jsx("div",{className:"bg-success h-[5px] w-[5px] rounded-[50%]"}),jsxRuntimeExports.jsx("div",{className:"bg-success h-[5px] w-[5px] rounded-[50%]"})]}),jsxRuntimeExports.jsx("div",{className:"w-full pl-[--padding-xs] text-left",children:"Disconnect all requests"})]})})]},"dropdown")]})},getTransportLabel=e=>e===TRANSPORT_TYPES.HTTP?"HTTP":"STDIO",McpUrlActionBar=({request:e,project:t,environmentId:Ke,defaultValue:Ye,onChange:Je,readyState:Xe})=>{const et=Xe==="connected",tt=Xe==="connecting",rt=Xe==="disconnected",st=useRequestPatcher(),at=reactExports.useRef(null),nt=e._id,it=e.transportType,ot=getTransportLabel(it),lt=reactExports.useRef(null);reactExports.useLayoutEffect(()=>{at.current?.focusEnd()},[]);const ut=useRequestConnectActionFetcher(),{organizationId:ft,projectId:ct,workspaceId:dt}=useParams(),{updateTabById:ht}=useInsomniaTabContext(),xt=reactExports.useCallback(Ct=>{ut.submit({organizationId:ft,projectId:ct,workspaceId:dt,requestId:nt,connectParams:Ct})},[ut,ft,ct,nt,dt]),vt=reactExports.useCallback(async()=>{const Ct=await tryToInterpolateRequestOrShowRenderErrorModal({request:e,environmentId:Ke,payload:{url:e.url,headers:e.headers,authentication:e.authentication,env:getDataFromKVPair(e.env).data}}),{authentication:Rt,headers:jt}=Ct;if(!Rt.disabled)try{if(Rt.type==="basic"){const{username:yt,password:Et,useISO88591:pt}=Rt,mt=pt?"latin1":"utf8";jt.push(getBasicAuthHeader(yt,Et,mt))}else if(Rt.type==="bearer"&&Rt.token){const{token:yt,prefix:Et}=Rt;jt.push(getBearerAuthHeader(yt,Et))}else if(Rt.type==="apikey"){const{key:yt,value:Et}=Rt;jt.push({name:yt,value:Et})}else if(Rt.type==="oauth2"){const yt=await getOAuth2Token(e._id,Rt);if(yt){const Et=yt.accessToken,pt=_buildBearerHeader(Et,Rt.tokenPrefix);pt&&jt.push(pt)}}}catch(yt){console.error("[mcp] Failed to get auth header",yt)}return{url:Ct.url,transportType:e.transportType,headers:jt,authentication:Ct.authentication,suppressUserAgent:Ct.suppressUserAgent,cookieJar:Ct.workspaceCookieJar,env:Ct.env}},[Ke,e]),bt=reactExports.useCallback(async()=>{if(tt)return;if(ht?.(e._id,{temporary:!1}),et){window.main.mcp.close({requestId:e._id});return}const Ct=await vt();if(Ct.transportType===TRANSPORT_TYPES.STDIO&&!await isAllowedToRunSTDIO(e,t,lt)){console.log("User denied STDIO access");return}Ct&&xt(Ct)},[xt,vt,et,tt,t,e,ht]),_t=useLatest(bt);return reactExports.useEffect(()=>{const Ct=Rt=>{Rt.metaKey&&Rt.key==="Enter"&&_t.current()};return document.getElementById("sidebar-request-gridlist")?.addEventListener("keydown",Ct,{capture:!0}),()=>{document.getElementById("sidebar-request-gridlist")?.removeEventListener("keydown",Ct,{capture:!0})}},[_t]),useDocBodyKeyboardShortcuts({request_send:()=>_t.current(),request_focusUrl:()=>{at.current?.selectAll()}}),reactExports.useEffect(()=>window.main.on("mcp-auth-confirmation",async Rt=>{let jt=!1;showModal(AskModal,{title:"MCP Authentication Confirmation",message:"The MCP server is requesting authentication to proceed. Do you wish to continue?",onDone:async yt=>{if(jt){console.error("Already answered MCP auth confirmation, this should not happen.");return}jt=!0,window.main.mcp.authConfirmation(yt)},onHide:()=>{jt||(jt=!0,window.main.mcp.authConfirmation(!1))}})}),[]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsx(Dropdown,{triggerButton:jsxRuntimeExports.jsxs($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:`pl-2 ${rt?"":"cursor-not-allowed opacity-30"}`,"aria-label":"Request Method",children:[jsxRuntimeExports.jsx("span",{children:ot})," ",jsxRuntimeExports.jsx("i",{className:"fa fa-caret-down space-left"})]}),placement:"bottom start",isDisabled:!rt,children:jsxRuntimeExports.jsx($9fc4852771d079eb$export$6e2c8f0811a474ce,{children:MCP_TRANSPORT_TYPES.map(Ct=>jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{children:jsxRuntimeExports.jsx(ItemContent,{label:getTransportLabel(Ct),onClick:()=>st(e._id,{transportType:Ct})})},Ct))})})}),jsxRuntimeExports.jsxs("form",{className:"flex flex-1","aria-disabled":!rt,onSubmit:Ct=>{Ct.preventDefault(),bt()},children:[jsxRuntimeExports.jsx("div",{className:"box-border h-full w-full px-[--padding-md]",children:jsxRuntimeExports.jsx(OneLineEditor,{id:"websocket-url-bar",ref:at,onKeyDown:createKeybindingsHandler({Enter:()=>_t.current()}),readOnly:!rt,defaultValue:Ye,onChange:Je,type:"text"})}),jsxRuntimeExports.jsx("div",{className:"flex p-1",children:et?jsxRuntimeExports.jsx(DisconnectButton,{requestId:e._id}):jsxRuntimeExports.jsx("button",{className:"rounded-sm bg-[--color-surprise] px-[--padding-md] text-center text-[--color-font-surprise] hover:brightness-75",disabled:tt,type:"submit",children:"Connect"})})]}),jsxRuntimeExports.jsx(MCPStdioAccessModal,{ref:lt,requestId:nt,workspaceId:dt,projectId:ct,organizationId:ft})]})},isAllowedToRunSTDIO=async(e,t,Ke)=>e.mcpStdioAccess||t.mcpStdioAccess?!0:new Promise(Je=>{let Xe=!1;Ke.current?.show({onHide:()=>{Xe||Je(!1)},onGrant:()=>{Je(!0),Xe=!0}})}),MCPStdioAccessModal=reactExports.forwardRef(({requestId:e,workspaceId:t,projectId:Ke,organizationId:Ye},Je)=>{const[Xe,et]=React.useState("request"),tt=reactExports.useRef(null),rt=reactExports.useRef(()=>{}),st=reactExports.useRef(()=>{}),at=useRequestGrantAccessFetcher(),nt=at.state==="submitting"||at.state==="loading",it=()=>{nt||(st.current(),rt.current=()=>{},st.current=()=>{})},ot=async()=>{await at.submit({accessLevel:Xe,requestId:e,workspaceId:t,projectId:Ke,organizationId:Ye}),rt.current(),tt.current?.hide()};return reactExports.useImperativeHandle(Je,()=>({show:({onGrant:lt,onHide:ut})=>{rt.current=lt,st.current=ut,tt.current?.show()}}),[]),jsxRuntimeExports.jsx($f57aed4a881a3485$export$b47c3594eab58386,{onClick:lt=>lt.stopPropagation(),children:jsxRuntimeExports.jsxs(Modal,{ref:tt,onHide:it,keyboardClosable:!nt,maskClosable:!nt,children:[jsxRuntimeExports.jsx(ModalHeader,{hideCloseButton:nt,children:"Grant STDIO access for this MCP Client?"}),jsxRuntimeExports.jsx("p",{children:"You should be sure you understand and trust this STDIO server before using it."}),jsxRuntimeExports.jsx("p",{children:"Trust and give access to:"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-[var(--padding-lg)]",children:[jsxRuntimeExports.jsxs($b6c3ddc6086f204d$export$a98f0dcb43a68a25,{"aria-label":"Grant access level",name:"accessLevel",className:"flex flex-col gap-2",value:Xe,onChange:lt=>et(lt),children:[jsxRuntimeExports.jsx($b6c3ddc6086f204d$export$d7b12c4107be0d61,{value:"request",className:"flex-1 cursor-pointer rounded border border-solid border-[--hl-md] p-4 transition-colors hover:bg-[--hl-xs] focus:bg-[--hl-sm] focus:outline-none data-[selected]:border-[--color-surprise] data-[disabled]:opacity-25 data-[selected]:ring-2 data-[selected]:ring-[--color-surprise]",children:jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsx($5cb03073d3f54797$export$a8a3e93435678ff9,{className:"text-lg",children:"This MCP client only"})})}),jsxRuntimeExports.jsx($b6c3ddc6086f204d$export$d7b12c4107be0d61,{value:"project",className:"flex-1 cursor-pointer rounded border border-solid border-[--hl-md] p-4 transition-colors hover:bg-[--hl-xs] focus:bg-[--hl-sm] focus:outline-none data-[selected]:border-[--color-surprise] data-[selected]:ring-2 data-[selected]:ring-[--color-surprise]",children:jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsx($5cb03073d3f54797$export$a8a3e93435678ff9,{className:"text-lg",children:"All MCP clients in this project"})})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-[var(--padding-sm)] p-[var(--padding-sm)]",children:[jsxRuntimeExports.jsx(Button,{className:"rounded-sm border border-solid border-[--hl-md] px-3 py-2 text-[--color-font] transition-colors hover:bg-opacity-90 hover:no-underline",isDisabled:nt,"data-close-modal":"true",children:"Deny Access"}),jsxRuntimeExports.jsx(Button,{variant:"contained",bg:"surprise",className:"gap-[var(--padding-sm)]",isDisabled:nt,onClick:ot,children:"Grant Access"})]})]})]})})}),supportedAuthTypes$1=["basic","oauth2","bearer","apikey"],PaneReadOnlyBanner$2=()=>jsxRuntimeExports.jsx("div",{style:{paddingTop:"var(--padding-md)",paddingLeft:"var(--padding-md)",paddingRight:"var(--padding-md)"},children:jsxRuntimeExports.jsx("p",{className:"notice info no-margin-top no-margin-bottom",children:"This section is now locked since the connection has already been established. To change these settings, please disconnect first."})}),McpRequestPane=({environment:e,readyState:t,selectedPrimitiveItem:Ke,activeTab:Ye,onTabChange:Je})=>{const Xe=`${Ke?.type}_${Ke?.name}`,{activeRequest:et,activeRequestMeta:tt,requestPayload:rt}=useRequestLoaderData(),st=useLatest(rt),{activeProject:at}=useWorkspaceLoaderData(),[nt,it]=reactExports.useState(rt?.params||{}),ot=reactExports.useRef(null),lt=reactExports.useRef(null),ut=et._id,ft=et.transportType==="stdio",ct=et.headers.filter(St=>!St.disabled).length+readOnlyHttpPairs.length,dt=useRequestPatcher(),ht=useRequestPayloadPatcher(),xt=useLatest(ht),vt=t==="connected",bt=t==="disconnected",_t=`${e?.modified}::${ut}::${tt?.activeResponseId}::${t}`,Ct=getAuthObjectOrNull(et.authentication),Rt=Ct?.type==="none"||Ct===null,jt=reactExports.useMemo(()=>{if(Ke?.type==="tools")return Ke?.type==="tools"?Ke.inputSchema:void 0;if(Ke?.type==="resources"||Ke?.type==="resourceTemplates")return buildResourceJsonSchema(Ke);if(Ke?.type==="prompts"){const St={},wt=[];return Ke?.arguments?.forEach($t=>{St[$t.name]={type:"string",description:$t?.description||""},$t.required&&wt.push($t.name)}),{type:"object",properties:St,required:wt}}return{}},[Ke]),yt=reactExports.useCallback(St=>{it(wt=>({...wt,[Xe]:St})),Ke?.type!=="resourceTemplates"&&Ke?.type!=="resources"&&ot.current?.setValue(JSON.stringify(St||{},null,2))},[Xe,Ke?.type]),Et=async()=>{if(lt.current?.validate())try{Ke?.type==="tools"?await window.main.mcp.primitive.callTool({name:Ke?.name||"",arguments:nt[Xe],requestId:ut}):Ke?.type==="resources"?await window.main.mcp.primitive.readResource({requestId:ut,uri:Ke?.uri||""}):Ke?.type==="resourceTemplates"?await window.main.mcp.primitive.readResource({requestId:ut,uri:fillUriTemplate(Ke.uriTemplate,nt[Xe]||{})}):Ke?.type==="prompts"&&await window.main.mcp.primitive.getPrompt({requestId:ut,name:Ke?.name||"",arguments:nt[Xe]})}catch(St){console.warn("MCP primitive call error",St)}},pt=St=>{dt(ut,{env:St})},mt=(St,wt)=>{try{const $t=JSON.parse(St);wt[0]?.origin!=="setValue"&&it(At=>({...At,[Xe]:$t}))}catch{}},gt=reactExports.useMemo(()=>Ke?.type==="tools"?"Call Tool":Ke?.type==="resources"||Ke?.type==="resourceTemplates"?"Read Resource":Ke?.type==="prompts"?"Get Prompt":null,[Ke]);return reactExports.useEffect(()=>{vt&&xt.current(ut,{params:nt,url:et.url})},[et.url,nt,xt,ut,vt]),reactExports.useEffect(()=>{vt&&it(st.current?.params||{})},[et.url,st,vt]),jsxRuntimeExports.jsxs(Pane,{type:"request",children:[jsxRuntimeExports.jsx("header",{className:"pane__header theme--pane__header !items-stretch",children:jsxRuntimeExports.jsx(McpUrlActionBar,{request:et,project:at,environmentId:e?._id||"",defaultValue:et.url,readyState:t,onChange:St=>dt(ut,{url:St})},_t)}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$b2539bed5023c21c,{"aria-label":"Websocket request pane tabs",className:"flex h-full w-full flex-1 flex-col",onSelectionChange:St=>{const wt=St.toString();Je(wt)},selectedKey:Ye,children:[jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$e51a686c67fdaa2d,{className:"flex h-[--line-height-sm] w-full flex-shrink-0 items-center overflow-x-auto border-b border-solid border-b-[--hl-md] bg-[--color-bg]","aria-label":"Request pane tabs",children:[jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"params",children:jsxRuntimeExports.jsx("span",{children:"Params"})}),!ft&&jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"auth",children:[jsxRuntimeExports.jsx("span",{children:"Auth"}),!Rt&&jsxRuntimeExports.jsx("span",{className:"flex h-6 min-w-6 items-center justify-center rounded-lg border border-solid border-[--hl] p-1 text-xs",children:jsxRuntimeExports.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"})})]}),!ft&&jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"headers",children:[jsxRuntimeExports.jsx("span",{children:"Headers"}),ct>0&&jsxRuntimeExports.jsx("span",{className:"flex h-6 min-w-6 items-center justify-center rounded-lg border border-solid border-[--hl] p-1 text-xs",children:ct})]}),ft&&jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"env",children:jsxRuntimeExports.jsx("span",{children:"Environment"})}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"roots",children:[jsxRuntimeExports.jsx("span",{children:"Roots"}),et.roots.length>0&&jsxRuntimeExports.jsx("span",{className:"flex h-6 min-w-6 items-center justify-center rounded-lg border border-solid border-[--hl] p-1 text-xs",children:jsxRuntimeExports.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"})})]})]}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"flex h-full w-full flex-1 flex-col overflow-y-auto",id:"params",children:vt?jsxRuntimeExports.jsxs(PanelGroup,{className:"flex-1 overflow-hidden",direction:"vertical",children:[jsxRuntimeExports.jsx(Panel,{minSize:20,children:jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col",children:[jsxRuntimeExports.jsxs($13c3c67164f4d5be$export$4c260019440d418f,{className:"flex h-[--line-height-sm] w-full flex-shrink-0 items-center justify-between gap-2 px-2 py-2",children:[jsxRuntimeExports.jsx($5cb03073d3f54797$export$a8a3e93435678ff9,{className:"text-xs font-bold uppercase text-[--hl]",children:"Parameter Builder"}),gt&&jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{onClick:Et,className:"rounded bg-[--color-surprise] px-[--padding-md] text-center text-[--color-font-surprise]",children:gt})})]}),!Ke&&jsxRuntimeExports.jsx("div",{className:"flex h-full w-full flex-col items-center p-5 text-center",children:jsxRuntimeExports.jsx("p",{className:"notice info text-md no-margin-top w-full",children:"Select an MCP server primitive from the list to start."})}),jt&&jsxRuntimeExports.jsxs("div",{className:"overflow-auto p-4",children:[jsxRuntimeExports.jsx("p",{children:Ke?.name}),jsxRuntimeExports.jsx("p",{className:"text-[--hl]",children:Ke?.description}),Ke?.type==="resourceTemplates"&&jsxRuntimeExports.jsxs("p",{className:"py-2",children:["uri: ",fillUriTemplate(Ke.uriTemplate,nt[Xe]||{})]}),jsxRuntimeExports.jsx("div",{className:"pl-2",children:jsxRuntimeExports.jsx(InsomniaRjsfForm,{formData:nt[Xe],onChange:yt,schema:jt,ref:lt,showErrorList:!1,focusOnFirstError:!0})})]})]})}),jsxRuntimeExports.jsx(PanelResizeHandle,{className:"h-[1px] w-full bg-[--hl-md]"}),Ke?.type!=="resources"&&Ke?.type!=="resourceTemplates"&&jsxRuntimeExports.jsx(Panel,{minSize:20,children:jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col",children:[jsxRuntimeExports.jsx($5cb03073d3f54797$export$a8a3e93435678ff9,{className:"p-4 text-xs font-bold text-[--hl]",children:"Parameter Overview"}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-hidden",children:jsxRuntimeExports.jsx(CodeEditor,{ref:ot,id:"mcp-parameter-overview-editor",showPrettifyButton:!0,dynamicHeight:!0,uniquenessKey:"mcp-parameter-overview-editor",defaultValue:JSON.stringify(nt[Xe]||{},null,2),onChange:mt,mode:"json",placeholder:""})})]})})]}):jsxRuntimeExports.jsx("div",{className:"flex h-full w-full flex-col items-center p-5 text-center",children:jsxRuntimeExports.jsxs("p",{className:"notice info text-md no-margin-top w-full",children:["Connect to an MCP server URL to reveal capabilities. ",jsxRuntimeExports.jsx(Link,{href:docsMcpClient,children:"Learn More"})]})})}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"flex w-full flex-1 flex-col overflow-hidden",id:"auth",children:[!bt&&jsxRuntimeExports.jsx(PaneReadOnlyBanner$2,{}),jsxRuntimeExports.jsx(AuthWrapper,{authentication:et.authentication,disabled:!bt,authTypes:supportedAuthTypes$1,hideInherit:!0,showMcpAuthFlow:!0,addToHeaderOnly:!0},_t)]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"w-full flex-1 overflow-y-auto",id:"headers",children:[!bt&&jsxRuntimeExports.jsx(PaneReadOnlyBanner$2,{}),jsxRuntimeExports.jsx(RequestHeadersEditor,{headers:et.headers,bulk:!1,isDisabled:!bt,requestType:"McpRequest"},_t)]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"flex w-full flex-1 flex-col overflow-hidden",id:"env",children:[!bt&&jsxRuntimeExports.jsx(PaneReadOnlyBanner$2,{}),jsxRuntimeExports.jsx(EnvironmentKVEditor,{data:et.env,disabled:!bt,textOnly:!0,onChange:pt},_t)]}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"flex w-full flex-1 flex-col overflow-hidden",id:"roots",children:jsxRuntimeExports.jsx(McpRootsPanel,{request:et,readyState:t})})]})]})},MCPCertificatesModal=({onClose:e})=>{const{workspaceId:t}=useParams(),Ke=useWorkspaceLoaderData(),{caCertificate:Ye}=Ke;return t?jsxRuntimeExports.jsx($f3f84453ead64de5$export$8948f78d83984c69,{isOpen:!0,isDismissable:!0,onOpenChange:Je=>{!Je&&e()},className:"fixed left-0 top-0 z-10 flex h-[--visual-viewport-height] w-full items-center justify-center bg-black/30",children:jsxRuntimeExports.jsx($f3f84453ead64de5$export$2b77a92f1a5ad772,{className:"flex w-full max-w-3xl flex-col rounded-md border border-solid border-[--hl-sm] bg-[--color-bg] p-[--padding-lg] text-[--color-font]",children:jsxRuntimeExports.jsx($de32f1b87079253c$export$3ddf2d174ce01153,{className:"flex h-full flex-1 flex-col overflow-hidden outline-none",children:({close:Je})=>jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx($5cb03073d3f54797$export$a8a3e93435678ff9,{slot:"title",className:"flex items-center gap-2 text-2xl",children:"Manage Certificates"}),jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"flex aspect-square h-6 flex-shrink-0 items-center justify-center rounded-sm text-sm text-[--color-font] ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] aria-pressed:bg-[--hl-sm]",onPress:Je,children:jsxRuntimeExports.jsx(Icon,{icon:"x"})})]}),jsxRuntimeExports.jsx("div",{className:"flex w-full flex-1 basis-96 select-none flex-col gap-6 overflow-hidden overflow-y-auto rounded",children:jsxRuntimeExports.jsx(CACertificate,{caCertificate:Ye})}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-end gap-2",children:jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{onPress:Je,className:"rounded-sm border border-solid border-[--hl-md] px-3 py-2 text-[--color-font] transition-colors hover:bg-opacity-90 hover:no-underline",children:"Done"})})]})})})}):null};function useMcpReadyState({requestId:e}){const[t,Ke]=reactExports.useState("disconnected");return reactExports.useEffect(()=>{let Ye=!0;return(async()=>{window.main.mcp.readyState.getCurrent({requestId:e}).then(Xe=>{Ye&&Ke(Xe)})})(),()=>{Ye=!1}},[e]),reactExports.useEffect(()=>{let Ye=!0;const Je=window.main.on(`mcp.${e}.${REALTIME_EVENTS_CHANNELS.READY_STATE}`,(Xe,et)=>{Ye&&Ke(et)});return()=>{Ye=!1,Je()}},[e]),t}function useRealtimeConnectionNotifications({responseId:e,protocol:t}){const[Ke,Ye]=reactExports.useState([]),Je=reactExports.useCallback(async()=>{if(t==="mcp"){const Xe=await window.main[t].event.findNotifications({responseId:e});Ye(Xe)}},[t,e]);return reactExports.useEffect(()=>{Je()},[Je]),reactExports.useEffect(()=>{const Xe=window.main.on(`${t}.${e}.${REALTIME_EVENTS_CHANNELS.MCP_NOTIFICATION}`,()=>{Je()});return()=>{Xe()}},[t,e,Je]),Ke}function useReadyState({requestId:e,protocol:t}){const[Ke,Ye]=reactExports.useState(!1);return reactExports.useEffect(()=>{let Je=!0;return(async()=>{window.main[t].readyState.getCurrent({requestId:e}).then(et=>{Je&&Ye(et)})})(),()=>{Je=!1}},[t,e]),reactExports.useEffect(()=>{let Je=!0;const Xe=window.main.on(`${t}.${e}.${REALTIME_EVENTS_CHANNELS.READY_STATE}`,(et,tt)=>{Je&&Ye(tt)});return()=>{Je=!1,Xe()}},[t,e]),Ke}function useRealtimeConnectionEvents({responseId:e,protocol:t}){const[Ke,Ye]=reactExports.useState([]),Je=reactExports.useCallback(async()=>{const Xe=await window.main[t].event.findMany({responseId:e});Ye(Xe)},[e,t]);return reactExports.useEffect(()=>{Je()},[Je]),reactExports.useEffect(()=>{const Xe=window.main.on(`${t}.${e}.${REALTIME_EVENTS_CHANNELS.NEW_EVENT}`,()=>{Je()});return()=>{Xe()}},[t,e,Je]),Ke}const URLTag=reactExports.memo(({url:e,small:t,className:Ke,maxLength:Ye,method:Je,tooltipDelay:Xe})=>{const et=Ye||30;let tt=e;return e.length>et&&(tt=e.slice(0,et-3)+""),jsxRuntimeExports.jsx("div",{className:classNames("tag",{"tag--small":t},Ke),children:jsxRuntimeExports.jsxs(Tooltip,{wide:!0,message:e,position:"bottom",delay:Xe,children:[jsxRuntimeExports.jsx("strong",{children:Je||"URL"})," ",tt]})})});URLTag.displayName="URLTag";const ResponseHistoryDropdown=({activeResponse:e,responses:t,requestVersions:Ke})=>{const{organizationId:Ye,projectId:Je,workspaceId:Xe,requestId:et}=useParams(),tt=reactExports.useRef(null),rt=useRequestMetaPatcher(),{activeEnvironment:st}=useWorkspaceLoaderData(),at=new Date,nt={minutes:[],hours:[],today:[],week:[],other:[]},it=useRequestResponseDeleteActionFetcher(),ot=useRequestResponseDeleteAllActionFetcher(),lt=reactExports.useCallback(async(bt,_t)=>{isWebSocketResponse(_t)&&window.main.webSocket.close({requestId:bt}),isSocketIOResponse(_t)&&window.main.socketIO.close({requestId:bt}),isMcpResponse(_t)&&window.main.mcp.close({requestId:bt}),_t.requestVersionId&&await requestVersion.restore(_t.requestVersionId),await rt(bt,{activeResponseId:_t._id})},[rt]),ut=ot.submit,ft=reactExports.useCallback(async()=>{isWebSocketResponse(e)?window.main.webSocket.close({requestId:et}):isSocketIOResponse(e)?window.main.socketIO.close({requestId:et}):isMcpResponse(e)&&window.main.mcp.close({requestId:et}),ut({organizationId:Ye,projectId:Je,workspaceId:Xe,requestId:et})},[e,ut,Ye,Je,et,Xe]),ct=it.submit,dt=reactExports.useCallback(async()=>{e&&(isWebSocketResponse(e)?window.main.webSocket.close({requestId:et}):isSocketIOResponse(e)?window.main.socketIO.close({requestId:et}):isMcpResponse(e)&&window.main.mcp.close({requestId:et})),ct({organizationId:Ye,projectId:Je,workspaceId:Xe,requestId:et,responseId:e._id})},[e,ct,Ye,Je,Xe,et]);t.forEach(bt=>{const _t=new Date(bt.created),Ct=Object.entries({minutes:differenceInMinutes(at,_t)<5,hours:differenceInHours(at,_t)<2,today:isToday(_t),week:isThisWeek(_t),other:!0}).find(([,Rt])=>Rt===!0)?.[0]||"other";nt[Ct].push(bt)});const ht=bt=>{const _t=e?e._id:"n/a",Ct=bt._id===_t,Rt=Ke.find(({_id:yt})=>yt===bt.requestVersionId),jt=Rt?decompressObject(Rt.compressedRequest):null;return jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":bt._id,children:jsxRuntimeExports.jsx(ItemContent,{isDisabled:Ct,icon:Ct?"thumb-track":"empty",onClick:()=>lt(et,bt),label:jsxRuntimeExports.jsxs("div",{className:"leading-10",children:[isSocketIOResponse(bt)?null:isMcpResponse(bt)&&bt.transportType==="stdio"?jsxRuntimeExports.jsx(StringStatusTag,{small:!0,status:bt.status,statusMessage:bt.statusMessage||void 0,tooltipDelay:1e3}):jsxRuntimeExports.jsx(StatusTag,{small:!0,statusCode:bt.statusCode,statusMessage:bt.statusMessage||void 0,tooltipDelay:1e3}),jsxRuntimeExports.jsx(URLTag,{small:!0,url:jt?.url||"",method:jt&&isRequest(jt)?jt.method:"",tooltipDelay:1e3}),jsxRuntimeExports.jsx(TimeTag,{milliseconds:bt.elapsedTime,small:!0,tooltipDelay:1e3}),!isWebSocketResponse(bt)&&!isSocketIOResponse(bt)&&!isMcpResponse(bt)&&jsxRuntimeExports.jsx(SizeTag,{bytesRead:bt.bytesRead,bytesContent:bt.bytesContent,small:!0,tooltipDelay:1e3}),bt.requestVersionId?null:jsxRuntimeExports.jsx("i",{className:"icon fa fa-info-circle",title:"Request will not be restored with this response because it was created before this ability was added"})]})})},bt._id)};useDocBodyKeyboardShortcuts({request_toggleHistory:()=>tt.current?.toggle(!0)});const xt=st?st.name:"Base",vt=!t.length||e._id===t[0]._id;return jsxRuntimeExports.jsxs(Dropdown,{ref:tt,"aria-label":"Response history dropdown",closeOnSelect:!1,className:"tall pane__header__right",triggerButton:jsxRuntimeExports.jsxs($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"btn btn--super-compact tall",children:[e&&jsxRuntimeExports.jsx(TimeFromNow,{timestamp:e.created,titleCase:!0}),vt?jsxRuntimeExports.jsx("i",{className:"fa fa-caret-down space-left"}):jsxRuntimeExports.jsx("i",{className:"fa fa-thumb-tack space-left"})]}),children:[jsxRuntimeExports.jsxs($9fc4852771d079eb$export$6e2c8f0811a474ce,{"aria-label":`${xt} Responses`,title:jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("strong",{children:xt})," Responses"]}),children:[jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":"Delete Current Response",children:jsxRuntimeExports.jsx(ItemContent,{icon:"trash-o",label:"Delete Current Response",onClick:dt})}),jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":"Clear History",children:jsxRuntimeExports.jsx(ItemContent,{icon:"trash-o",label:"Clear History",onClick:ft})})]}),jsxRuntimeExports.jsx($9fc4852771d079eb$export$6e2c8f0811a474ce,{"aria-label":"Minutes Section",title:"Just Now",children:nt.minutes.map(ht)}),jsxRuntimeExports.jsx($9fc4852771d079eb$export$6e2c8f0811a474ce,{"aria-label":"Hours Section",title:"Less Than Two Hours Ago",children:nt.hours.map(ht)}),jsxRuntimeExports.jsx($9fc4852771d079eb$export$6e2c8f0811a474ce,{"aria-label":"Today Section",title:"Today",children:nt.today.map(ht)}),jsxRuntimeExports.jsx($9fc4852771d079eb$export$6e2c8f0811a474ce,{"aria-label":"Week Section",title:"This Week",children:nt.week.map(ht)}),jsxRuntimeExports.jsx($9fc4852771d079eb$export$6e2c8f0811a474ce,{"aria-label":"Other Section",title:"Older Than This Week",children:nt.other.map(ht)})]},e?e._id:"n/a")},uiSchema={"ui:submitButtonOptions":{norender:!0}},MessageEventView$2=({event:e})=>{const{activeRequestMeta:t,activeResponse:Ke}=useRequestLoaderData(),Ye=t.responseFilterHistory||[],Je=t.responseFilter||"",[Xe,et]=reactExports.useState({}),[tt,rt]=reactExports.useState(!0),st=reactExports.useRef(null),at=reactExports.useRef(null),{requestId:nt}=useParams(),it=e.type==="error",ot=e.type==="message"&&e.method===METHOD_CALL_TOOL,lt=it?e.error:"data"in e?e.data:"",ut=JSON.stringify(lt),ft=ElicitRequestSchema.safeParse(lt).success,[ct,dt]=reactExports.useState("raw"),ht=reactExports.useCallback(async()=>{const{canceled:yt,filePath:Et}=await window.dialog.showSaveDialog({title:"Save Response Body",buttonLabel:"Save"});if(yt||!Et)return;const pt=requiredModule.createWriteStream(Et);pt.on("error",mt=>{showError({title:"Save Failed",message:"Failed to save response body",error:mt})}),pt.write(ut),pt.end()},[ut]),xt=reactExports.useCallback(()=>{window.clipboard.writeText(ut)},[ut]),vt=useRequestMetaPatcher(),bt=async yt=>{if(!Ke)return;const Et=Ke.parentId;await vt(Et,{responseFilter:yt});const pt=await requestMeta.getByParentId(Et);if(!pt)return;const mt=pt.responseFilterHistory.slice(0,10);!yt||mt.includes(yt)||(mt.unshift(yt),vt(Et,{responseFilterHistory:mt}))},_t=()=>ElicitRequestSchema.safeParse(lt).success?ElicitRequestSchema.parse(lt).params.requestedSchema:{},Ct=yt=>{et(yt)};let Rt=ut;try{const yt=JSON.parse(ut);if(ot&&"result"in yt){const Et=yt.result;if("content"in Et){const pt=CallToolResultSchema.safeParse(Et);pt.success&&pt.data.content.forEach((gt,St)=>{if(gt.type==="text"){const wt=gt.text;try{const $t=JSON.parse(wt);gt.text=$t}catch{}}yt.result.content[St]=gt})}}Rt=JSON.stringify(yt,null,"	").replace(/\\n|\\r\\n|\\r/g,`
`).replace(/\\t/g,"	")}catch{}const jt="previewMode"in t&&t.previewMode||PREVIEW_MODE_SOURCE;return reactExports.useEffect(()=>{ft&&(async()=>{await window.main.mcp.client.hasRequestResponded({requestId:nt,serverRequestId:lt?.id})?(rt(!0),dt("raw")):(rt(!1),dt("form"))})()},[nt,lt?.id,ft]),jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"box-border flex h-8 flex-row border-b border-gray-300",children:[jsxRuntimeExports.jsxs(Dropdown,{"aria-label":"Websocket Preview Mode Dropdown",className:"p-2",triggerButton:jsxRuntimeExports.jsxs($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"tall",children:[getPreviewModeName(jt),jsxRuntimeExports.jsx("i",{className:"fa fa-caret-down space-left"})]}),children:[jsxRuntimeExports.jsx($9fc4852771d079eb$export$6e2c8f0811a474ce,{"aria-label":"Preview Mode Section",title:"Preview Mode",children:PREVIEW_MODES.map(yt=>jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":getPreviewModeName(yt,!0),children:jsxRuntimeExports.jsx(ItemContent,{icon:jt===yt?"check":"empty",label:getPreviewModeName(yt,!0),onClick:()=>{vt(nt,{previewMode:yt}),dt("raw"),at.current?.setValue(yt===PREVIEW_MODE_FRIENDLY?Rt:ut)}})},yt))}),jsxRuntimeExports.jsxs($9fc4852771d079eb$export$6e2c8f0811a474ce,{"aria-label":"Actions Section",title:"Actions",children:[jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":"Copy raw response",children:jsxRuntimeExports.jsx(ItemContent,{icon:"copy",label:"Copy raw response",onClick:xt})}),jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":"Export raw response",children:jsxRuntimeExports.jsx(ItemContent,{icon:"save",label:"Export raw response",onClick:ht})})]})]}),ft&&!tt&&jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:`mx-2 mt-2 px-2 text-[--color-font] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] ${ct==="form"?"bg-[--hl-xs] text-[--color-font]":""}`,onPress:()=>dt("form"),children:"Elicitation Form"})]}),ct==="raw"?jsxRuntimeExports.jsx("div",{className:"h-full flex-grow p-4",children:jsxRuntimeExports.jsx(CodeEditor,{id:"mcp-data-preview",hideLineNumbers:!0,mode:jt===PREVIEW_MODE_RAW?"text/plain":"text/json",defaultValue:jt===PREVIEW_MODE_FRIENDLY?Rt:ut,uniquenessKey:e._id,ref:at,filter:Je,updateFilter:bt,filterHistory:Ye,readOnly:!0,autoPrettify:!0})}):jsxRuntimeExports.jsxs("div",{className:"flex flex-grow flex-col overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"h-[calc(100%-var(--line-height-sm))] overflow-auto bg-inherit px-5 py-1",children:jsxRuntimeExports.jsx(InsomniaRjsfForm,{formData:Xe,onChange:Ct,schema:_t(),uiSchema,ref:st,showErrorList:!1,focusOnFirstError:!0})}),jsxRuntimeExports.jsxs($13c3c67164f4d5be$export$4c260019440d418f,{className:"content-box sticky bottom-0 z-10 flex h-[var(--line-height-sm)] flex-shrink-0 gap-3 border-b border-[var(--hl-md)] bg-[var(--color-bg)] px-5 py-2 text-[var(--font-size-sm)]",children:[jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{onPress:()=>{st.current?.validate()&&window.main.mcp.client.responseElicitationRequest({requestId:nt,serverRequestId:lt?.id,type:"submit",content:Xe})},className:"rounded-sm bg-[--color-surprise] px-[--padding-md] text-center text-[--color-font-surprise] hover:brightness-75",children:"Submit"}),jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{onPress:()=>window.main.mcp.client.responseElicitationRequest({requestId:nt,serverRequestId:lt?.id,type:"decline"}),className:"rounded-[var(--radius-md)] border border-solid border-[var(--hl-lg)] bg-[var(--color-bg)] px-[var(--padding-md)] text-center",children:"Decline"}),jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{onPress:()=>window.main.mcp.client.responseElicitationRequest({requestId:nt,serverRequestId:lt?.id,type:"cancel"}),className:"rounded-[var(--radius-md)] border border-solid border-[var(--hl-lg)] bg-[var(--color-bg)] px-[var(--padding-md)] text-center",children:"Cancel"})]})]})]})},McpEventView=({event:e})=>e.type==="message"||e.type==="notification"||e.type==="error"?jsxRuntimeExports.jsx(MessageEventView$2,{event:e}):null,Timestamp=({time:e})=>{const t=format(e,"HH:mm:ss");return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:t})},isSocketIOEvent=e=>"eventName"in e&&typeof e.eventName=="string",isMcpEvent=e=>e._id.toString().startsWith("mcp-");function getIcon(e){switch(e.type){case"message":return e.direction==="OUTGOING"?"sent":"receive";case"open":return"checkmark-circle";case"close":return"disconnected";case"error":return"error";case"addEvent":return"info";case"removeEvent":return"info";case"info":return"info";case"notification":return"receive";default:return"bug"}}const getMessage=(e,t)=>{switch(e.type){case"message":{if(isSocketIOEvent(e))return jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("span",{className:"bg-success mr-2 rounded-sm px-2 py-1",children:e.eventName}),jsxRuntimeExports.jsx("span",{className:"flex-shrink",children:e?.data?.[0]?.toString()}),e?.data?.length>1&&jsxRuntimeExports.jsxs("span",{className:"bg-info ml-2 rounded-md px-2 py-1",children:["+",e.data.length-1," ",e.data.length-1>1?"Args":"Arg"]})]});if(isMcpEvent(e)){const Ke=e.method||METHOD_UNKNOWN,Ye=Ke.startsWith(unsupportedMethodPrefix);return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[Ye&&jsxRuntimeExports.jsx("span",{className:"bg-warning mr-2 rounded-sm px-2 py-1",children:"Unsupported"}),jsxRuntimeExports.jsx("span",{className:"flex-shrink",children:Ke.replace(`${unsupportedMethodPrefix}`,"")}),t&&jsxRuntimeExports.jsx(Icon,{className:"animate-spin",icon:"spinner"}),t&&e.direction==="OUTGOING"&&e.data?.id&&jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{"aria-label":"Cancel Request",className:"flex aspect-square h-full items-center justify-center rounded-sm text-sm text-[--color-font] ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] aria-pressed:bg-[--hl-sm]",onPress:()=>{window.main.mcp.client.cancelRequest({requestId:e.requestId,messageId:e.data.id.toString()})},children:jsxRuntimeExports.jsx(SvgIcon,{icon:"prohibited"})})]})}return"data"in e&&typeof e.data=="object"?"Binary data":e.data.toString()}case"notification":{if(isMcpEvent(e)){const Ke=e.method||"";return NOTIFICATIONS_LIST_CHANGED.includes(Ke)?jsxRuntimeExports.jsxs("span",{children:[Ke,jsxRuntimeExports.jsx(HelpTooltip,{info:!0,className:"space-left",children:`${Ke.split("/")[1]} list has been changed. Use the left panel to get the latest list.`})]}):Ke}return"notification"}case"open":return"Connected successfully";case"close":return"Disconnected";case"error":return e.message;case"addEvent":return`Listening to event: ${e.eventName}`;case"removeEvent":return`Stopped listening to event: ${e.eventName}`;case"info":return e.message;default:return"Unknown event"}},EventLogView=({events:e,onSelect:t,selectionId:Ke,autoSelectLatestEvent:Ye=!1,protocol:Je,readyState:Xe})=>{const et=reactExports.useRef(null),[tt,rt]=reactExports.useState([]),st=useVirtualizer({getScrollElement:()=>et.current,count:e.length,estimateSize:React.useCallback(()=>30,[]),overscan:30,getItemKey:at=>e[at]._id});return reactExports.useEffect(()=>{st.measure()},[st]),reactExports.useEffect(()=>{const at=async nt=>{const it=await window.main.mcp.event.findPendingEvents({requestId:nt});rt(it)};Je==="mcp"&&e.length>0&&at(e[0].requestId)},[e,Je]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{className:"max-h-96 w-full flex-1 select-none overflow-hidden overflow-x-auto overflow-y-auto border border-solid border-[--hl-sm]",children:jsxRuntimeExports.jsxs($1910c06f0ca9905e$export$54ec01a60f47d33d,{selectionMode:"single",selectedKeys:Ke?[Ke]:[],selectionBehavior:"replace",onSelectionChange:at=>{if(at!=="all"){const nt=at.values().next().value,it=e.find(ot=>ot._id===nt);it&&t(it)}},"aria-label":"Modified objects",className:"w-full border-separate border-spacing-0",children:[jsxRuntimeExports.jsxs($1910c06f0ca9905e$export$f850895b287ef28e,{className:"sticky top-0 z-10 bg-[--hl-xs] backdrop-blur backdrop-filter",children:[jsxRuntimeExports.jsx($1910c06f0ca9905e$export$816b5d811295e6bc,{isRowHeader:!0,className:"p-3 text-left text-xs font-semibold focus:outline-none",children:jsxRuntimeExports.jsx("span",{})}),jsxRuntimeExports.jsx($1910c06f0ca9905e$export$816b5d811295e6bc,{className:"p-3 text-left text-xs font-semibold focus:outline-none",children:"Data"}),jsxRuntimeExports.jsx($1910c06f0ca9905e$export$816b5d811295e6bc,{className:"p-3 text-left text-xs font-semibold focus:outline-none",children:"Time"})]}),jsxRuntimeExports.jsx($1910c06f0ca9905e$export$76ccd210b9029917,{style:{height:st.getTotalSize()},ref:et,className:"divide divide-solid divide-[--hl-sm]",items:st.getVirtualItems(),children:at=>{const nt=e[at.index],it=nt.type==="message"&&!!Xe&&tt.includes(nt._id),lt=nt._id===Ke&&Ye?"bg-[--hl-sm] outline-none":"focus-within:bg-[--hl-sm] focus:outline-none";return jsxRuntimeExports.jsxs($1910c06f0ca9905e$export$b59bdbef9ce70de2,{className:`group transition-colors ${lt}`,children:[jsxRuntimeExports.jsx($1910c06f0ca9905e$export$f6f0c3fe4ec306ea,{className:"whitespace-nowrap border-b border-solid border-[--hl-sm] p-2 text-sm font-medium focus:outline-none group-last-of-type:border-none",children:jsxRuntimeExports.jsx(SvgIcon,{icon:getIcon(nt)})}),jsxRuntimeExports.jsx($1910c06f0ca9905e$export$f6f0c3fe4ec306ea,{className:"whitespace-nowrap border-b border-solid border-[--hl-sm] text-sm font-medium focus:outline-none group-last-of-type:border-none",children:getMessage(nt,it)}),jsxRuntimeExports.jsx($1910c06f0ca9905e$export$f6f0c3fe4ec306ea,{className:"whitespace-nowrap border-b border-solid border-[--hl-sm] text-sm font-medium focus:outline-none group-last-of-type:border-none",children:jsxRuntimeExports.jsx(Timestamp,{time:nt.timestamp})})]})}})]})})})},McpNotificationTab=({allEvents:e})=>{const[t,Ke]=reactExports.useState(null),[Ye,Je]=reactExports.useState(""),Xe=tt=>{Ke(rt=>rt?._id===tt._id?null:tt)},et=reactExports.useMemo(()=>e.filter(tt=>Ye?JSON.stringify(tt.data).toLowerCase().includes(Ye.toLowerCase()):!0),[e,Ye]);return jsxRuntimeExports.jsxs(PanelGroup,{direction:"vertical",className:"grid h-full w-full grid-rows-[repeat(auto-fit,minmax(0,1fr))]",children:[jsxRuntimeExports.jsxs(Panel,{minSize:10,defaultSize:50,className:"box-border flex w-full flex-1 flex-col overflow-hidden",children:[jsxRuntimeExports.jsx("div",{style:{display:"flex",alignItems:"center",padding:"var(--padding-sm)",gap:"var(--padding-sm)"},children:jsxRuntimeExports.jsxs($440f4836bcb56932$export$b94867ecbd698f21,{"aria-label":"Events filter",className:"group relative w-full flex-1",defaultValue:Ye,onChange:tt=>{Je(tt)},children:[jsxRuntimeExports.jsx($3985021b0ad6602f$export$f5b8910cec6cf069,{placeholder:"Search",className:"w-full rounded-sm border border-solid border-[--hl-sm] bg-[--color-bg] py-1 pl-2 pr-7 text-[--color-font] transition-colors focus:outline-none focus:ring-1 focus:ring-[--hl-md]"}),jsxRuntimeExports.jsx("div",{className:"absolute right-0 top-0 flex h-full items-center px-2",children:jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"flex aspect-square w-5 items-center justify-center rounded-sm text-sm text-[--color-font] ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] aria-pressed:bg-[--hl-sm] group-data-[empty]:hidden",children:jsxRuntimeExports.jsx(Icon,{icon:"close"})})})]})}),et.length>0?jsxRuntimeExports.jsx(EventLogView,{events:et,onSelect:Xe,selectionId:t?._id}):jsxRuntimeExports.jsx("div",{className:"flex h-full w-full flex-col items-center gap-3 pt-[5%] text-center",children:jsxRuntimeExports.jsx("span",{className:"text-xl font-semibold",children:"No notifications found"})})]}),t&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(PanelResizeHandle,{className:"h-[1px] w-full bg-[--hl-md]"}),jsxRuntimeExports.jsx(Panel,{minSize:10,defaultSize:50,children:jsxRuntimeExports.jsx("div",{className:"h-full flex-1 border-t border-[var(--hl-md)]",children:jsxRuntimeExports.jsx(McpEventView,{event:t},t._id)})})]})]})},contentTypes$1=[{id:CONTENT_TYPE_JSON,name:"JSON"},{id:CONTENT_TYPE_PLAINTEXT,name:"Text"}],SocketIOBodyTabPane=({request:e,requestPayload:t,environmentId:Ke})=>{const[Ye,Je]=reactExports.useState(""),Xe=useRequestPayloadPatcher(),et=async()=>{const it=t?.args||[],ot=v4(),lt=[...it,{id:ot,value:"",mode:CONTENT_TYPE_PLAINTEXT}];await Xe(e._id,{args:lt}),Je(ot)},tt=async(it,ot)=>{const ut=[...t?.args||[]],ft=ut.find(ct=>ct.id===it);ft&&(ft.value=ot,Xe(e._id,{args:ut}))},rt=reactExports.useMemo(()=>{const it=t?.args||[];return it.length<=1?it[0]?.mode||CONTENT_TYPE_JSON:it.find(lt=>lt.id===Ye)?.mode||CONTENT_TYPE_JSON},[t?.args,Ye]),st=it=>{const ot=Ye||t?.args?.[0]?.id,lt=t?.args?.map(ut=>ut.id===ot?{...ut,mode:it}:ut);Xe(e._id,{args:lt})},at=async it=>{const ot=t?.args?.filter(lt=>lt.id!==it);await Xe(e._id,{args:ot}),Je(ot?.[ot.length-1]?.id)},nt=async()=>{const it=await tryToInterpolateRequestOrShowRenderErrorModal({request:e,environmentId:Ke,payload:t?.args.map(ot=>ot.value)});window.main.socketIO.event.send({requestId:e._id,eventName:t?.eventName||"message",ack:t?.ack,args:it})};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs($13c3c67164f4d5be$export$4c260019440d418f,{className:"flex h-[--line-height-sm] w-full flex-shrink-0 items-center justify-between gap-2 border-b border-solid border-[--hl-md] px-2 py-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{onPress:et,className:"p-1 ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md]",children:"+ Arg"}),jsxRuntimeExports.jsxs($82d7e5349645de74$export$ef9b1a59e592288f,{"aria-label":"Change Body Type",name:"body-type",onSelectionChange:it=>it&&st(it.toString()),selectedKey:rt,children:[jsxRuntimeExports.jsxs($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"flex min-w-[12ch] flex-1 items-center justify-between gap-2 rounded-sm px-4 py-1 text-sm font-bold text-[--color-font] ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] aria-pressed:bg-[--hl-sm]",children:[jsxRuntimeExports.jsx($82d7e5349645de74$export$e288731fd71264f0,{className:"flex items-center justify-center gap-2 truncate",children:({selectedText:it})=>jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 text-[--hl]",children:it})}),jsxRuntimeExports.jsx(Icon,{icon:"caret-down"})]}),jsxRuntimeExports.jsx($07b14b47974efb58$export$5b6b19405a83ff9d,{className:"flex min-w-max flex-col overflow-y-hidden",children:jsxRuntimeExports.jsx($eed445e0843c11d0$export$41f133550aa26f48,{items:contentTypes$1,className:"min-w-max select-none overflow-y-auto rounded-md border border-solid border-[--hl-sm] bg-[--color-bg] py-2 text-sm shadow-lg focus:outline-none",children:it=>jsxRuntimeExports.jsx($eed445e0843c11d0$export$a11e76429ed99b4,{className:"flex h-[--line-height-xs] w-full items-center gap-2 whitespace-nowrap bg-transparent px-[--padding-md] text-[--color-font] transition-colors hover:bg-[--hl-sm] focus:bg-[--hl-xs] focus:outline-none disabled:cursor-not-allowed aria-selected:font-bold","aria-label":it.name,textValue:it.name,children:({isSelected:ot})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{children:it.name}),ot&&jsxRuntimeExports.jsx(Icon,{icon:"check",className:"justify-self-end text-[--color-success]"})]})})})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsxs($bc237834342dbd75$export$48513f6b9f8ce62d,{isSelected:t?.ack,onChange:it=>Xe(e._id,{ack:it}),className:"group flex h-full cursor-pointer items-center p-0",children:[jsxRuntimeExports.jsx("div",{className:"mr-2 flex h-4 w-4 items-center justify-center rounded ring-1 ring-[--hl-sm] transition-colors group-focus:ring-2 group-data-[selected]:bg-[--hl-xs]",children:jsxRuntimeExports.jsx(Icon,{icon:"check",className:"h-3 w-3 opacity-0 group-data-[selected]:text-[--color-success] group-data-[indeterminate]:opacity-100 group-data-[selected]:opacity-100"})}),"Ack"]}),jsxRuntimeExports.jsx($bcdf0525bf22703d$export$2c73285ae9390cec,{"aria-label":"Event Name",defaultValue:t?.eventName||"",onChange:it=>Xe(e._id,{eventName:it}),className:"col-span-3 h-8 w-full flex-1 rounded-sm border border-solid border-[--hl-sm] bg-[--color-bg] py-1 pl-2 pr-7 text-[--color-font] transition-colors placeholder:italic placeholder:opacity-60 focus:outline-none focus:ring-1 focus:ring-[--hl-md]",children:jsxRuntimeExports.jsx($3985021b0ad6602f$export$f5b8910cec6cf069,{type:"text",placeholder:"event name"})}),jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{onPress:nt,className:"rounded bg-[--color-surprise] px-[--padding-md] text-center text-[--color-font-surprise]",children:"Send"})]})]}),jsxRuntimeExports.jsx(SocketIOBodyContent,{args:t?.args||[],readonly:!1,handleDelete:at,handleChange:tt,selectedArg:Ye,setSelectedArg:Je})]})},SocketIOBodyContent=({args:e,readonly:t,handleDelete:Ke,handleChange:Ye,selectedArg:Je,setSelectedArg:Xe,filter:et,updateFilter:tt,filterHistory:rt})=>{const st=reactExports.useRef(new Map),at=reactExports.useMemo(()=>e.map((nt,it)=>({title:`Arg ${it+1}`,...nt})),[e]);return jsxRuntimeExports.jsx("div",{className:"h-full",children:at.length>1?jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$b2539bed5023c21c,{selectedKey:Je,onSelectionChange:Xe,orientation:"vertical",className:"flex h-full flex-1",children:[jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$e51a686c67fdaa2d,{className:"overflow-x-auto border-r border-solid border-r-[--hl-md] bg-[--color-bg]","aria-label":"Dynamic tabs",items:at,children:nt=>jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"relative flex flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-6 py-2 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:nt.id,children:({isHovered:it})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!t&&jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{onPress:()=>{Ke?.(nt.id)},className:`absolute right-0 top-0 h-4 w-4 hover:bg-[--hl-lg] ${!it&&"hidden"}`,children:jsxRuntimeExports.jsx(Icon,{icon:"close",className:"h-4 w-4 align-top"})}),nt.title]})})}),jsxRuntimeExports.jsx($e1995378a142960e$export$fb8073518f34e6ec,{items:at,children:nt=>jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"flex-1",id:nt.id,children:jsxRuntimeExports.jsx(CodeEditor,{id:"socket-io-message-editor",showPrettifyButton:!t,uniquenessKey:`${nt.id}:socket-io-payload`,mode:nt.mode,readOnly:t,ref:it=>st.current?.set(nt.id,it),onChange:t?void 0:it=>Ye?.(nt.id,it),enableNunjucks:!0,className:"w-full",defaultValue:nt.value,updateFilter:tt,filterHistory:rt,filter:et,autoPrettify:!0})})})]}):jsxRuntimeExports.jsx(CodeEditor,{id:"socket-io-message-editor",showPrettifyButton:!t,uniquenessKey:`${at?.[0]?.id}:socket-io-payload`,mode:at?.[0]?.mode,readOnly:t,ref:nt=>st.current?.set(at?.[0]?.id,nt),onChange:t?void 0:nt=>Ye?.(at?.[0]?.id,nt),enableNunjucks:!0,className:"w-full",defaultValue:at?.[0]?.value,updateFilter:tt,filterHistory:rt,filter:et,autoPrettify:!0})})},MessageEventView$1=({event:e})=>{const t=st=>{try{const at=JSON.parse(st);return JSON.stringify(at,null,"	")}catch{return st}},Ke=e.data.map((st,at)=>({id:at.toString(),value:t(st),mode:CONTENT_TYPE_JSON})),{activeRequestMeta:Ye,activeResponse:Je}=useRequestLoaderData(),Xe=useRequestMetaPatcher(),et=Ye.responseFilterHistory||[],tt=Ye.responseFilter||"",rt=async st=>{if(!Je)return;const at=Je.parentId;await Xe(at,{responseFilter:st});const nt=await requestMeta.getByParentId(at);if(!nt)return;const it=nt.responseFilterHistory.slice(0,10);!st||it.includes(st)||(it.unshift(st),Xe(at,{responseFilterHistory:it}))};return jsxRuntimeExports.jsx(SocketIOBodyContent,{args:Ke,readonly:!0,filter:tt,filterHistory:et,updateFilter:rt})},SocketIOEventView=({event:e})=>e.type==="message"?jsxRuntimeExports.jsx(MessageEventView$1,{event:e}):null,ResponseCookiesViewer=e=>{const[t,Ke]=reactExports.useState(!1),Ye=(st,at)=>{let nt=null;try{nt=st?Cookie$1.parse(st.value||"",{loose:!0}):null}catch{console.warn("Failed to parse set-cookie header",st)}const it=jsxRuntimeExports.jsx("span",{className:"super-duper-faint italic",children:"--"});return jsxRuntimeExports.jsxs("tr",{className:"selectable",children:[jsxRuntimeExports.jsx("td",{children:nt?nt.key:it}),jsxRuntimeExports.jsx("td",{className:"force-wrap",children:nt?nt.value:it})]},at)},{headers:Je,cookiesSent:Xe,cookiesStored:et}=e,tt=!et&&Je.length;let rt=null;return!Xe&&tt?rt="sending and storing":Xe?tt&&(rt="storing"):rt="sending",jsxRuntimeExports.jsxs("div",{children:[rt&&jsxRuntimeExports.jsx("div",{className:"notice info margin-bottom no-margin-top",children:jsxRuntimeExports.jsxs("p",{children:["Automatic ",rt," of cookies was disabled at the time this request was made"]})}),jsxRuntimeExports.jsxs("table",{className:"table--fancy table--striped table--compact",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Name"}),jsxRuntimeExports.jsx("th",{children:"Value"})]})}),jsxRuntimeExports.jsx("tbody",{children:Je.length?Je.map(Ye):Ye(null,-1)})]}),jsxRuntimeExports.jsx("p",{className:"pad-top",children:jsxRuntimeExports.jsx("button",{className:"pull-right btn btn--clicky",onClick:()=>Ke(!0),children:"Manage Cookies"})}),t&&jsxRuntimeExports.jsx(CookiesModal,{setIsOpen:Ke})]})},WebSocketPreviewModeDropdown=({download:e,copyToClipboard:t,previewMode:Ke,setPreviewMode:Ye})=>jsxRuntimeExports.jsxs(Dropdown,{"aria-label":"Websocket Preview Mode Dropdown",triggerButton:jsxRuntimeExports.jsxs($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"tall",children:[getPreviewModeName(Ke),jsxRuntimeExports.jsx("i",{className:"fa fa-caret-down space-left"})]}),children:[jsxRuntimeExports.jsx($9fc4852771d079eb$export$6e2c8f0811a474ce,{"aria-label":"Preview Mode Section",title:"Preview Mode",children:PREVIEW_MODES.map(Je=>jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":getPreviewModeName(Je,!0),children:jsxRuntimeExports.jsx(ItemContent,{icon:Ke===Je?"check":"empty",label:getPreviewModeName(Je,!0),onClick:()=>Ye(Je)})},Je))}),jsxRuntimeExports.jsxs($9fc4852771d079eb$export$6e2c8f0811a474ce,{"aria-label":"Actions Section",title:"Actions",children:[jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":"Copy raw response",children:jsxRuntimeExports.jsx(ItemContent,{icon:"copy",label:"Copy raw response",onClick:t})}),jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":"Export raw response",children:jsxRuntimeExports.jsx(ItemContent,{icon:"save",label:"Export raw response",onClick:e})})]})]}),MessageEventView=({event:e})=>{const{requestId:t}=useParams(),Ke=reactExports.useRef(null);let Ye=e.data.toString();try{"data"in e&&typeof e.data=="object"&&"data"in e.data&&Array.isArray(e.data.data)&&(Ye=Buffer.from(e.data.data).toString())}catch(at){console.error("Failed to parse event data to string, defaulting to JSON.stringify",at),Ye=JSON.stringify(e.data)}const Je=reactExports.useCallback(async()=>{const{canceled:at,filePath:nt}=await window.dialog.showSaveDialog({title:"Save Response Body",buttonLabel:"Save"});if(at||!nt)return;const it=requiredModule.createWriteStream(nt);it.on("error",ot=>{showError({title:"Save Failed",message:"Failed to save response body",error:ot})}),it.write(Ye),it.end()},[Ye]),Xe=reactExports.useCallback(()=>{window.clipboard.writeText(Ye)},[Ye]),et=useRequestMetaPatcher();let tt=Ye;try{const at=JSON.parse(Ye);tt=JSON.stringify(at,null,"	")}catch{}const{activeRequestMeta:rt}=useRequestLoaderData(),st="previewMode"in rt&&rt.previewMode||PREVIEW_MODE_SOURCE;return jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col",children:[jsxRuntimeExports.jsx("div",{className:"box-border flex h-8 flex-row border-b border-gray-300 p-2",children:jsxRuntimeExports.jsx(WebSocketPreviewModeDropdown,{download:Je,copyToClipboard:Xe,previewMode:st,setPreviewMode:at=>{et(t,{previewMode:at}),Ke.current?.setValue(at===PREVIEW_MODE_FRIENDLY?tt:Ye)}})}),jsxRuntimeExports.jsx("div",{className:"flex-grow p-4",children:jsxRuntimeExports.jsx(CodeEditor,{id:"websocket-body-preview",hideLineNumbers:!0,mode:st===PREVIEW_MODE_RAW?"text/plain":"text/json",defaultValue:st===PREVIEW_MODE_FRIENDLY?tt:Ye,uniquenessKey:e._id,ref:Ke,readOnly:!0})})]})},EventView=({event:e})=>e.type==="message"?jsxRuntimeExports.jsx(MessageEventView,{event:e}):null,RealtimeResponsePane=()=>{const{activeResponse:e,responses:t,requestVersions:Ke}=useRequestLoaderData();return e?jsxRuntimeExports.jsx(RealTimeActiveResponsePaneWrapper,{response:e,responses:t,requestVersions:Ke,autoSelectLatestEvent:isMcpResponse(e)}):jsxRuntimeExports.jsxs(Pane,{type:"response",children:[jsxRuntimeExports.jsx(PaneHeader,{className:"!justify-normal"}),jsxRuntimeExports.jsx(PlaceholderResponsePane,{})]})},RealTimeActiveResponsePaneWrapper=e=>{const{response:t}=e,Ke=reactExports.useMemo(()=>isSocketIOResponse(t)?"socketIO":isMcpResponse(t)?"mcp":t.type==="WebSocketResponse"?"webSocket":"curl",[t]);return Ke==="mcp"?jsxRuntimeExports.jsx(RealTimeActiveResponsePaneForMcp,{...e}):jsxRuntimeExports.jsx(RealTimeActiveResponsePaneForOthers,{...e,protocol:Ke})},RealTimeActiveResponsePaneForMcp=e=>{const{response:t}=e,Ke=t.parentId,Ye=useMcpReadyState({requestId:Ke});return jsxRuntimeExports.jsx(RealtimeActiveResponsePane,{...e,readyState:Ye})},RealTimeActiveResponsePaneForOthers=e=>{const{response:t,protocol:Ke}=e,Ye=t.parentId,Je=useReadyState({requestId:Ye,protocol:Ke});return jsxRuntimeExports.jsx(RealtimeActiveResponsePane,{...e,readyState:Je?"connected":"disconnected"})},RealtimeActiveResponsePane=({response:e,responses:t,requestVersions:Ke,autoSelectLatestEvent:Ye,readyState:Je})=>{const[Xe,et]=reactExports.useState(null),[tt,rt]=reactExports.useState([]),[st,at]=reactExports.useState(null),[nt,it]=reactExports.useState(""),[ot,lt]=reactExports.useState(),ut=Je==="connected",ft=reactExports.useMemo(()=>isSocketIOResponse(e)?"socketIO":isMcpResponse(e)?"mcp":e.type==="WebSocketResponse"?"webSocket":"curl",[e]),ct=useRealtimeConnectionEvents({responseId:e._id,protocol:ft}),dt=useRealtimeConnectionNotifications({responseId:e._id,protocol:ft}),ht=yt=>{et(Et=>Et?._id===yt._id?null:yt)},xt=yt=>isSocketIOResponse(e)?jsxRuntimeExports.jsx(SocketIOEventView,{event:yt},yt._id):isMcpResponse(e)?jsxRuntimeExports.jsx(McpEventView,{event:yt},yt._id):jsxRuntimeExports.jsx(EventView,{event:yt},yt._id),vt=reactExports.useMemo(()=>ct.filter(yt=>{if(st&&yt.timestamp<=st||ot&&yt.type!==ot)return!1;if(nt){if(yt.type==="message"){if(ft==="mcp"){const Et="method"in yt?yt.method:"",pt=typeof yt.data=="string"?yt.data:JSON.stringify(yt.data);return Et.toLowerCase().includes(nt.toLowerCase())||pt.toLowerCase().includes(nt.toLowerCase())}return yt.data.toString().toLowerCase().includes(nt.toLowerCase())}return yt.type==="error"?yt.message.toLowerCase().includes(nt.toLowerCase()):yt.type==="close"?yt.reason.toLowerCase().includes(nt.toLowerCase()):!1}return!0}),[ct,st,ot,ft,nt]);reactExports.useEffect(()=>{vt.length>0&&Ye&&et(vt[0])},[vt,Ye]),reactExports.useEffect(()=>{et(null),it(""),at(null)},[e._id]),reactExports.useEffect(()=>{let yt=!0;return(async()=>{try{await requiredModule.promises.stat(e.timelinePath)}catch(gt){if(gt.code==="ENOENT")return rt([])}const pt=await window.main.secureReadFile({path:e.timelinePath}),mt=deserializeNDJSON(pt);yt&&rt(mt)})(),()=>{yt=!1}},[e.timelinePath,vt.length]);const bt=isSocketIOResponse(e)||isMcpResponse(e),_t=isSocketIOResponse(e)||isMcpResponse(e),Ct=isSocketIOResponse(e)||isMcpResponse(e)&&e.transportType===TRANSPORT_TYPES.STDIO,Rt=_t?[]:getSetCookieHeaders(e.headers),jt=isMcpResponse(e)&&e.error&&e.errorType==="auth";return jsxRuntimeExports.jsxs(Pane,{type:"response",children:[jsxRuntimeExports.jsxs(PaneHeader,{className:"row-spaced",children:[jsxRuntimeExports.jsx("div",{className:"no-wrap scrollable scrollable--no-bars pad-left",children:bt?jsxRuntimeExports.jsx("div",{"data-testid":"response-status-tag",className:classNames("px-2 py-1 capitalize",{"bg-success":Je==="connected","bg-info":Je==="connecting","bg-danger":Je==="disconnected"}),children:Je}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(StatusTag,{statusCode:e.statusCode,statusMessage:e.statusMessage}),jsxRuntimeExports.jsx(TimeTag,{milliseconds:e.elapsedTime,steps:[]}),jsxRuntimeExports.jsx(SizeTag,{bytesRead:0,bytesContent:0})]})}),jsxRuntimeExports.jsx(ResponseHistoryDropdown,{activeResponse:e,requestVersions:Ke,responses:t})]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$b2539bed5023c21c,{"aria-label":"Request group tabs",className:"flex h-full w-full flex-1 flex-col",children:[jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$e51a686c67fdaa2d,{className:"flex h-[--line-height-sm] w-full flex-shrink-0 items-center overflow-x-auto border-b border-solid border-b-[--hl-md] bg-[--color-bg]","aria-label":"Request pane tabs",children:[jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"events",children:"Events"}),isMcpResponse(e)&&jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"notifications",children:["Notifications",dt.length>0&&jsxRuntimeExports.jsx("span",{className:"shadow-small flex aspect-square items-center justify-between overflow-hidden rounded-lg border border-solid border-[--hl-md] p-2 text-xs",children:dt.length})]}),!Ct&&jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"headers",children:["Headers",e.headers.length>0&&jsxRuntimeExports.jsx("span",{className:"shadow-small flex aspect-square items-center justify-between overflow-hidden rounded-lg border border-solid border-[--hl-md] p-2 text-xs",children:e.headers.length})]}),!_t&&jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"cookies",children:["Cookies",Rt.length>0&&jsxRuntimeExports.jsx("span",{className:"shadow-small flex aspect-square items-center justify-between overflow-hidden rounded-lg border border-solid border-[--hl-md] p-2 text-xs",children:Rt.length})]}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"timeline",children:"Console"})]}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"flex w-full flex-1 flex-col overflow-hidden",id:"events",children:jsxRuntimeExports.jsx(PanelGroup,{direction:"vertical",className:"grid h-full w-full grid-rows-[repeat(auto-fit,minmax(0,1fr))]",children:e.error&&!jt?jsxRuntimeExports.jsx(ResponseErrorViewer,{url:e.url,error:e.error}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Panel,{minSize:10,defaultSize:50,className:"box-border flex w-full flex-1 flex-col overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"var(--padding-sm)",gap:"var(--padding-sm)"},children:[jsxRuntimeExports.jsxs("select",{disabled:ft==="curl",onChange:yt=>lt(yt.currentTarget.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"All"}),jsxRuntimeExports.jsx("option",{value:"message",children:"Message"}),jsxRuntimeExports.jsx("option",{value:"open",children:"Open"}),jsxRuntimeExports.jsx("option",{value:"close",children:"Close"}),jsxRuntimeExports.jsx("option",{value:"error",children:"Error"})]}),jsxRuntimeExports.jsxs($440f4836bcb56932$export$b94867ecbd698f21,{"aria-label":"Events filter",className:"group relative w-full flex-1",defaultValue:nt,onChange:yt=>{it(yt)},children:[jsxRuntimeExports.jsx($3985021b0ad6602f$export$f5b8910cec6cf069,{placeholder:"Search",className:"w-full rounded-sm border border-solid border-[--hl-sm] bg-[--color-bg] py-1 pl-2 pr-7 text-[--color-font] transition-colors focus:outline-none focus:ring-1 focus:ring-[--hl-md]"}),jsxRuntimeExports.jsx("div",{className:"absolute right-0 top-0 flex h-full items-center px-2",children:jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"flex aspect-square w-5 items-center justify-center rounded-sm text-sm text-[--color-font] ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] aria-pressed:bg-[--hl-sm] group-data-[empty]:hidden",children:jsxRuntimeExports.jsx(Icon,{icon:"close"})})})]}),jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{"aria-label":"Create in collection",className:"flex aspect-square h-full items-center justify-center rounded-sm text-sm text-[--color-font] ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] aria-pressed:bg-[--hl-sm]",onPress:()=>{const yt=vt[0];at(yt.timestamp)},children:jsxRuntimeExports.jsx(SvgIcon,{icon:"prohibited"})})]}),!!vt?.length&&jsxRuntimeExports.jsx(EventLogView,{events:vt,onSelect:ht,selectionId:Xe?._id,autoSelectLatestEvent:!0,protocol:ft,readyState:ut})]}),jt?jsxRuntimeExports.jsx(ResponseErrorViewer,{url:e.url,error:e.error,docsLink:docsMcpAuthentication}):null,Xe&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(PanelResizeHandle,{className:"h-[1px] w-full bg-[--hl-md]"}),jsxRuntimeExports.jsx(Panel,{minSize:10,defaultSize:isMcpResponse(e)?85:60,children:jsxRuntimeExports.jsx("div",{className:"h-full flex-1 border-t border-[var(--hl-md)]",children:xt(Xe)})})]})]})})}),isMcpResponse(e)&&jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"flex w-full flex-1 flex-col overflow-hidden",id:"notifications",children:jsxRuntimeExports.jsx(McpNotificationTab,{allEvents:dt})}),!isSocketIOResponse(e)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"flex w-full flex-1 flex-col overflow-y-auto",id:"headers",children:jsxRuntimeExports.jsx(ErrorBoundary,{errorClassName:"font-error pad text-center",children:jsxRuntimeExports.jsx(ResponseHeadersViewer,{headers:e.headers})},e._id)}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"flex w-full flex-1 flex-col overflow-y-auto",id:"cookies",children:jsxRuntimeExports.jsx(ErrorBoundary,{errorClassName:"font-error pad text-center",children:jsxRuntimeExports.jsx(ResponseCookiesViewer,{cookiesSent:e.settingSendCookies,cookiesStored:e.settingStoreCookies,headers:Rt})},e._id)})]}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"flex w-full flex-1 flex-col overflow-hidden",id:"timeline",children:jsxRuntimeExports.jsx(ResponseTimelineViewer,{timeline:tt,pinToBottom:!0},e._id)})]})]})},emptyServerData={serverCapabilities:getDefaultServerCapabilities(),primitives:{tools:[],resources:[],resourceTemplates:[],prompts:[]}},McpPane=()=>{const{organizationId:e,projectId:t,workspaceId:Ke}=useParams(),{activeRequest:Ye,activeResponse:Je,activeRequestMeta:Xe}=useRequestLoaderData(),et=reactExports.useRef(null),[tt,rt]=reactExports.useState(!1),[st,at]=reactExports.useState(!1),[nt,it]=reactExports.useState(!1),[ot,lt]=reactExports.useState(!0),[ut,ft]=useLocalStorage$1(`${Ke}:mcp-list-filter`),{settings:ct}=useRootLoaderData(),[dt,ht]=reactExports.useState(emptyServerData),[xt,vt]=reactExports.useState([]),[bt,_t]=reactExports.useState(null),[Ct,Rt]=reactExports.useState({}),jt=useRequestMetaPatcher(),[yt,Et]=reactExports.useState("params"),pt=useRequestPatcher(),mt=Ye._id,{activeEnvironment:gt}=useWorkspaceLoaderData(),St=useMcpReadyState({requestId:mt}),wt=reactExports.useRef(null),[$t,Tt]=reactExports.useState(ct.forceVerticalLayout?"vertical":"horizontal"),At=St==="connected",Dt=Ye.subscribeResources,It=reactExports.useMemo(()=>{const Ut=[];if(dt){const{primitives:Ht}=dt,Zt=Ht.tools.filter(tr=>ut?!!fuzzyMatchAll(ut,[tr.name,tr.description||""])?.indexes:!0),Jt=Ht.resources.filter(tr=>ut?!!fuzzyMatchAll(ut,[tr.name,tr.description||"",tr.uri])?.indexes:!0),zt=Ht.resourceTemplates.filter(tr=>ut?!!fuzzyMatchAll(ut,[tr.name,tr.description||"",tr.uriTemplate])?.indexes:!0),Yt=Ht.prompts.filter(tr=>ut?!!fuzzyMatchAll(ut,[tr.name,tr.description||""])?.indexes:!0);if(Zt.length>0){Ut.push({type:"tools",name:"Tools",collapsed:xt.includes("tools"),itemLevel:0,hide:!1,...Ct.tools&&{nextCursor:Ct.tools}});const tr=xt.includes("tools");Ut.push(...Zt.map(rr=>({...rr,type:"tools",itemLevel:1,hide:tr})))}if(Jt.length>0||zt.length>0){Ut.push({type:"resources",name:"Resources",collapsed:xt.includes("resources"),itemLevel:0,hide:!1,...Ct.resources&&{nextCursor:Ct.resources}});const tr=xt.includes("resources");Ut.push(...Jt.map(rr=>({...rr,type:"resources",itemLevel:1,hide:tr}))),Ut.push(...zt.map(rr=>({...rr,type:"resourceTemplates",itemLevel:1,hide:tr})))}if(Yt.length>0){Ut.push({type:"prompts",name:"Prompts",collapsed:xt.includes("prompts"),itemLevel:0,hide:!1,...Ct.prompts&&{nextCursor:Ct.prompts}});const tr=xt.includes("prompts");Ut.push(...Yt.map(rr=>({...rr,type:"prompts",itemLevel:1,hide:tr})))}}return Ut.filter(Ht=>!Ht.hide)},[xt,ut,dt,Ct.prompts,Ct.resources,Ct.tools]),Mt=(()=>{const Ut=getDefaultServerCapabilities();if(dt){const{tools:Ht,resources:Zt,prompts:Jt}=dt.serverCapabilities;Ht&&(Ut.tools.enabled=!0,Ut.tools.listChanged=!!Ht.listChanged),Zt&&(Ut.resources.enabled=!0,Ut.resources.listChanged=!!Zt.listChanged,Ut.resources.subscribe=!!Zt.subscribe),Jt&&(Ut.prompts.enabled=!0,Ut.prompts.listChanged=!!Jt.listChanged)}return Ut})(),Kt=At&&Mt.resources.enabled&&Mt.resources.subscribe,qt=(Ut,Ht)=>{Rt(Zt=>({...Zt,[Ht]:Ut}))},Bt=(Ut,Ht)=>{ht(Zt=>({serverCapabilities:Zt.serverCapabilities,primitives:{...Zt.primitives,[Ht]:Ut}}))},kt=(Ut,Ht)=>{ht(Zt=>({serverCapabilities:Zt.serverCapabilities,primitives:{...Zt.primitives,[Ht]:[...Zt.primitives[Ht],...Ut]}}))},Nt=async Ut=>{if(Dt.includes(Ut.name))try{await window.main.mcp.primitive.unsubscribeResource({uri:Ut.uri,requestId:mt}),pt(mt,{subscribeResources:Dt.filter(Zt=>Zt!==Ut.name)})}catch(Zt){console.error(`Failed to unsubscribe resource ${Ut.name}: ${Zt}`)}else try{await window.main.mcp.primitive.subscribeResource({uri:Ut.uri,requestId:mt}),pt(mt,{subscribeResources:[...Dt,Ut.name]})}catch(Zt){console.error(`Failed to subscribe resource ${Ut.name}: ${Zt}`)}};reactExports.useEffect(()=>{const[,Ut,Ht]=Xe?.activeMcpPrimitive?.match(/^([^_]+)_(.+)$/)||[],Zt=It.find(Jt=>Jt.itemLevel===1&&Jt.type===Ut&&Jt.name===Ht);_t(Zt||null)},[Ye._id,Xe?.activeMcpPrimitive,It]);const Pt=useVirtualizer({getScrollElement:()=>wt.current,count:It.length,estimateSize:reactExports.useCallback(()=>32,[]),overscan:20,getItemKey:Ut=>{const Ht=It[Ut];return`${Ht.itemLevel}::${Ht.type}::${Ht.name}`}}),Ft=()=>{const Ut=et.current?.getLayout();Ut&&(Ut&&Ut[0]>0?Ut[0]=0:Ut[0]=DEFAULT_SIDEBAR_SIZE,et.current?.setLayout(Ut))};return reactExports.useEffect(()=>window.main.on("toggle-sidebar",Ft),[]),reactExports.useEffect(()=>{if(ct.forceVerticalLayout)return Tt("vertical"),()=>{};const Ut=window.matchMedia("(max-width: 880px)");Tt(Ut.matches?"vertical":"horizontal");const Ht=Zt=>{Tt(Zt.matches?"vertical":"horizontal")};return Ut.addEventListener("change",Ht),()=>{Ut.removeEventListener("change",Ht)}},[ct.forceVerticalLayout,$t]),reactExports.useEffect(()=>{const Ut=async()=>{const Ht=(Jt,zt)=>{const Yt=Jt.find(tr=>"method"in tr&&tr.method===zt&&tr.direction==="INCOMING");if(Yt)return"result"in Yt.data?Yt.data.result:void 0},Zt=Je?._id;if(Zt){const Jt=await window.main.mcp.event.findMany({responseId:Zt}),zt=Jt.filter(vr=>"method"in vr&&vr.direction==="INCOMING"),Yt=Ht(Jt,METHOD_INITIALIZE)?.capabilities||getDefaultServerCapabilities(),tr=Ht(zt,METHOD_LIST_TOOLS),rr=Ht(zt,METHOD_LIST_RESOURCES),dr=Ht(zt,METHOD_LIST_RESOURCE_TEMPLATES),fr=Ht(zt,METHOD_LIST_PROMPTS),nr=tr?.tools||[],cr=rr?.resources||[],ur=dr?.resourceTemplates||[],or=fr?.prompts||[],gr=tr?.nextCursor,xr=rr?.nextCursor,pr=fr?.nextCursor,br={...gr&&{tools:gr},...xr&&{resources:xr},...pr&&{prompts:pr}};Rt(br),ht({serverCapabilities:Yt,primitives:{tools:nr,resources:cr,resourceTemplates:ur,prompts:or}})}};Je?._id||St!=="disconnected"?Ut():ht(emptyServerData)},[Je?._id,St]),jsxRuntimeExports.jsxs(PanelGroup,{ref:et,autoSaveId:"insomnia-sidebar",id:"wrapper",className:"new-sidebar h-full w-full text-[--color-font]",direction:"horizontal",children:[jsxRuntimeExports.jsx(Panel,{id:"sidebar",className:"sidebar theme--sidebar",maxSize:40,minSize:10,collapsible:!0,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-1 flex-col divide-y divide-solid divide-[--hl-md] overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-col items-start divide-y divide-solid divide-[--hl-md]",children:jsxRuntimeExports.jsx("div",{className:`flex w-full h-[${INSOMNIA_TAB_HEIGHT}px]`,children:jsxRuntimeExports.jsxs($778035c5624f61e7$export$2dc68d50d56fbbd,{className:"m-0 flex h-[--line-height-sm] w-full list-none items-center gap-2 px-[--padding-sm] font-bold",children:[jsxRuntimeExports.jsxs($778035c5624f61e7$export$dabcc1ec9dd9d1cc,{className:"flex h-full select-none items-center gap-2 text-[--color-font] outline-none data-[focused]:outline-none",children:[jsxRuntimeExports.jsx(NavLink,{"data-testid":"project",className:"flex aspect-square h-7 flex-shrink-0 items-center justify-center gap-2 rounded-sm px-1 py-1 text-sm text-[--color-font] outline-none ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] aria-pressed:bg-[--hl-sm] data-[focused]:outline-none",to:`/organization/${e}/project/${t}`,children:jsxRuntimeExports.jsx(Icon,{className:"text-xs",icon:"chevron-left"})}),jsxRuntimeExports.jsx("span",{"aria-hidden":!0,role:"separator",className:"h-4 text-[--hl-lg] outline outline-1"})]}),jsxRuntimeExports.jsx($778035c5624f61e7$export$dabcc1ec9dd9d1cc,{className:"flex h-full select-none items-center gap-2 truncate text-[--color-font] outline-none data-[focused]:outline-none",children:jsxRuntimeExports.jsx(WorkspaceDropdown,{})})]})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-start gap-2 p-[--padding-sm]",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between gap-2",children:jsxRuntimeExports.jsx(EnvironmentPicker,{isOpen:tt,onOpenChange:rt,onOpenEnvironmentSettingsModal:()=>at(!0)})}),jsxRuntimeExports.jsxs($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{onPress:()=>it(!0),className:"flex max-w-full flex-1 items-center justify-center gap-2 truncate rounded-sm px-4 py-1 text-sm text-[--color-font] ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] aria-pressed:bg-[--hl-sm]",children:[jsxRuntimeExports.jsx(Icon,{icon:"file-contract",className:"w-5 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"truncate",children:"Manage Certificates"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between gap-1 p-[--padding-sm]",children:[jsxRuntimeExports.jsxs($440f4836bcb56932$export$b94867ecbd698f21,{"aria-label":"Server Capability filter",className:"group relative flex-1",value:ut??"",onChange:ft,children:[jsxRuntimeExports.jsx($3985021b0ad6602f$export$f5b8910cec6cf069,{placeholder:"Filter",className:"w-full rounded-sm border border-solid border-[--hl-sm] bg-[--color-bg] py-1 pl-2 pr-7 text-[--color-font] transition-colors focus:outline-none focus:ring-1 focus:ring-[--hl-md]"}),jsxRuntimeExports.jsx("div",{className:"absolute right-0 top-0 flex h-full items-center px-2",children:jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"flex aspect-square w-5 items-center justify-center rounded-sm text-sm text-[--color-font] ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] aria-pressed:bg-[--hl-sm] group-data-[empty]:hidden",children:jsxRuntimeExports.jsx(Icon,{icon:"close"})})})]}),jsxRuntimeExports.jsxs($4e3b923658d69c60$export$8c610744efcf8a1d,{children:[jsxRuntimeExports.jsx($efde0372d7a700fe$export$d2b052e7b4be1756,{"aria-label":"Expand All/Collapse all",defaultSelected:ot,onChange:()=>{const Ut=!ot;vt(Ut?[]:["tools","resources","prompts"]),lt(Ut)},className:"flex aspect-square h-full items-center justify-center rounded-sm text-sm text-[--color-font] ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md]",children:({isSelected:Ut})=>jsxRuntimeExports.jsx(Icon,{icon:Ut?"down-left-and-up-right-to-center":"up-right-and-down-left-from-center"})}),jsxRuntimeExports.jsx($4e3b923658d69c60$export$28c660c63b792dea,{offset:8,className:"max-h-[85vh] max-w-xs select-none overflow-y-auto rounded-md border border-solid border-[--hl-sm] bg-[--color-bg] px-4 py-2 text-sm text-[--color-font] shadow-lg focus:outline-none",children:jsxRuntimeExports.jsx("span",{children:ot?"Collapse all":"Expand all"})})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto",ref:wt,children:jsxRuntimeExports.jsx($72e60046c03fbe42$export$a7bfbda1311ca015,{id:"sidebar-mcp-gridlist",style:{height:Pt.getTotalSize()},items:Pt.getVirtualItems(),className:"relative","aria-label":"Mcp Server Capabilities",onAction:Ut=>{const Ht=Ut.toString();if(Ht.startsWith("root_")){const Zt=Ht.split("root_")[1];vt(Jt=>Jt.includes(Zt)?Jt.filter(zt=>zt!==Zt):[...Jt,Zt])}else{const[,Zt,Jt]=Ht.match(/^([^_]+)_(.+)$/)||[],zt=It.find(Yt=>Yt.itemLevel===1&&Yt.type===Zt&&Yt.name===Jt);jt(mt,{activeMcpPrimitive:Ht}),_t(zt),Et("params")}},children:Ut=>{const Ht=It[Ut.index],Zt=bt?.type===Ht.type&&bt?.name===Ht.name;return jsxRuntimeExports.jsx(CollectionGridListItem$1,{activeRequest:Ye,item:Ht,collapsedPrimitives:xt,onUpdatePrimitiveNextCursor:qt,onRefreshPrimitive:Bt,onLoadMorePrimitive:kt,allowSubscribeResources:Kt,subscribeResources:Dt||[],handleSubscribe:Nt,style:{height:`${Ut.size}px`,transform:`translateY(${Ut.start}px)`},isSelected:Zt})}})})]}),st&&jsxRuntimeExports.jsx(WorkspaceEnvironmentsEditModal,{onClose:()=>at(!1)}),nt&&jsxRuntimeExports.jsx(MCPCertificatesModal,{onClose:()=>it(!1)})]})}),jsxRuntimeExports.jsx(PanelResizeHandle,{className:"h-full w-[1px] bg-[--hl-md]"}),jsxRuntimeExports.jsxs(Panel,{className:"flex flex-col",children:[jsxRuntimeExports.jsx(OrganizationTabList,{currentPage:"mcp"}),jsxRuntimeExports.jsxs(PanelGroup,{autoSaveId:"insomnia-panels",id:"insomnia-panels",direction:$t,children:[jsxRuntimeExports.jsx(Panel,{id:"mcp-request-pane",order:1,minSize:10,className:"pane-one theme--pane",children:jsxRuntimeExports.jsx(McpRequestPane,{selectedPrimitiveItem:bt?.itemLevel===1?bt:null,environment:gt,readyState:St,activeTab:yt,onTabChange:Et})}),jsxRuntimeExports.jsx(PanelResizeHandle,{className:$t==="horizontal"?"h-full w-[1px] bg-[--hl-md]":"h-[1px] w-full bg-[--hl-md]"}),jsxRuntimeExports.jsx(Panel,{id:"mcp-response-pane",order:2,minSize:10,className:"pane-two theme--pane",children:jsxRuntimeExports.jsx(ErrorBoundary,{showAlert:!0,children:jsxRuntimeExports.jsx(RealtimeResponsePane,{})})})]})]})]})},CollectionGridListItem$1=e=>{const{item:t,style:Ke,collapsedPrimitives:Ye,allowSubscribeResources:Je,subscribeResources:Xe,handleSubscribe:et,isSelected:tt,...rt}=e,st="title"in t?t.title:t.name,at=t.itemLevel===0?`root_${t.type}`:`${t.type}_${t.name}`,nt=t.itemLevel,it=nt===0,ot=t.type==="resources"&&nt===1,[lt,ut]=reactExports.useState(!1),ft=reactExports.useRef(null);return jsxRuntimeExports.jsx($72e60046c03fbe42$export$e96fc9a8407faa6b,{id:at,className:classNames(`group absolute left-0 top-0 w-full select-none outline-none ${t.itemLevel===0?"data-[drop-target]:bg-[--hl-md]":"border-solid data-[drop-target]:border-b data-[drop-target]:border-[--color-surprise]"}`,{"bg-[--hl-sm] text-[--color-font]":tt}),textValue:st,"data-testid":`test-${at}`,style:Ke,ref:ft,children:jsxRuntimeExports.jsxs("div",{onContextMenu:ct=>{ct.preventDefault(),ut(!0)},className:"relative flex h-[--line-height-xs] w-full select-none items-center gap-2 overflow-hidden pl-4 pr-2 text-[--hl] outline-none transition-colors group-hover:bg-[--hl-xs] group-focus:bg-[--hl-sm] data-[selected=true]:text-[--color-font]",style:{paddingLeft:`${nt}em`},children:[jsxRuntimeExports.jsxs("div",{className:"relative flex h-[--line-height-xs] w-full select-none items-center gap-2 overflow-hidden px-4 text-[--hl] outline-none transition-colors",children:[it&&jsxRuntimeExports.jsx(Icon,{className:"w-4 flex-shrink-0",icon:Ye.includes(t.type)?"caret-right":"caret-down"}),t.type==="tools"&&t.itemLevel===1&&jsxRuntimeExports.jsx("span",{className:"flex w-10 flex-shrink-0 items-center justify-center rounded-sm border border-solid border-[--hl-sm] bg-[rgba(var(--color-success-rgb),0.5)] text-[0.65rem] text-[--color-font-success]",children:"Tool"}),(t.type==="resources"||t.type==="resourceTemplates")&&t.itemLevel===1&&jsxRuntimeExports.jsx("span",{className:"flex w-10 flex-shrink-0 items-center justify-center rounded-sm border border-solid border-[--hl-sm] bg-[rgba(var(--color-surprise-rgb),0.5)] text-[0.65rem] text-[--color-font-surprise]",children:"Res"}),t.type==="prompts"&&t.itemLevel===1&&jsxRuntimeExports.jsx("span",{className:"flex w-10 flex-shrink-0 items-center justify-center rounded-sm border border-solid border-[--hl-sm] bg-[rgba(var(--color-info-rgb),0.5)] text-[0.65rem] text-[--color-font-info]",children:"Prompt"}),st]}),it&&jsxRuntimeExports.jsx(McpActionsDropdown,{item:t,isOpen:lt,onOpenChange:ut,triggerRef:ft,...rt}),ot&&Je&&jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{"data-testid":`Dropdown-${t.type}`,"aria-label":"Mcp Actions",className:"h-6 items-center justify-center rounded-sm pr-1 text-sm text-[--color-font] ring-1 ring-transparent transition-all",onPress:()=>et(t),children:Xe.includes(t.name)?"Unsubscribe":"Subscribe"})]})})},queryAllWorkspaceUrls=async(e,t,Ke="n/a")=>{const Ye=await workspace.getById(e);invariant(Ye,`Workspace ${e} not found`);const Xe=(await database.getWithDescendants(Ye,[t])).filter(et=>et.type===t&&et._id!==Ke&&(et.url||"")).map(et=>(et.url||"").trim());return Array.from(new Set(Xe))},GRPC_CONNECTION_ERROR_STRINGS={SERVER_SELF_SIGNED:"self signed certificate in certificate chain",CLIENT_CERT_REQUIRED:"CERTIFICATE_REQUIRED",SERVER_CANCELED:"CANCELLED",TLS_NOT_SUPPORTED:"WRONG_VERSION_NUMBER",BAD_LOCAL_ROOT_CERT:"unable to get local issuer certificate",UNIMPLEMENTED:"UNIMPLEMENTED",CANNOT_REFLECT:"'grpc.loadMethodsFromReflection': Error: 12"};function isGrpcConnectionError(e){return e&&e.message&&Object.values(GRPC_CONNECTION_ERROR_STRINGS).find(t=>e.message.includes(t))!==null}function getGrpcConnectionErrorDetails(e){let t,Ke;return isGrpcConnectionError(e)?(e.message.includes(GRPC_CONNECTION_ERROR_STRINGS.SERVER_SELF_SIGNED)?(t="Server Certificate Cannot Be Validated",Ke=`The server is using a certificate that cannot be validated.
Add the server's root certificate to this collection or disable SSL validation for requests in Preferences.`):e.message.includes(GRPC_CONNECTION_ERROR_STRINGS.CLIENT_CERT_REQUIRED)?(t="Client Certificate Required",Ke="The server requires a client certificate to establish a connection."):e.message.includes(GRPC_CONNECTION_ERROR_STRINGS.SERVER_CANCELED)?(t="Server Cancelled Request",Ke=`The request was cancelled by the server.
If the server requires a TLS connection, ensure the request URL is prefixed with "grpcs://".`):e.message.includes(GRPC_CONNECTION_ERROR_STRINGS.TLS_NOT_SUPPORTED)?(t="TLS Not Supported",Ke=`The server does not support TLS connections.
Remove the "grpcs://" prefix from the request URL to make an insecure request.`):e.message.includes(GRPC_CONNECTION_ERROR_STRINGS.BAD_LOCAL_ROOT_CERT)?(t="Local Root Certificate Error",Ke=`The local root certificate enabled for the host is not valid.
Either disable the root certificate, or update it with a valid one.`):e.message.includes(GRPC_CONNECTION_ERROR_STRINGS.CANNOT_REFLECT)?(t="Reflection Not Supported",Ke="The server has indicated that it does not support reflection. You may need to manually enable it server-side."):e.message.includes(GRPC_CONNECTION_ERROR_STRINGS.UNIMPLEMENTED)&&(t="Unimplemented Method",Ke="The server does not support the requested method. Is the .proto file correct?"),{title:t,message:Ke}):{title:t,message:Ke}}const GrpcSendButton=({running:e,methodType:t,handleStart:Ke,handleCancel:Ye})=>t?jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"ml-1 rounded-l-sm bg-[--color-surprise] px-5 text-[--color-font-surprise] hover:brightness-75 focus:brightness-75",onPress:e?Ye:Ke,children:e?"Cancel":t==="unary"?"Send":"Start"}):jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"rounded-l-sm px-5",isDisabled:!0,children:"Send"}),PROTO_PATH_REGEX=/^\/(?:(?<package>[\w.]+)\.)?(?<service>\w+)\/(?<method>\w+)$/,NO_PACKAGE_KEY="no-package",GrpcMethodTypeAcronym={unary:"U",server:"SS",client:"CS",bidi:"BD"};function groupBy(e,t){const Ke=new Map;return e.forEach(Ye=>{const Je=t(Ye),Xe=Ke.get(Je);Xe?Xe.push(Ye):Ke.set(Je,[Ye])}),Object.fromEntries(Ke)}const groupGrpcMethodsByPackage=e=>groupBy(e,({fullPath:t})=>PROTO_PATH_REGEX.exec(t)?.groups?.package||NO_PACKAGE_KEY),getShortGrpcPath=e=>{const t=PROTO_PATH_REGEX.exec(e),Ke=t?.groups?.package,Ye=t?.groups?.service,Je=t?.groups?.method;return Ke&&Ye&&Je?`/${Ye}/${Je}`:e},GrpcMethodDropdown=({disabled:e,methods:t,selectedMethod:Ke,handleChange:Ye})=>{const Je=groupGrpcMethodsByPackage(t),Xe=Object.entries(Je).map(([tt,rt])=>({id:tt,name:tt!==NO_PACKAGE_KEY?`pkg: ${tt}`:"No package",display_name:tt!==NO_PACKAGE_KEY?`pkg: ${tt}`:"No package",items:rt.map(({type:st,fullPath:at,example:nt})=>({id:at,fullPath:at,display_name:getShortGrpcPath(at),type:st,example:nt,isDisabled:e}))})),et=Ke?.fullPath;return jsxRuntimeExports.jsxs($82d7e5349645de74$export$ef9b1a59e592288f,{"aria-label":"Select gRPC method",name:"method",onSelectionChange:tt=>{tt&&Ye(tt.toString())},className:"h-full",selectedKey:et,isDisabled:t.length===0,children:[jsxRuntimeExports.jsxs($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"flex h-full items-center justify-center gap-2 rounded-sm px-4 py-1 text-sm font-semibold text-[--color-font] ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] disabled:cursor-not-allowed disabled:bg-[--hl-xs] aria-pressed:bg-[--hl-sm] data-[pressed]:bg-[--hl-xs]",children:[jsxRuntimeExports.jsx($82d7e5349645de74$export$e288731fd71264f0,{className:"flex items-center justify-center gap-2 truncate",children:({selectedItem:tt})=>tt?jsxRuntimeExports.jsx(reactExports.Fragment,{children:tt.display_name}):jsxRuntimeExports.jsx(reactExports.Fragment,{children:jsxRuntimeExports.jsx("span",{children:et?getShortGrpcPath(et):"Select Method"})})}),jsxRuntimeExports.jsx(Icon,{icon:"caret-down"})]}),jsxRuntimeExports.jsx($07b14b47974efb58$export$5b6b19405a83ff9d,{className:"flex min-w-max max-w-xs flex-col overflow-y-hidden",children:jsxRuntimeExports.jsx($eed445e0843c11d0$export$41f133550aa26f48,{items:Xe,className:"min-w-max select-none overflow-y-auto rounded-md border border-solid border-[--hl-sm] bg-[--color-bg] py-2 text-sm shadow-lg focus:outline-none",children:tt=>jsxRuntimeExports.jsxs($eed445e0843c11d0$export$dca12b0bb56e4fc,{children:[jsxRuntimeExports.jsxs($72a5793c14baf454$export$8b251419efc915eb,{className:"flex items-center gap-2 px-[--padding-md] text-[--hl-md]",children:[jsxRuntimeExports.jsx("span",{children:tt.display_name}),jsxRuntimeExports.jsx("span",{className:"h-[1px] flex-1 bg-[--hl-md]"})]}),tt.items.map(rt=>jsxRuntimeExports.jsx($eed445e0843c11d0$export$a11e76429ed99b4,{id:rt.id,className:"flex h-[--line-height-xs] w-full items-center gap-2 whitespace-nowrap bg-transparent px-[--padding-md] text-[--color-font] transition-colors hover:bg-[--hl-sm] focus:bg-[--hl-xs] focus:outline-none disabled:cursor-not-allowed aria-selected:font-bold","aria-label":rt.display_name,textValue:rt.display_name,value:rt,children:({isSelected:st})=>jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("em",{children:GrpcMethodTypeAcronym[rt.type]}),rt.display_name,st&&jsxRuntimeExports.jsx(Icon,{icon:"check",className:"justify-self-end text-[--color-success]"})]})},rt.id))]},tt.id)})})]})};var src$2={},lodash_camelcase,hasRequiredLodash_camelcase;function requireLodash_camelcase(){if(hasRequiredLodash_camelcase)return lodash_camelcase;hasRequiredLodash_camelcase=1;var e="[object Symbol]",t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ke=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ye="\\ud800-\\udfff",Je="\\u0300-\\u036f\\ufe20-\\ufe23",Xe="\\u20d0-\\u20f0",et="\\u2700-\\u27bf",tt="a-z\\xdf-\\xf6\\xf8-\\xff",rt="\\xac\\xb1\\xd7\\xf7",st="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",at="\\u2000-\\u206f",nt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",it="A-Z\\xc0-\\xd6\\xd8-\\xde",ot="\\ufe0e\\ufe0f",lt=rt+st+at+nt,ut="[']",ft="["+Ye+"]",ct="["+lt+"]",dt="["+Je+Xe+"]",ht="\\d+",xt="["+et+"]",vt="["+tt+"]",bt="[^"+Ye+lt+ht+et+tt+it+"]",_t="\\ud83c[\\udffb-\\udfff]",Ct="(?:"+dt+"|"+_t+")",Rt="[^"+Ye+"]",jt="(?:\\ud83c[\\udde6-\\uddff]){2}",yt="[\\ud800-\\udbff][\\udc00-\\udfff]",Et="["+it+"]",pt="\\u200d",mt="(?:"+vt+"|"+bt+")",gt="(?:"+Et+"|"+bt+")",St="(?:"+ut+"(?:d|ll|m|re|s|t|ve))?",wt="(?:"+ut+"(?:D|LL|M|RE|S|T|VE))?",$t=Ct+"?",Tt="["+ot+"]?",At="(?:"+pt+"(?:"+[Rt,jt,yt].join("|")+")"+Tt+$t+")*",Dt=Tt+$t+At,It="(?:"+[xt,jt,yt].join("|")+")"+Dt,Ot="(?:"+[Rt+dt+"?",dt,jt,yt,ft].join("|")+")",Mt=RegExp(ut,"g"),Kt=RegExp(dt,"g"),qt=RegExp(_t+"(?="+_t+")|"+Ot+Dt,"g"),Bt=RegExp([Et+"?"+vt+"+"+St+"(?="+[ct,Et,"$"].join("|")+")",gt+"+"+wt+"(?="+[ct,Et+mt,"$"].join("|")+")",Et+"?"+mt+"+"+St,Et+"+"+wt,ht,It].join("|"),"g"),kt=RegExp("["+pt+Ye+Je+Xe+ot+"]"),Nt=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Pt={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"ss"},Ft=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Ut=typeof self=="object"&&self&&self.Object===Object&&self,Ht=Ft||Ut||Function("return this")();function Zt(Qt,sr,ir,hr){for(var yr=-1,$r=Qt?Qt.length:0;++yr<$r;)ir=sr(ir,Qt[yr],yr,Qt);return ir}function Jt(Qt){return Qt.split("")}function zt(Qt){return Qt.match(t)||[]}function Yt(Qt){return function(sr){return Qt?.[sr]}}var tr=Yt(Pt);function rr(Qt){return kt.test(Qt)}function dr(Qt){return Nt.test(Qt)}function fr(Qt){return rr(Qt)?nr(Qt):Jt(Qt)}function nr(Qt){return Qt.match(qt)||[]}function cr(Qt){return Qt.match(Bt)||[]}var ur=Object.prototype,or=ur.toString,gr=Ht.Symbol,xr=gr?gr.prototype:void 0,pr=xr?xr.toString:void 0;function br(Qt,sr,ir){var hr=-1,yr=Qt.length;sr<0&&(sr=-sr>yr?0:yr+sr),ir=ir>yr?yr:ir,ir<0&&(ir+=yr),yr=sr>ir?0:ir-sr>>>0,sr>>>=0;for(var $r=Array(yr);++hr<yr;)$r[hr]=Qt[hr+sr];return $r}function Er(Qt){if(typeof Qt=="string")return Qt;if(Vt(Qt))return pr?pr.call(Qt):"";var sr=Qt+"";return sr=="0"&&1/Qt==-1/0?"-0":sr}function vr(Qt,sr,ir){var hr=Qt.length;return ir=ir===void 0?hr:ir,!sr&&ir>=hr?Qt:br(Qt,sr,ir)}function Rr(Qt){return function(sr){sr=Wt(sr);var ir=rr(sr)?fr(sr):void 0,hr=ir?ir[0]:sr.charAt(0),yr=ir?vr(ir,1).join(""):sr.slice(1);return hr[Qt]()+yr}}function Gt(Qt){return function(sr){return Zt(mr(ar(sr).replace(Mt,"")),Qt,"")}}function Lt(Qt){return!!Qt&&typeof Qt=="object"}function Vt(Qt){return typeof Qt=="symbol"||Lt(Qt)&&or.call(Qt)==e}function Wt(Qt){return Qt==null?"":Er(Qt)}var Xt=Gt(function(Qt,sr,ir){return sr=sr.toLowerCase(),Qt+(ir?er(sr):sr)});function er(Qt){return lr(Wt(Qt).toLowerCase())}function ar(Qt){return Qt=Wt(Qt),Qt&&Qt.replace(Ke,tr).replace(Kt,"")}var lr=Rr("toUpperCase");function mr(Qt,sr,ir){return Qt=Wt(Qt),sr=sr,sr===void 0?dr(Qt)?cr(Qt):zt(Qt):Qt.match(sr)||[]}return lodash_camelcase=Xt,lodash_camelcase}var src$1={exports:{}},indexLight={exports:{}},indexMinimal={},minimal={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=e;function e(t,Ke){for(var Ye=new Array(arguments.length-1),Je=0,Xe=2,et=!0;Xe<arguments.length;)Ye[Je++]=arguments[Xe++];return new Promise(function(rt,st){Ye[Je]=function(nt){if(et)if(et=!1,nt)st(nt);else{for(var it=new Array(arguments.length-1),ot=0;ot<it.length;)it[ot++]=arguments[ot];rt.apply(null,it)}};try{t.apply(Ke||null,Ye)}catch(at){et&&(et=!1,st(at))}})}return aspromise}var base64={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,(function(e){var t=e;t.length=function(tt){var rt=tt.length;if(!rt)return 0;for(var st=0;--rt%4>1&&tt.charAt(rt)==="=";)++st;return Math.ceil(tt.length*3)/4-st};for(var Ke=new Array(64),Ye=new Array(123),Je=0;Je<64;)Ye[Ke[Je]=Je<26?Je+65:Je<52?Je+71:Je<62?Je-4:Je-59|43]=Je++;t.encode=function(tt,rt,st){for(var at=null,nt=[],it=0,ot=0,lt;rt<st;){var ut=tt[rt++];switch(ot){case 0:nt[it++]=Ke[ut>>2],lt=(ut&3)<<4,ot=1;break;case 1:nt[it++]=Ke[lt|ut>>4],lt=(ut&15)<<2,ot=2;break;case 2:nt[it++]=Ke[lt|ut>>6],nt[it++]=Ke[ut&63],ot=0;break}it>8191&&((at||(at=[])).push(String.fromCharCode.apply(String,nt)),it=0)}return ot&&(nt[it++]=Ke[lt],nt[it++]=61,ot===1&&(nt[it++]=61)),at?(it&&at.push(String.fromCharCode.apply(String,nt.slice(0,it))),at.join("")):String.fromCharCode.apply(String,nt.slice(0,it))};var Xe="invalid encoding";t.decode=function(tt,rt,st){for(var at=st,nt=0,it,ot=0;ot<tt.length;){var lt=tt.charCodeAt(ot++);if(lt===61&&nt>1)break;if((lt=Ye[lt])===void 0)throw Error(Xe);switch(nt){case 0:it=lt,nt=1;break;case 1:rt[st++]=it<<2|(lt&48)>>4,it=lt,nt=2;break;case 2:rt[st++]=(it&15)<<4|(lt&60)>>2,it=lt,nt=3;break;case 3:rt[st++]=(it&3)<<6|lt,nt=0;break}}if(nt===1)throw Error(Xe);return st-at},t.test=function(tt){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(tt)}})(base64)),base64}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=e;function e(){this._listeners={}}return e.prototype.on=function(Ke,Ye,Je){return(this._listeners[Ke]||(this._listeners[Ke]=[])).push({fn:Ye,ctx:Je||this}),this},e.prototype.off=function(Ke,Ye){if(Ke===void 0)this._listeners={};else if(Ye===void 0)this._listeners[Ke]=[];else for(var Je=this._listeners[Ke],Xe=0;Xe<Je.length;)Je[Xe].fn===Ye?Je.splice(Xe,1):++Xe;return this},e.prototype.emit=function(Ke){var Ye=this._listeners[Ke];if(Ye){for(var Je=[],Xe=1;Xe<arguments.length;)Je.push(arguments[Xe++]);for(Xe=0;Xe<Ye.length;)Ye[Xe].fn.apply(Ye[Xe++].ctx,Je)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=e(e);function e(Xe){return typeof Float32Array<"u"?(function(){var et=new Float32Array([-0]),tt=new Uint8Array(et.buffer),rt=tt[3]===128;function st(ot,lt,ut){et[0]=ot,lt[ut]=tt[0],lt[ut+1]=tt[1],lt[ut+2]=tt[2],lt[ut+3]=tt[3]}function at(ot,lt,ut){et[0]=ot,lt[ut]=tt[3],lt[ut+1]=tt[2],lt[ut+2]=tt[1],lt[ut+3]=tt[0]}Xe.writeFloatLE=rt?st:at,Xe.writeFloatBE=rt?at:st;function nt(ot,lt){return tt[0]=ot[lt],tt[1]=ot[lt+1],tt[2]=ot[lt+2],tt[3]=ot[lt+3],et[0]}function it(ot,lt){return tt[3]=ot[lt],tt[2]=ot[lt+1],tt[1]=ot[lt+2],tt[0]=ot[lt+3],et[0]}Xe.readFloatLE=rt?nt:it,Xe.readFloatBE=rt?it:nt})():(function(){function et(rt,st,at,nt){var it=st<0?1:0;if(it&&(st=-st),st===0)rt(1/st>0?0:2147483648,at,nt);else if(isNaN(st))rt(2143289344,at,nt);else if(st>34028234663852886e22)rt((it<<31|2139095040)>>>0,at,nt);else if(st<11754943508222875e-54)rt((it<<31|Math.round(st/1401298464324817e-60))>>>0,at,nt);else{var ot=Math.floor(Math.log(st)/Math.LN2),lt=Math.round(st*Math.pow(2,-ot)*8388608)&8388607;rt((it<<31|ot+127<<23|lt)>>>0,at,nt)}}Xe.writeFloatLE=et.bind(null,t),Xe.writeFloatBE=et.bind(null,Ke);function tt(rt,st,at){var nt=rt(st,at),it=(nt>>31)*2+1,ot=nt>>>23&255,lt=nt&8388607;return ot===255?lt?NaN:it*(1/0):ot===0?it*1401298464324817e-60*lt:it*Math.pow(2,ot-150)*(lt+8388608)}Xe.readFloatLE=tt.bind(null,Ye),Xe.readFloatBE=tt.bind(null,Je)})(),typeof Float64Array<"u"?(function(){var et=new Float64Array([-0]),tt=new Uint8Array(et.buffer),rt=tt[7]===128;function st(ot,lt,ut){et[0]=ot,lt[ut]=tt[0],lt[ut+1]=tt[1],lt[ut+2]=tt[2],lt[ut+3]=tt[3],lt[ut+4]=tt[4],lt[ut+5]=tt[5],lt[ut+6]=tt[6],lt[ut+7]=tt[7]}function at(ot,lt,ut){et[0]=ot,lt[ut]=tt[7],lt[ut+1]=tt[6],lt[ut+2]=tt[5],lt[ut+3]=tt[4],lt[ut+4]=tt[3],lt[ut+5]=tt[2],lt[ut+6]=tt[1],lt[ut+7]=tt[0]}Xe.writeDoubleLE=rt?st:at,Xe.writeDoubleBE=rt?at:st;function nt(ot,lt){return tt[0]=ot[lt],tt[1]=ot[lt+1],tt[2]=ot[lt+2],tt[3]=ot[lt+3],tt[4]=ot[lt+4],tt[5]=ot[lt+5],tt[6]=ot[lt+6],tt[7]=ot[lt+7],et[0]}function it(ot,lt){return tt[7]=ot[lt],tt[6]=ot[lt+1],tt[5]=ot[lt+2],tt[4]=ot[lt+3],tt[3]=ot[lt+4],tt[2]=ot[lt+5],tt[1]=ot[lt+6],tt[0]=ot[lt+7],et[0]}Xe.readDoubleLE=rt?nt:it,Xe.readDoubleBE=rt?it:nt})():(function(){function et(rt,st,at,nt,it,ot){var lt=nt<0?1:0;if(lt&&(nt=-nt),nt===0)rt(0,it,ot+st),rt(1/nt>0?0:2147483648,it,ot+at);else if(isNaN(nt))rt(0,it,ot+st),rt(2146959360,it,ot+at);else if(nt>17976931348623157e292)rt(0,it,ot+st),rt((lt<<31|2146435072)>>>0,it,ot+at);else{var ut;if(nt<22250738585072014e-324)ut=nt/5e-324,rt(ut>>>0,it,ot+st),rt((lt<<31|ut/4294967296)>>>0,it,ot+at);else{var ft=Math.floor(Math.log(nt)/Math.LN2);ft===1024&&(ft=1023),ut=nt*Math.pow(2,-ft),rt(ut*4503599627370496>>>0,it,ot+st),rt((lt<<31|ft+1023<<20|ut*1048576&1048575)>>>0,it,ot+at)}}}Xe.writeDoubleLE=et.bind(null,t,0,4),Xe.writeDoubleBE=et.bind(null,Ke,4,0);function tt(rt,st,at,nt,it){var ot=rt(nt,it+st),lt=rt(nt,it+at),ut=(lt>>31)*2+1,ft=lt>>>20&2047,ct=4294967296*(lt&1048575)+ot;return ft===2047?ct?NaN:ut*(1/0):ft===0?ut*5e-324*ct:ut*Math.pow(2,ft-1075)*(ct+4503599627370496)}Xe.readDoubleLE=tt.bind(null,Ye,0,4),Xe.readDoubleBE=tt.bind(null,Je,4,0)})(),Xe}function t(Xe,et,tt){et[tt]=Xe&255,et[tt+1]=Xe>>>8&255,et[tt+2]=Xe>>>16&255,et[tt+3]=Xe>>>24}function Ke(Xe,et,tt){et[tt]=Xe>>>24,et[tt+1]=Xe>>>16&255,et[tt+2]=Xe>>>8&255,et[tt+3]=Xe&255}function Ye(Xe,et){return(Xe[et]|Xe[et+1]<<8|Xe[et+2]<<16|Xe[et+3]<<24)>>>0}function Je(Xe,et){return(Xe[et]<<24|Xe[et+1]<<16|Xe[et+2]<<8|Xe[et+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}return inquire_1}var utf8={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,(function(e){var t=e;t.length=function(Ye){for(var Je=0,Xe=0,et=0;et<Ye.length;++et)Xe=Ye.charCodeAt(et),Xe<128?Je+=1:Xe<2048?Je+=2:(Xe&64512)===55296&&(Ye.charCodeAt(et+1)&64512)===56320?(++et,Je+=4):Je+=3;return Je},t.read=function(Ye,Je,Xe){var et=Xe-Je;if(et<1)return"";for(var tt=null,rt=[],st=0,at;Je<Xe;)at=Ye[Je++],at<128?rt[st++]=at:at>191&&at<224?rt[st++]=(at&31)<<6|Ye[Je++]&63:at>239&&at<365?(at=((at&7)<<18|(Ye[Je++]&63)<<12|(Ye[Je++]&63)<<6|Ye[Je++]&63)-65536,rt[st++]=55296+(at>>10),rt[st++]=56320+(at&1023)):rt[st++]=(at&15)<<12|(Ye[Je++]&63)<<6|Ye[Je++]&63,st>8191&&((tt||(tt=[])).push(String.fromCharCode.apply(String,rt)),st=0);return tt?(st&&tt.push(String.fromCharCode.apply(String,rt.slice(0,st))),tt.join("")):String.fromCharCode.apply(String,rt.slice(0,st))},t.write=function(Ye,Je,Xe){for(var et=Xe,tt,rt,st=0;st<Ye.length;++st)tt=Ye.charCodeAt(st),tt<128?Je[Xe++]=tt:tt<2048?(Je[Xe++]=tt>>6|192,Je[Xe++]=tt&63|128):(tt&64512)===55296&&((rt=Ye.charCodeAt(st+1))&64512)===56320?(tt=65536+((tt&1023)<<10)+(rt&1023),++st,Je[Xe++]=tt>>18|240,Je[Xe++]=tt>>12&63|128,Je[Xe++]=tt>>6&63|128,Je[Xe++]=tt&63|128):(Je[Xe++]=tt>>12|224,Je[Xe++]=tt>>6&63|128,Je[Xe++]=tt&63|128);return Xe-et}})(utf8)),utf8}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=e;function e(t,Ke,Ye){var Je=Ye||8192,Xe=Je>>>1,et=null,tt=Je;return function(st){if(st<1||st>Xe)return t(st);tt+st>Je&&(et=t(Je),tt=0);var at=Ke.call(et,tt,tt+=st);return tt&7&&(tt=(tt|7)+1),at}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=t;var e=requireMinimal();function t(Xe,et){this.lo=Xe>>>0,this.hi=et>>>0}var Ke=t.zero=new t(0,0);Ke.toNumber=function(){return 0},Ke.zzEncode=Ke.zzDecode=function(){return this},Ke.length=function(){return 1};var Ye=t.zeroHash="\0\0\0\0\0\0\0\0";t.fromNumber=function(et){if(et===0)return Ke;var tt=et<0;tt&&(et=-et);var rt=et>>>0,st=(et-rt)/4294967296>>>0;return tt&&(st=~st>>>0,rt=~rt>>>0,++rt>4294967295&&(rt=0,++st>4294967295&&(st=0))),new t(rt,st)},t.from=function(et){if(typeof et=="number")return t.fromNumber(et);if(e.isString(et))if(e.Long)et=e.Long.fromString(et);else return t.fromNumber(parseInt(et,10));return et.low||et.high?new t(et.low>>>0,et.high>>>0):Ke},t.prototype.toNumber=function(et){if(!et&&this.hi>>>31){var tt=~this.lo+1>>>0,rt=~this.hi>>>0;return tt||(rt=rt+1>>>0),-(tt+rt*4294967296)}return this.lo+this.hi*4294967296},t.prototype.toLong=function(et){return e.Long?new e.Long(this.lo|0,this.hi|0,!!et):{low:this.lo|0,high:this.hi|0,unsigned:!!et}};var Je=String.prototype.charCodeAt;return t.fromHash=function(et){return et===Ye?Ke:new t((Je.call(et,0)|Je.call(et,1)<<8|Je.call(et,2)<<16|Je.call(et,3)<<24)>>>0,(Je.call(et,4)|Je.call(et,5)<<8|Je.call(et,6)<<16|Je.call(et,7)<<24)>>>0)},t.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},t.prototype.zzEncode=function(){var et=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^et)>>>0,this.lo=(this.lo<<1^et)>>>0,this},t.prototype.zzDecode=function(){var et=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^et)>>>0,this.hi=(this.hi>>>1^et)>>>0,this},t.prototype.length=function(){var et=this.lo,tt=(this.lo>>>28|this.hi<<4)>>>0,rt=this.hi>>>24;return rt===0?tt===0?et<16384?et<128?1:2:et<2097152?3:4:tt<16384?tt<128?5:6:tt<2097152?7:8:rt<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,(function(e){var t=e;t.asPromise=requireAspromise(),t.base64=requireBase64(),t.EventEmitter=requireEventemitter(),t.float=requireFloat(),t.inquire=requireInquire(),t.utf8=requireUtf8(),t.pool=requirePool(),t.LongBits=requireLongbits(),t.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),t.global=t.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||minimal,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(Xe){return typeof Xe=="number"&&isFinite(Xe)&&Math.floor(Xe)===Xe},t.isString=function(Xe){return typeof Xe=="string"||Xe instanceof String},t.isObject=function(Xe){return Xe&&typeof Xe=="object"},t.isset=t.isSet=function(Xe,et){var tt=Xe[et];return tt!=null&&Xe.hasOwnProperty(et)?typeof tt!="object"||(Array.isArray(tt)?tt.length:Object.keys(tt).length)>0:!1},t.Buffer=(function(){try{var Je=t.inquire("buffer").Buffer;return Je.prototype.utf8Write?Je:null}catch{return null}})(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(Xe){return typeof Xe=="number"?t.Buffer?t._Buffer_allocUnsafe(Xe):new t.Array(Xe):t.Buffer?t._Buffer_from(Xe):typeof Uint8Array>"u"?Xe:new Uint8Array(Xe)},t.Array=typeof Uint8Array<"u"?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(Xe){return Xe?t.LongBits.from(Xe).toHash():t.LongBits.zeroHash},t.longFromHash=function(Xe,et){var tt=t.LongBits.fromHash(Xe);return t.Long?t.Long.fromBits(tt.lo,tt.hi,et):tt.toNumber(!!et)};function Ke(Je,Xe,et){for(var tt=Object.keys(Xe),rt=0;rt<tt.length;++rt)(Je[tt[rt]]===void 0||!et)&&(Je[tt[rt]]=Xe[tt[rt]]);return Je}t.merge=Ke,t.lcFirst=function(Xe){return Xe.charAt(0).toLowerCase()+Xe.substring(1)};function Ye(Je){function Xe(et,tt){if(!(this instanceof Xe))return new Xe(et,tt);Object.defineProperty(this,"message",{get:function(){return et}}),Error.captureStackTrace?Error.captureStackTrace(this,Xe):Object.defineProperty(this,"stack",{value:new Error().stack||""}),tt&&Ke(this,tt)}return Xe.prototype=Object.create(Error.prototype,{constructor:{value:Xe,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return Je},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),Xe}t.newError=Ye,t.ProtocolError=Ye("ProtocolError"),t.oneOfGetter=function(Xe){for(var et={},tt=0;tt<Xe.length;++tt)et[Xe[tt]]=1;return function(){for(var rt=Object.keys(this),st=rt.length-1;st>-1;--st)if(et[rt[st]]===1&&this[rt[st]]!==void 0&&this[rt[st]]!==null)return rt[st]}},t.oneOfSetter=function(Xe){return function(et){for(var tt=0;tt<Xe.length;++tt)Xe[tt]!==et&&delete this[Xe[tt]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var Je=t.Buffer;if(!Je){t._Buffer_from=t._Buffer_allocUnsafe=null;return}t._Buffer_from=Je.from!==Uint8Array.from&&Je.from||function(et,tt){return new Je(et,tt)},t._Buffer_allocUnsafe=Je.allocUnsafe||function(et){return new Je(et)}}})(minimal)),minimal}var writer,hasRequiredWriter;function requireWriter(){if(hasRequiredWriter)return writer;hasRequiredWriter=1,writer=rt;var e=requireMinimal(),t,Ke=e.LongBits,Ye=e.base64,Je=e.utf8;function Xe(ft,ct,dt){this.fn=ft,this.len=ct,this.next=void 0,this.val=dt}function et(){}function tt(ft){this.head=ft.head,this.tail=ft.tail,this.len=ft.len,this.next=ft.states}function rt(){this.len=0,this.head=new Xe(et,0,0),this.tail=this.head,this.states=null}var st=function(){return e.Buffer?function(){return(rt.create=function(){return new t})()}:function(){return new rt}};rt.create=st(),rt.alloc=function(ct){return new e.Array(ct)},e.Array!==Array&&(rt.alloc=e.pool(rt.alloc,e.Array.prototype.subarray)),rt.prototype._push=function(ct,dt,ht){return this.tail=this.tail.next=new Xe(ct,dt,ht),this.len+=dt,this};function at(ft,ct,dt){ct[dt]=ft&255}function nt(ft,ct,dt){for(;ft>127;)ct[dt++]=ft&127|128,ft>>>=7;ct[dt]=ft}function it(ft,ct){this.len=ft,this.next=void 0,this.val=ct}it.prototype=Object.create(Xe.prototype),it.prototype.fn=nt,rt.prototype.uint32=function(ct){return this.len+=(this.tail=this.tail.next=new it((ct=ct>>>0)<128?1:ct<16384?2:ct<2097152?3:ct<268435456?4:5,ct)).len,this},rt.prototype.int32=function(ct){return ct<0?this._push(ot,10,Ke.fromNumber(ct)):this.uint32(ct)},rt.prototype.sint32=function(ct){return this.uint32((ct<<1^ct>>31)>>>0)};function ot(ft,ct,dt){for(;ft.hi;)ct[dt++]=ft.lo&127|128,ft.lo=(ft.lo>>>7|ft.hi<<25)>>>0,ft.hi>>>=7;for(;ft.lo>127;)ct[dt++]=ft.lo&127|128,ft.lo=ft.lo>>>7;ct[dt++]=ft.lo}rt.prototype.uint64=function(ct){var dt=Ke.from(ct);return this._push(ot,dt.length(),dt)},rt.prototype.int64=rt.prototype.uint64,rt.prototype.sint64=function(ct){var dt=Ke.from(ct).zzEncode();return this._push(ot,dt.length(),dt)},rt.prototype.bool=function(ct){return this._push(at,1,ct?1:0)};function lt(ft,ct,dt){ct[dt]=ft&255,ct[dt+1]=ft>>>8&255,ct[dt+2]=ft>>>16&255,ct[dt+3]=ft>>>24}rt.prototype.fixed32=function(ct){return this._push(lt,4,ct>>>0)},rt.prototype.sfixed32=rt.prototype.fixed32,rt.prototype.fixed64=function(ct){var dt=Ke.from(ct);return this._push(lt,4,dt.lo)._push(lt,4,dt.hi)},rt.prototype.sfixed64=rt.prototype.fixed64,rt.prototype.float=function(ct){return this._push(e.float.writeFloatLE,4,ct)},rt.prototype.double=function(ct){return this._push(e.float.writeDoubleLE,8,ct)};var ut=e.Array.prototype.set?function(ct,dt,ht){dt.set(ct,ht)}:function(ct,dt,ht){for(var xt=0;xt<ct.length;++xt)dt[ht+xt]=ct[xt]};return rt.prototype.bytes=function(ct){var dt=ct.length>>>0;if(!dt)return this._push(at,1,0);if(e.isString(ct)){var ht=rt.alloc(dt=Ye.length(ct));Ye.decode(ct,ht,0),ct=ht}return this.uint32(dt)._push(ut,dt,ct)},rt.prototype.string=function(ct){var dt=Je.length(ct);return dt?this.uint32(dt)._push(Je.write,dt,ct):this._push(at,1,0)},rt.prototype.fork=function(){return this.states=new tt(this),this.head=this.tail=new Xe(et,0,0),this.len=0,this},rt.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Xe(et,0,0),this.len=0),this},rt.prototype.ldelim=function(){var ct=this.head,dt=this.tail,ht=this.len;return this.reset().uint32(ht),ht&&(this.tail.next=ct.next,this.tail=dt,this.len+=ht),this},rt.prototype.finish=function(){for(var ct=this.head.next,dt=this.constructor.alloc(this.len),ht=0;ct;)ct.fn(ct.val,dt,ht),ht+=ct.len,ct=ct.next;return dt},rt._configure=function(ft){t=ft,rt.create=st(),t._configure()},writer}var writer_buffer,hasRequiredWriter_buffer;function requireWriter_buffer(){if(hasRequiredWriter_buffer)return writer_buffer;hasRequiredWriter_buffer=1,writer_buffer=Ke;var e=requireWriter();(Ke.prototype=Object.create(e.prototype)).constructor=Ke;var t=requireMinimal();function Ke(){e.call(this)}Ke._configure=function(){Ke.alloc=t._Buffer_allocUnsafe,Ke.writeBytesBuffer=t.Buffer&&t.Buffer.prototype instanceof Uint8Array&&t.Buffer.prototype.set.name==="set"?function(Xe,et,tt){et.set(Xe,tt)}:function(Xe,et,tt){if(Xe.copy)Xe.copy(et,tt,0,Xe.length);else for(var rt=0;rt<Xe.length;)et[tt++]=Xe[rt++]}},Ke.prototype.bytes=function(Xe){t.isString(Xe)&&(Xe=t._Buffer_from(Xe,"base64"));var et=Xe.length>>>0;return this.uint32(et),et&&this._push(Ke.writeBytesBuffer,et,Xe),this};function Ye(Je,Xe,et){Je.length<40?t.utf8.write(Je,Xe,et):Xe.utf8Write?Xe.utf8Write(Je,et):Xe.write(Je,et)}return Ke.prototype.string=function(Xe){var et=t.Buffer.byteLength(Xe);return this.uint32(et),et&&this._push(Ye,et,Xe),this},Ke._configure(),writer_buffer}var reader,hasRequiredReader;function requireReader(){if(hasRequiredReader)return reader;hasRequiredReader=1,reader=Xe;var e=requireMinimal(),t,Ke=e.LongBits,Ye=e.utf8;function Je(nt,it){return RangeError("index out of range: "+nt.pos+" + "+(it||1)+" > "+nt.len)}function Xe(nt){this.buf=nt,this.pos=0,this.len=nt.length}var et=typeof Uint8Array<"u"?function(it){if(it instanceof Uint8Array||Array.isArray(it))return new Xe(it);throw Error("illegal buffer")}:function(it){if(Array.isArray(it))return new Xe(it);throw Error("illegal buffer")},tt=function(){return e.Buffer?function(ot){return(Xe.create=function(ut){return e.Buffer.isBuffer(ut)?new t(ut):et(ut)})(ot)}:et};Xe.create=tt(),Xe.prototype._slice=e.Array.prototype.subarray||e.Array.prototype.slice,Xe.prototype.uint32=(function(){var it=4294967295;return function(){if(it=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(it=(it|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(it=(it|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(it=(it|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(it=(it|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return it;if((this.pos+=5)>this.len)throw this.pos=this.len,Je(this,10);return it}})(),Xe.prototype.int32=function(){return this.uint32()|0},Xe.prototype.sint32=function(){var it=this.uint32();return it>>>1^-(it&1)|0};function rt(){var nt=new Ke(0,0),it=0;if(this.len-this.pos>4){for(;it<4;++it)if(nt.lo=(nt.lo|(this.buf[this.pos]&127)<<it*7)>>>0,this.buf[this.pos++]<128)return nt;if(nt.lo=(nt.lo|(this.buf[this.pos]&127)<<28)>>>0,nt.hi=(nt.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return nt;it=0}else{for(;it<3;++it){if(this.pos>=this.len)throw Je(this);if(nt.lo=(nt.lo|(this.buf[this.pos]&127)<<it*7)>>>0,this.buf[this.pos++]<128)return nt}return nt.lo=(nt.lo|(this.buf[this.pos++]&127)<<it*7)>>>0,nt}if(this.len-this.pos>4){for(;it<5;++it)if(nt.hi=(nt.hi|(this.buf[this.pos]&127)<<it*7+3)>>>0,this.buf[this.pos++]<128)return nt}else for(;it<5;++it){if(this.pos>=this.len)throw Je(this);if(nt.hi=(nt.hi|(this.buf[this.pos]&127)<<it*7+3)>>>0,this.buf[this.pos++]<128)return nt}throw Error("invalid varint encoding")}Xe.prototype.bool=function(){return this.uint32()!==0};function st(nt,it){return(nt[it-4]|nt[it-3]<<8|nt[it-2]<<16|nt[it-1]<<24)>>>0}Xe.prototype.fixed32=function(){if(this.pos+4>this.len)throw Je(this,4);return st(this.buf,this.pos+=4)},Xe.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Je(this,4);return st(this.buf,this.pos+=4)|0};function at(){if(this.pos+8>this.len)throw Je(this,8);return new Ke(st(this.buf,this.pos+=4),st(this.buf,this.pos+=4))}return Xe.prototype.float=function(){if(this.pos+4>this.len)throw Je(this,4);var it=e.float.readFloatLE(this.buf,this.pos);return this.pos+=4,it},Xe.prototype.double=function(){if(this.pos+8>this.len)throw Je(this,4);var it=e.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,it},Xe.prototype.bytes=function(){var it=this.uint32(),ot=this.pos,lt=this.pos+it;if(lt>this.len)throw Je(this,it);if(this.pos+=it,Array.isArray(this.buf))return this.buf.slice(ot,lt);if(ot===lt){var ut=e.Buffer;return ut?ut.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,ot,lt)},Xe.prototype.string=function(){var it=this.bytes();return Ye.read(it,0,it.length)},Xe.prototype.skip=function(it){if(typeof it=="number"){if(this.pos+it>this.len)throw Je(this,it);this.pos+=it}else do if(this.pos>=this.len)throw Je(this);while(this.buf[this.pos++]&128);return this},Xe.prototype.skipType=function(nt){switch(nt){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(nt=this.uint32()&7)!==4;)this.skipType(nt);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+nt+" at offset "+this.pos)}return this},Xe._configure=function(nt){t=nt,Xe.create=tt(),t._configure();var it=e.Long?"toLong":"toNumber";e.merge(Xe.prototype,{int64:function(){return rt.call(this)[it](!1)},uint64:function(){return rt.call(this)[it](!0)},sint64:function(){return rt.call(this).zzDecode()[it](!1)},fixed64:function(){return at.call(this)[it](!0)},sfixed64:function(){return at.call(this)[it](!1)}})},reader}var reader_buffer,hasRequiredReader_buffer;function requireReader_buffer(){if(hasRequiredReader_buffer)return reader_buffer;hasRequiredReader_buffer=1,reader_buffer=Ke;var e=requireReader();(Ke.prototype=Object.create(e.prototype)).constructor=Ke;var t=requireMinimal();function Ke(Ye){e.call(this,Ye)}return Ke._configure=function(){t.Buffer&&(Ke.prototype._slice=t.Buffer.prototype.slice)},Ke.prototype.string=function(){var Je=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+Je,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+Je,this.len))},Ke._configure(),reader_buffer}var rpc={},service$1,hasRequiredService$1;function requireService$1(){if(hasRequiredService$1)return service$1;hasRequiredService$1=1,service$1=t;var e=requireMinimal();(t.prototype=Object.create(e.EventEmitter.prototype)).constructor=t;function t(Ke,Ye,Je){if(typeof Ke!="function")throw TypeError("rpcImpl must be a function");e.EventEmitter.call(this),this.rpcImpl=Ke,this.requestDelimited=!!Ye,this.responseDelimited=!!Je}return t.prototype.rpcCall=function Ke(Ye,Je,Xe,et,tt){if(!et)throw TypeError("request must be specified");var rt=this;if(!tt)return e.asPromise(Ke,rt,Ye,Je,Xe,et);if(!rt.rpcImpl){setTimeout(function(){tt(Error("already ended"))},0);return}try{return rt.rpcImpl(Ye,Je[rt.requestDelimited?"encodeDelimited":"encode"](et).finish(),function(at,nt){if(at)return rt.emit("error",at,Ye),tt(at);if(nt===null){rt.end(!0);return}if(!(nt instanceof Xe))try{nt=Xe[rt.responseDelimited?"decodeDelimited":"decode"](nt)}catch(it){return rt.emit("error",it,Ye),tt(it)}return rt.emit("data",nt,Ye),tt(null,nt)})}catch(st){rt.emit("error",st,Ye),setTimeout(function(){tt(st)},0);return}},t.prototype.end=function(Ye){return this.rpcImpl&&(Ye||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},service$1}var hasRequiredRpc;function requireRpc(){return hasRequiredRpc||(hasRequiredRpc=1,(function(e){var t=e;t.Service=requireService$1()})(rpc)),rpc}var roots,hasRequiredRoots;function requireRoots(){return hasRequiredRoots||(hasRequiredRoots=1,roots={}),roots}var hasRequiredIndexMinimal;function requireIndexMinimal(){return hasRequiredIndexMinimal||(hasRequiredIndexMinimal=1,(function(e){var t=e;t.build="minimal",t.Writer=requireWriter(),t.BufferWriter=requireWriter_buffer(),t.Reader=requireReader(),t.BufferReader=requireReader_buffer(),t.util=requireMinimal(),t.rpc=requireRpc(),t.roots=requireRoots(),t.configure=Ke;function Ke(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}Ke()})(indexMinimal)),indexMinimal}var types={},util$1={exports:{}},codegen_1,hasRequiredCodegen;function requireCodegen(){if(hasRequiredCodegen)return codegen_1;hasRequiredCodegen=1,codegen_1=e;function e(t,Ke){typeof t=="string"&&(Ke=t,t=void 0);var Ye=[];function Je(et){if(typeof et!="string"){var tt=Xe();if(e.verbose&&console.log("codegen: "+tt),tt="return "+tt,et){for(var rt=Object.keys(et),st=new Array(rt.length+1),at=new Array(rt.length),nt=0;nt<rt.length;)st[nt]=rt[nt],at[nt]=et[rt[nt++]];return st[nt]=tt,Function.apply(null,st).apply(null,at)}return Function(tt)()}for(var it=new Array(arguments.length-1),ot=0;ot<it.length;)it[ot]=arguments[++ot];if(ot=0,et=et.replace(/%([%dfijs])/g,function(ut,ft){var ct=it[ot++];switch(ft){case"d":case"f":return String(Number(ct));case"i":return String(Math.floor(ct));case"j":return JSON.stringify(ct);case"s":return String(ct)}return"%"}),ot!==it.length)throw Error("parameter count mismatch");return Ye.push(et),Je}function Xe(et){return"function "+(et||Ke||"")+"("+(t&&t.join(",")||"")+`){
  `+Ye.join(`
  `)+`
}`}return Je.toString=Xe,Je}return e.verbose=!1,codegen_1}var fetch_1,hasRequiredFetch;function requireFetch(){if(hasRequiredFetch)return fetch_1;hasRequiredFetch=1,fetch_1=Ye;var e=requireAspromise(),t=requireInquire(),Ke=t("fs");function Ye(Je,Xe,et){return typeof Xe=="function"?(et=Xe,Xe={}):Xe||(Xe={}),et?!Xe.xhr&&Ke&&Ke.readFile?Ke.readFile(Je,function(rt,st){return rt&&typeof XMLHttpRequest<"u"?Ye.xhr(Je,Xe,et):rt?et(rt):et(null,Xe.binary?st:st.toString("utf8"))}):Ye.xhr(Je,Xe,et):e(Ye,this,Je,Xe)}return Ye.xhr=function(Xe,et,tt){var rt=new XMLHttpRequest;rt.onreadystatechange=function(){if(rt.readyState===4){if(rt.status!==0&&rt.status!==200)return tt(Error("status "+rt.status));if(et.binary){var at=rt.response;if(!at){at=[];for(var nt=0;nt<rt.responseText.length;++nt)at.push(rt.responseText.charCodeAt(nt)&255)}return tt(null,typeof Uint8Array<"u"?new Uint8Array(at):at)}return tt(null,rt.responseText)}},et.binary&&("overrideMimeType"in rt&&rt.overrideMimeType("text/plain; charset=x-user-defined"),rt.responseType="arraybuffer"),rt.open("GET",Xe),rt.send()},fetch_1}var path={},hasRequiredPath;function requirePath(){return hasRequiredPath||(hasRequiredPath=1,(function(e){var t=e,Ke=t.isAbsolute=function(Xe){return/^(?:\/|\w+:)/.test(Xe)},Ye=t.normalize=function(Xe){Xe=Xe.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var et=Xe.split("/"),tt=Ke(Xe),rt="";tt&&(rt=et.shift()+"/");for(var st=0;st<et.length;)et[st]===".."?st>0&&et[st-1]!==".."?et.splice(--st,2):tt?et.splice(st,1):++st:et[st]==="."?et.splice(st,1):++st;return rt+et.join("/")};t.resolve=function(Xe,et,tt){return tt||(et=Ye(et)),Ke(et)?et:(tt||(Xe=Ye(Xe)),(Xe=Xe.replace(/(?:\/|^)[^/]+$/,"")).length?Ye(Xe+"/"+et):et)}})(path)),path}var namespace,hasRequiredNamespace;function requireNamespace(){if(hasRequiredNamespace)return namespace;hasRequiredNamespace=1,namespace=rt;var e=requireObject();((rt.prototype=Object.create(e.prototype)).constructor=rt).className="Namespace";var t=requireField(),Ke=requireUtil$1(),Ye=requireOneof(),Je,Xe,et;rt.fromJSON=function(nt,it){return new rt(nt,it.options).addJSON(it.nested)};function tt(at,nt){if(at&&at.length){for(var it={},ot=0;ot<at.length;++ot)it[at[ot].name]=at[ot].toJSON(nt);return it}}rt.arrayToJSON=tt,rt.isReservedId=function(nt,it){if(nt){for(var ot=0;ot<nt.length;++ot)if(typeof nt[ot]!="string"&&nt[ot][0]<=it&&nt[ot][1]>it)return!0}return!1},rt.isReservedName=function(nt,it){if(nt){for(var ot=0;ot<nt.length;++ot)if(nt[ot]===it)return!0}return!1};function rt(at,nt){e.call(this,at,nt),this.nested=void 0,this._nestedArray=null}function st(at){return at._nestedArray=null,at}return Object.defineProperty(rt.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=Ke.toArray(this.nested))}}),rt.prototype.toJSON=function(nt){return Ke.toObject(["options",this.options,"nested",tt(this.nestedArray,nt)])},rt.prototype.addJSON=function(nt){var it=this;if(nt)for(var ot=Object.keys(nt),lt=0,ut;lt<ot.length;++lt)ut=nt[ot[lt]],it.add((ut.fields!==void 0?Je.fromJSON:ut.values!==void 0?et.fromJSON:ut.methods!==void 0?Xe.fromJSON:ut.id!==void 0?t.fromJSON:rt.fromJSON)(ot[lt],ut));return this},rt.prototype.get=function(nt){return this.nested&&this.nested[nt]||null},rt.prototype.getEnum=function(nt){if(this.nested&&this.nested[nt]instanceof et)return this.nested[nt].values;throw Error("no such enum: "+nt)},rt.prototype.add=function(nt){if(!(nt instanceof t&&nt.extend!==void 0||nt instanceof Je||nt instanceof Ye||nt instanceof et||nt instanceof Xe||nt instanceof rt))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var it=this.get(nt.name);if(it)if(it instanceof rt&&nt instanceof rt&&!(it instanceof Je||it instanceof Xe)){for(var ot=it.nestedArray,lt=0;lt<ot.length;++lt)nt.add(ot[lt]);this.remove(it),this.nested||(this.nested={}),nt.setOptions(it.options,!0)}else throw Error("duplicate name '"+nt.name+"' in "+this)}return this.nested[nt.name]=nt,this instanceof Je||this instanceof Xe||this instanceof et||this instanceof t||nt._edition||(nt._edition=nt._defaultEdition),nt.onAdd(this),st(this)},rt.prototype.remove=function(nt){if(!(nt instanceof e))throw TypeError("object must be a ReflectionObject");if(nt.parent!==this)throw Error(nt+" is not a member of "+this);return delete this.nested[nt.name],Object.keys(this.nested).length||(this.nested=void 0),nt.onRemove(this),st(this)},rt.prototype.define=function(nt,it){if(Ke.isString(nt))nt=nt.split(".");else if(!Array.isArray(nt))throw TypeError("illegal path");if(nt&&nt.length&&nt[0]==="")throw Error("path must be relative");for(var ot=this;nt.length>0;){var lt=nt.shift();if(ot.nested&&ot.nested[lt]){if(ot=ot.nested[lt],!(ot instanceof rt))throw Error("path conflicts with non-namespace objects")}else ot.add(ot=new rt(lt))}return it&&ot.addJSON(it),ot},rt.prototype.resolveAll=function(){var nt=this.nestedArray,it=0;for(this.resolve();it<nt.length;)nt[it]instanceof rt?nt[it++].resolveAll():nt[it++].resolve();return this},rt.prototype._resolveFeaturesRecursive=function(nt){return nt=this._edition||nt,e.prototype._resolveFeaturesRecursive.call(this,nt),this.nestedArray.forEach(it=>{it._resolveFeaturesRecursive(nt)}),this},rt.prototype.lookup=function(nt,it,ot){if(typeof it=="boolean"?(ot=it,it=void 0):it&&!Array.isArray(it)&&(it=[it]),Ke.isString(nt)&&nt.length){if(nt===".")return this.root;nt=nt.split(".")}else if(!nt.length)return this;if(nt[0]==="")return this.root.lookup(nt.slice(1),it);var lt=this.get(nt[0]);if(lt){if(nt.length===1){if(!it||it.indexOf(lt.constructor)>-1)return lt}else if(lt instanceof rt&&(lt=lt.lookup(nt.slice(1),it,!0)))return lt}else for(var ut=0;ut<this.nestedArray.length;++ut)if(this._nestedArray[ut]instanceof rt&&(lt=this._nestedArray[ut].lookup(nt,it,!0)))return lt;return this.parent===null||ot?null:this.parent.lookup(nt,it)},rt.prototype.lookupType=function(nt){var it=this.lookup(nt,[Je]);if(!it)throw Error("no such type: "+nt);return it},rt.prototype.lookupEnum=function(nt){var it=this.lookup(nt,[et]);if(!it)throw Error("no such Enum '"+nt+"' in "+this);return it},rt.prototype.lookupTypeOrEnum=function(nt){var it=this.lookup(nt,[Je,et]);if(!it)throw Error("no such Type or Enum '"+nt+"' in "+this);return it},rt.prototype.lookupService=function(nt){var it=this.lookup(nt,[Xe]);if(!it)throw Error("no such Service '"+nt+"' in "+this);return it},rt._configure=function(at,nt,it){Je=at,Xe=nt,et=it},namespace}var mapfield,hasRequiredMapfield;function requireMapfield(){if(hasRequiredMapfield)return mapfield;hasRequiredMapfield=1,mapfield=Ye;var e=requireField();((Ye.prototype=Object.create(e.prototype)).constructor=Ye).className="MapField";var t=requireTypes(),Ke=requireUtil$1();function Ye(Je,Xe,et,tt,rt,st){if(e.call(this,Je,Xe,tt,void 0,void 0,rt,st),!Ke.isString(et))throw TypeError("keyType must be a string");this.keyType=et,this.resolvedKeyType=null,this.map=!0}return Ye.fromJSON=function(Xe,et){return new Ye(Xe,et.id,et.keyType,et.type,et.options,et.comment)},Ye.prototype.toJSON=function(Xe){var et=Xe?!!Xe.keepComments:!1;return Ke.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",et?this.comment:void 0])},Ye.prototype.resolve=function(){if(this.resolved)return this;if(t.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return e.prototype.resolve.call(this)},Ye.d=function(Xe,et,tt){return typeof tt=="function"?tt=Ke.decorateType(tt).name:tt&&typeof tt=="object"&&(tt=Ke.decorateEnum(tt).name),function(st,at){Ke.decorateType(st.constructor).add(new Ye(at,Xe,et,tt))}},mapfield}var method,hasRequiredMethod;function requireMethod(){if(hasRequiredMethod)return method;hasRequiredMethod=1,method=Ke;var e=requireObject();((Ke.prototype=Object.create(e.prototype)).constructor=Ke).className="Method";var t=requireUtil$1();function Ke(Ye,Je,Xe,et,tt,rt,st,at,nt){if(t.isObject(tt)?(st=tt,tt=rt=void 0):t.isObject(rt)&&(st=rt,rt=void 0),!(Je===void 0||t.isString(Je)))throw TypeError("type must be a string");if(!t.isString(Xe))throw TypeError("requestType must be a string");if(!t.isString(et))throw TypeError("responseType must be a string");e.call(this,Ye,st),this.type=Je||"rpc",this.requestType=Xe,this.requestStream=tt?!0:void 0,this.responseType=et,this.responseStream=rt?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=at,this.parsedOptions=nt}return Ke.fromJSON=function(Je,Xe){return new Ke(Je,Xe.type,Xe.requestType,Xe.responseType,Xe.requestStream,Xe.responseStream,Xe.options,Xe.comment,Xe.parsedOptions)},Ke.prototype.toJSON=function(Je){var Xe=Je?!!Je.keepComments:!1;return t.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",Xe?this.comment:void 0,"parsedOptions",this.parsedOptions])},Ke.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),e.prototype.resolve.call(this))},method}var service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=Je;var e=requireNamespace();((Je.prototype=Object.create(e.prototype)).constructor=Je).className="Service";var t=requireMethod(),Ke=requireUtil$1(),Ye=requireRpc();function Je(et,tt){e.call(this,et,tt),this.methods={},this._methodsArray=null}Je.fromJSON=function(tt,rt){var st=new Je(tt,rt.options);if(rt.methods)for(var at=Object.keys(rt.methods),nt=0;nt<at.length;++nt)st.add(t.fromJSON(at[nt],rt.methods[at[nt]]));return rt.nested&&st.addJSON(rt.nested),rt.edition&&(st._edition=rt.edition),st.comment=rt.comment,st._defaultEdition="proto3",st},Je.prototype.toJSON=function(tt){var rt=e.prototype.toJSON.call(this,tt),st=tt?!!tt.keepComments:!1;return Ke.toObject(["edition",this._editionToJSON(),"options",rt&&rt.options||void 0,"methods",e.arrayToJSON(this.methodsArray,tt)||{},"nested",rt&&rt.nested||void 0,"comment",st?this.comment:void 0])},Object.defineProperty(Je.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=Ke.toArray(this.methods))}});function Xe(et){return et._methodsArray=null,et}return Je.prototype.get=function(tt){return this.methods[tt]||e.prototype.get.call(this,tt)},Je.prototype.resolveAll=function(){e.prototype.resolve.call(this);for(var tt=this.methodsArray,rt=0;rt<tt.length;++rt)tt[rt].resolve();return this},Je.prototype._resolveFeaturesRecursive=function(tt){return tt=this._edition||tt,e.prototype._resolveFeaturesRecursive.call(this,tt),this.methodsArray.forEach(rt=>{rt._resolveFeaturesRecursive(tt)}),this},Je.prototype.add=function(tt){if(this.get(tt.name))throw Error("duplicate name '"+tt.name+"' in "+this);return tt instanceof t?(this.methods[tt.name]=tt,tt.parent=this,Xe(this)):e.prototype.add.call(this,tt)},Je.prototype.remove=function(tt){if(tt instanceof t){if(this.methods[tt.name]!==tt)throw Error(tt+" is not a member of "+this);return delete this.methods[tt.name],tt.parent=null,Xe(this)}return e.prototype.remove.call(this,tt)},Je.prototype.create=function(tt,rt,st){for(var at=new Ye.Service(tt,rt,st),nt=0,it;nt<this.methodsArray.length;++nt){var ot=Ke.lcFirst((it=this._methodsArray[nt]).resolve().name).replace(/[^$\w_]/g,"");at[ot]=Ke.codegen(["r","c"],Ke.isReserved(ot)?ot+"_":ot)("return this.rpcCall(m,q,s,r,c)")({m:it,q:it.resolvedRequestType.ctor,s:it.resolvedResponseType.ctor})}return at},service}var message,hasRequiredMessage;function requireMessage(){if(hasRequiredMessage)return message;hasRequiredMessage=1,message=t;var e=requireMinimal();function t(Ke){if(Ke)for(var Ye=Object.keys(Ke),Je=0;Je<Ye.length;++Je)this[Ye[Je]]=Ke[Ye[Je]]}return t.create=function(Ye){return this.$type.create(Ye)},t.encode=function(Ye,Je){return this.$type.encode(Ye,Je)},t.encodeDelimited=function(Ye,Je){return this.$type.encodeDelimited(Ye,Je)},t.decode=function(Ye){return this.$type.decode(Ye)},t.decodeDelimited=function(Ye){return this.$type.decodeDelimited(Ye)},t.verify=function(Ye){return this.$type.verify(Ye)},t.fromObject=function(Ye){return this.$type.fromObject(Ye)},t.toObject=function(Ye,Je){return this.$type.toObject(Ye,Je)},t.prototype.toJSON=function(){return this.$type.toObject(this,e.toJSONOptions)},message}var decoder_1,hasRequiredDecoder;function requireDecoder(){if(hasRequiredDecoder)return decoder_1;hasRequiredDecoder=1,decoder_1=Je;var e=require_enum(),t=requireTypes(),Ke=requireUtil$1();function Ye(Xe){return"missing required '"+Xe.name+"'"}function Je(Xe){for(var et=Ke.codegen(["r","l","e"],Xe.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(Xe.fieldsArray.filter(function(it){return it.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),tt=0;tt<Xe.fieldsArray.length;++tt){var rt=Xe._fieldsArray[tt].resolve(),st=rt.resolvedType instanceof e?"int32":rt.type,at="m"+Ke.safeProp(rt.name);et("case %i: {",rt.id),rt.map?(et("if(%s===util.emptyObject)",at)("%s={}",at)("var c2 = r.uint32()+r.pos"),t.defaults[rt.keyType]!==void 0?et("k=%j",t.defaults[rt.keyType]):et("k=null"),t.defaults[st]!==void 0?et("value=%j",t.defaults[st]):et("value=null"),et("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",rt.keyType)("case 2:"),t.basic[st]===void 0?et("value=types[%i].decode(r,r.uint32())",tt):et("value=r.%s()",st),et("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),t.long[rt.keyType]!==void 0?et('%s[typeof k==="object"?util.longToHash(k):k]=value',at):et("%s[k]=value",at)):rt.repeated?(et("if(!(%s&&%s.length))",at,at)("%s=[]",at),t.packed[st]!==void 0&&et("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",at,st)("}else"),t.basic[st]===void 0?et(rt.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",at,tt):et("%s.push(r.%s())",at,st)):t.basic[st]===void 0?et(rt.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",at,tt):et("%s=r.%s()",at,st),et("break")("}")}for(et("default:")("r.skipType(t&7)")("break")("}")("}"),tt=0;tt<Xe._fieldsArray.length;++tt){var nt=Xe._fieldsArray[tt];nt.required&&et("if(!m.hasOwnProperty(%j))",nt.name)("throw util.ProtocolError(%j,{instance:m})",Ye(nt))}return et("return m")}return decoder_1}var verifier_1,hasRequiredVerifier;function requireVerifier(){if(hasRequiredVerifier)return verifier_1;hasRequiredVerifier=1,verifier_1=Xe;var e=require_enum(),t=requireUtil$1();function Ke(et,tt){return et.name+": "+tt+(et.repeated&&tt!=="array"?"[]":et.map&&tt!=="object"?"{k:"+et.keyType+"}":"")+" expected"}function Ye(et,tt,rt,st){if(tt.resolvedType)if(tt.resolvedType instanceof e){et("switch(%s){",st)("default:")("return%j",Ke(tt,"enum value"));for(var at=Object.keys(tt.resolvedType.values),nt=0;nt<at.length;++nt)et("case %i:",tt.resolvedType.values[at[nt]]);et("break")("}")}else et("{")("var e=types[%i].verify(%s);",rt,st)("if(e)")("return%j+e",tt.name+".")("}");else switch(tt.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":et("if(!util.isInteger(%s))",st)("return%j",Ke(tt,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":et("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",st,st,st,st)("return%j",Ke(tt,"integer|Long"));break;case"float":case"double":et('if(typeof %s!=="number")',st)("return%j",Ke(tt,"number"));break;case"bool":et('if(typeof %s!=="boolean")',st)("return%j",Ke(tt,"boolean"));break;case"string":et("if(!util.isString(%s))",st)("return%j",Ke(tt,"string"));break;case"bytes":et('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',st,st,st)("return%j",Ke(tt,"buffer"));break}return et}function Je(et,tt,rt){switch(tt.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":et("if(!util.key32Re.test(%s))",rt)("return%j",Ke(tt,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":et("if(!util.key64Re.test(%s))",rt)("return%j",Ke(tt,"integer|Long key"));break;case"bool":et("if(!util.key2Re.test(%s))",rt)("return%j",Ke(tt,"boolean key"));break}return et}function Xe(et){var tt=t.codegen(["m"],et.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),rt=et.oneofsArray,st={};rt.length&&tt("var p={}");for(var at=0;at<et.fieldsArray.length;++at){var nt=et._fieldsArray[at].resolve(),it="m"+t.safeProp(nt.name);if(nt.optional&&tt("if(%s!=null&&m.hasOwnProperty(%j)){",it,nt.name),nt.map)tt("if(!util.isObject(%s))",it)("return%j",Ke(nt,"object"))("var k=Object.keys(%s)",it)("for(var i=0;i<k.length;++i){"),Je(tt,nt,"k[i]"),Ye(tt,nt,at,it+"[k[i]]")("}");else if(nt.repeated)tt("if(!Array.isArray(%s))",it)("return%j",Ke(nt,"array"))("for(var i=0;i<%s.length;++i){",it),Ye(tt,nt,at,it+"[i]")("}");else{if(nt.partOf){var ot=t.safeProp(nt.partOf.name);st[nt.partOf.name]===1&&tt("if(p%s===1)",ot)("return%j",nt.partOf.name+": multiple values"),st[nt.partOf.name]=1,tt("p%s=1",ot)}Ye(tt,nt,at,it)}nt.optional&&tt("}")}return tt("return null")}return verifier_1}var converter={},hasRequiredConverter;function requireConverter(){return hasRequiredConverter||(hasRequiredConverter=1,(function(e){var t=e,Ke=require_enum(),Ye=requireUtil$1();function Je(et,tt,rt,st){var at=!1;if(tt.resolvedType)if(tt.resolvedType instanceof Ke){et("switch(d%s){",st);for(var nt=tt.resolvedType.values,it=Object.keys(nt),ot=0;ot<it.length;++ot)nt[it[ot]]===tt.typeDefault&&!at&&(et("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',st,st,st),tt.repeated||et("break"),at=!0),et("case%j:",it[ot])("case %i:",nt[it[ot]])("m%s=%j",st,nt[it[ot]])("break");et("}")}else et('if(typeof d%s!=="object")',st)("throw TypeError(%j)",tt.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",st,rt,st);else{var lt=!1;switch(tt.type){case"double":case"float":et("m%s=Number(d%s)",st,st);break;case"uint32":case"fixed32":et("m%s=d%s>>>0",st,st);break;case"int32":case"sint32":case"sfixed32":et("m%s=d%s|0",st,st);break;case"uint64":lt=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":et("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",st,st,lt)('else if(typeof d%s==="string")',st)("m%s=parseInt(d%s,10)",st,st)('else if(typeof d%s==="number")',st)("m%s=d%s",st,st)('else if(typeof d%s==="object")',st)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",st,st,st,lt?"true":"");break;case"bytes":et('if(typeof d%s==="string")',st)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",st,st,st)("else if(d%s.length >= 0)",st)("m%s=d%s",st,st);break;case"string":et("m%s=String(d%s)",st,st);break;case"bool":et("m%s=Boolean(d%s)",st,st);break}}return et}t.fromObject=function(tt){var rt=tt.fieldsArray,st=Ye.codegen(["d"],tt.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!rt.length)return st("return new this.ctor");st("var m=new this.ctor");for(var at=0;at<rt.length;++at){var nt=rt[at].resolve(),it=Ye.safeProp(nt.name);nt.map?(st("if(d%s){",it)('if(typeof d%s!=="object")',it)("throw TypeError(%j)",nt.fullName+": object expected")("m%s={}",it)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",it),Je(st,nt,at,it+"[ks[i]]")("}")("}")):nt.repeated?(st("if(d%s){",it)("if(!Array.isArray(d%s))",it)("throw TypeError(%j)",nt.fullName+": array expected")("m%s=[]",it)("for(var i=0;i<d%s.length;++i){",it),Je(st,nt,at,it+"[i]")("}")("}")):(nt.resolvedType instanceof Ke||st("if(d%s!=null){",it),Je(st,nt,at,it),nt.resolvedType instanceof Ke||st("}"))}return st("return m")};function Xe(et,tt,rt,st){if(tt.resolvedType)tt.resolvedType instanceof Ke?et("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",st,rt,st,st,rt,st,st):et("d%s=types[%i].toObject(m%s,o)",st,rt,st);else{var at=!1;switch(tt.type){case"double":case"float":et("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",st,st,st,st);break;case"uint64":at=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":et('if(typeof m%s==="number")',st)("d%s=o.longs===String?String(m%s):m%s",st,st,st)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",st,st,st,st,at?"true":"",st);break;case"bytes":et("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",st,st,st,st,st);break;default:et("d%s=m%s",st,st);break}}return et}t.toObject=function(tt){var rt=tt.fieldsArray.slice().sort(Ye.compareFieldsById);if(!rt.length)return Ye.codegen()("return {}");for(var st=Ye.codegen(["m","o"],tt.name+"$toObject")("if(!o)")("o={}")("var d={}"),at=[],nt=[],it=[],ot=0;ot<rt.length;++ot)rt[ot].partOf||(rt[ot].resolve().repeated?at:rt[ot].map?nt:it).push(rt[ot]);if(at.length){for(st("if(o.arrays||o.defaults){"),ot=0;ot<at.length;++ot)st("d%s=[]",Ye.safeProp(at[ot].name));st("}")}if(nt.length){for(st("if(o.objects||o.defaults){"),ot=0;ot<nt.length;++ot)st("d%s={}",Ye.safeProp(nt[ot].name));st("}")}if(it.length){for(st("if(o.defaults){"),ot=0;ot<it.length;++ot){var lt=it[ot],ut=Ye.safeProp(lt.name);if(lt.resolvedType instanceof Ke)st("d%s=o.enums===String?%j:%j",ut,lt.resolvedType.valuesById[lt.typeDefault],lt.typeDefault);else if(lt.long)st("if(util.Long){")("var n=new util.Long(%i,%i,%j)",lt.typeDefault.low,lt.typeDefault.high,lt.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",ut)("}else")("d%s=o.longs===String?%j:%i",ut,lt.typeDefault.toString(),lt.typeDefault.toNumber());else if(lt.bytes){var ft="["+Array.prototype.slice.call(lt.typeDefault).join(",")+"]";st("if(o.bytes===String)d%s=%j",ut,String.fromCharCode.apply(String,lt.typeDefault))("else{")("d%s=%s",ut,ft)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",ut,ut)("}")}else st("d%s=%j",ut,lt.typeDefault)}st("}")}var ct=!1;for(ot=0;ot<rt.length;++ot){var lt=rt[ot],dt=tt._fieldsArray.indexOf(lt),ut=Ye.safeProp(lt.name);lt.map?(ct||(ct=!0,st("var ks2")),st("if(m%s&&(ks2=Object.keys(m%s)).length){",ut,ut)("d%s={}",ut)("for(var j=0;j<ks2.length;++j){"),Xe(st,lt,dt,ut+"[ks2[j]]")("}")):lt.repeated?(st("if(m%s&&m%s.length){",ut,ut)("d%s=[]",ut)("for(var j=0;j<m%s.length;++j){",ut),Xe(st,lt,dt,ut+"[j]")("}")):(st("if(m%s!=null&&m.hasOwnProperty(%j)){",ut,lt.name),Xe(st,lt,dt,ut),lt.partOf&&st("if(o.oneofs)")("d%s=%j",Ye.safeProp(lt.partOf.name),lt.name)),st("}")}return st("return d")}})(converter)),converter}var wrappers={},hasRequiredWrappers;function requireWrappers(){return hasRequiredWrappers||(hasRequiredWrappers=1,(function(e){var t=e,Ke=requireMessage();t[".google.protobuf.Any"]={fromObject:function(Ye){if(Ye&&Ye["@type"]){var Je=Ye["@type"].substring(Ye["@type"].lastIndexOf("/")+1),Xe=this.lookup(Je);if(Xe){var et=Ye["@type"].charAt(0)==="."?Ye["@type"].slice(1):Ye["@type"];return et.indexOf("/")===-1&&(et="/"+et),this.create({type_url:et,value:Xe.encode(Xe.fromObject(Ye)).finish()})}}return this.fromObject(Ye)},toObject:function(Ye,Je){var Xe="type.googleapis.com/",et="",tt="";if(Je&&Je.json&&Ye.type_url&&Ye.value){tt=Ye.type_url.substring(Ye.type_url.lastIndexOf("/")+1),et=Ye.type_url.substring(0,Ye.type_url.lastIndexOf("/")+1);var rt=this.lookup(tt);rt&&(Ye=rt.decode(Ye.value))}if(!(Ye instanceof this.ctor)&&Ye instanceof Ke){var st=Ye.$type.toObject(Ye,Je),at=Ye.$type.fullName[0]==="."?Ye.$type.fullName.slice(1):Ye.$type.fullName;return et===""&&(et=Xe),tt=et+at,st["@type"]=tt,st}return this.toObject(Ye,Je)}}})(wrappers)),wrappers}var type,hasRequiredType;function requireType(){if(hasRequiredType)return type;hasRequiredType=1,type=ut;var e=requireNamespace();((ut.prototype=Object.create(e.prototype)).constructor=ut).className="Type";var t=require_enum(),Ke=requireOneof(),Ye=requireField(),Je=requireMapfield(),Xe=requireService(),et=requireMessage(),tt=requireReader(),rt=requireWriter(),st=requireUtil$1(),at=requireEncoder(),nt=requireDecoder(),it=requireVerifier(),ot=requireConverter(),lt=requireWrappers();function ut(ct,dt){e.call(this,ct,dt),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(ut.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var ct=Object.keys(this.fields),dt=0;dt<ct.length;++dt){var ht=this.fields[ct[dt]],xt=ht.id;if(this._fieldsById[xt])throw Error("duplicate id "+xt+" in "+this);this._fieldsById[xt]=ht}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=st.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=st.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=ut.generateConstructor(this)())},set:function(ct){var dt=ct.prototype;dt instanceof et||((ct.prototype=new et).constructor=ct,st.merge(ct.prototype,dt)),ct.$type=ct.prototype.$type=this,st.merge(ct,et,!0),this._ctor=ct;for(var ht=0;ht<this.fieldsArray.length;++ht)this._fieldsArray[ht].resolve();var xt={};for(ht=0;ht<this.oneofsArray.length;++ht)xt[this._oneofsArray[ht].resolve().name]={get:st.oneOfGetter(this._oneofsArray[ht].oneof),set:st.oneOfSetter(this._oneofsArray[ht].oneof)};ht&&Object.defineProperties(ct.prototype,xt)}}}),ut.generateConstructor=function(dt){for(var ht=st.codegen(["p"],dt.name),xt=0,vt;xt<dt.fieldsArray.length;++xt)(vt=dt._fieldsArray[xt]).map?ht("this%s={}",st.safeProp(vt.name)):vt.repeated&&ht("this%s=[]",st.safeProp(vt.name));return ht("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function ft(ct){return ct._fieldsById=ct._fieldsArray=ct._oneofsArray=null,delete ct.encode,delete ct.decode,delete ct.verify,ct}return ut.fromJSON=function(dt,ht){var xt=new ut(dt,ht.options);xt.extensions=ht.extensions,xt.reserved=ht.reserved;for(var vt=Object.keys(ht.fields),bt=0;bt<vt.length;++bt)xt.add((typeof ht.fields[vt[bt]].keyType<"u"?Je.fromJSON:Ye.fromJSON)(vt[bt],ht.fields[vt[bt]]));if(ht.oneofs)for(vt=Object.keys(ht.oneofs),bt=0;bt<vt.length;++bt)xt.add(Ke.fromJSON(vt[bt],ht.oneofs[vt[bt]]));if(ht.nested)for(vt=Object.keys(ht.nested),bt=0;bt<vt.length;++bt){var _t=ht.nested[vt[bt]];xt.add((_t.id!==void 0?Ye.fromJSON:_t.fields!==void 0?ut.fromJSON:_t.values!==void 0?t.fromJSON:_t.methods!==void 0?Xe.fromJSON:e.fromJSON)(vt[bt],_t))}return ht.extensions&&ht.extensions.length&&(xt.extensions=ht.extensions),ht.reserved&&ht.reserved.length&&(xt.reserved=ht.reserved),ht.group&&(xt.group=!0),ht.comment&&(xt.comment=ht.comment),ht.edition&&(xt._edition=ht.edition),xt._defaultEdition="proto3",xt},ut.prototype.toJSON=function(dt){var ht=e.prototype.toJSON.call(this,dt),xt=dt?!!dt.keepComments:!1;return st.toObject(["edition",this._editionToJSON(),"options",ht&&ht.options||void 0,"oneofs",e.arrayToJSON(this.oneofsArray,dt),"fields",e.arrayToJSON(this.fieldsArray.filter(function(vt){return!vt.declaringField}),dt)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",ht&&ht.nested||void 0,"comment",xt?this.comment:void 0])},ut.prototype.resolveAll=function(){e.prototype.resolveAll.call(this);var dt=this.oneofsArray;for(xt=0;xt<dt.length;)dt[xt++].resolve();for(var ht=this.fieldsArray,xt=0;xt<ht.length;)ht[xt++].resolve();return this},ut.prototype._resolveFeaturesRecursive=function(dt){return dt=this._edition||dt,e.prototype._resolveFeaturesRecursive.call(this,dt),this.oneofsArray.forEach(ht=>{ht._resolveFeatures(dt)}),this.fieldsArray.forEach(ht=>{ht._resolveFeatures(dt)}),this},ut.prototype.get=function(dt){return this.fields[dt]||this.oneofs&&this.oneofs[dt]||this.nested&&this.nested[dt]||null},ut.prototype.add=function(dt){if(this.get(dt.name))throw Error("duplicate name '"+dt.name+"' in "+this);if(dt instanceof Ye&&dt.extend===void 0){if(this._fieldsById?this._fieldsById[dt.id]:this.fieldsById[dt.id])throw Error("duplicate id "+dt.id+" in "+this);if(this.isReservedId(dt.id))throw Error("id "+dt.id+" is reserved in "+this);if(this.isReservedName(dt.name))throw Error("name '"+dt.name+"' is reserved in "+this);return dt.parent&&dt.parent.remove(dt),this.fields[dt.name]=dt,dt.message=this,dt.onAdd(this),ft(this)}return dt instanceof Ke?(this.oneofs||(this.oneofs={}),this.oneofs[dt.name]=dt,dt.onAdd(this),ft(this)):e.prototype.add.call(this,dt)},ut.prototype.remove=function(dt){if(dt instanceof Ye&&dt.extend===void 0){if(!this.fields||this.fields[dt.name]!==dt)throw Error(dt+" is not a member of "+this);return delete this.fields[dt.name],dt.parent=null,dt.onRemove(this),ft(this)}if(dt instanceof Ke){if(!this.oneofs||this.oneofs[dt.name]!==dt)throw Error(dt+" is not a member of "+this);return delete this.oneofs[dt.name],dt.parent=null,dt.onRemove(this),ft(this)}return e.prototype.remove.call(this,dt)},ut.prototype.isReservedId=function(dt){return e.isReservedId(this.reserved,dt)},ut.prototype.isReservedName=function(dt){return e.isReservedName(this.reserved,dt)},ut.prototype.create=function(dt){return new this.ctor(dt)},ut.prototype.setup=function(){for(var dt=this.fullName,ht=[],xt=0;xt<this.fieldsArray.length;++xt)ht.push(this._fieldsArray[xt].resolve().resolvedType);this.encode=at(this)({Writer:rt,types:ht,util:st}),this.decode=nt(this)({Reader:tt,types:ht,util:st}),this.verify=it(this)({types:ht,util:st}),this.fromObject=ot.fromObject(this)({types:ht,util:st}),this.toObject=ot.toObject(this)({types:ht,util:st});var vt=lt[dt];if(vt){var bt=Object.create(this);bt.fromObject=this.fromObject,this.fromObject=vt.fromObject.bind(bt),bt.toObject=this.toObject,this.toObject=vt.toObject.bind(bt)}return this},ut.prototype.encode=function(dt,ht){return this.setup().encode(dt,ht)},ut.prototype.encodeDelimited=function(dt,ht){return this.encode(dt,ht&&ht.len?ht.fork():ht).ldelim()},ut.prototype.decode=function(dt,ht){return this.setup().decode(dt,ht)},ut.prototype.decodeDelimited=function(dt){return dt instanceof tt||(dt=tt.create(dt)),this.decode(dt,dt.uint32())},ut.prototype.verify=function(dt){return this.setup().verify(dt)},ut.prototype.fromObject=function(dt){return this.setup().fromObject(dt)},ut.prototype.toObject=function(dt,ht){return this.setup().toObject(dt,ht)},ut.d=function(dt){return function(xt){st.decorateType(xt,dt)}},type}var root,hasRequiredRoot;function requireRoot(){if(hasRequiredRoot)return root;hasRequiredRoot=1,root=rt;var e=requireNamespace();((rt.prototype=Object.create(e.prototype)).constructor=rt).className="Root";var t=requireField(),Ke=require_enum(),Ye=requireOneof(),Je=requireUtil$1(),Xe,et,tt;function rt(it){e.call(this,"",it),this.deferred=[],this.files=[],this._edition="proto2"}rt.fromJSON=function(ot,lt){return lt||(lt=new rt),ot.options&&lt.setOptions(ot.options),lt.addJSON(ot.nested).resolveAll()},rt.prototype.resolvePath=Je.path.resolve,rt.prototype.fetch=Je.fetch;function st(){}rt.prototype.load=function it(ot,lt,ut){typeof lt=="function"&&(ut=lt,lt=void 0);var ft=this;if(!ut)return Je.asPromise(it,ft,ot,lt);var ct=ut===st;function dt(Rt,jt){if(ut){if(ct)throw Rt;var yt=ut;ut=null,jt&&jt.resolveAll(),yt(Rt,jt)}}function ht(Rt){var jt=Rt.lastIndexOf("google/protobuf/");if(jt>-1){var yt=Rt.substring(jt);if(yt in tt)return yt}return null}function xt(Rt,jt){try{if(Je.isString(jt)&&jt.charAt(0)==="{"&&(jt=JSON.parse(jt)),!Je.isString(jt))ft.setOptions(jt.options).addJSON(jt.nested);else{et.filename=Rt;var yt=et(jt,ft,lt),Et,pt=0;if(yt.imports)for(;pt<yt.imports.length;++pt)(Et=ht(yt.imports[pt])||ft.resolvePath(Rt,yt.imports[pt]))&&vt(Et);if(yt.weakImports)for(pt=0;pt<yt.weakImports.length;++pt)(Et=ht(yt.weakImports[pt])||ft.resolvePath(Rt,yt.weakImports[pt]))&&vt(Et,!0)}}catch(mt){dt(mt)}!ct&&!bt&&dt(null,ft)}function vt(Rt,jt){if(Rt=ht(Rt)||Rt,!(ft.files.indexOf(Rt)>-1)){if(ft.files.push(Rt),Rt in tt){ct?xt(Rt,tt[Rt]):(++bt,setTimeout(function(){--bt,xt(Rt,tt[Rt])}));return}if(ct){var yt;try{yt=Je.fs.readFileSync(Rt).toString("utf8")}catch(Et){jt||dt(Et);return}xt(Rt,yt)}else++bt,ft.fetch(Rt,function(Et,pt){if(--bt,!!ut){if(Et){jt?bt||dt(null,ft):dt(Et);return}xt(Rt,pt)}})}}var bt=0;Je.isString(ot)&&(ot=[ot]);for(var _t=0,Ct;_t<ot.length;++_t)(Ct=ft.resolvePath("",ot[_t]))&&vt(Ct);return ft.resolveAll(),ct||bt||dt(null,ft),ft},rt.prototype.loadSync=function(ot,lt){if(!Je.isNode)throw Error("not supported");return this.load(ot,lt,st)},rt.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(ot){return"'extend "+ot.extend+"' in "+ot.parent.fullName}).join(", "));return e.prototype.resolveAll.call(this)};var at=/^[A-Z]/;function nt(it,ot){var lt=ot.parent.lookup(ot.extend);if(lt){var ut=new t(ot.fullName,ot.id,ot.type,ot.rule,void 0,ot.options);return lt.get(ut.name)||(ut.declaringField=ot,ot.extensionField=ut,lt.add(ut)),!0}return!1}return rt.prototype._handleAdd=function(ot){if(ot instanceof t)ot.extend!==void 0&&!ot.extensionField&&(nt(this,ot)||this.deferred.push(ot));else if(ot instanceof Ke)at.test(ot.name)&&(ot.parent[ot.name]=ot.values);else if(!(ot instanceof Ye)){if(ot instanceof Xe)for(var lt=0;lt<this.deferred.length;)nt(this,this.deferred[lt])?this.deferred.splice(lt,1):++lt;for(var ut=0;ut<ot.nestedArray.length;++ut)this._handleAdd(ot._nestedArray[ut]);at.test(ot.name)&&(ot.parent[ot.name]=ot)}},rt.prototype._handleRemove=function(ot){if(ot instanceof t){if(ot.extend!==void 0)if(ot.extensionField)ot.extensionField.parent.remove(ot.extensionField),ot.extensionField=null;else{var lt=this.deferred.indexOf(ot);lt>-1&&this.deferred.splice(lt,1)}}else if(ot instanceof Ke)at.test(ot.name)&&delete ot.parent[ot.name];else if(ot instanceof e){for(var ut=0;ut<ot.nestedArray.length;++ut)this._handleRemove(ot._nestedArray[ut]);at.test(ot.name)&&delete ot.parent[ot.name]}},rt._configure=function(it,ot,lt){Xe=it,et=ot,tt=lt},root}var hasRequiredUtil$1;function requireUtil$1(){if(hasRequiredUtil$1)return util$1.exports;hasRequiredUtil$1=1;var e=util$1.exports=requireMinimal(),t=requireRoots(),Ke,Ye;e.codegen=requireCodegen(),e.fetch=requireFetch(),e.path=requirePath(),e.fs=e.inquire("fs"),e.toArray=function(st){if(st){for(var at=Object.keys(st),nt=new Array(at.length),it=0;it<at.length;)nt[it]=st[at[it++]];return nt}return[]},e.toObject=function(st){for(var at={},nt=0;nt<st.length;){var it=st[nt++],ot=st[nt++];ot!==void 0&&(at[it]=ot)}return at};var Je=/\\/g,Xe=/"/g;e.isReserved=function(st){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(st)},e.safeProp=function(st){return!/^[$\w_]+$/.test(st)||e.isReserved(st)?'["'+st.replace(Je,"\\\\").replace(Xe,'\\"')+'"]':"."+st},e.ucFirst=function(st){return st.charAt(0).toUpperCase()+st.substring(1)};var et=/_([a-z])/g;e.camelCase=function(st){return st.substring(0,1)+st.substring(1).replace(et,function(at,nt){return nt.toUpperCase()})},e.compareFieldsById=function(st,at){return st.id-at.id},e.decorateType=function(st,at){if(st.$type)return at&&st.$type.name!==at&&(e.decorateRoot.remove(st.$type),st.$type.name=at,e.decorateRoot.add(st.$type)),st.$type;Ke||(Ke=requireType());var nt=new Ke(at||st.name);return e.decorateRoot.add(nt),nt.ctor=st,Object.defineProperty(st,"$type",{value:nt,enumerable:!1}),Object.defineProperty(st.prototype,"$type",{value:nt,enumerable:!1}),nt};var tt=0;return e.decorateEnum=function(st){if(st.$type)return st.$type;Ye||(Ye=require_enum());var at=new Ye("Enum"+tt++,st);return e.decorateRoot.add(at),Object.defineProperty(st,"$type",{value:at,enumerable:!1}),at},e.setProperty=function(st,at,nt,it){function ot(lt,ut,ft){var ct=ut.shift();if(ct==="__proto__"||ct==="prototype")return lt;if(ut.length>0)lt[ct]=ot(lt[ct]||{},ut,ft);else{var dt=lt[ct];if(dt&&it)return lt;dt&&(ft=[].concat(dt).concat(ft)),lt[ct]=ft}return lt}if(typeof st!="object")throw TypeError("dst must be an object");if(!at)throw TypeError("path must be specified");return at=at.split("."),ot(st,at,nt)},Object.defineProperty(e,"decorateRoot",{get:function(){return t.decorated||(t.decorated=new(requireRoot()))}}),util$1.exports}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,(function(e){var t=e,Ke=requireUtil$1(),Ye=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function Je(Xe,et){var tt=0,rt={};for(et|=0;tt<Xe.length;)rt[Ye[tt+et]]=Xe[tt++];return rt}t.basic=Je([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),t.defaults=Je([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",Ke.emptyArray,null]),t.long=Je([0,0,0,1,1],7),t.mapKey=Je([0,0,0,5,5,0,0,0,1,1,0,2],2),t.packed=Je([1,5,0,0,0,5,5,0,0,0,1,1,0])})(types)),types}var field,hasRequiredField;function requireField(){if(hasRequiredField)return field;hasRequiredField=1,field=et;var e=requireObject();((et.prototype=Object.create(e.prototype)).constructor=et).className="Field";var t=require_enum(),Ke=requireTypes(),Ye=requireUtil$1(),Je,Xe=/^required|optional|repeated$/;et.fromJSON=function(rt,st){var at=new et(rt,st.id,st.type,st.rule,st.extend,st.options,st.comment);return st.edition&&(at._edition=st.edition),at._defaultEdition="proto3",at};function et(tt,rt,st,at,nt,it,ot){if(Ye.isObject(at)?(ot=nt,it=at,at=nt=void 0):Ye.isObject(nt)&&(ot=it,it=nt,nt=void 0),e.call(this,tt,it),!Ye.isInteger(rt)||rt<0)throw TypeError("id must be a non-negative integer");if(!Ye.isString(st))throw TypeError("type must be a string");if(at!==void 0&&!Xe.test(at=at.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(nt!==void 0&&!Ye.isString(nt))throw TypeError("extend must be a string");at==="proto3_optional"&&(at="optional"),this.rule=at&&at!=="optional"?at:void 0,this.type=st,this.id=rt,this.extend=nt||void 0,this.repeated=at==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=Ye.Long?Ke.long[st]!==void 0:!1,this.bytes=st==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=ot}return Object.defineProperty(et.prototype,"required",{get:function(){return this._features.field_presence==="LEGACY_REQUIRED"}}),Object.defineProperty(et.prototype,"optional",{get:function(){return!this.required}}),Object.defineProperty(et.prototype,"delimited",{get:function(){return this.resolvedType instanceof Je&&this._features.message_encoding==="DELIMITED"}}),Object.defineProperty(et.prototype,"packed",{get:function(){return this._features.repeated_field_encoding==="PACKED"}}),Object.defineProperty(et.prototype,"hasPresence",{get:function(){return this.repeated||this.map?!1:this.partOf||this.declaringField||this.extensionField||this._features.field_presence!=="IMPLICIT"}}),et.prototype.setOption=function(rt,st,at){return e.prototype.setOption.call(this,rt,st,at)},et.prototype.toJSON=function(rt){var st=rt?!!rt.keepComments:!1;return Ye.toObject(["edition",this._editionToJSON(),"rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",st?this.comment:void 0])},et.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=Ke.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof Je?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof t&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof t)&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=Ye.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var rt;Ye.base64.test(this.typeDefault)?Ye.base64.decode(this.typeDefault,rt=Ye.newBuffer(Ye.base64.length(this.typeDefault)),0):Ye.utf8.write(this.typeDefault,rt=Ye.newBuffer(Ye.utf8.length(this.typeDefault)),0),this.typeDefault=rt}return this.map?this.defaultValue=Ye.emptyObject:this.repeated?this.defaultValue=Ye.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof Je&&(this.parent.ctor.prototype[this.name]=this.defaultValue),e.prototype.resolve.call(this)},et.prototype._inferLegacyProtoFeatures=function(rt){if(rt!=="proto2"&&rt!=="proto3")return{};var st={};return this.resolve(),this.rule==="required"&&(st.field_presence="LEGACY_REQUIRED"),this.resolvedType instanceof Je&&this.resolvedType.group&&(st.message_encoding="DELIMITED"),this.getOption("packed")===!0?st.repeated_field_encoding="PACKED":this.getOption("packed")===!1&&(st.repeated_field_encoding="EXPANDED"),st},et.prototype._resolveFeatures=function(rt){return e.prototype._resolveFeatures.call(this,this._edition||rt)},et.d=function(rt,st,at,nt){return typeof st=="function"?st=Ye.decorateType(st).name:st&&typeof st=="object"&&(st=Ye.decorateEnum(st).name),function(ot,lt){Ye.decorateType(ot.constructor).add(new et(lt,rt,st,at,{default:nt}))}},et._configure=function(rt){Je=rt},field}var oneof,hasRequiredOneof;function requireOneof(){if(hasRequiredOneof)return oneof;hasRequiredOneof=1,oneof=Ye;var e=requireObject();((Ye.prototype=Object.create(e.prototype)).constructor=Ye).className="OneOf";var t=requireField(),Ke=requireUtil$1();function Ye(Xe,et,tt,rt){if(Array.isArray(et)||(tt=et,et=void 0),e.call(this,Xe,tt),!(et===void 0||Array.isArray(et)))throw TypeError("fieldNames must be an Array");this.oneof=et||[],this.fieldsArray=[],this.comment=rt}Ye.fromJSON=function(et,tt){return new Ye(et,tt.oneof,tt.options,tt.comment)},Ye.prototype.toJSON=function(et){var tt=et?!!et.keepComments:!1;return Ke.toObject(["options",this.options,"oneof",this.oneof,"comment",tt?this.comment:void 0])};function Je(Xe){if(Xe.parent)for(var et=0;et<Xe.fieldsArray.length;++et)Xe.fieldsArray[et].parent||Xe.parent.add(Xe.fieldsArray[et])}return Ye.prototype.add=function(et){if(!(et instanceof t))throw TypeError("field must be a Field");return et.parent&&et.parent!==this.parent&&et.parent.remove(et),this.oneof.push(et.name),this.fieldsArray.push(et),et.partOf=this,Je(this),this},Ye.prototype.remove=function(et){if(!(et instanceof t))throw TypeError("field must be a Field");var tt=this.fieldsArray.indexOf(et);if(tt<0)throw Error(et+" is not a member of "+this);return this.fieldsArray.splice(tt,1),tt=this.oneof.indexOf(et.name),tt>-1&&this.oneof.splice(tt,1),et.partOf=null,this},Ye.prototype.onAdd=function(et){e.prototype.onAdd.call(this,et);for(var tt=this,rt=0;rt<this.oneof.length;++rt){var st=et.get(this.oneof[rt]);st&&!st.partOf&&(st.partOf=tt,tt.fieldsArray.push(st))}Je(this)},Ye.prototype.onRemove=function(et){for(var tt=0,rt;tt<this.fieldsArray.length;++tt)(rt=this.fieldsArray[tt]).parent&&rt.parent.remove(rt);e.prototype.onRemove.call(this,et)},Object.defineProperty(Ye.prototype,"isProto3Optional",{get:function(){if(this.fieldsArray==null||this.fieldsArray.length!==1)return!1;var Xe=this.fieldsArray[0];return Xe.options!=null&&Xe.options.proto3_optional===!0}}),Ye.d=function(){for(var et=new Array(arguments.length),tt=0;tt<arguments.length;)et[tt]=arguments[tt++];return function(st,at){Ke.decorateType(st.constructor).add(new Ye(at,et)),Object.defineProperty(st,at,{get:Ke.oneOfGetter(et),set:Ke.oneOfSetter(et)})}},oneof}var object,hasRequiredObject;function requireObject(){if(hasRequiredObject)return object;hasRequiredObject=1,object=et,et.className="ReflectionObject";const e=requireOneof();var t=requireUtil$1(),Ke,Ye={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"},Je={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"},Xe={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function et(tt,rt){if(!t.isString(tt))throw TypeError("name must be a string");if(rt&&!t.isObject(rt))throw TypeError("options must be an object");this.options=rt,this.parsedOptions=null,this.name=tt,this._edition=null,this._defaultEdition="proto2",this._features={},this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}return Object.defineProperties(et.prototype,{root:{get:function(){for(var tt=this;tt.parent!==null;)tt=tt.parent;return tt}},fullName:{get:function(){for(var tt=[this.name],rt=this.parent;rt;)tt.unshift(rt.name),rt=rt.parent;return tt.join(".")}}}),et.prototype.toJSON=function(){throw Error()},et.prototype.onAdd=function(rt){this.parent&&this.parent!==rt&&this.parent.remove(this),this.parent=rt,this.resolved=!1;var st=rt.root;st instanceof Ke&&st._handleAdd(this)},et.prototype.onRemove=function(rt){var st=rt.root;st instanceof Ke&&st._handleRemove(this),this.parent=null,this.resolved=!1},et.prototype.resolve=function(){return this.resolved?this:(this instanceof Ke&&(this._resolveFeaturesRecursive(this._edition),this.resolved=!0),this)},et.prototype._resolveFeaturesRecursive=function(rt){return this._resolveFeatures(this._edition||rt)},et.prototype._resolveFeatures=function(rt){var st={};if(!rt)throw new Error("Unknown edition for "+this.fullName);var at=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(rt));if(this._edition){if(rt==="proto2")st=Object.assign({},Je);else if(rt==="proto3")st=Object.assign({},Xe);else if(rt==="2023")st=Object.assign({},Ye);else throw new Error("Unknown edition: "+rt);this._features=Object.assign(st,at||{});return}if(this.partOf instanceof e){var nt=Object.assign({},this.partOf._features);this._features=Object.assign(nt,at||{})}else if(!this.declaringField)if(this.parent){var it=Object.assign({},this.parent._features);this._features=Object.assign(it,at||{})}else throw new Error("Unable to find a parent for "+this.fullName);this.extensionField&&(this.extensionField._features=this._features)},et.prototype._inferLegacyProtoFeatures=function(){return{}},et.prototype.getOption=function(rt){if(this.options)return this.options[rt]},et.prototype.setOption=function(rt,st,at){return this.options||(this.options={}),/^features\./.test(rt)?t.setProperty(this.options,rt,st,at):(!at||this.options[rt]===void 0)&&(this.getOption(rt)!==st&&(this.resolved=!1),this.options[rt]=st),this},et.prototype.setParsedOption=function(rt,st,at){this.parsedOptions||(this.parsedOptions=[]);var nt=this.parsedOptions;if(at){var it=nt.find(function(ut){return Object.prototype.hasOwnProperty.call(ut,rt)});if(it){var ot=it[rt];t.setProperty(ot,at,st)}else it={},it[rt]=t.setProperty({},at,st),nt.push(it)}else{var lt={};lt[rt]=st,nt.push(lt)}return this},et.prototype.setOptions=function(rt,st){if(rt)for(var at=Object.keys(rt),nt=0;nt<at.length;++nt)this.setOption(at[nt],rt[at[nt]],st);return this},et.prototype.toString=function(){var rt=this.constructor.className,st=this.fullName;return st.length?rt+" "+st:rt},et.prototype._editionToJSON=function(){if(!(!this._edition||this._edition==="proto3"))return this._edition},et._configure=function(tt){Ke=tt},object}var _enum,hasRequired_enum;function require_enum(){if(hasRequired_enum)return _enum;hasRequired_enum=1,_enum=Ye;var e=requireObject();((Ye.prototype=Object.create(e.prototype)).constructor=Ye).className="Enum";var t=requireNamespace(),Ke=requireUtil$1();function Ye(Je,Xe,et,tt,rt,st){if(e.call(this,Je,et),Xe&&typeof Xe!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=tt,this.comments=rt||{},this.valuesOptions=st,this._valuesFeatures={},this.reserved=void 0,Xe)for(var at=Object.keys(Xe),nt=0;nt<at.length;++nt)typeof Xe[at[nt]]=="number"&&(this.valuesById[this.values[at[nt]]=Xe[at[nt]]]=at[nt])}return Ye.prototype._resolveFeatures=function(Xe){return Xe=this._edition||Xe,e.prototype._resolveFeatures.call(this,Xe),Object.keys(this.values).forEach(et=>{var tt=Object.assign({},this._features);this._valuesFeatures[et]=Object.assign(tt,this.valuesOptions&&this.valuesOptions[et]&&this.valuesOptions[et].features)}),this},Ye.fromJSON=function(Xe,et){var tt=new Ye(Xe,et.values,et.options,et.comment,et.comments);return tt.reserved=et.reserved,et.edition&&(tt._edition=et.edition),tt._defaultEdition="proto3",tt},Ye.prototype.toJSON=function(Xe){var et=Xe?!!Xe.keepComments:!1;return Ke.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",et?this.comment:void 0,"comments",et?this.comments:void 0])},Ye.prototype.add=function(Xe,et,tt,rt){if(!Ke.isString(Xe))throw TypeError("name must be a string");if(!Ke.isInteger(et))throw TypeError("id must be an integer");if(this.values[Xe]!==void 0)throw Error("duplicate name '"+Xe+"' in "+this);if(this.isReservedId(et))throw Error("id "+et+" is reserved in "+this);if(this.isReservedName(Xe))throw Error("name '"+Xe+"' is reserved in "+this);if(this.valuesById[et]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+et+" in "+this);this.values[Xe]=et}else this.valuesById[this.values[Xe]=et]=Xe;return rt&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[Xe]=rt||null),this.comments[Xe]=tt||null,this},Ye.prototype.remove=function(Xe){if(!Ke.isString(Xe))throw TypeError("name must be a string");var et=this.values[Xe];if(et==null)throw Error("name '"+Xe+"' does not exist in "+this);return delete this.valuesById[et],delete this.values[Xe],delete this.comments[Xe],this.valuesOptions&&delete this.valuesOptions[Xe],this},Ye.prototype.isReservedId=function(Xe){return t.isReservedId(this.reserved,Xe)},Ye.prototype.isReservedName=function(Xe){return t.isReservedName(this.reserved,Xe)},_enum}var encoder_1,hasRequiredEncoder;function requireEncoder(){if(hasRequiredEncoder)return encoder_1;hasRequiredEncoder=1,encoder_1=Je;var e=require_enum(),t=requireTypes(),Ke=requireUtil$1();function Ye(Xe,et,tt,rt){return et.delimited?Xe("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",tt,rt,(et.id<<3|3)>>>0,(et.id<<3|4)>>>0):Xe("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",tt,rt,(et.id<<3|2)>>>0)}function Je(Xe){for(var et=Ke.codegen(["m","w"],Xe.name+"$encode")("if(!w)")("w=Writer.create()"),tt,rt,st=Xe.fieldsArray.slice().sort(Ke.compareFieldsById),tt=0;tt<st.length;++tt){var at=st[tt].resolve(),nt=Xe._fieldsArray.indexOf(at),it=at.resolvedType instanceof e?"int32":at.type,ot=t.basic[it];rt="m"+Ke.safeProp(at.name),at.map?(et("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",rt,at.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",rt)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(at.id<<3|2)>>>0,8|t.mapKey[at.keyType],at.keyType),ot===void 0?et("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",nt,rt):et(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|ot,it,rt),et("}")("}")):at.repeated?(et("if(%s!=null&&%s.length){",rt,rt),at.packed&&t.packed[it]!==void 0?et("w.uint32(%i).fork()",(at.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",rt)("w.%s(%s[i])",it,rt)("w.ldelim()"):(et("for(var i=0;i<%s.length;++i)",rt),ot===void 0?Ye(et,at,nt,rt+"[i]"):et("w.uint32(%i).%s(%s[i])",(at.id<<3|ot)>>>0,it,rt)),et("}")):(at.optional&&et("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",rt,at.name),ot===void 0?Ye(et,at,nt,rt):et("w.uint32(%i).%s(%s)",(at.id<<3|ot)>>>0,it,rt))}return et("return w")}return encoder_1}var hasRequiredIndexLight;function requireIndexLight(){if(hasRequiredIndexLight)return indexLight.exports;hasRequiredIndexLight=1;var e=indexLight.exports=requireIndexMinimal();e.build="light";function t(Ye,Je,Xe){return typeof Je=="function"?(Xe=Je,Je=new e.Root):Je||(Je=new e.Root),Je.load(Ye,Xe)}e.load=t;function Ke(Ye,Je){return Je||(Je=new e.Root),Je.loadSync(Ye)}return e.loadSync=Ke,e.encoder=requireEncoder(),e.decoder=requireDecoder(),e.verifier=requireVerifier(),e.converter=requireConverter(),e.ReflectionObject=requireObject(),e.Namespace=requireNamespace(),e.Root=requireRoot(),e.Enum=require_enum(),e.Type=requireType(),e.Field=requireField(),e.OneOf=requireOneof(),e.MapField=requireMapfield(),e.Service=requireService(),e.Method=requireMethod(),e.Message=requireMessage(),e.wrappers=requireWrappers(),e.types=requireTypes(),e.util=requireUtil$1(),e.ReflectionObject._configure(e.Root),e.Namespace._configure(e.Type,e.Service,e.Enum),e.Root._configure(e.Type),e.Field._configure(e.Type),indexLight.exports}var tokenize_1,hasRequiredTokenize;function requireTokenize(){if(hasRequiredTokenize)return tokenize_1;hasRequiredTokenize=1,tokenize_1=at;var e=/[\s{}=;:[\],'"()<>]/g,t=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,Ke=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,Ye=/^ *[*/]+ */,Je=/^\s*\*?\/*/,Xe=/\n/g,et=/\s/,tt=/\\(.?)/g,rt={0:"\0",r:"\r",n:`
`,t:"	"};function st(nt){return nt.replace(tt,function(it,ot){switch(ot){case"\\":case"":return ot;default:return rt[ot]||""}})}at.unescape=st;function at(nt,it){nt=nt.toString();var ot=0,lt=nt.length,ut=1,ft=0,ct={},dt=[],ht=null;function xt(gt){return Error("illegal "+gt+" (line "+ut+")")}function vt(){var gt=ht==="'"?Ke:t;gt.lastIndex=ot-1;var St=gt.exec(nt);if(!St)throw xt("string");return ot=gt.lastIndex,yt(ht),ht=null,st(St[1])}function bt(gt){return nt.charAt(gt)}function _t(gt,St,wt){var $t={type:nt.charAt(gt++),lineEmpty:!1,leading:wt},Tt;it?Tt=2:Tt=3;var At=gt-Tt,Dt;do if(--At<0||(Dt=nt.charAt(At))===`
`){$t.lineEmpty=!0;break}while(Dt===" "||Dt==="	");for(var It=nt.substring(gt,St).split(Xe),Ot=0;Ot<It.length;++Ot)It[Ot]=It[Ot].replace(it?Je:Ye,"").trim();$t.text=It.join(`
`).trim(),ct[ut]=$t,ft=ut}function Ct(gt){var St=Rt(gt),wt=nt.substring(gt,St),$t=/^\s*\/\//.test(wt);return $t}function Rt(gt){for(var St=gt;St<lt&&bt(St)!==`
`;)St++;return St}function jt(){if(dt.length>0)return dt.shift();if(ht)return vt();var gt,St,wt,$t,Tt,At=ot===0;do{if(ot===lt)return null;for(gt=!1;et.test(wt=bt(ot));)if(wt===`
`&&(At=!0,++ut),++ot===lt)return null;if(bt(ot)==="/"){if(++ot===lt)throw xt("comment");if(bt(ot)==="/")if(it){if($t=ot,Tt=!1,Ct(ot-1)){Tt=!0;do if(ot=Rt(ot),ot===lt||(ot++,!At))break;while(Ct(ot))}else ot=Math.min(lt,Rt(ot)+1);Tt&&(_t($t,ot,At),At=!0),ut++,gt=!0}else{for(Tt=bt($t=ot+1)==="/";bt(++ot)!==`
`;)if(ot===lt)return null;++ot,Tt&&(_t($t,ot-1,At),At=!0),++ut,gt=!0}else if((wt=bt(ot))==="*"){$t=ot+1,Tt=it||bt($t)==="*";do{if(wt===`
`&&++ut,++ot===lt)throw xt("comment");St=wt,wt=bt(ot)}while(St!=="*"||wt!=="/");++ot,Tt&&(_t($t,ot-2,At),At=!0),gt=!0}else return"/"}}while(gt);var Dt=ot;e.lastIndex=0;var It=e.test(bt(Dt++));if(!It)for(;Dt<lt&&!e.test(bt(Dt));)++Dt;var Ot=nt.substring(ot,ot=Dt);return(Ot==='"'||Ot==="'")&&(ht=Ot),Ot}function yt(gt){dt.push(gt)}function Et(){if(!dt.length){var gt=jt();if(gt===null)return null;yt(gt)}return dt[0]}function pt(gt,St){var wt=Et(),$t=wt===gt;if($t)return jt(),!0;if(!St)throw xt("token '"+wt+"', '"+gt+"' expected");return!1}function mt(gt){var St=null,wt;return gt===void 0?(wt=ct[ut-1],delete ct[ut-1],wt&&(it||wt.type==="*"||wt.lineEmpty)&&(St=wt.leading?wt.text:null)):(ft<gt&&Et(),wt=ct[gt],delete ct[gt],wt&&!wt.lineEmpty&&(it||wt.type==="/")&&(St=wt.leading?null:wt.text)),St}return Object.defineProperty({next:jt,peek:Et,push:yt,skip:pt,cmnt:mt},"line",{get:function(){return ut}})}return tokenize_1}var parse_1,hasRequiredParse;function requireParse(){if(hasRequiredParse)return parse_1;hasRequiredParse=1,parse_1=vt,vt.filename=null,vt.defaults={keepCase:!1};var e=requireTokenize(),t=requireRoot(),Ke=requireType(),Ye=requireField(),Je=requireMapfield(),Xe=requireOneof(),et=require_enum(),tt=requireService(),rt=requireMethod(),st=requireObject(),at=requireTypes(),nt=requireUtil$1(),it=/^[1-9][0-9]*$/,ot=/^-?[1-9][0-9]*$/,lt=/^0[x][0-9a-fA-F]+$/,ut=/^-?0[x][0-9a-fA-F]+$/,ft=/^0[0-7]+$/,ct=/^-?0[0-7]+$/,dt=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,ht=/^[a-zA-Z_][a-zA-Z_0-9]*$/,xt=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function vt(bt,_t,Ct){_t instanceof t||(Ct=_t,_t=new t),Ct||(Ct=vt.defaults);var Rt=Ct.preferTrailingComment||!1,jt=e(bt,Ct.alternateCommentMode||!1),yt=jt.next,Et=jt.push,pt=jt.peek,mt=jt.skip,gt=jt.cmnt,St=!0,wt,$t,Tt,At="proto2",Dt=_t,It=[],Ot={},Mt=Ct.keepCase?function(Lt){return Lt}:nt.camelCase;function Kt(){It.forEach(Lt=>{Lt._edition=At,Object.keys(Ot).forEach(Vt=>{Lt.getOption(Vt)===void 0&&Lt.setOption(Vt,Ot[Vt],!0)})})}function qt(Lt,Vt,Wt){var Xt=vt.filename;return Wt||(vt.filename=null),Error("illegal "+(Vt||"token")+" '"+Lt+"' ("+(Xt?Xt+", ":"")+"line "+jt.line+")")}function Bt(){var Lt=[],Vt;do{if((Vt=yt())!=='"'&&Vt!=="'")throw qt(Vt);Lt.push(yt()),mt(Vt),Vt=pt()}while(Vt==='"'||Vt==="'");return Lt.join("")}function kt(Lt){var Vt=yt();switch(Vt){case"'":case'"':return Et(Vt),Bt();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return Pt(Vt,!0)}catch{if(xt.test(Vt))return Vt;throw qt(Vt,"value")}}function Nt(Lt,Vt){var Wt,Xt;do if(Vt&&((Wt=pt())==='"'||Wt==="'")){var er=Bt();if(Lt.push(er),At>=2023)throw qt(er,"id")}else try{Lt.push([Xt=Ft(yt()),mt("to",!0)?Ft(yt()):Xt])}catch(lr){if(Vt&&xt.test(Wt)&&At>=2023)Lt.push(Wt);else throw lr}while(mt(",",!0));var ar={options:void 0};ar.setOption=function(lr,mr){this.options===void 0&&(this.options={}),this.options[lr]=mr},Yt(ar,function(mr){if(mr==="option")or(ar,mr),mt(";");else throw qt(mr)},function(){br(ar)})}function Pt(Lt,Vt){var Wt=1;switch(Lt.charAt(0)==="-"&&(Wt=-1,Lt=Lt.substring(1)),Lt){case"inf":case"INF":case"Inf":return Wt*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(it.test(Lt))return Wt*parseInt(Lt,10);if(lt.test(Lt))return Wt*parseInt(Lt,16);if(ft.test(Lt))return Wt*parseInt(Lt,8);if(dt.test(Lt))return Wt*parseFloat(Lt);throw qt(Lt,"number",Vt)}function Ft(Lt,Vt){switch(Lt){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!Vt&&Lt.charAt(0)==="-")throw qt(Lt,"id");if(ot.test(Lt))return parseInt(Lt,10);if(ut.test(Lt))return parseInt(Lt,16);if(ct.test(Lt))return parseInt(Lt,8);throw qt(Lt,"id")}function Ut(){if(wt!==void 0)throw qt("package");if(wt=yt(),!xt.test(wt))throw qt(wt,"name");Dt=Dt.define(wt),mt(";")}function Ht(){var Lt=pt(),Vt;switch(Lt){case"weak":Vt=Tt||(Tt=[]),yt();break;case"public":yt();default:Vt=$t||($t=[]);break}Lt=Bt(),mt(";"),Vt.push(Lt)}function Zt(){if(mt("="),At=Bt(),At<2023)throw qt(At,"syntax");mt(";")}function Jt(){if(mt("="),At=Bt(),!["2023"].includes(At))throw qt(At,"edition");mt(";")}function zt(Lt,Vt){switch(Vt){case"option":return or(Lt,Vt),mt(";"),!0;case"message":return tr(Lt,Vt),!0;case"enum":return cr(Lt,Vt),!0;case"service":return Er(Lt,Vt),!0;case"extend":return Rr(Lt,Vt),!0}return!1}function Yt(Lt,Vt,Wt){var Xt=jt.line;if(Lt&&(typeof Lt.comment!="string"&&(Lt.comment=gt()),Lt.filename=vt.filename),mt("{",!0)){for(var er;(er=yt())!=="}";)Vt(er);mt(";",!0)}else Wt&&Wt(),mt(";"),Lt&&(typeof Lt.comment!="string"||Rt)&&(Lt.comment=gt(Xt)||Lt.comment)}function tr(Lt,Vt){if(!ht.test(Vt=yt()))throw qt(Vt,"type name");var Wt=new Ke(Vt);Yt(Wt,function(er){if(!zt(Wt,er))switch(er){case"map":fr(Wt);break;case"required":if(At!=="proto2")throw qt(er);case"repeated":rr(Wt,er);break;case"optional":if(At==="proto3")rr(Wt,"proto3_optional");else{if(At!=="proto2")throw qt(er);rr(Wt,"optional")}break;case"oneof":nr(Wt,er);break;case"extensions":Nt(Wt.extensions||(Wt.extensions=[]));break;case"reserved":Nt(Wt.reserved||(Wt.reserved=[]),!0);break;default:if(At==="proto2"||!xt.test(er))throw qt(er);Et(er),rr(Wt,"optional");break}}),Lt.add(Wt),Lt===Dt&&It.push(Wt)}function rr(Lt,Vt,Wt){var Xt=yt();if(Xt==="group"){dr(Lt,Vt);return}for(;Xt.endsWith(".")||pt().startsWith(".");)Xt+=yt();if(!xt.test(Xt))throw qt(Xt,"type");var er=yt();if(!ht.test(er))throw qt(er,"name");er=Mt(er),mt("=");var ar=new Ye(er,Ft(yt()),Xt,Vt,Wt);if(Yt(ar,function(Qt){if(Qt==="option")or(ar,Qt),mt(";");else throw qt(Qt)},function(){br(ar)}),Vt==="proto3_optional"){var lr=new Xe("_"+er);ar.setOption("proto3_optional",!0),lr.add(ar),Lt.add(lr)}else Lt.add(ar);Lt===Dt&&It.push(ar)}function dr(Lt,Vt){if(At>=2023)throw qt("group");var Wt=yt();if(!ht.test(Wt))throw qt(Wt,"name");var Xt=nt.lcFirst(Wt);Wt===Xt&&(Wt=nt.ucFirst(Wt)),mt("=");var er=Ft(yt()),ar=new Ke(Wt);ar.group=!0;var lr=new Ye(Xt,er,Wt,Vt);lr.filename=vt.filename,Yt(ar,function(Qt){switch(Qt){case"option":or(ar,Qt),mt(";");break;case"required":case"repeated":rr(ar,Qt);break;case"optional":At==="proto3"?rr(ar,"proto3_optional"):rr(ar,"optional");break;case"message":tr(ar,Qt);break;case"enum":cr(ar,Qt);break;default:throw qt(Qt)}}),Lt.add(ar).add(lr)}function fr(Lt){mt("<");var Vt=yt();if(at.mapKey[Vt]===void 0)throw qt(Vt,"type");mt(",");var Wt=yt();if(!xt.test(Wt))throw qt(Wt,"type");mt(">");var Xt=yt();if(!ht.test(Xt))throw qt(Xt,"name");mt("=");var er=new Je(Mt(Xt),Ft(yt()),Vt,Wt);Yt(er,function(lr){if(lr==="option")or(er,lr),mt(";");else throw qt(lr)},function(){br(er)}),Lt.add(er)}function nr(Lt,Vt){if(!ht.test(Vt=yt()))throw qt(Vt,"name");var Wt=new Xe(Mt(Vt));Yt(Wt,function(er){er==="option"?(or(Wt,er),mt(";")):(Et(er),rr(Wt,"optional"))}),Lt.add(Wt)}function cr(Lt,Vt){if(!ht.test(Vt=yt()))throw qt(Vt,"name");var Wt=new et(Vt);Yt(Wt,function(er){switch(er){case"option":or(Wt,er),mt(";");break;case"reserved":Nt(Wt.reserved||(Wt.reserved=[]),!0),Wt.reserved===void 0&&(Wt.reserved=[]);break;default:ur(Wt,er)}}),Lt.add(Wt),Lt===Dt&&It.push(Wt)}function ur(Lt,Vt){if(!ht.test(Vt))throw qt(Vt,"name");mt("=");var Wt=Ft(yt(),!0),Xt={options:void 0};Xt.getOption=function(er){return this.options[er]},Xt.setOption=function(er,ar){st.prototype.setOption.call(Xt,er,ar)},Xt.setParsedOption=function(){},Yt(Xt,function(ar){if(ar==="option")or(Xt,ar),mt(";");else throw qt(ar)},function(){br(Xt)}),Lt.add(Vt,Wt,Xt.comment,Xt.parsedOptions||Xt.options)}function or(Lt,Vt){var Wt,Xt,er=!0;for(Vt==="option"&&(Vt=yt());Vt!=="=";){if(Vt==="("){var ar=yt();mt(")"),Vt="("+ar+")"}if(er){if(er=!1,Vt.includes(".")&&!Vt.includes("(")){var lr=Vt.split(".");Wt=lr[0]+".",Vt=lr[1];continue}Wt=Vt}else Xt=Xt?Xt+=Vt:Vt;Vt=yt()}var mr=Xt?Wt.concat(Xt):Wt,Qt=gr(Lt,mr);Xt=Xt&&Xt[0]==="."?Xt.slice(1):Xt,Wt=Wt&&Wt[Wt.length-1]==="."?Wt.slice(0,-1):Wt,pr(Lt,Wt,Qt,Xt)}function gr(Lt,Vt){if(mt("{",!0)){for(var Wt={};!mt("}",!0);){if(!ht.test(Gt=yt()))throw qt(Gt,"name");if(Gt===null)throw qt(Gt,"end of input");var Xt,er=Gt;if(mt(":",!0),pt()==="{")Xt=gr(Lt,Vt+"."+Gt);else if(pt()==="["){Xt=[];var ar;if(mt("[",!0)){do ar=kt(),Xt.push(ar);while(mt(",",!0));mt("]"),typeof ar<"u"&&xr(Lt,Vt+"."+Gt,ar)}}else Xt=kt(),xr(Lt,Vt+"."+Gt,Xt);var lr=Wt[er];lr&&(Xt=[].concat(lr).concat(Xt)),Wt[er]=Xt,mt(",",!0),mt(";",!0)}return Wt}var mr=kt();return xr(Lt,Vt,mr),mr}function xr(Lt,Vt,Wt){if(Dt===Lt&&/^features\./.test(Vt)){Ot[Vt]=Wt;return}Lt.setOption&&Lt.setOption(Vt,Wt)}function pr(Lt,Vt,Wt,Xt){Lt.setParsedOption&&Lt.setParsedOption(Vt,Wt,Xt)}function br(Lt){if(mt("[",!0)){do or(Lt,"option");while(mt(",",!0));mt("]")}return Lt}function Er(Lt,Vt){if(!ht.test(Vt=yt()))throw qt(Vt,"service name");var Wt=new tt(Vt);Yt(Wt,function(er){if(!zt(Wt,er))if(er==="rpc")vr(Wt,er);else throw qt(er)}),Lt.add(Wt),Lt===Dt&&It.push(Wt)}function vr(Lt,Vt){var Wt=gt(),Xt=Vt;if(!ht.test(Vt=yt()))throw qt(Vt,"name");var er=Vt,ar,lr,mr,Qt;if(mt("("),mt("stream",!0)&&(lr=!0),!xt.test(Vt=yt())||(ar=Vt,mt(")"),mt("returns"),mt("("),mt("stream",!0)&&(Qt=!0),!xt.test(Vt=yt())))throw qt(Vt);mr=Vt,mt(")");var sr=new rt(er,Xt,ar,mr,lr,Qt);sr.comment=Wt,Yt(sr,function(hr){if(hr==="option")or(sr,hr),mt(";");else throw qt(hr)}),Lt.add(sr)}function Rr(Lt,Vt){if(!xt.test(Vt=yt()))throw qt(Vt,"reference");var Wt=Vt;Yt(null,function(er){switch(er){case"required":case"repeated":rr(Lt,er,Wt);break;case"optional":At==="proto3"?rr(Lt,"proto3_optional",Wt):rr(Lt,"optional",Wt);break;default:if(At==="proto2"||!xt.test(er))throw qt(er);Et(er),rr(Lt,"optional",Wt);break}})}for(var Gt;(Gt=yt())!==null;)switch(Gt){case"package":if(!St)throw qt(Gt);Ut();break;case"import":if(!St)throw qt(Gt);Ht();break;case"syntax":if(!St)throw qt(Gt);Zt();break;case"edition":if(!St)throw qt(Gt);Jt();break;case"option":or(Dt,Gt),mt(";",!0);break;default:if(zt(Dt,Gt)){St=!1;continue}throw qt(Gt)}return Kt(),vt.filename=null,{package:wt,imports:$t,weakImports:Tt,root:_t}}return parse_1}var common_1,hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common_1;hasRequiredCommon=1,common_1=t;var e=/\/|\./;function t(Ye,Je){e.test(Ye)||(Ye="google/protobuf/"+Ye+".proto",Je={nested:{google:{nested:{protobuf:{nested:Je}}}}}),t[Ye]=Je}t("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var Ke;return t("duration",{Duration:Ke={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),t("timestamp",{Timestamp:Ke}),t("empty",{Empty:{fields:{}}}),t("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),t("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),t("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),t.get=function(Je){return t[Je]||null},common_1}var hasRequiredSrc$2;function requireSrc$2(){if(hasRequiredSrc$2)return src$1.exports;hasRequiredSrc$2=1;var e=src$1.exports=requireIndexLight();return e.build="full",e.tokenize=requireTokenize(),e.parse=requireParse(),e.common=requireCommon(),e.Root._configure(e.Type,e.parse,e.common),src$1.exports}var protobufjs,hasRequiredProtobufjs;function requireProtobufjs(){return hasRequiredProtobufjs||(hasRequiredProtobufjs=1,protobufjs=requireSrc$2()),protobufjs}var descriptor={exports:{}};const nested$3={google:{nested:{protobuf:{nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}}}}}}},require$$2={nested:nested$3};var hasRequiredDescriptor;function requireDescriptor(){return hasRequiredDescriptor||(hasRequiredDescriptor=1,(function(e,t){var Ke=requireProtobufjs();e.exports=t=Ke.descriptor=Ke.Root.fromJSON(require$$2).lookup(".google.protobuf");var Ye=Ke.Namespace,Je=Ke.Root,Xe=Ke.Enum,et=Ke.Type,tt=Ke.Field,rt=Ke.MapField,st=Ke.OneOf,at=Ke.Service,nt=Ke.Method;Je.fromDescriptor=function(yt){typeof yt.length=="number"&&(yt=t.FileDescriptorSet.decode(yt));var Et=new Je;if(yt.file)for(var pt,mt,gt=0,St;gt<yt.file.length;++gt){if(mt=Et,(pt=yt.file[gt]).package&&pt.package.length&&(mt=Et.define(pt.package)),pt.name&&pt.name.length&&Et.files.push(mt.filename=pt.name),pt.messageType)for(St=0;St<pt.messageType.length;++St)mt.add(et.fromDescriptor(pt.messageType[St],pt.syntax));if(pt.enumType)for(St=0;St<pt.enumType.length;++St)mt.add(Xe.fromDescriptor(pt.enumType[St]));if(pt.extension)for(St=0;St<pt.extension.length;++St)mt.add(tt.fromDescriptor(pt.extension[St]));if(pt.service)for(St=0;St<pt.service.length;++St)mt.add(at.fromDescriptor(pt.service[St]));var wt=bt(pt.options,t.FileOptions);if(wt){var $t=Object.keys(wt);for(St=0;St<$t.length;++St)mt.setOption($t[St],wt[$t[St]])}}return Et},Je.prototype.toDescriptor=function(yt){var Et=t.FileDescriptorSet.create();return it(this,Et.file,yt),Et};function it(jt,yt,Et){var pt=t.FileDescriptorProto.create({name:jt.filename||(jt.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});Et&&(pt.syntax=Et),jt instanceof Je||(pt.package=jt.fullName.substring(1));for(var mt=0,gt;mt<jt.nestedArray.length;++mt)(gt=jt._nestedArray[mt])instanceof et?pt.messageType.push(gt.toDescriptor(Et)):gt instanceof Xe?pt.enumType.push(gt.toDescriptor()):gt instanceof tt?pt.extension.push(gt.toDescriptor(Et)):gt instanceof at?pt.service.push(gt.toDescriptor()):gt instanceof Ye&&it(gt,yt,Et);pt.options=_t(jt.options,t.FileOptions),pt.messageType.length+pt.enumType.length+pt.extension.length+pt.service.length&&yt.push(pt)}var ot=0;et.fromDescriptor=function(yt,Et){typeof yt.length=="number"&&(yt=t.DescriptorProto.decode(yt));var pt=new et(yt.name.length?yt.name:"Type"+ot++,bt(yt.options,t.MessageOptions)),mt;if(yt.oneofDecl)for(mt=0;mt<yt.oneofDecl.length;++mt)pt.add(st.fromDescriptor(yt.oneofDecl[mt]));if(yt.field)for(mt=0;mt<yt.field.length;++mt){var gt=tt.fromDescriptor(yt.field[mt],Et);pt.add(gt),yt.field[mt].hasOwnProperty("oneofIndex")&&pt.oneofsArray[yt.field[mt].oneofIndex].add(gt)}if(yt.extension)for(mt=0;mt<yt.extension.length;++mt)pt.add(tt.fromDescriptor(yt.extension[mt],Et));if(yt.nestedType)for(mt=0;mt<yt.nestedType.length;++mt)pt.add(et.fromDescriptor(yt.nestedType[mt],Et)),yt.nestedType[mt].options&&yt.nestedType[mt].options.mapEntry&&pt.setOption("map_entry",!0);if(yt.enumType)for(mt=0;mt<yt.enumType.length;++mt)pt.add(Xe.fromDescriptor(yt.enumType[mt]));if(yt.extensionRange&&yt.extensionRange.length)for(pt.extensions=[],mt=0;mt<yt.extensionRange.length;++mt)pt.extensions.push([yt.extensionRange[mt].start,yt.extensionRange[mt].end]);if(yt.reservedRange&&yt.reservedRange.length||yt.reservedName&&yt.reservedName.length){if(pt.reserved=[],yt.reservedRange)for(mt=0;mt<yt.reservedRange.length;++mt)pt.reserved.push([yt.reservedRange[mt].start,yt.reservedRange[mt].end]);if(yt.reservedName)for(mt=0;mt<yt.reservedName.length;++mt)pt.reserved.push(yt.reservedName[mt])}return pt},et.prototype.toDescriptor=function(yt){var Et=t.DescriptorProto.create({name:this.name}),pt;for(pt=0;pt<this.fieldsArray.length;++pt){var mt;if(Et.field.push(mt=this._fieldsArray[pt].toDescriptor(yt)),this._fieldsArray[pt]instanceof rt){var gt=vt(this._fieldsArray[pt].keyType,this._fieldsArray[pt].resolvedKeyType),St=vt(this._fieldsArray[pt].type,this._fieldsArray[pt].resolvedType),wt=St===11||St===14?this._fieldsArray[pt].resolvedType&&Ct(this.parent,this._fieldsArray[pt].resolvedType)||this._fieldsArray[pt].type:void 0;Et.nestedType.push(t.DescriptorProto.create({name:mt.typeName,field:[t.FieldDescriptorProto.create({name:"key",number:1,label:1,type:gt}),t.FieldDescriptorProto.create({name:"value",number:2,label:1,type:St,typeName:wt})],options:t.MessageOptions.create({mapEntry:!0})}))}}for(pt=0;pt<this.oneofsArray.length;++pt)Et.oneofDecl.push(this._oneofsArray[pt].toDescriptor());for(pt=0;pt<this.nestedArray.length;++pt)this._nestedArray[pt]instanceof tt?Et.field.push(this._nestedArray[pt].toDescriptor(yt)):this._nestedArray[pt]instanceof et?Et.nestedType.push(this._nestedArray[pt].toDescriptor(yt)):this._nestedArray[pt]instanceof Xe&&Et.enumType.push(this._nestedArray[pt].toDescriptor());if(this.extensions)for(pt=0;pt<this.extensions.length;++pt)Et.extensionRange.push(t.DescriptorProto.ExtensionRange.create({start:this.extensions[pt][0],end:this.extensions[pt][1]}));if(this.reserved)for(pt=0;pt<this.reserved.length;++pt)typeof this.reserved[pt]=="string"?Et.reservedName.push(this.reserved[pt]):Et.reservedRange.push(t.DescriptorProto.ReservedRange.create({start:this.reserved[pt][0],end:this.reserved[pt][1]}));return Et.options=_t(this.options,t.MessageOptions),Et};var lt=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;tt.fromDescriptor=function(yt,Et){if(typeof yt.length=="number"&&(yt=t.DescriptorProto.decode(yt)),typeof yt.number!="number")throw Error("missing field id");var pt;yt.typeName&&yt.typeName.length?pt=yt.typeName:pt=ht(yt.type);var mt;switch(yt.label){case 1:mt=void 0;break;case 2:mt="required";break;case 3:mt="repeated";break;default:throw Error("illegal label: "+yt.label)}var gt=yt.extendee;yt.extendee!==void 0&&(gt=gt.length?gt:void 0);var St=new tt(yt.name.length?yt.name:"field"+yt.number,yt.number,pt,mt,gt);if(St.options=bt(yt.options,t.FieldOptions),yt.defaultValue&&yt.defaultValue.length){var wt=yt.defaultValue;switch(wt){case"true":case"TRUE":wt=!0;break;case"false":case"FALSE":wt=!1;break;default:var $t=lt.exec(wt);$t&&(wt=parseInt(wt));break}St.setOption("default",wt)}return xt(yt.type)&&(Et==="proto3"?yt.options&&!yt.options.packed&&St.setOption("packed",!1):yt.options&&yt.options.packed||St.setOption("packed",!1)),St},tt.prototype.toDescriptor=function(yt){var Et=t.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)Et.type=11,Et.typeName=Ke.util.ucFirst(this.name),Et.label=3;else{switch(Et.type=vt(this.type,this.resolve().resolvedType)){case 10:case 11:case 14:Et.typeName=this.resolvedType?Ct(this.parent,this.resolvedType):this.type;break}switch(this.rule){case"repeated":Et.label=3;break;case"required":Et.label=2;break;default:Et.label=1;break}}if(Et.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(Et.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(Et.options=_t(this.options,t.FieldOptions),this.options.default!=null&&(Et.defaultValue=String(this.options.default))),yt==="proto3"?this.packed||((Et.options||(Et.options=t.FieldOptions.create())).packed=!1):this.packed&&((Et.options||(Et.options=t.FieldOptions.create())).packed=!0),Et};var ut=0;Xe.fromDescriptor=function(yt){typeof yt.length=="number"&&(yt=t.EnumDescriptorProto.decode(yt));var Et={};if(yt.value)for(var pt=0;pt<yt.value.length;++pt){var mt=yt.value[pt].name,gt=yt.value[pt].number||0;Et[mt&&mt.length?mt:"NAME"+gt]=gt}return new Xe(yt.name&&yt.name.length?yt.name:"Enum"+ut++,Et,bt(yt.options,t.EnumOptions))},Xe.prototype.toDescriptor=function(){for(var yt=[],Et=0,pt=Object.keys(this.values);Et<pt.length;++Et)yt.push(t.EnumValueDescriptorProto.create({name:pt[Et],number:this.values[pt[Et]]}));return t.EnumDescriptorProto.create({name:this.name,value:yt,options:_t(this.options,t.EnumOptions)})};var ft=0;st.fromDescriptor=function(yt){return typeof yt.length=="number"&&(yt=t.OneofDescriptorProto.decode(yt)),new st(yt.name&&yt.name.length?yt.name:"oneof"+ft++)},st.prototype.toDescriptor=function(){return t.OneofDescriptorProto.create({name:this.name})};var ct=0;at.fromDescriptor=function(yt){typeof yt.length=="number"&&(yt=t.ServiceDescriptorProto.decode(yt));var Et=new at(yt.name&&yt.name.length?yt.name:"Service"+ct++,bt(yt.options,t.ServiceOptions));if(yt.method)for(var pt=0;pt<yt.method.length;++pt)Et.add(nt.fromDescriptor(yt.method[pt]));return Et},at.prototype.toDescriptor=function(){for(var yt=[],Et=0;Et<this.methodsArray.length;++Et)yt.push(this._methodsArray[Et].toDescriptor());return t.ServiceDescriptorProto.create({name:this.name,method:yt,options:_t(this.options,t.ServiceOptions)})};var dt=0;nt.fromDescriptor=function(yt){return typeof yt.length=="number"&&(yt=t.MethodDescriptorProto.decode(yt)),new nt(yt.name&&yt.name.length?yt.name:"Method"+dt++,"rpc",yt.inputType,yt.outputType,!!yt.clientStreaming,!!yt.serverStreaming,bt(yt.options,t.MethodOptions))},nt.prototype.toDescriptor=function(){return t.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:_t(this.options,t.MethodOptions)})};function ht(jt){switch(jt){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+jt)}function xt(jt){switch(jt){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function vt(jt,yt){switch(jt){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(yt instanceof Xe)return 14;if(yt instanceof et)return yt.group?10:11;throw Error("illegal type: "+jt)}function bt(jt,yt){if(jt){for(var Et=[],pt=0,mt,gt,St;pt<yt.fieldsArray.length;++pt)(gt=(mt=yt._fieldsArray[pt]).name)!=="uninterpretedOption"&&jt.hasOwnProperty(gt)&&(St=jt[gt],mt.resolvedType instanceof Xe&&typeof St=="number"&&mt.resolvedType.valuesById[St]!==void 0&&(St=mt.resolvedType.valuesById[St]),Et.push(Rt(gt),St));return Et.length?Ke.util.toObject(Et):void 0}}function _t(jt,yt){if(jt){for(var Et=[],pt=0,mt=Object.keys(jt),gt,St;pt<mt.length;++pt)if(St=jt[gt=mt[pt]],gt!=="default"){var wt=yt.fields[gt];!wt&&!(wt=yt.fields[gt=Ke.util.camelCase(gt)])||Et.push(gt,St)}return Et.length?yt.fromObject(Ke.util.toObject(Et)):void 0}}function Ct(jt,yt){var Et=jt.fullName.split("."),pt=yt.fullName.split("."),mt=0,gt=0,St=pt.length-1;if(!(jt instanceof Je)&&yt instanceof Ye)for(;mt<Et.length&&gt<St&&Et[mt]===pt[gt];){var wt=yt.lookup(Et[mt++],!0);if(wt!==null&&wt!==yt)break;++gt}else for(;mt<Et.length&&gt<St&&Et[mt]===pt[gt];++mt,++gt);return pt.slice(gt).join(".")}function Rt(jt){return jt.substring(0,1)+jt.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(yt,Et){return"_"+Et.toLowerCase()})}})(descriptor,descriptor.exports)),descriptor.exports}var util={};const nested$2={google:{nested:{protobuf:{nested:{Api:{fields:{name:{type:"string",id:1},methods:{rule:"repeated",type:"Method",id:2},options:{rule:"repeated",type:"Option",id:3},version:{type:"string",id:4},sourceContext:{type:"SourceContext",id:5},mixins:{rule:"repeated",type:"Mixin",id:6},syntax:{type:"Syntax",id:7}}},Method:{fields:{name:{type:"string",id:1},requestTypeUrl:{type:"string",id:2},requestStreaming:{type:"bool",id:3},responseTypeUrl:{type:"string",id:4},responseStreaming:{type:"bool",id:5},options:{rule:"repeated",type:"Option",id:6},syntax:{type:"Syntax",id:7}}},Mixin:{fields:{name:{type:"string",id:1},root:{type:"string",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}}}}}}},require$$1={nested:nested$2},nested$1={google:{nested:{protobuf:{nested:{SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}},require$$3={nested:nested$1},nested={google:{nested:{protobuf:{nested:{Type:{fields:{name:{type:"string",id:1},fields:{rule:"repeated",type:"Field",id:2},oneofs:{rule:"repeated",type:"string",id:3},options:{rule:"repeated",type:"Option",id:4},sourceContext:{type:"SourceContext",id:5},syntax:{type:"Syntax",id:6}}},Field:{fields:{kind:{type:"Kind",id:1},cardinality:{type:"Cardinality",id:2},number:{type:"int32",id:3},name:{type:"string",id:4},typeUrl:{type:"string",id:6},oneofIndex:{type:"int32",id:7},packed:{type:"bool",id:8},options:{rule:"repeated",type:"Option",id:9},jsonName:{type:"string",id:10},defaultValue:{type:"string",id:11}},nested:{Kind:{values:{TYPE_UNKNOWN:0,TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Cardinality:{values:{CARDINALITY_UNKNOWN:0,CARDINALITY_OPTIONAL:1,CARDINALITY_REQUIRED:2,CARDINALITY_REPEATED:3}}}},Enum:{fields:{name:{type:"string",id:1},enumvalue:{rule:"repeated",type:"EnumValue",id:2},options:{rule:"repeated",type:"Option",id:3},sourceContext:{type:"SourceContext",id:4},syntax:{type:"Syntax",id:5}}},EnumValue:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{rule:"repeated",type:"Option",id:3}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}},require$$4={nested};var hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;/**
 * @license
 * Copyright 2018 gRPC authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */Object.defineProperty(util,"__esModule",{value:!0}),util.addCommonProtos=util.loadProtosWithOptionsSync=util.loadProtosWithOptions=void 0;const e=require("fs"),t=require("path"),Ke=requireProtobufjs();function Ye(tt,rt){const st=tt.resolvePath;tt.resolvePath=(at,nt)=>{if(t.isAbsolute(nt))return nt;for(const it of rt){const ot=t.join(it,nt);try{return e.accessSync(ot,e.constants.R_OK),ot}catch{continue}}return process.emitWarning(`${nt} not found in any of the include paths ${rt}`),st(at,nt)}}async function Je(tt,rt){const st=new Ke.Root;if(rt=rt||{},rt.includeDirs){if(!Array.isArray(rt.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));Ye(st,rt.includeDirs)}const at=await st.load(tt,rt);return at.resolveAll(),at}util.loadProtosWithOptions=Je;function Xe(tt,rt){const st=new Ke.Root;if(rt=rt||{},rt.includeDirs){if(!Array.isArray(rt.includeDirs))throw new Error("The includeDirs option must be an array");Ye(st,rt.includeDirs)}const at=st.loadSync(tt,rt);return at.resolveAll(),at}util.loadProtosWithOptionsSync=Xe;function et(){const tt=require$$1,rt=require$$2,st=require$$3,at=require$$4;Ke.common("api",tt.nested.google.nested.protobuf.nested),Ke.common("descriptor",rt.nested.google.nested.protobuf.nested),Ke.common("source_context",st.nested.google.nested.protobuf.nested),Ke.common("type",at.nested.google.nested.protobuf.nested)}return util.addCommonProtos=et,util}var umd$1={exports:{}},umd=umd$1.exports,hasRequiredUmd;function requireUmd(){return hasRequiredUmd||(hasRequiredUmd=1,(function(e,t){(function(Ke,Ye){function Je(Xe){return"default"in Xe?Xe.default:Xe}Ye(t),e.exports=Je(t)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:umd,function(Ke){Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.default=void 0;/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var Ye=null;try{Ye=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Je(mt,gt,St){this.low=mt|0,this.high=gt|0,this.unsigned=!!St}Je.prototype.__isLong__,Object.defineProperty(Je.prototype,"__isLong__",{value:!0});function Xe(mt){return(mt&&mt.__isLong__)===!0}function et(mt){var gt=Math.clz32(mt&-mt);return mt?31-gt:gt}Je.isLong=Xe;var tt={},rt={};function st(mt,gt){var St,wt,$t;return gt?(mt>>>=0,($t=0<=mt&&mt<256)&&(wt=rt[mt],wt)?wt:(St=nt(mt,0,!0),$t&&(rt[mt]=St),St)):(mt|=0,($t=-128<=mt&&mt<128)&&(wt=tt[mt],wt)?wt:(St=nt(mt,mt<0?-1:0,!1),$t&&(tt[mt]=St),St))}Je.fromInt=st;function at(mt,gt){if(isNaN(mt))return gt?bt:vt;if(gt){if(mt<0)return bt;if(mt>=dt)return yt}else{if(mt<=-ht)return Et;if(mt+1>=ht)return jt}return mt<0?at(-mt,gt).neg():nt(mt%ct|0,mt/ct|0,gt)}Je.fromNumber=at;function nt(mt,gt,St){return new Je(mt,gt,St)}Je.fromBits=nt;var it=Math.pow;function ot(mt,gt,St){if(mt.length===0)throw Error("empty string");if(typeof gt=="number"?(St=gt,gt=!1):gt=!!gt,mt==="NaN"||mt==="Infinity"||mt==="+Infinity"||mt==="-Infinity")return gt?bt:vt;if(St=St||10,St<2||36<St)throw RangeError("radix");var wt;if((wt=mt.indexOf("-"))>0)throw Error("interior hyphen");if(wt===0)return ot(mt.substring(1),gt,St).neg();for(var $t=at(it(St,8)),Tt=vt,At=0;At<mt.length;At+=8){var Dt=Math.min(8,mt.length-At),It=parseInt(mt.substring(At,At+Dt),St);if(Dt<8){var Ot=at(it(St,Dt));Tt=Tt.mul(Ot).add(at(It))}else Tt=Tt.mul($t),Tt=Tt.add(at(It))}return Tt.unsigned=gt,Tt}Je.fromString=ot;function lt(mt,gt){return typeof mt=="number"?at(mt,gt):typeof mt=="string"?ot(mt,gt):nt(mt.low,mt.high,typeof gt=="boolean"?gt:mt.unsigned)}Je.fromValue=lt;var ut=65536,ft=1<<24,ct=ut*ut,dt=ct*ct,ht=dt/2,xt=st(ft),vt=st(0);Je.ZERO=vt;var bt=st(0,!0);Je.UZERO=bt;var _t=st(1);Je.ONE=_t;var Ct=st(1,!0);Je.UONE=Ct;var Rt=st(-1);Je.NEG_ONE=Rt;var jt=nt(-1,2147483647,!1);Je.MAX_VALUE=jt;var yt=nt(-1,-1,!0);Je.MAX_UNSIGNED_VALUE=yt;var Et=nt(0,-2147483648,!1);Je.MIN_VALUE=Et;var pt=Je.prototype;pt.toInt=function(){return this.unsigned?this.low>>>0:this.low},pt.toNumber=function(){return this.unsigned?(this.high>>>0)*ct+(this.low>>>0):this.high*ct+(this.low>>>0)},pt.toString=function(gt){if(gt=gt||10,gt<2||36<gt)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Et)){var St=at(gt),wt=this.div(St),$t=wt.mul(St).sub(this);return wt.toString(gt)+$t.toInt().toString(gt)}else return"-"+this.neg().toString(gt);for(var Tt=at(it(gt,6),this.unsigned),At=this,Dt="";;){var It=At.div(Tt),Ot=At.sub(It.mul(Tt)).toInt()>>>0,Mt=Ot.toString(gt);if(At=It,At.isZero())return Mt+Dt;for(;Mt.length<6;)Mt="0"+Mt;Dt=""+Mt+Dt}},pt.getHighBits=function(){return this.high},pt.getHighBitsUnsigned=function(){return this.high>>>0},pt.getLowBits=function(){return this.low},pt.getLowBitsUnsigned=function(){return this.low>>>0},pt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Et)?64:this.neg().getNumBitsAbs();for(var gt=this.high!=0?this.high:this.low,St=31;St>0&&(gt&1<<St)==0;St--);return this.high!=0?St+33:St+1},pt.isSafeInteger=function(){var gt=this.high>>21;return gt?this.unsigned?!1:gt===-1&&!(this.low===0&&this.high===-2097152):!0},pt.isZero=function(){return this.high===0&&this.low===0},pt.eqz=pt.isZero,pt.isNegative=function(){return!this.unsigned&&this.high<0},pt.isPositive=function(){return this.unsigned||this.high>=0},pt.isOdd=function(){return(this.low&1)===1},pt.isEven=function(){return(this.low&1)===0},pt.equals=function(gt){return Xe(gt)||(gt=lt(gt)),this.unsigned!==gt.unsigned&&this.high>>>31===1&&gt.high>>>31===1?!1:this.high===gt.high&&this.low===gt.low},pt.eq=pt.equals,pt.notEquals=function(gt){return!this.eq(gt)},pt.neq=pt.notEquals,pt.ne=pt.notEquals,pt.lessThan=function(gt){return this.comp(gt)<0},pt.lt=pt.lessThan,pt.lessThanOrEqual=function(gt){return this.comp(gt)<=0},pt.lte=pt.lessThanOrEqual,pt.le=pt.lessThanOrEqual,pt.greaterThan=function(gt){return this.comp(gt)>0},pt.gt=pt.greaterThan,pt.greaterThanOrEqual=function(gt){return this.comp(gt)>=0},pt.gte=pt.greaterThanOrEqual,pt.ge=pt.greaterThanOrEqual,pt.compare=function(gt){if(Xe(gt)||(gt=lt(gt)),this.eq(gt))return 0;var St=this.isNegative(),wt=gt.isNegative();return St&&!wt?-1:!St&&wt?1:this.unsigned?gt.high>>>0>this.high>>>0||gt.high===this.high&&gt.low>>>0>this.low>>>0?-1:1:this.sub(gt).isNegative()?-1:1},pt.comp=pt.compare,pt.negate=function(){return!this.unsigned&&this.eq(Et)?Et:this.not().add(_t)},pt.neg=pt.negate,pt.add=function(gt){Xe(gt)||(gt=lt(gt));var St=this.high>>>16,wt=this.high&65535,$t=this.low>>>16,Tt=this.low&65535,At=gt.high>>>16,Dt=gt.high&65535,It=gt.low>>>16,Ot=gt.low&65535,Mt=0,Kt=0,qt=0,Bt=0;return Bt+=Tt+Ot,qt+=Bt>>>16,Bt&=65535,qt+=$t+It,Kt+=qt>>>16,qt&=65535,Kt+=wt+Dt,Mt+=Kt>>>16,Kt&=65535,Mt+=St+At,Mt&=65535,nt(qt<<16|Bt,Mt<<16|Kt,this.unsigned)},pt.subtract=function(gt){return Xe(gt)||(gt=lt(gt)),this.add(gt.neg())},pt.sub=pt.subtract,pt.multiply=function(gt){if(this.isZero())return this;if(Xe(gt)||(gt=lt(gt)),Ye){var St=Ye.mul(this.low,this.high,gt.low,gt.high);return nt(St,Ye.get_high(),this.unsigned)}if(gt.isZero())return this.unsigned?bt:vt;if(this.eq(Et))return gt.isOdd()?Et:vt;if(gt.eq(Et))return this.isOdd()?Et:vt;if(this.isNegative())return gt.isNegative()?this.neg().mul(gt.neg()):this.neg().mul(gt).neg();if(gt.isNegative())return this.mul(gt.neg()).neg();if(this.lt(xt)&&gt.lt(xt))return at(this.toNumber()*gt.toNumber(),this.unsigned);var wt=this.high>>>16,$t=this.high&65535,Tt=this.low>>>16,At=this.low&65535,Dt=gt.high>>>16,It=gt.high&65535,Ot=gt.low>>>16,Mt=gt.low&65535,Kt=0,qt=0,Bt=0,kt=0;return kt+=At*Mt,Bt+=kt>>>16,kt&=65535,Bt+=Tt*Mt,qt+=Bt>>>16,Bt&=65535,Bt+=At*Ot,qt+=Bt>>>16,Bt&=65535,qt+=$t*Mt,Kt+=qt>>>16,qt&=65535,qt+=Tt*Ot,Kt+=qt>>>16,qt&=65535,qt+=At*It,Kt+=qt>>>16,qt&=65535,Kt+=wt*Mt+$t*Ot+Tt*It+At*Dt,Kt&=65535,nt(Bt<<16|kt,Kt<<16|qt,this.unsigned)},pt.mul=pt.multiply,pt.divide=function(gt){if(Xe(gt)||(gt=lt(gt)),gt.isZero())throw Error("division by zero");if(Ye){if(!this.unsigned&&this.high===-2147483648&&gt.low===-1&&gt.high===-1)return this;var St=(this.unsigned?Ye.div_u:Ye.div_s)(this.low,this.high,gt.low,gt.high);return nt(St,Ye.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?bt:vt;var wt,$t,Tt;if(this.unsigned){if(gt.unsigned||(gt=gt.toUnsigned()),gt.gt(this))return bt;if(gt.gt(this.shru(1)))return Ct;Tt=bt}else{if(this.eq(Et)){if(gt.eq(_t)||gt.eq(Rt))return Et;if(gt.eq(Et))return _t;var At=this.shr(1);return wt=At.div(gt).shl(1),wt.eq(vt)?gt.isNegative()?_t:Rt:($t=this.sub(gt.mul(wt)),Tt=wt.add($t.div(gt)),Tt)}else if(gt.eq(Et))return this.unsigned?bt:vt;if(this.isNegative())return gt.isNegative()?this.neg().div(gt.neg()):this.neg().div(gt).neg();if(gt.isNegative())return this.div(gt.neg()).neg();Tt=vt}for($t=this;$t.gte(gt);){wt=Math.max(1,Math.floor($t.toNumber()/gt.toNumber()));for(var Dt=Math.ceil(Math.log(wt)/Math.LN2),It=Dt<=48?1:it(2,Dt-48),Ot=at(wt),Mt=Ot.mul(gt);Mt.isNegative()||Mt.gt($t);)wt-=It,Ot=at(wt,this.unsigned),Mt=Ot.mul(gt);Ot.isZero()&&(Ot=_t),Tt=Tt.add(Ot),$t=$t.sub(Mt)}return Tt},pt.div=pt.divide,pt.modulo=function(gt){if(Xe(gt)||(gt=lt(gt)),Ye){var St=(this.unsigned?Ye.rem_u:Ye.rem_s)(this.low,this.high,gt.low,gt.high);return nt(St,Ye.get_high(),this.unsigned)}return this.sub(this.div(gt).mul(gt))},pt.mod=pt.modulo,pt.rem=pt.modulo,pt.not=function(){return nt(~this.low,~this.high,this.unsigned)},pt.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},pt.clz=pt.countLeadingZeros,pt.countTrailingZeros=function(){return this.low?et(this.low):et(this.high)+32},pt.ctz=pt.countTrailingZeros,pt.and=function(gt){return Xe(gt)||(gt=lt(gt)),nt(this.low&gt.low,this.high&gt.high,this.unsigned)},pt.or=function(gt){return Xe(gt)||(gt=lt(gt)),nt(this.low|gt.low,this.high|gt.high,this.unsigned)},pt.xor=function(gt){return Xe(gt)||(gt=lt(gt)),nt(this.low^gt.low,this.high^gt.high,this.unsigned)},pt.shiftLeft=function(gt){return Xe(gt)&&(gt=gt.toInt()),(gt&=63)===0?this:gt<32?nt(this.low<<gt,this.high<<gt|this.low>>>32-gt,this.unsigned):nt(0,this.low<<gt-32,this.unsigned)},pt.shl=pt.shiftLeft,pt.shiftRight=function(gt){return Xe(gt)&&(gt=gt.toInt()),(gt&=63)===0?this:gt<32?nt(this.low>>>gt|this.high<<32-gt,this.high>>gt,this.unsigned):nt(this.high>>gt-32,this.high>=0?0:-1,this.unsigned)},pt.shr=pt.shiftRight,pt.shiftRightUnsigned=function(gt){return Xe(gt)&&(gt=gt.toInt()),(gt&=63)===0?this:gt<32?nt(this.low>>>gt|this.high<<32-gt,this.high>>>gt,this.unsigned):gt===32?nt(this.high,0,this.unsigned):nt(this.high>>>gt-32,0,this.unsigned)},pt.shru=pt.shiftRightUnsigned,pt.shr_u=pt.shiftRightUnsigned,pt.rotateLeft=function(gt){var St;return Xe(gt)&&(gt=gt.toInt()),(gt&=63)===0?this:gt===32?nt(this.high,this.low,this.unsigned):gt<32?(St=32-gt,nt(this.low<<gt|this.high>>>St,this.high<<gt|this.low>>>St,this.unsigned)):(gt-=32,St=32-gt,nt(this.high<<gt|this.low>>>St,this.low<<gt|this.high>>>St,this.unsigned))},pt.rotl=pt.rotateLeft,pt.rotateRight=function(gt){var St;return Xe(gt)&&(gt=gt.toInt()),(gt&=63)===0?this:gt===32?nt(this.high,this.low,this.unsigned):gt<32?(St=32-gt,nt(this.high<<St|this.low>>>gt,this.low<<St|this.high>>>gt,this.unsigned)):(gt-=32,St=32-gt,nt(this.low<<St|this.high>>>gt,this.high<<St|this.low>>>gt,this.unsigned))},pt.rotr=pt.rotateRight,pt.toSigned=function(){return this.unsigned?nt(this.low,this.high,!1):this},pt.toUnsigned=function(){return this.unsigned?this:nt(this.low,this.high,!0)},pt.toBytes=function(gt){return gt?this.toBytesLE():this.toBytesBE()},pt.toBytesLE=function(){var gt=this.high,St=this.low;return[St&255,St>>>8&255,St>>>16&255,St>>>24,gt&255,gt>>>8&255,gt>>>16&255,gt>>>24]},pt.toBytesBE=function(){var gt=this.high,St=this.low;return[gt>>>24,gt>>>16&255,gt>>>8&255,gt&255,St>>>24,St>>>16&255,St>>>8&255,St&255]},Je.fromBytes=function(gt,St,wt){return wt?Je.fromBytesLE(gt,St):Je.fromBytesBE(gt,St)},Je.fromBytesLE=function(gt,St){return new Je(gt[0]|gt[1]<<8|gt[2]<<16|gt[3]<<24,gt[4]|gt[5]<<8|gt[6]<<16|gt[7]<<24,St)},Je.fromBytesBE=function(gt,St){return new Je(gt[4]<<24|gt[5]<<16|gt[6]<<8|gt[7],gt[0]<<24|gt[1]<<16|gt[2]<<8|gt[3],St)},typeof BigInt=="function"&&(Je.fromBigInt=function(gt,St){var wt=Number(BigInt.asIntN(32,gt)),$t=Number(BigInt.asIntN(32,gt>>BigInt(32)));return nt(wt,$t,St)},Je.fromValue=function(gt,St){return typeof gt=="bigint"?fromBigInt(gt,St):lt(gt,St)},pt.toBigInt=function(){var gt=BigInt(this.low>>>0),St=BigInt(this.unsigned?this.high>>>0:this.high);return St<<BigInt(32)|gt}),Ke.default=Je})})(umd$1,umd$1.exports)),umd$1.exports}var hasRequiredSrc$1;function requireSrc$1(){return hasRequiredSrc$1||(hasRequiredSrc$1=1,(function(e){/**
 * @license
 * Copyright 2018 gRPC authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */Object.defineProperty(e,"__esModule",{value:!0}),e.loadFileDescriptorSetFromObject=e.loadFileDescriptorSetFromBuffer=e.fromJSON=e.loadSync=e.load=e.IdempotencyLevel=e.isAnyExtension=e.Long=void 0;const t=requireLodash_camelcase(),Ke=requireProtobufjs(),Ye=requireDescriptor(),Je=requireUtil(),Xe=requireUmd();e.Long=Xe;function et(Et){return"@type"in Et&&typeof Et["@type"]=="string"}e.isAnyExtension=et;var tt;(function(Et){Et.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",Et.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",Et.IDEMPOTENT="IDEMPOTENT"})(tt=e.IdempotencyLevel||(e.IdempotencyLevel={}));const rt={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function st(Et,pt){return Et===""?pt:Et+"."+pt}function at(Et){return Et instanceof Ke.Service||Et instanceof Ke.Type||Et instanceof Ke.Enum}function nt(Et){return Et instanceof Ke.Namespace||Et instanceof Ke.Root}function it(Et,pt){const mt=st(pt,Et.name);return at(Et)?[[mt,Et]]:nt(Et)&&typeof Et.nested<"u"?Object.keys(Et.nested).map(gt=>it(Et.nested[gt],mt)).reduce((gt,St)=>gt.concat(St),[]):[]}function ot(Et,pt){return function(gt){return Et.toObject(Et.decode(gt),pt)}}function lt(Et){return function(mt){if(Array.isArray(mt))throw new Error(`Failed to serialize message: expected object with ${Et.name} structure, got array instead`);const gt=Et.fromObject(mt);return Et.encode(gt).finish()}}function ut(Et){return(Et||[]).reduce((pt,mt)=>{for(const[gt,St]of Object.entries(mt))switch(gt){case"uninterpreted_option":pt.uninterpreted_option.push(mt.uninterpreted_option);break;default:pt[gt]=St}return pt},{deprecated:!1,idempotency_level:tt.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function ft(Et,pt,mt,gt){const St=Et.resolvedRequestType,wt=Et.resolvedResponseType;return{path:"/"+pt+"/"+Et.name,requestStream:!!Et.requestStream,responseStream:!!Et.responseStream,requestSerialize:lt(St),requestDeserialize:ot(St,mt),responseSerialize:lt(wt),responseDeserialize:ot(wt,mt),originalName:t(Et.name),requestType:dt(St,gt),responseType:dt(wt,gt),options:ut(Et.parsedOptions)}}function ct(Et,pt,mt,gt){const St={};for(const wt of Et.methodsArray)St[wt.name]=ft(wt,pt,mt,gt);return St}function dt(Et,pt){const mt=Et.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:mt.$type.toObject(mt,rt),fileDescriptorProtos:pt}}function ht(Et,pt){const mt=Et.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:mt.$type.toObject(mt,rt),fileDescriptorProtos:pt}}function xt(Et,pt,mt,gt){if(Et instanceof Ke.Service)return ct(Et,pt,mt,gt);if(Et instanceof Ke.Type)return dt(Et,gt);if(Et instanceof Ke.Enum)return ht(Et,gt);throw new Error("Type mismatch in reflection object handling")}function vt(Et,pt){const mt={};Et.resolveAll();const St=Et.toDescriptor("proto3").file.map(wt=>Buffer.from(Ye.FileDescriptorProto.encode(wt).finish()));for(const[wt,$t]of it(Et,""))mt[wt]=xt($t,wt,pt,St);return mt}function bt(Et,pt){pt=pt||{};const mt=Ke.Root.fromDescriptor(Et);return mt.resolveAll(),vt(mt,pt)}function _t(Et,pt){return(0,Je.loadProtosWithOptions)(Et,pt).then(mt=>vt(mt,pt))}e.load=_t;function Ct(Et,pt){const mt=(0,Je.loadProtosWithOptionsSync)(Et,pt);return vt(mt,pt)}e.loadSync=Ct;function Rt(Et,pt){pt=pt||{};const mt=Ke.Root.fromJSON(Et);return mt.resolveAll(),vt(mt,pt)}e.fromJSON=Rt;function jt(Et,pt){const mt=Ye.FileDescriptorSet.decode(Et);return bt(mt,pt)}e.loadFileDescriptorSetFromBuffer=jt;function yt(Et,pt){const mt=Ye.FileDescriptorSet.fromObject(Et);return bt(mt,pt)}e.loadFileDescriptorSetFromObject=yt,(0,Je.addCommonProtos)()})(src$2)),src$2}var srcExports$1=requireSrc$1();class ProtoDirectoryLoader{constructor(t,Ke){this.createdIds=[],this.rootDirPath=t,this.workspaceId=Ke}async _parseDir(t,Ke){return!!await this._ingest(t,Ke)}async _parseFile(t,Ke){if(requiredModule$1.extname(t)!==".proto")return!1;const Je=await insecureReadFile(t),Xe=requiredModule$1.basename(t),{_id:et}=await protoFile.create({name:Xe,parentId:Ke,protoText:Je});return this.createdIds.push(et),!0}async _ingest(t,Ke){if(!requiredModule.existsSync(t))return null;const Ye=protoDirectory.createId(),Je=await requiredModule.promises.readdir(t,{withFileTypes:!0});let Xe=!1;for(const et of Je.sort((tt,rt)=>tt.name.localeCompare(rt.name))){const tt=requiredModule$1.resolve(t,et.name),rt=await(et.isDirectory()?this._parseDir(tt,Ye):this._parseFile(tt,Ye));Xe=Xe||rt}if(Xe){const et=await protoDirectory.create({_id:Ye,name:requiredModule$1.basename(t),parentId:Ke});return this.createdIds.push(et._id),et}return null}async load(){try{return{createdDir:await this._ingest(this.rootDirPath,this.workspaceId),createdIds:this.createdIds,error:null}}catch(t){return{createdDir:null,createdIds:this.createdIds,error:t}}}}const recursiveWriteProtoDirectory=async(e,t,Ke)=>{const Ye=requiredModule$1.join(Ke,e.name);requiredModule.mkdirSync(Ye,{recursive:!0});const Je=t.filter(isProtoFile).filter(et=>et.parentId===e._id);await Promise.all(Je.map(et=>{const tt=requiredModule$1.join(Ye,et.name);requiredModule.existsSync(tt)||requiredModule.promises.writeFile(tt,et.protoText)}));const Xe=await Promise.all(t.filter(et=>isProtoDirectory(et)&&et.parentId===e._id).map(et=>recursiveWriteProtoDirectory(et,t,Ye)));return[Ye,...Xe.flat()]},writeProtoFile=async e=>{const t=await database.withAncestors(e,[protoDirectory.type,workspace.type]),Ke=t.filter(isProtoDirectory);if(Ke.length){const tt=t.find(at=>isProtoDirectory(at)&&at.parentId===t.find(isWorkspace)._id);if(!t.find(isWorkspace)||!tt)return{filePath:requiredModule$1.join(...Ke.map(at=>at.name).reverse().slice(1),e.name),dirs:[]};const rt=await database.getWithDescendants(tt),st=await recursiveWriteProtoDirectory(tt,rt,requiredModule$1.join(requiredModule$2.tmpdir(),"insomnia-grpc",`${tt._id}.${tt.modified}`));return{filePath:requiredModule$1.join(...Ke.map(at=>at.name).reverse().slice(1),e.name),dirs:st}}const Ye=requiredModule$1.join(requiredModule$2.tmpdir(),"insomnia-grpc");requiredModule.mkdirSync(Ye,{recursive:!0});const Je=`${e._id}.${e.modified}.proto`,Xe={filePath:Je,dirs:[Ye]},et=requiredModule$1.join(Ye,Je);return requiredModule.existsSync(et)||await requiredModule.promises.writeFile(et,e.protoText),Xe},recursiveRender=(e,{dir:t,files:Ke,subDirs:Ye},Je,Xe,et,tt,rt,st)=>[t&&jsxRuntimeExports.jsxs("li",{className:"row-spaced",style:{paddingLeft:`${e*1}rem`},children:[jsxRuntimeExports.jsxs("span",{className:"wide",children:[jsxRuntimeExports.jsx("i",{className:"fa fa-folder-open-o pad-right-sm"}),t.name]}),e===0&&jsxRuntimeExports.jsx("div",{className:"row",children:jsxRuntimeExports.jsx(Button,{variant:"text",title:"Delete Directory",onClick:at=>{at.stopPropagation(),rt(t)},bg:"danger",children:jsxRuntimeExports.jsx("i",{className:"fa fa-trash-o"})})})]}),...Ke.map(at=>jsxRuntimeExports.jsx("li",{className:"row-spaced cursor-pointer",onClick:()=>Je(at._id),children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx($bc237834342dbd75$export$48513f6b9f8ce62d,{className:"py-0",isSelected:at._id===st,onChange:nt=>{nt?Je(at._id):Xe(at._id)},children:({isSelected:nt})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:nt?jsxRuntimeExports.jsx("i",{className:"fa fa-square-check fa-1x mr-2 h-4",style:{color:"rgb(74 222 128)"}}):jsxRuntimeExports.jsx("i",{className:"fa fa-square fa-1x mr-2 h-4"})})}),jsxRuntimeExports.jsxs("span",{className:"wide",children:[jsxRuntimeExports.jsx("i",{className:"fa fa-file-o pad-right-sm"}),at.name]}),jsxRuntimeExports.jsxs("div",{className:"row",children:[jsxRuntimeExports.jsx(Button,{variant:"text",title:"Re-upload Proto File",onClick:nt=>{nt.stopPropagation(),et(at)},className:"space-right",children:jsxRuntimeExports.jsx("i",{className:"fa fa-upload"})}),jsxRuntimeExports.jsx(Button,{variant:"text",title:"Delete Proto File",onClick:nt=>{nt.stopPropagation(),tt(at)},children:jsxRuntimeExports.jsx("i",{className:"fa fa-trash-o"})})]})]})},at._id)),...Ye.map(at=>recursiveRender(e+1,at,Je,Xe,et,tt,rt,st))],ProtoFileList=e=>jsxRuntimeExports.jsxs("ul",{className:"divide-y divide-solid divide-[--hl]",children:[!e.protoDirectories.length&&jsxRuntimeExports.jsx("li",{children:"No proto files exist for this workspace"}),e.protoDirectories.map(t=>recursiveRender(0,t,e.handleSelect,e.handleUnselect,e.handleUpdate,e.handleDelete,e.handleDeleteDirectory,e.selectedId))]}),tryToSelectFilePath=async()=>{try{const{filePath:e,canceled:t}=await selectFileOrFolder({itemTypes:["file"],extensions:["proto"]});if(!t&&e)return e}catch(e){showError({error:e})}},tryToSelectFolderPath=async()=>{try{const{filePath:e,canceled:t}=await selectFileOrFolder({itemTypes:["directory"],extensions:["proto"]});if(!t&&e)return e}catch(e){showError({error:e})}},isProtofileValid=async e=>{try{return await srcExports$1.load(e,{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0}),!0}catch(t){return showError({title:"Invalid Proto File",message:`The file ${e} could not be parsed`,error:t}),!1}},traverseDirectory=(e,t,Ke)=>({dir:e,files:t.filter(Ye=>Ye.parentId===e._id),subDirs:Ke.filter(Ye=>Ye.parentId===e._id).map(Ye=>traverseDirectory(Ye,t,Ke))}),getProtoDirectories=async e=>{const t=await protoFile.all(),Ke=await protoDirectory.all(),Je=(await protoDirectory.findByParentId(e)).map(et=>traverseDirectory(et,t,Ke)),Xe=await protoFile.findByParentId(e);return Xe.length?[{files:Xe,dir:null,subDirs:[]},...Je]:Je},ProtoFilesModal=({defaultId:e,onHide:t,onSave:Ke})=>{const Ye=reactExports.useRef(null),{workspaceId:Je}=useParams(),[Xe,et]=reactExports.useState(e),[tt,rt]=reactExports.useState([]);reactExports.useEffect(()=>Ye.current?.show(),[]),reactExports.useEffect(()=>{(async()=>{rt(await getProtoDirectories(Je))})()},[Je]),reactExports.useEffect(()=>{const lt=window.main.on("db.changes",async(ut,ft)=>{for(const ct of ft){const[,dt]=ct;(isProtoFile(dt)||isProtoDirectory(dt))&&rt(await getProtoDirectories(Je))}});return()=>{lt()}},[Je]);const st=async()=>{let lt=!1,ut=[];const ft=await database.bufferChangesIndefinitely(),ct=await tryToSelectFolderPath();if(ct)try{const dt=await new ProtoDirectoryLoader(ct,Je).load();ut=dt.createdIds;const{error:ht,createdDir:xt}=dt;if(ht){showError({title:"Failed to import",message:`An unexpected error occurred when reading ${ct}`,error:ht}),lt=!0;return}if(!xt){showModal(AlertModal,{title:"No files found",message:`No .proto files were found under ${ct}.`});return}const bt=(await database.getWithDescendants(xt)).filter(isProtoFile);for(const _t of bt)try{const{filePath:Ct,dirs:Rt}=await writeProtoFile(_t);srcExports$1.load(Ct,{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:Rt})}catch(Ct){showError({title:"Invalid Proto File",message:`The file ${_t.name} could not be parsed`,error:Ct}),lt=!0;return}}catch(dt){lt=!0,showError({error:dt})}finally{if(await database.flushChanges(ft,lt),lt){const dt=await database.find("ProtoDirectory",{_id:{$in:ut}});for(const xt of dt)await database.unsafeRemove(xt);const ht=await database.find("ProtoFile",{_id:{$in:ut}});for(const xt of ht)await database.unsafeRemove(xt)}}},at=async lt=>{const ut=await tryToSelectFilePath();if(!ut||!await isProtofileValid(ut))return;const ft=await window.main.insecureReadFile({path:ut}),ct=await protoFile.update(lt,{name:requiredModule$1.basename(ut),protoText:ft}),ht=(await grpcRequest.findByProtoFileId(ct._id)).map(xt=>xt._id);ht?.length&&ht.forEach(async xt=>window.main.grpc.cancel(xt))},nt=lt=>{showModal(AlertModal,{title:`Delete ${lt.name}`,message:jsxRuntimeExports.jsxs("span",{children:["Really delete ",jsxRuntimeExports.jsx("strong",{children:lt.name})," and all proto files contained within? All requests that use these proto files will stop working."]}),addCancel:!0,onConfirm:async()=>{protoDirectory.remove(lt),et("")}})},it=lt=>{showModal(AlertModal,{title:`Delete ${lt.name}`,message:jsxRuntimeExports.jsxs("span",{children:["Really delete ",jsxRuntimeExports.jsx("strong",{children:lt.name}),"? All requests that use this proto file will stop working."]}),addCancel:!0,onConfirm:()=>{protoFile.remove(lt),Xe===lt._id&&et("")}})},ot=async()=>{const lt=await tryToSelectFilePath();if(!lt||!await isProtofileValid(lt))return;const ut=await window.main.insecureReadFile({path:lt}),ft=await protoFile.create({name:requiredModule$1.basename(lt),parentId:Je,protoText:ut});et(ft._id)};return jsxRuntimeExports.jsxs(Modal,{ref:Ye,onHide:t,children:[jsxRuntimeExports.jsx(ModalHeader,{children:"Select Proto File"}),jsxRuntimeExports.jsxs(ModalBody,{className:"wide pad",children:[jsxRuntimeExports.jsxs("div",{className:"row-spaced margin-bottom bold",children:["Files",jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx(AsyncButton,{className:"margin-right-sm",onClick:st,loadingNode:jsxRuntimeExports.jsx("i",{className:"fa fa-spin fa-refresh"}),children:"Add Directory"}),jsxRuntimeExports.jsx(AsyncButton,{onClick:ot,loadingNode:jsxRuntimeExports.jsx("i",{className:"fa fa-spin fa-refresh"}),children:"Add Proto File"})]})]}),jsxRuntimeExports.jsx(ProtoFileList,{protoDirectories:tt,selectedId:Xe,handleSelect:lt=>et(lt),handleUnselect:()=>et(""),handleUpdate:at,handleDelete:it,handleDeleteDirectory:nt})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("button",{className:"btn",onClick:lt=>{lt.preventDefault(),typeof Ke=="function"&&Ke(Xe||"")},children:"Save"})})})]})},canClientStream=e=>e==="client"||e==="bidi",GrpcMethodTypeName={unary:"Unary",server:"Server Streaming",client:"Client Streaming",bidi:"Bi-directional Streaming"},GrpcRequestPane=({grpcState:e,setGrpcState:t,reloadRequests:Ke})=>{const{activeRequest:Ye}=useRequestLoaderData(),{activeEnvironment:Je,vcsVersion:Xe}=useWorkspaceLoaderData(),et=Je._id,{settings:tt}=useRootLoaderData(),[rt,st]=reactExports.useState(!1),{requestMessages:at,running:nt,methods:it}=e;useMount(async()=>{if(Ye.protoFileId){console.log(`[gRPC] loading proto file methods pf=${Ye.protoFileId}`);const Ct=await window.main.grpc.loadMethods(Ye.protoFileId);t({...e,methods:Ct})}else if(Ye.url&&Ye.reflectionApi){const Ct=(await database.withAncestors(Ye,[requestGroup.type])).filter(isRequestGroup),Rt=await tryToInterpolateRequestOrShowRenderErrorModal({request:Ye,environmentId:et,payload:{url:Ye.url,metadata:getOrInheritHeaders({request:{headers:Ye.metadata},requestGroups:Ct}),reflectionApi:Ye.reflectionApi}}),yt=(await clientCertificate.findByParentId(ut)).find(Tt=>!Tt.disabled&&urlMatchesCertHost(setDefaultProtocol(Tt.host,"grpc:"),Rt.url,!1)),Et=await caCertificate.findByParentId(ut),pt=Et&&!Et.disabled?Et.path:void 0,mt=yt?.cert?await window.main.insecureReadFile({path:yt.cert}):void 0,gt=yt?.key?await window.main.insecureReadFile({path:yt.key}):void 0,St=pt?await window.main.insecureReadFile({path:pt}):void 0,wt={...Rt,rejectUnauthorized:tt.validateSSL,...Ye.url.toLowerCase().startsWith("grpcs:")?{clientCert:mt,clientKey:gt,caCertificate:St}:{}},$t=await window.main.grpc.loadMethodsFromReflection(wt);t({...e,methods:$t})}});const ot=reactExports.useRef(null),lt=useGitVCSVersion(),{workspaceId:ut,requestId:ft}=useParams(),ct=useRequestPatcher(),{updateTabById:dt}=useInsomniaTabContext(),ht=`${Je.modified}::${ft}::${lt}::${Xe}`,xt=it.find(Ct=>Ct.fullPath===Ye.protoMethodName),vt=xt?.type,bt=async()=>{if(xt&&!nt)try{const Ct=(await database.withAncestors(Ye,[requestGroup.type])).filter(isRequestGroup),Rt=await getRenderedGrpcRequest({request:{...Ye,metadata:getOrInheritHeaders({request:{headers:Ye.metadata},requestGroups:Ct})},environment:et,purpose:"send",skipBody:canClientStream(vt)}),yt=(await clientCertificate.findByParentId(ut)).find(mt=>!mt.disabled&&urlMatchesCertHost(setDefaultProtocol(mt.host,"grpc:"),Rt.url,!1)),Et=await caCertificate.findByParentId(ut),pt=Et&&!Et.disabled?Et.path:void 0;dt?.(ft,{temporary:!1}),window.main.grpc.start({request:Rt,rejectUnauthorized:tt.validateSSL,...Rt.url.toLowerCase().startsWith("grpcs:")?{clientCert:yt?.cert?await window.main.insecureReadFile({path:yt.cert}):void 0,clientKey:yt?.key?await window.main.insecureReadFile({path:yt.key}):void 0,caCertificate:pt?await window.main.insecureReadFile({path:pt}):void 0}:{}}),t({...e,requestMessages:[],responseMessages:[],status:void 0,error:void 0})}catch(Ct){Ct instanceof RenderError?showModal(RequestRenderErrorModal,{request:Ye,error:Ct}):showModal(AlertModal,{title:"Unexpected Request Failure",message:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{children:"The request failed due to an unhandled error:"}),jsxRuntimeExports.jsx("code",{className:"wide selectable",children:jsxRuntimeExports.jsx("pre",{children:Ct.message})})]})})}};useDocBodyKeyboardShortcuts({request_send:bt});const _t=[{id:"body",name:"Body",text:Ye.body.text},...at.sort((Ct,Rt)=>Ct.created-Rt.created).map((Ct,Rt)=>({...Ct,name:`Stream ${Rt+1}`}))];return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Pane,{type:"request",children:[jsxRuntimeExports.jsx(PaneHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex h-full w-full flex-row items-stretch justify-between",children:[jsxRuntimeExports.jsx("div",{className:"method-grpc pad-right pad-left vertically-center",children:"gRPC"}),jsxRuntimeExports.jsx("div",{className:"flex-1",title:Ye.url,children:jsxRuntimeExports.jsx(OneLineEditor,{id:"grpc-url",type:"text",defaultValue:Ye.url,placeholder:"grpcb.in:9000",onChange:Ct=>ct(ft,{url:Ct}),getAutocompleteConstants:()=>queryAllWorkspaceUrls(ut,grpcRequest.type,ft)},ht)}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 items-center gap-[--padding-xs] pr-[--padding-sm]",children:[jsxRuntimeExports.jsx(GrpcMethodDropdown,{disabled:nt,methods:it,selectedMethod:xt,handleChange:Ct=>{ct(ft,{protoMethodName:Ct}),t({...e,requestMessages:[],responseMessages:[],status:void 0,error:void 0})}}),jsxRuntimeExports.jsx(Button,{variant:"text","data-testid":"button-use-request-stubs",disabled:!xt?.example,onClick:()=>{ot.current&&xt?.example&&ot.current.setValue(JSON.stringify(xt.example,null,2))},children:jsxRuntimeExports.jsx(Tooltip,{message:"Click to replace body with an example",position:"bottom",delay:500,children:jsxRuntimeExports.jsx("i",{className:"fa fa-code"})})}),jsxRuntimeExports.jsx(Button,{variant:"text","data-testid":"button-server-reflection",disabled:!Ye.url,onClick:async()=>{try{const Ct=(await database.withAncestors(Ye,[requestGroup.type])).filter(isRequestGroup);let Rt=await tryToInterpolateRequestOrShowRenderErrorModal({request:Ye,environmentId:et,payload:{url:Ye.url,metadata:getOrInheritHeaders({request:{headers:Ye.metadata},requestGroups:Ct}),reflectionApi:Ye.reflectionApi}});const yt=(await clientCertificate.findByParentId(ut)).find($t=>!$t.disabled&&urlMatchesCertHost(setDefaultProtocol($t.host,"grpc:"),Rt.url,!1)),Et=await caCertificate.findByParentId(ut),pt=Et&&!Et.disabled?Et.path:void 0,mt=yt?.cert?await window.main.insecureReadFile({path:yt?.cert}):void 0,gt=yt?.key?await window.main.insecureReadFile({path:yt?.key}):void 0,St=pt?await window.main.insecureReadFile({path:pt}):void 0;Rt={...Rt,rejectUnauthorized:tt.validateSSL,...Ye.url.toLowerCase().startsWith("grpcs:")?{clientCert:mt,clientKey:gt,caCertificate:St}:{}};const wt=await window.main.grpc.loadMethodsFromReflection(Rt);t({...e,methods:wt}),ct(ft,{protoFileId:"",protoMethodName:""})}catch(Ct){showModal(ErrorModal,{error:Ct,...getGrpcConnectionErrorDetails(Ct)})}},children:jsxRuntimeExports.jsx(Tooltip,{message:"Click to use server reflection",position:"bottom",delay:500,children:jsxRuntimeExports.jsx("i",{className:"fa fa-refresh"})})}),jsxRuntimeExports.jsx(Button,{"data-testid":"button-proto-file",variant:"text",onClick:()=>st(!0),children:jsxRuntimeExports.jsx(Tooltip,{message:"Click to change proto file",position:"bottom",delay:500,children:jsxRuntimeExports.jsx("i",{className:"fa fa-file-code-o"})})})]}),jsxRuntimeExports.jsx("div",{className:"flex p-1",children:jsxRuntimeExports.jsx(GrpcSendButton,{running:nt,methodType:vt,handleCancel:()=>window.main.grpc.cancel(ft),handleStart:bt})})]})}),jsxRuntimeExports.jsx(PaneBody,{children:jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$b2539bed5023c21c,{"aria-label":"Grpc request pane tabs",className:"flex h-full w-full flex-1 flex-col",children:[jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$e51a686c67fdaa2d,{className:"flex h-[--line-height-sm] w-full flex-shrink-0 items-center overflow-x-auto border-b border-solid border-b-[--hl-md] bg-[--color-bg]","aria-label":"Request pane tabs",children:[vt&&jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"method-type",children:GrpcMethodTypeName[vt]}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"headers",children:"Headers"})]}),vt&&jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"h-full w-full overflow-y-auto",id:"method-type",children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[nt&&canClientStream(vt)&&jsxRuntimeExports.jsxs("div",{className:"box-border flex h-[var(--line-height-sm)] flex-row justify-end border-b border-[var(--hl-lg)] p-1",children:[jsxRuntimeExports.jsxs("button",{className:"btn btn--compact btn--clicky-small margin-left-sm bg-default",onClick:async()=>{const Rt={body:await getRenderedGrpcRequestMessage({request:Ye,environment:et,purpose:"send"}),requestId:ft};window.main.grpc.sendMessage(Rt),t({...e,requestMessages:[...at,{id:generateId(),text:Rt.body.text||"",created:Date.now()}]})},children:["Stream ",jsxRuntimeExports.jsx("i",{className:"fa fa-plus"})]}),jsxRuntimeExports.jsxs("button",{className:"btn btn--compact btn--clicky-small margin-left-sm bg-surprise",onClick:()=>window.main.grpc.commit(ft),children:["Commit ",jsxRuntimeExports.jsx("i",{className:"fa fa-arrow-right"})]})]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$b2539bed5023c21c,{"aria-label":"Grpc tabbed messages tabs",className:"flex h-full w-full flex-1 flex-col",children:[jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$e51a686c67fdaa2d,{items:_t,className:"flex h-[--line-height-sm] w-full flex-shrink-0 items-center overflow-x-auto border-b border-solid border-b-[--hl-md] bg-[--color-bg]",children:Ct=>jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:Ct.id,children:Ct.name})}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{id:"body",className:"h-full w-full overflow-y-auto",children:jsxRuntimeExports.jsx(CodeEditor,{id:"grpc-request-editor",ref:ot,defaultValue:Ye.body.text,onChange:Ct=>ct(ft,{body:{text:Ct}}),mode:"application/json",enableNunjucks:!0,showPrettifyButton:!0})}),_t.filter(Ct=>Ct.id!=="body").map(Ct=>jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{id:Ct.id,className:"h-full w-full overflow-y-auto",children:jsxRuntimeExports.jsx(CodeEditor,{id:"grpc-request-editor-tab"+Ct.id,defaultValue:Ct.text,mode:"application/json",enableNunjucks:!0,readOnly:!0,autoPrettify:!0})},Ct.id))]},ht)]})}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"h-full w-full overflow-y-auto",id:"headers",children:jsxRuntimeExports.jsx(ErrorBoundary,{errorClassName:"font-error pad text-center",children:jsxRuntimeExports.jsx(KeyValueEditor,{namePlaceholder:"header",valuePlaceholder:"value",descriptionPlaceholder:"description",pairs:Ye.metadata,isDisabled:nt,handleGetAutocompleteNameConstants:getCommonHeaderNames,handleGetAutocompleteValueConstants:getCommonHeaderValues,onChange:Ct=>ct(ft,{metadata:Ct})})},ht)})]})})]}),rt&&jsxRuntimeExports.jsx(ProtoFilesModal,{reloadRequests:Ke,defaultId:Ye.protoFileId,onHide:()=>st(!1),onSave:async Ct=>{if(!Ct)ct(ft,{protoFileId:"",protoMethodName:""}),t({...e,methods:[]}),st(!1);else try{const Rt=await window.main.grpc.loadMethods(Ct);ct(ft,{protoFileId:Ct,protoMethodName:""}),t({...e,methods:Rt}),st(!1)}catch(Rt){showError({title:"Invalid Proto File",message:"The proto file could not be parsed",error:Rt})}}})]})};var src={},callCredentials={},metadata={},logging={},constants={},hasRequiredConstants;function requireConstants(){if(hasRequiredConstants)return constants;hasRequiredConstants=1,Object.defineProperty(constants,"__esModule",{value:!0}),constants.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=constants.DEFAULT_MAX_SEND_MESSAGE_LENGTH=constants.Propagate=constants.LogVerbosity=constants.Status=void 0;var e;(function(Ye){Ye[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(e||(constants.Status=e={}));var t;(function(Ye){Ye[Ye.DEBUG=0]="DEBUG",Ye[Ye.INFO=1]="INFO",Ye[Ye.ERROR=2]="ERROR",Ye[Ye.NONE=3]="NONE"})(t||(constants.LogVerbosity=t={}));var Ke;return(function(Ye){Ye[Ye.DEADLINE=1]="DEADLINE",Ye[Ye.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",Ye[Ye.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",Ye[Ye.CANCELLATION=8]="CANCELLATION",Ye[Ye.DEFAULTS=65535]="DEFAULTS"})(Ke||(constants.Propagate=Ke={})),constants.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1,constants.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4*1024*1024,constants}const version="1.13.3",require$$9={version};var hasRequiredLogging;function requireLogging(){return hasRequiredLogging||(hasRequiredLogging=1,(function(e){var t={},Ke,Ye,Je,Xe;Object.defineProperty(e,"__esModule",{value:!0}),e.log=e.setLoggerVerbosity=e.setLogger=e.getLogger=void 0,e.trace=vt,e.isTracerEnabled=bt;const et=requireConstants(),tt=require("process"),rt=require$$9.version;let at={error:(_t,...Ct)=>{console.error("E "+_t,...Ct)},info:(_t,...Ct)=>{console.error("I "+_t,...Ct)},debug:(_t,...Ct)=>{console.error("D "+_t,...Ct)}},nt=et.LogVerbosity.ERROR;switch(((Ye=(Ke=t.GRPC_NODE_VERBOSITY)!==null&&Ke!==void 0?Ke:t.GRPC_VERBOSITY)!==null&&Ye!==void 0?Ye:"").toUpperCase()){case"DEBUG":nt=et.LogVerbosity.DEBUG;break;case"INFO":nt=et.LogVerbosity.INFO;break;case"ERROR":nt=et.LogVerbosity.ERROR;break;case"NONE":nt=et.LogVerbosity.NONE;break}const ot=()=>at;e.getLogger=ot;const lt=_t=>{at=_t};e.setLogger=lt;const ut=_t=>{nt=_t};e.setLoggerVerbosity=ut;const ft=(_t,...Ct)=>{let Rt;if(_t>=nt){switch(_t){case et.LogVerbosity.DEBUG:Rt=at.debug;break;case et.LogVerbosity.INFO:Rt=at.info;break;case et.LogVerbosity.ERROR:Rt=at.error;break}Rt||(Rt=at.error),Rt&&Rt.bind(at)(...Ct)}};e.log=ft;const ct=(Xe=(Je=t.GRPC_NODE_TRACE)!==null&&Je!==void 0?Je:t.GRPC_TRACE)!==null&&Xe!==void 0?Xe:"",dt=new Set,ht=new Set;for(const _t of ct.split(","))_t.startsWith("-")?ht.add(_t.substring(1)):dt.add(_t);const xt=dt.has("all");function vt(_t,Ct,Rt){bt(Ct)&&(0,e.log)(_t,new Date().toISOString()+" | v"+rt+" "+tt.pid+" | "+Ct+" | "+Rt)}function bt(_t){return!ht.has(_t)&&(xt||dt.has(_t))}})(logging)),logging}var error={},hasRequiredError;function requireError(){if(hasRequiredError)return error;hasRequiredError=1,Object.defineProperty(error,"__esModule",{value:!0}),error.getErrorMessage=e,error.getErrorCode=t;function e(Ke){return Ke instanceof Error?Ke.message:String(Ke)}function t(Ke){return typeof Ke=="object"&&Ke!==null&&"code"in Ke&&typeof Ke.code=="number"?Ke.code:null}return error}var hasRequiredMetadata;function requireMetadata(){if(hasRequiredMetadata)return metadata;hasRequiredMetadata=1,Object.defineProperty(metadata,"__esModule",{value:!0}),metadata.Metadata=void 0;const e=requireLogging(),t=requireConstants(),Ke=requireError(),Ye=/^[0-9a-z_.-]+$/,Je=/^[ -~]*$/;function Xe(ot){return Ye.test(ot)}function et(ot){return Je.test(ot)}function tt(ot){return ot.endsWith("-bin")}function rt(ot){return!ot.startsWith("grpc-")}function st(ot){return ot.toLowerCase()}function at(ot,lt){if(!Xe(ot))throw new Error('Metadata key "'+ot+'" contains illegal characters');if(lt!=null)if(tt(ot)){if(!Buffer.isBuffer(lt))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(lt))throw new Error("keys that don't end with '-bin' must have String values");if(!et(lt))throw new Error('Metadata string value "'+lt+'" contains illegal characters')}}class nt{constructor(lt={}){this.internalRepr=new Map,this.options=lt}set(lt,ut){lt=st(lt),at(lt,ut),this.internalRepr.set(lt,[ut])}add(lt,ut){lt=st(lt),at(lt,ut);const ft=this.internalRepr.get(lt);ft===void 0?this.internalRepr.set(lt,[ut]):ft.push(ut)}remove(lt){lt=st(lt),this.internalRepr.delete(lt)}get(lt){return lt=st(lt),this.internalRepr.get(lt)||[]}getMap(){const lt={};for(const[ut,ft]of this.internalRepr)if(ft.length>0){const ct=ft[0];lt[ut]=Buffer.isBuffer(ct)?Buffer.from(ct):ct}return lt}clone(){const lt=new nt(this.options),ut=lt.internalRepr;for(const[ft,ct]of this.internalRepr){const dt=ct.map(ht=>Buffer.isBuffer(ht)?Buffer.from(ht):ht);ut.set(ft,dt)}return lt}merge(lt){for(const[ut,ft]of lt.internalRepr){const ct=(this.internalRepr.get(ut)||[]).concat(ft);this.internalRepr.set(ut,ct)}}setOptions(lt){this.options=lt}getOptions(){return this.options}toHttp2Headers(){const lt={};for(const[ut,ft]of this.internalRepr)lt[ut]=ft.map(it);return lt}toJSON(){const lt={};for(const[ut,ft]of this.internalRepr)lt[ut]=ft;return lt}static fromHttp2Headers(lt){const ut=new nt;for(const ft of Object.keys(lt)){if(ft.charAt(0)===":")continue;const ct=lt[ft];try{tt(ft)?Array.isArray(ct)?ct.forEach(dt=>{ut.add(ft,Buffer.from(dt,"base64"))}):ct!==void 0&&(rt(ft)?ct.split(",").forEach(dt=>{ut.add(ft,Buffer.from(dt.trim(),"base64"))}):ut.add(ft,Buffer.from(ct,"base64"))):Array.isArray(ct)?ct.forEach(dt=>{ut.add(ft,dt)}):ct!==void 0&&ut.add(ft,ct)}catch(dt){const ht=`Failed to add metadata entry ${ft}: ${ct}. ${(0,Ke.getErrorMessage)(dt)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,e.log)(t.LogVerbosity.ERROR,ht)}}return ut}}metadata.Metadata=nt;const it=ot=>Buffer.isBuffer(ot)?ot.toString("base64"):ot;return metadata}var hasRequiredCallCredentials;function requireCallCredentials(){if(hasRequiredCallCredentials)return callCredentials;hasRequiredCallCredentials=1,Object.defineProperty(callCredentials,"__esModule",{value:!0}),callCredentials.CallCredentials=void 0;const e=requireMetadata();function t(et){return"getRequestHeaders"in et&&typeof et.getRequestHeaders=="function"}class Ke{static createFromMetadataGenerator(tt){return new Je(tt)}static createFromGoogleCredential(tt){return Ke.createFromMetadataGenerator((rt,st)=>{let at;t(tt)?at=tt.getRequestHeaders(rt.service_url):at=new Promise((nt,it)=>{tt.getRequestMetadata(rt.service_url,(ot,lt)=>{if(ot){it(ot);return}if(!lt){it(new Error("Headers not set by metadata plugin"));return}nt(lt)})}),at.then(nt=>{const it=new e.Metadata;for(const ot of Object.keys(nt))it.add(ot,nt[ot]);st(null,it)},nt=>{st(nt)})})}static createEmpty(){return new Xe}}callCredentials.CallCredentials=Ke;class Ye extends Ke{constructor(tt){super(),this.creds=tt}async generateMetadata(tt){const rt=new e.Metadata,st=await Promise.all(this.creds.map(at=>at.generateMetadata(tt)));for(const at of st)rt.merge(at);return rt}compose(tt){return new Ye(this.creds.concat([tt]))}_equals(tt){return this===tt?!0:tt instanceof Ye?this.creds.every((rt,st)=>rt._equals(tt.creds[st])):!1}}class Je extends Ke{constructor(tt){super(),this.metadataGenerator=tt}generateMetadata(tt){return new Promise((rt,st)=>{this.metadataGenerator(tt,(at,nt)=>{nt!==void 0?rt(nt):st(at)})})}compose(tt){return new Ye([this,tt])}_equals(tt){return this===tt?!0:tt instanceof Je?this.metadataGenerator===tt.metadataGenerator:!1}}class Xe extends Ke{generateMetadata(tt){return Promise.resolve(new e.Metadata)}compose(tt){return tt}_equals(tt){return tt instanceof Xe}}return callCredentials}var channel={},channelCredentials={},tlsHelpers={},hasRequiredTlsHelpers;function requireTlsHelpers(){if(hasRequiredTlsHelpers)return tlsHelpers;hasRequiredTlsHelpers=1;var e={};Object.defineProperty(tlsHelpers,"__esModule",{value:!0}),tlsHelpers.CIPHER_SUITES=void 0,tlsHelpers.getDefaultRootsData=Je;const t=require("fs");tlsHelpers.CIPHER_SUITES=e.GRPC_SSL_CIPHER_SUITES;const Ke=e.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH;let Ye=null;function Je(){return Ke?(Ye===null&&(Ye=t.readFileSync(Ke)),Ye):null}return tlsHelpers}var uriParser={},hasRequiredUriParser;function requireUriParser(){if(hasRequiredUriParser)return uriParser;hasRequiredUriParser=1,Object.defineProperty(uriParser,"__esModule",{value:!0}),uriParser.parseUri=t,uriParser.splitHostPort=Ye,uriParser.combineHostPort=Je,uriParser.uriToString=Xe;const e=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function t(et){const tt=e.exec(et);return tt===null?null:{scheme:tt[1],authority:tt[2],path:tt[3]}}const Ke=/^\d+$/;function Ye(et){if(et.startsWith("[")){const tt=et.indexOf("]");if(tt===-1)return null;const rt=et.substring(1,tt);if(rt.indexOf(":")===-1)return null;if(et.length>tt+1)if(et[tt+1]===":"){const st=et.substring(tt+2);return Ke.test(st)?{host:rt,port:+st}:null}else return null;else return{host:rt}}else{const tt=et.split(":");return tt.length===2?Ke.test(tt[1])?{host:tt[0],port:+tt[1]}:null:{host:et}}}function Je(et){return et.port===void 0?et.host:et.host.includes(":")?`[${et.host}]:${et.port}`:`${et.host}:${et.port}`}function Xe(et){let tt="";return et.scheme!==void 0&&(tt+=et.scheme+":"),et.authority!==void 0&&(tt+="//"+et.authority+"/"),tt+=et.path,tt}return uriParser}var resolver={},hasRequiredResolver;function requireResolver(){if(hasRequiredResolver)return resolver;hasRequiredResolver=1,Object.defineProperty(resolver,"__esModule",{value:!0}),resolver.registerResolver=Ye,resolver.registerDefaultScheme=Je,resolver.createResolver=Xe,resolver.getDefaultAuthority=et,resolver.mapUriDefaultScheme=tt;const e=requireUriParser(),t={};let Ke=null;function Ye(rt,st){t[rt]=st}function Je(rt){Ke=rt}function Xe(rt,st,at){if(rt.scheme!==void 0&&rt.scheme in t)return new t[rt.scheme](rt,st,at);throw new Error(`No resolver could be created for target ${(0,e.uriToString)(rt)}`)}function et(rt){if(rt.scheme!==void 0&&rt.scheme in t)return t[rt.scheme].getDefaultAuthority(rt);throw new Error(`Invalid target ${(0,e.uriToString)(rt)}`)}function tt(rt){return rt.scheme===void 0||!(rt.scheme in t)?Ke!==null?{scheme:Ke,authority:void 0,path:(0,e.uriToString)(rt)}:null:rt}return resolver}var hasRequiredChannelCredentials;function requireChannelCredentials(){if(hasRequiredChannelCredentials)return channelCredentials;hasRequiredChannelCredentials=1,Object.defineProperty(channelCredentials,"__esModule",{value:!0}),channelCredentials.ChannelCredentials=void 0,channelCredentials.createCertificateProviderChannelCredentials=lt;const e=require("tls"),t=requireCallCredentials(),Ke=requireTlsHelpers(),Ye=requireUriParser(),Je=requireResolver(),Xe=requireLogging(),et=requireConstants();function tt(ft,ct){if(ft&&!(ft instanceof Buffer))throw new TypeError(`${ct}, if provided, must be a Buffer.`)}class rt{compose(ct){return new ut(this,ct)}static createSsl(ct,dt,ht,xt){var vt;if(tt(ct,"Root certificate"),tt(dt,"Private key"),tt(ht,"Certificate chain"),dt&&!ht)throw new Error("Private key must be given with accompanying certificate chain");if(!dt&&ht)throw new Error("Certificate chain must be given with accompanying private key");const bt=(0,e.createSecureContext)({ca:(vt=ct??(0,Ke.getDefaultRootsData)())!==null&&vt!==void 0?vt:void 0,key:dt??void 0,cert:ht??void 0,ciphers:Ke.CIPHER_SUITES});return new it(bt,xt??{})}static createFromSecureContext(ct,dt){return new it(ct,dt??{})}static createInsecure(){return new st}}channelCredentials.ChannelCredentials=rt;class st extends rt{constructor(){super()}compose(ct){throw new Error("Cannot compose insecure credentials")}_isSecure(){return!1}_equals(ct){return ct instanceof st}_createSecureConnector(ct,dt,ht){return{connect(xt){return Promise.resolve({socket:xt,secure:!1})},waitForReady:()=>Promise.resolve(),getCallCredentials:()=>ht??t.CallCredentials.createEmpty(),destroy(){}}}}function at(ft,ct,dt,ht){var xt,vt,bt,_t;const Ct={secureContext:ft};if(ct.checkServerIdentity&&(Ct.checkServerIdentity=ct.checkServerIdentity),ct.rejectUnauthorized!==void 0&&(Ct.rejectUnauthorized=ct.rejectUnauthorized),Ct.ALPNProtocols=["h2"],ht["grpc.ssl_target_name_override"]){const pt=ht["grpc.ssl_target_name_override"],mt=(xt=Ct.checkServerIdentity)!==null&&xt!==void 0?xt:e.checkServerIdentity;Ct.checkServerIdentity=(gt,St)=>mt(pt,St),Ct.servername=pt}else if("grpc.http_connect_target"in ht){const pt=(0,Je.getDefaultAuthority)((vt=(0,Ye.parseUri)(ht["grpc.http_connect_target"]))!==null&&vt!==void 0?vt:{path:"localhost"}),mt=(0,Ye.splitHostPort)(pt);Ct.servername=(bt=mt?.host)!==null&&bt!==void 0?bt:pt}ht["grpc-node.tls_enable_trace"]&&(Ct.enableTrace=!0);let Rt=dt;if("grpc.http_connect_target"in ht){const pt=(0,Ye.parseUri)(ht["grpc.http_connect_target"]);pt&&(Rt=pt)}const jt=(0,Je.getDefaultAuthority)(Rt),yt=(0,Ye.splitHostPort)(jt),Et=(_t=yt?.host)!==null&&_t!==void 0?_t:jt;return Ct.host=Et,Ct.servername=Et,Ct}class nt{constructor(ct,dt){this.connectionOptions=ct,this.callCredentials=dt}connect(ct){const dt=Object.assign({socket:ct},this.connectionOptions);return new Promise((ht,xt)=>{const vt=(0,e.connect)(dt,()=>{var bt;if((!((bt=this.connectionOptions.rejectUnauthorized)!==null&&bt!==void 0)||bt)&&!vt.authorized){xt(vt.authorizationError);return}ht({socket:vt,secure:!0})});vt.on("error",bt=>{xt(bt)})})}waitForReady(){return Promise.resolve()}getCallCredentials(){return this.callCredentials}destroy(){}}class it extends rt{constructor(ct,dt){super(),this.secureContext=ct,this.verifyOptions=dt}_isSecure(){return!0}_equals(ct){return this===ct?!0:ct instanceof it?this.secureContext===ct.secureContext&&this.verifyOptions.checkServerIdentity===ct.verifyOptions.checkServerIdentity:!1}_createSecureConnector(ct,dt,ht){const xt=at(this.secureContext,this.verifyOptions,ct,dt);return new nt(xt,ht??t.CallCredentials.createEmpty())}}class ot extends rt{constructor(ct,dt,ht){super(),this.caCertificateProvider=ct,this.identityCertificateProvider=dt,this.verifyOptions=ht,this.refcount=0,this.latestCaUpdate=void 0,this.latestIdentityUpdate=void 0,this.caCertificateUpdateListener=this.handleCaCertificateUpdate.bind(this),this.identityCertificateUpdateListener=this.handleIdentityCertitificateUpdate.bind(this),this.secureContextWatchers=[]}_isSecure(){return!0}_equals(ct){var dt,ht;return this===ct?!0:ct instanceof ot?this.caCertificateProvider===ct.caCertificateProvider&&this.identityCertificateProvider===ct.identityCertificateProvider&&((dt=this.verifyOptions)===null||dt===void 0?void 0:dt.checkServerIdentity)===((ht=ct.verifyOptions)===null||ht===void 0?void 0:ht.checkServerIdentity):!1}ref(){var ct;this.refcount===0&&(this.caCertificateProvider.addCaCertificateListener(this.caCertificateUpdateListener),(ct=this.identityCertificateProvider)===null||ct===void 0||ct.addIdentityCertificateListener(this.identityCertificateUpdateListener)),this.refcount+=1}unref(){var ct;this.refcount-=1,this.refcount===0&&(this.caCertificateProvider.removeCaCertificateListener(this.caCertificateUpdateListener),(ct=this.identityCertificateProvider)===null||ct===void 0||ct.removeIdentityCertificateListener(this.identityCertificateUpdateListener))}_createSecureConnector(ct,dt,ht){return this.ref(),new ot.SecureConnectorImpl(this,ct,dt,ht??t.CallCredentials.createEmpty())}maybeUpdateWatchers(){if(this.hasReceivedUpdates()){for(const ct of this.secureContextWatchers)ct(this.getLatestSecureContext());this.secureContextWatchers=[]}}handleCaCertificateUpdate(ct){this.latestCaUpdate=ct,this.maybeUpdateWatchers()}handleIdentityCertitificateUpdate(ct){this.latestIdentityUpdate=ct,this.maybeUpdateWatchers()}hasReceivedUpdates(){return!(this.latestCaUpdate===void 0||this.identityCertificateProvider&&this.latestIdentityUpdate===void 0)}getSecureContext(){return this.hasReceivedUpdates()?Promise.resolve(this.getLatestSecureContext()):new Promise(ct=>{this.secureContextWatchers.push(ct)})}getLatestSecureContext(){var ct,dt;if(!this.latestCaUpdate||this.identityCertificateProvider!==null&&!this.latestIdentityUpdate)return null;try{return(0,e.createSecureContext)({ca:this.latestCaUpdate.caCertificate,key:(ct=this.latestIdentityUpdate)===null||ct===void 0?void 0:ct.privateKey,cert:(dt=this.latestIdentityUpdate)===null||dt===void 0?void 0:dt.certificate,ciphers:Ke.CIPHER_SUITES})}catch(ht){return(0,Xe.log)(et.LogVerbosity.ERROR,"Failed to createSecureContext with error "+ht.message),null}}}ot.SecureConnectorImpl=class{constructor(ft,ct,dt,ht){this.parent=ft,this.channelTarget=ct,this.options=dt,this.callCredentials=ht}connect(ft){return new Promise((ct,dt)=>{const ht=this.parent.getLatestSecureContext();if(!ht){dt(new Error("Failed to load credentials"));return}ft.closed&&dt(new Error("Socket closed while loading credentials"));const xt=at(ht,this.parent.verifyOptions,this.channelTarget,this.options),vt=Object.assign({socket:ft},xt),bt=()=>{dt(new Error("Socket closed"))},_t=Rt=>{dt(Rt)},Ct=(0,e.connect)(vt,()=>{var Rt;if(Ct.removeListener("close",bt),Ct.removeListener("error",_t),(!((Rt=this.parent.verifyOptions.rejectUnauthorized)!==null&&Rt!==void 0)||Rt)&&!Ct.authorized){dt(Ct.authorizationError);return}ct({socket:Ct,secure:!0})});Ct.once("close",bt),Ct.once("error",_t)})}async waitForReady(){await this.parent.getSecureContext()}getCallCredentials(){return this.callCredentials}destroy(){this.parent.unref()}};function lt(ft,ct,dt){return new ot(ft,ct,dt??{})}class ut extends rt{constructor(ct,dt){if(super(),this.channelCredentials=ct,this.callCredentials=dt,!ct._isSecure())throw new Error("Cannot compose insecure credentials")}compose(ct){const dt=this.callCredentials.compose(ct);return new ut(this.channelCredentials,dt)}_isSecure(){return!0}_equals(ct){return this===ct?!0:ct instanceof ut?this.channelCredentials._equals(ct.channelCredentials)&&this.callCredentials._equals(ct.callCredentials):!1}_createSecureConnector(ct,dt,ht){const xt=this.callCredentials.compose(ht??t.CallCredentials.createEmpty());return this.channelCredentials._createSecureConnector(ct,dt,xt)}}return channelCredentials}var internalChannel={},resolvingLoadBalancer={},loadBalancer={},hasRequiredLoadBalancer;function requireLoadBalancer(){if(hasRequiredLoadBalancer)return loadBalancer;hasRequiredLoadBalancer=1,Object.defineProperty(loadBalancer,"__esModule",{value:!0}),loadBalancer.createChildChannelControlHelper=Ke,loadBalancer.registerLoadBalancerType=Xe,loadBalancer.registerDefaultLoadBalancerType=et,loadBalancer.createLoadBalancer=tt,loadBalancer.isLoadBalancerNameRegistered=rt,loadBalancer.parseLoadBalancingConfig=st,loadBalancer.getDefaultConfig=at,loadBalancer.selectLbConfigFromList=nt;const e=requireLogging(),t=requireConstants();function Ke(it,ot){var lt,ut,ft,ct,dt,ht,xt,vt,bt,_t;return{createSubchannel:(ut=(lt=ot.createSubchannel)===null||lt===void 0?void 0:lt.bind(ot))!==null&&ut!==void 0?ut:it.createSubchannel.bind(it),updateState:(ct=(ft=ot.updateState)===null||ft===void 0?void 0:ft.bind(ot))!==null&&ct!==void 0?ct:it.updateState.bind(it),requestReresolution:(ht=(dt=ot.requestReresolution)===null||dt===void 0?void 0:dt.bind(ot))!==null&&ht!==void 0?ht:it.requestReresolution.bind(it),addChannelzChild:(vt=(xt=ot.addChannelzChild)===null||xt===void 0?void 0:xt.bind(ot))!==null&&vt!==void 0?vt:it.addChannelzChild.bind(it),removeChannelzChild:(_t=(bt=ot.removeChannelzChild)===null||bt===void 0?void 0:bt.bind(ot))!==null&&_t!==void 0?_t:it.removeChannelzChild.bind(it)}}const Ye={};let Je=null;function Xe(it,ot,lt){Ye[it]={LoadBalancer:ot,LoadBalancingConfig:lt}}function et(it){Je=it}function tt(it,ot){const lt=it.getLoadBalancerName();return lt in Ye?new Ye[lt].LoadBalancer(ot):null}function rt(it){return it in Ye}function st(it){const ot=Object.keys(it);if(ot.length!==1)throw new Error("Provided load balancing config has multiple conflicting entries");const lt=ot[0];if(lt in Ye)try{return Ye[lt].LoadBalancingConfig.createFromJson(it[lt])}catch(ut){throw new Error(`${lt}: ${ut.message}`)}else throw new Error(`Unrecognized load balancing config name ${lt}`)}function at(){if(!Je)throw new Error("No default load balancer type registered");return new Ye[Je].LoadBalancingConfig}function nt(it,ot=!1){for(const lt of it)try{return st(lt)}catch(ut){(0,e.log)(t.LogVerbosity.DEBUG,"Config parsing failed with error",ut.message);continue}return ot&&Je?new Ye[Je].LoadBalancingConfig:null}return loadBalancer}var serviceConfig={},hasRequiredServiceConfig;function requireServiceConfig(){if(hasRequiredServiceConfig)return serviceConfig;hasRequiredServiceConfig=1,Object.defineProperty(serviceConfig,"__esModule",{value:!0}),serviceConfig.validateRetryThrottling=rt,serviceConfig.validateServiceConfig=at,serviceConfig.extractAndSelectServiceConfig=ot;const e=require("os"),t=requireConstants(),Ke=/^\d+(\.\d{1,9})?s$/,Ye="node";function Je(lt){if("service"in lt&&lt.service!==""){if(typeof lt.service!="string")throw new Error(`Invalid method config name: invalid service: expected type string, got ${typeof lt.service}`);if("method"in lt&&lt.method!==""){if(typeof lt.method!="string")throw new Error(`Invalid method config name: invalid method: expected type string, got ${typeof lt.service}`);return{service:lt.service,method:lt.method}}else return{service:lt.service}}else{if("method"in lt&&lt.method!==void 0)throw new Error("Invalid method config name: method set with empty or unset service");return{}}}function Xe(lt){if(!("maxAttempts"in lt)||!Number.isInteger(lt.maxAttempts)||lt.maxAttempts<2)throw new Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in lt)||typeof lt.initialBackoff!="string"||!Ke.test(lt.initialBackoff))throw new Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("maxBackoff"in lt)||typeof lt.maxBackoff!="string"||!Ke.test(lt.maxBackoff))throw new Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("backoffMultiplier"in lt)||typeof lt.backoffMultiplier!="number"||lt.backoffMultiplier<=0)throw new Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in lt&&Array.isArray(lt.retryableStatusCodes)))throw new Error("Invalid method config retry policy: retryableStatusCodes is required");if(lt.retryableStatusCodes.length===0)throw new Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(const ut of lt.retryableStatusCodes)if(typeof ut=="number"){if(!Object.values(t.Status).includes(ut))throw new Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if(typeof ut=="string"){if(!Object.values(t.Status).includes(ut.toUpperCase()))throw new Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw new Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:lt.maxAttempts,initialBackoff:lt.initialBackoff,maxBackoff:lt.maxBackoff,backoffMultiplier:lt.backoffMultiplier,retryableStatusCodes:lt.retryableStatusCodes}}function et(lt){if(!("maxAttempts"in lt)||!Number.isInteger(lt.maxAttempts)||lt.maxAttempts<2)throw new Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in lt&&(typeof lt.hedgingDelay!="string"||!Ke.test(lt.hedgingDelay)))throw new Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in lt&&Array.isArray(lt.nonFatalStatusCodes))for(const ft of lt.nonFatalStatusCodes)if(typeof ft=="number"){if(!Object.values(t.Status).includes(ft))throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if(typeof ft=="string"){if(!Object.values(t.Status).includes(ft.toUpperCase()))throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value must be a string or number");const ut={maxAttempts:lt.maxAttempts};return lt.hedgingDelay&&(ut.hedgingDelay=lt.hedgingDelay),lt.nonFatalStatusCodes&&(ut.nonFatalStatusCodes=lt.nonFatalStatusCodes),ut}function tt(lt){var ut;const ft={name:[]};if(!("name"in lt)||!Array.isArray(lt.name))throw new Error("Invalid method config: invalid name array");for(const ct of lt.name)ft.name.push(Je(ct));if("waitForReady"in lt){if(typeof lt.waitForReady!="boolean")throw new Error("Invalid method config: invalid waitForReady");ft.waitForReady=lt.waitForReady}if("timeout"in lt)if(typeof lt.timeout=="object"){if(!("seconds"in lt.timeout)||typeof lt.timeout.seconds!="number")throw new Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in lt.timeout)||typeof lt.timeout.nanos!="number")throw new Error("Invalid method config: invalid timeout.nanos");ft.timeout=lt.timeout}else if(typeof lt.timeout=="string"&&Ke.test(lt.timeout)){const ct=lt.timeout.substring(0,lt.timeout.length-1).split(".");ft.timeout={seconds:ct[0]|0,nanos:((ut=ct[1])!==null&&ut!==void 0?ut:0)|0}}else throw new Error("Invalid method config: invalid timeout");if("maxRequestBytes"in lt){if(typeof lt.maxRequestBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");ft.maxRequestBytes=lt.maxRequestBytes}if("maxResponseBytes"in lt){if(typeof lt.maxResponseBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");ft.maxResponseBytes=lt.maxResponseBytes}if("retryPolicy"in lt){if("hedgingPolicy"in lt)throw new Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");ft.retryPolicy=Xe(lt.retryPolicy)}else"hedgingPolicy"in lt&&(ft.hedgingPolicy=et(lt.hedgingPolicy));return ft}function rt(lt){if(!("maxTokens"in lt)||typeof lt.maxTokens!="number"||lt.maxTokens<=0||lt.maxTokens>1e3)throw new Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in lt)||typeof lt.tokenRatio!="number"||lt.tokenRatio<=0)throw new Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+lt.maxTokens.toFixed(3),tokenRatio:+lt.tokenRatio.toFixed(3)}}function st(lt){if(!(typeof lt=="object"&&lt!==null))throw new Error(`Invalid loadBalancingConfig: unexpected type ${typeof lt}`);const ut=Object.keys(lt);if(ut.length>1)throw new Error(`Invalid loadBalancingConfig: unexpected multiple keys ${ut}`);if(ut.length===0)throw new Error("Invalid loadBalancingConfig: load balancing policy name required");return{[ut[0]]:lt[ut[0]]}}function at(lt){const ut={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in lt)if(typeof lt.loadBalancingPolicy=="string")ut.loadBalancingPolicy=lt.loadBalancingPolicy;else throw new Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in lt)if(Array.isArray(lt.loadBalancingConfig))for(const ct of lt.loadBalancingConfig)ut.loadBalancingConfig.push(st(ct));else throw new Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in lt&&Array.isArray(lt.methodConfig))for(const ct of lt.methodConfig)ut.methodConfig.push(tt(ct));"retryThrottling"in lt&&(ut.retryThrottling=rt(lt.retryThrottling));const ft=[];for(const ct of ut.methodConfig)for(const dt of ct.name){for(const ht of ft)if(dt.service===ht.service&&dt.method===ht.method)throw new Error(`Invalid service config: duplicate name ${dt.service}/${dt.method}`);ft.push(dt)}return ut}function nt(lt){if(!("serviceConfig"in lt))throw new Error("Invalid service config choice: missing service config");const ut={serviceConfig:at(lt.serviceConfig)};if("clientLanguage"in lt)if(Array.isArray(lt.clientLanguage)){ut.clientLanguage=[];for(const ct of lt.clientLanguage)if(typeof ct=="string")ut.clientLanguage.push(ct);else throw new Error("Invalid service config choice: invalid clientLanguage")}else throw new Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in lt)if(Array.isArray(lt.clientHostname)){ut.clientHostname=[];for(const ct of lt.clientHostname)if(typeof ct=="string")ut.clientHostname.push(ct);else throw new Error("Invalid service config choice: invalid clientHostname")}else throw new Error("Invalid service config choice: invalid clientHostname");if("percentage"in lt)if(typeof lt.percentage=="number"&&0<=lt.percentage&&lt.percentage<=100)ut.percentage=lt.percentage;else throw new Error("Invalid service config choice: invalid percentage");const ft=["clientLanguage","percentage","clientHostname","serviceConfig"];for(const ct in lt)if(!ft.includes(ct))throw new Error(`Invalid service config choice: unexpected field ${ct}`);return ut}function it(lt,ut){if(!Array.isArray(lt))throw new Error("Invalid service config list");for(const ft of lt){const ct=nt(ft);if(!(typeof ct.percentage=="number"&&ut>ct.percentage)){if(Array.isArray(ct.clientHostname)){let dt=!1;for(const ht of ct.clientHostname)ht===e.hostname()&&(dt=!0);if(!dt)continue}if(Array.isArray(ct.clientLanguage)){let dt=!1;for(const ht of ct.clientLanguage)ht===Ye&&(dt=!0);if(!dt)continue}return ct.serviceConfig}}throw new Error("No matching service config found")}function ot(lt,ut){for(const ft of lt)if(ft.length>0&&ft[0].startsWith("grpc_config=")){const ct=ft.join("").substring(12),dt=JSON.parse(ct);return it(dt,ut)}return null}return serviceConfig}var connectivityState={},hasRequiredConnectivityState;function requireConnectivityState(){if(hasRequiredConnectivityState)return connectivityState;hasRequiredConnectivityState=1,Object.defineProperty(connectivityState,"__esModule",{value:!0}),connectivityState.ConnectivityState=void 0;var e;return(function(t){t[t.IDLE=0]="IDLE",t[t.CONNECTING=1]="CONNECTING",t[t.READY=2]="READY",t[t.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",t[t.SHUTDOWN=4]="SHUTDOWN"})(e||(connectivityState.ConnectivityState=e={})),connectivityState}var picker={},hasRequiredPicker;function requirePicker(){if(hasRequiredPicker)return picker;hasRequiredPicker=1,Object.defineProperty(picker,"__esModule",{value:!0}),picker.QueuePicker=picker.UnavailablePicker=picker.PickResultType=void 0;const e=requireMetadata(),t=requireConstants();var Ke;(function(Xe){Xe[Xe.COMPLETE=0]="COMPLETE",Xe[Xe.QUEUE=1]="QUEUE",Xe[Xe.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",Xe[Xe.DROP=3]="DROP"})(Ke||(picker.PickResultType=Ke={}));class Ye{constructor(et){this.status=Object.assign({code:t.Status.UNAVAILABLE,details:"No connection established",metadata:new e.Metadata},et)}pick(et){return{pickResultType:Ke.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}}picker.UnavailablePicker=Ye;class Je{constructor(et,tt){this.loadBalancer=et,this.childPicker=tt,this.calledExitIdle=!1}pick(et){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),this.childPicker?this.childPicker.pick(et):{pickResultType:Ke.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}}return picker.QueuePicker=Je,picker}var backoffTimeout={},hasRequiredBackoffTimeout;function requireBackoffTimeout(){if(hasRequiredBackoffTimeout)return backoffTimeout;hasRequiredBackoffTimeout=1,Object.defineProperty(backoffTimeout,"__esModule",{value:!0}),backoffTimeout.BackoffTimeout=void 0;const e=requireConstants(),t=requireLogging(),Ke="backoff",Ye=1e3,Je=1.6,Xe=12e4,et=.2;function tt(st,at){return Math.random()*(at-st)+st}class rt{constructor(at,nt){this.callback=at,this.initialDelay=Ye,this.multiplier=Je,this.maxDelay=Xe,this.jitter=et,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,this.id=rt.getNextId(),nt&&(nt.initialDelay&&(this.initialDelay=nt.initialDelay),nt.multiplier&&(this.multiplier=nt.multiplier),nt.jitter&&(this.jitter=nt.jitter),nt.maxDelay&&(this.maxDelay=nt.maxDelay)),this.trace("constructed initialDelay="+this.initialDelay+" multiplier="+this.multiplier+" jitter="+this.jitter+" maxDelay="+this.maxDelay),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}static getNextId(){return this.nextId++}trace(at){t.trace(e.LogVerbosity.DEBUG,Ke,"{"+this.id+"} "+at)}runTimer(at){var nt,it;this.trace("runTimer(delay="+at+")"),this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+at),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.trace("timer fired"),this.running=!1,this.callback()},at),this.hasRef||(it=(nt=this.timerId).unref)===null||it===void 0||it.call(nt)}runOnce(){this.trace("runOnce()"),this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);const at=Math.min(this.nextDelay*this.multiplier,this.maxDelay),nt=at*this.jitter;this.nextDelay=at+tt(-nt,nt)}stop(){this.trace("stop()"),clearTimeout(this.timerId),this.running=!1}reset(){if(this.trace("reset() running="+this.running),this.nextDelay=this.initialDelay,this.running){const at=new Date,nt=this.startTime;nt.setMilliseconds(nt.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),at<nt?this.runTimer(nt.getTime()-at.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var at,nt;this.hasRef=!0,(nt=(at=this.timerId).ref)===null||nt===void 0||nt.call(at)}unref(){var at,nt;this.hasRef=!1,(nt=(at=this.timerId).unref)===null||nt===void 0||nt.call(at)}getEndTime(){return this.endTime}}return backoffTimeout.BackoffTimeout=rt,rt.nextId=0,backoffTimeout}var loadBalancerChildHandler={},hasRequiredLoadBalancerChildHandler;function requireLoadBalancerChildHandler(){if(hasRequiredLoadBalancerChildHandler)return loadBalancerChildHandler;hasRequiredLoadBalancerChildHandler=1,Object.defineProperty(loadBalancerChildHandler,"__esModule",{value:!0}),loadBalancerChildHandler.ChildLoadBalancerHandler=void 0;const e=requireLoadBalancer(),t=requireConnectivityState(),Ke="child_load_balancer_helper";class Ye{constructor(Xe){this.channelControlHelper=Xe,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(et){this.parent=et,this.child=null}createSubchannel(et,tt){return this.parent.channelControlHelper.createSubchannel(et,tt)}updateState(et,tt,rt){var st;if(this.calledByPendingChild()){if(et===t.ConnectivityState.CONNECTING)return;(st=this.parent.currentChild)===null||st===void 0||st.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(et,tt,rt)}requestReresolution(){var et;const tt=(et=this.parent.pendingChild)!==null&&et!==void 0?et:this.parent.currentChild;this.child===tt&&this.parent.channelControlHelper.requestReresolution()}setChild(et){this.child=et}addChannelzChild(et){this.parent.channelControlHelper.addChannelzChild(et)}removeChannelzChild(et){this.parent.channelControlHelper.removeChannelzChild(et)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(Xe,et){return Xe.getLoadBalancerName()!==et.getLoadBalancerName()}updateAddressList(Xe,et,tt){let rt;if(this.currentChild===null||this.latestConfig===null||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,et)){const st=new this.ChildPolicyHelper(this),at=(0,e.createLoadBalancer)(et,st);st.setChild(at),this.currentChild===null?(this.currentChild=at,rt=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=at,rt=this.pendingChild)}else this.pendingChild===null?rt=this.currentChild:rt=this.pendingChild;this.latestConfig=et,rt.updateAddressList(Xe,et,tt)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return Ke}}return loadBalancerChildHandler.ChildLoadBalancerHandler=Ye,loadBalancerChildHandler}var hasRequiredResolvingLoadBalancer;function requireResolvingLoadBalancer(){if(hasRequiredResolvingLoadBalancer)return resolvingLoadBalancer;hasRequiredResolvingLoadBalancer=1,Object.defineProperty(resolvingLoadBalancer,"__esModule",{value:!0}),resolvingLoadBalancer.ResolvingLoadBalancer=void 0;const e=requireLoadBalancer(),t=requireServiceConfig(),Ke=requireConnectivityState(),Ye=requireResolver(),Je=requirePicker(),Xe=requireBackoffTimeout(),et=requireConstants(),tt=requireMetadata(),rt=requireLogging(),st=requireConstants(),at=requireUriParser(),nt=requireLoadBalancerChildHandler(),it="resolving_load_balancer";function ot(ht){rt.trace(st.LogVerbosity.DEBUG,it,ht)}const lt=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function ut(ht,xt,vt,bt){for(const _t of vt.name)switch(bt){case"EMPTY":if(!_t.service&&!_t.method)return!0;break;case"SERVICE":if(_t.service===ht&&!_t.method)return!0;break;case"SERVICE_AND_METHOD":if(_t.service===ht&&_t.method===xt)return!0}return!1}function ft(ht,xt,vt,bt){for(const _t of vt)if(ut(ht,xt,_t,bt))return _t;return null}function ct(ht){return{invoke(xt,vt){var bt,_t;const Ct=xt.split("/").filter(yt=>yt.length>0),Rt=(bt=Ct[0])!==null&&bt!==void 0?bt:"",jt=(_t=Ct[1])!==null&&_t!==void 0?_t:"";if(ht&&ht.methodConfig)for(const yt of lt){const Et=ft(Rt,jt,ht.methodConfig,yt);if(Et)return{methodConfig:Et,pickInformation:{},status:et.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:et.Status.OK,dynamicFilterFactories:[]}},unref(){}}}class dt{constructor(xt,vt,bt,_t,Ct){this.target=xt,this.channelControlHelper=vt,this.channelOptions=bt,this.onSuccessfulResolution=_t,this.onFailedResolution=Ct,this.latestChildState=Ke.ConnectivityState.IDLE,this.latestChildPicker=new Je.QueuePicker(this),this.latestChildErrorMessage=null,this.currentState=Ke.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,bt["grpc.service_config"]?this.defaultServiceConfig=(0,t.validateServiceConfig)(JSON.parse(bt["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(Ke.ConnectivityState.IDLE,new Je.QueuePicker(this),null),this.childLoadBalancer=new nt.ChildLoadBalancerHandler({createSubchannel:vt.createSubchannel.bind(vt),requestReresolution:()=>{this.backoffTimeout.isRunning()?(ot("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(jt,yt,Et)=>{this.latestChildState=jt,this.latestChildPicker=yt,this.latestChildErrorMessage=Et,this.updateState(jt,yt,Et)},addChannelzChild:vt.addChannelzChild.bind(vt),removeChannelzChild:vt.removeChannelzChild.bind(vt)}),this.innerResolver=(0,Ye.createResolver)(xt,{onSuccessfulResolution:(jt,yt,Et,pt,mt)=>{var gt;this.backoffTimeout.stop(),this.backoffTimeout.reset();let St=null;yt===null?Et===null?(this.previousServiceConfig=null,St=this.defaultServiceConfig):this.previousServiceConfig===null?this.handleResolutionFailure(Et):St=this.previousServiceConfig:(St=yt,this.previousServiceConfig=yt);const wt=(gt=St?.loadBalancingConfig)!==null&&gt!==void 0?gt:[],$t=(0,e.selectLbConfigFromList)(wt,!0);if($t===null){this.handleResolutionFailure({code:et.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new tt.Metadata}),pt?.unref();return}this.childLoadBalancer.updateAddressList(jt,$t,Object.assign(Object.assign({},this.channelOptions),mt));const Tt=St??this.defaultServiceConfig;this.onSuccessfulResolution(Tt,pt??ct(Tt))},onError:jt=>{this.handleResolutionFailure(jt)}},bt);const Rt={initialDelay:bt["grpc.initial_reconnect_backoff_ms"],maxDelay:bt["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new Xe.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker,this.latestChildErrorMessage)},Rt),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===Ke.ConnectivityState.IDLE&&this.updateState(Ke.ConnectivityState.CONNECTING,this.latestChildPicker,this.latestChildErrorMessage),this.backoffTimeout.runOnce()}updateState(xt,vt,bt){ot((0,at.uriToString)(this.target)+" "+Ke.ConnectivityState[this.currentState]+" -> "+Ke.ConnectivityState[xt]),xt===Ke.ConnectivityState.IDLE&&(vt=new Je.QueuePicker(this,vt)),this.currentState=xt,this.channelControlHelper.updateState(xt,vt,bt)}handleResolutionFailure(xt){this.latestChildState===Ke.ConnectivityState.IDLE&&(this.updateState(Ke.ConnectivityState.TRANSIENT_FAILURE,new Je.UnavailablePicker(xt),xt.details),this.onFailedResolution(xt))}exitIdle(){(this.currentState===Ke.ConnectivityState.IDLE||this.currentState===Ke.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(xt,vt){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=Ke.ConnectivityState.IDLE,this.latestChildPicker=new Je.QueuePicker(this),this.currentState=Ke.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}}return resolvingLoadBalancer.ResolvingLoadBalancer=dt,resolvingLoadBalancer}var subchannelPool={},channelOptions={},hasRequiredChannelOptions;function requireChannelOptions(){if(hasRequiredChannelOptions)return channelOptions;hasRequiredChannelOptions=1,Object.defineProperty(channelOptions,"__esModule",{value:!0}),channelOptions.recognizedOptions=void 0,channelOptions.channelOptionsEqual=e,channelOptions.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0,"grpc.lb.ring_hash.ring_size_cap":!0,"grpc-node.retry_max_attempts_limit":!0,"grpc-node.flow_control_window":!0};function e(t,Ke){const Ye=Object.keys(t).sort(),Je=Object.keys(Ke).sort();if(Ye.length!==Je.length)return!1;for(let Xe=0;Xe<Ye.length;Xe+=1)if(Ye[Xe]!==Je[Xe]||t[Ye[Xe]]!==Ke[Je[Xe]])return!1;return!0}return channelOptions}var subchannel={},subchannelAddress={},hasRequiredSubchannelAddress;function requireSubchannelAddress(){if(hasRequiredSubchannelAddress)return subchannelAddress;hasRequiredSubchannelAddress=1,Object.defineProperty(subchannelAddress,"__esModule",{value:!0}),subchannelAddress.EndpointMap=void 0,subchannelAddress.isTcpSubchannelAddress=t,subchannelAddress.subchannelAddressEqual=Ke,subchannelAddress.subchannelAddressToString=Ye,subchannelAddress.stringToSubchannelAddress=Xe,subchannelAddress.endpointEqual=et,subchannelAddress.endpointToString=tt,subchannelAddress.endpointHasAddress=rt;const e=require("net");function t(nt){return"port"in nt}function Ke(nt,it){return!nt&&!it?!0:!nt||!it?!1:t(nt)?t(it)&&nt.host===it.host&&nt.port===it.port:!t(it)&&nt.path===it.path}function Ye(nt){return t(nt)?(0,e.isIPv6)(nt.host)?"["+nt.host+"]:"+nt.port:nt.host+":"+nt.port:nt.path}const Je=443;function Xe(nt,it){return(0,e.isIP)(nt)?{host:nt,port:it??Je}:{path:nt}}function et(nt,it){if(nt.addresses.length!==it.addresses.length)return!1;for(let ot=0;ot<nt.addresses.length;ot++)if(!Ke(nt.addresses[ot],it.addresses[ot]))return!1;return!0}function tt(nt){return"["+nt.addresses.map(Ye).join(", ")+"]"}function rt(nt,it){for(const ot of nt.addresses)if(Ke(ot,it))return!0;return!1}function st(nt,it){if(nt.addresses.length!==it.addresses.length)return!1;for(const ot of nt.addresses){let lt=!1;for(const ut of it.addresses)if(Ke(ot,ut)){lt=!0;break}if(!lt)return!1}return!0}class at{constructor(){this.map=new Set}get size(){return this.map.size}getForSubchannelAddress(it){for(const ot of this.map)if(rt(ot.key,it))return ot.value}deleteMissing(it){const ot=[];for(const lt of this.map){let ut=!1;for(const ft of it)st(ft,lt.key)&&(ut=!0);ut||(ot.push(lt.value),this.map.delete(lt))}return ot}get(it){for(const ot of this.map)if(st(it,ot.key))return ot.value}set(it,ot){for(const lt of this.map)if(st(it,lt.key)){lt.value=ot;return}this.map.add({key:it,value:ot})}delete(it){for(const ot of this.map)if(st(it,ot.key)){this.map.delete(ot);return}}has(it){for(const ot of this.map)if(st(it,ot.key))return!0;return!1}clear(){this.map.clear()}*keys(){for(const it of this.map)yield it.key}*values(){for(const it of this.map)yield it.value}*entries(){for(const it of this.map)yield[it.key,it.value]}}return subchannelAddress.EndpointMap=at,subchannelAddress}var channelz={},extendStatics=function(e,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ke,Ye){Ke.__proto__=Ye}||function(Ke,Ye){for(var Je in Ye)Object.prototype.hasOwnProperty.call(Ye,Je)&&(Ke[Je]=Ye[Je])},extendStatics(e,t)};function __extends(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");extendStatics(e,t);function Ke(){this.constructor=e}e.prototype=t===null?Object.create(t):(Ke.prototype=t.prototype,new Ke)}function __generator(e,t){var Ke={label:0,sent:function(){if(Xe[0]&1)throw Xe[1];return Xe[1]},trys:[],ops:[]},Ye,Je,Xe,et;return et={next:tt(0),throw:tt(1),return:tt(2)},typeof Symbol=="function"&&(et[Symbol.iterator]=function(){return this}),et;function tt(st){return function(at){return rt([st,at])}}function rt(st){if(Ye)throw new TypeError("Generator is already executing.");for(;et&&(et=0,st[0]&&(Ke=0)),Ke;)try{if(Ye=1,Je&&(Xe=st[0]&2?Je.return:st[0]?Je.throw||((Xe=Je.return)&&Xe.call(Je),0):Je.next)&&!(Xe=Xe.call(Je,st[1])).done)return Xe;switch(Je=0,Xe&&(st=[st[0]&2,Xe.value]),st[0]){case 0:case 1:Xe=st;break;case 4:return Ke.label++,{value:st[1],done:!1};case 5:Ke.label++,Je=st[1],st=[0];continue;case 7:st=Ke.ops.pop(),Ke.trys.pop();continue;default:if(Xe=Ke.trys,!(Xe=Xe.length>0&&Xe[Xe.length-1])&&(st[0]===6||st[0]===2)){Ke=0;continue}if(st[0]===3&&(!Xe||st[1]>Xe[0]&&st[1]<Xe[3])){Ke.label=st[1];break}if(st[0]===6&&Ke.label<Xe[1]){Ke.label=Xe[1],Xe=st;break}if(Xe&&Ke.label<Xe[2]){Ke.label=Xe[2],Ke.ops.push(st);break}Xe[2]&&Ke.ops.pop(),Ke.trys.pop();continue}st=t.call(e,Ke)}catch(at){st=[6,at],Je=0}finally{Ye=Xe=0}if(st[0]&5)throw st[1];return{value:st[0]?st[1]:void 0,done:!0}}}typeof SuppressedError=="function"&&SuppressedError;var TreeNode=(function(){function e(t,Ke,Ye){Ye===void 0&&(Ye=1),this.t=void 0,this.i=void 0,this.h=void 0,this.u=t,this.o=Ke,this.l=Ye}return e.prototype.v=function(){var t=this,Ke=t.h.h===t;if(Ke&&t.l===1)t=t.i;else if(t.t)for(t=t.t;t.i;)t=t.i;else{if(Ke)return t.h;for(var Ye=t.h;Ye.t===t;)t=Ye,Ye=t.h;t=Ye}return t},e.prototype.p=function(){var t=this;if(t.i){for(t=t.i;t.t;)t=t.t;return t}else{for(var Ke=t.h;Ke.i===t;)t=Ke,Ke=t.h;return t.i!==Ke?Ke:t}},e.prototype.T=function(){var t=this.h,Ke=this.i,Ye=Ke.t;return t.h===this?t.h=Ke:t.t===this?t.t=Ke:t.i=Ke,Ke.h=t,Ke.t=this,this.h=Ke,this.i=Ye,Ye&&(Ye.h=this),Ke},e.prototype.I=function(){var t=this.h,Ke=this.t,Ye=Ke.i;return t.h===this?t.h=Ke:t.t===this?t.t=Ke:t.i=Ke,Ke.h=t,Ke.i=this,this.h=Ke,this.t=Ye,Ye&&(Ye.h=this),Ke},e})(),TreeNodeEnableIndex=(function(e){__extends(t,e);function t(){var Ke=e!==null&&e.apply(this,arguments)||this;return Ke.O=1,Ke}return t.prototype.T=function(){var Ke=e.prototype.T.call(this);return this.M(),Ke.M(),Ke},t.prototype.I=function(){var Ke=e.prototype.I.call(this);return this.M(),Ke.M(),Ke},t.prototype.M=function(){this.O=1,this.t&&(this.O+=this.t.O),this.i&&(this.O+=this.i.O)},t})(TreeNode),ContainerIterator=(function(){function e(t){t===void 0&&(t=0),this.iteratorType=t}return e.prototype.equals=function(t){return this.C===t.C},e})(),Base=(function(){function e(){this._=0}return Object.defineProperty(e.prototype,"length",{get:function(){return this._},enumerable:!1,configurable:!0}),e.prototype.size=function(){return this._},e.prototype.empty=function(){return this._===0},e})(),Container=(function(e){__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(Base);function throwIteratorAccessError(){throw new RangeError("Iterator access denied!")}var TreeContainer=(function(e){__extends(t,e);function t(Ke,Ye){Ke===void 0&&(Ke=function(Xe,et){return Xe<et?-1:Xe>et?1:0}),Ye===void 0&&(Ye=!1);var Je=e.call(this)||this;return Je.N=void 0,Je.g=Ke,Je.enableIndex=Ye,Je.S=Ye?TreeNodeEnableIndex:TreeNode,Je.A=new Je.S,Je}return t.prototype.m=function(Ke,Ye){for(var Je=this.A;Ke;){var Xe=this.g(Ke.u,Ye);if(Xe<0)Ke=Ke.i;else if(Xe>0)Je=Ke,Ke=Ke.t;else return Ke}return Je},t.prototype.B=function(Ke,Ye){for(var Je=this.A;Ke;){var Xe=this.g(Ke.u,Ye);Xe<=0?Ke=Ke.i:(Je=Ke,Ke=Ke.t)}return Je},t.prototype.j=function(Ke,Ye){for(var Je=this.A;Ke;){var Xe=this.g(Ke.u,Ye);if(Xe<0)Je=Ke,Ke=Ke.i;else if(Xe>0)Ke=Ke.t;else return Ke}return Je},t.prototype.k=function(Ke,Ye){for(var Je=this.A;Ke;){var Xe=this.g(Ke.u,Ye);Xe<0?(Je=Ke,Ke=Ke.i):Ke=Ke.t}return Je},t.prototype.R=function(Ke){for(;;){var Ye=Ke.h;if(Ye===this.A)return;if(Ke.l===1){Ke.l=0;return}if(Ke===Ye.t){var Je=Ye.i;if(Je.l===1)Je.l=0,Ye.l=1,Ye===this.N?this.N=Ye.T():Ye.T();else if(Je.i&&Je.i.l===1){Je.l=Ye.l,Ye.l=0,Je.i.l=0,Ye===this.N?this.N=Ye.T():Ye.T();return}else Je.t&&Je.t.l===1?(Je.l=1,Je.t.l=0,Je.I()):(Je.l=1,Ke=Ye)}else{var Je=Ye.t;if(Je.l===1)Je.l=0,Ye.l=1,Ye===this.N?this.N=Ye.I():Ye.I();else if(Je.t&&Je.t.l===1){Je.l=Ye.l,Ye.l=0,Je.t.l=0,Ye===this.N?this.N=Ye.I():Ye.I();return}else Je.i&&Je.i.l===1?(Je.l=1,Je.i.l=0,Je.T()):(Je.l=1,Ke=Ye)}}},t.prototype.G=function(Ke){if(this._===1){this.clear();return}for(var Ye=Ke;Ye.t||Ye.i;){if(Ye.i)for(Ye=Ye.i;Ye.t;)Ye=Ye.t;else Ye=Ye.t;var Je=Ke.u;Ke.u=Ye.u,Ye.u=Je;var Xe=Ke.o;Ke.o=Ye.o,Ye.o=Xe,Ke=Ye}this.A.t===Ye?this.A.t=Ye.h:this.A.i===Ye&&(this.A.i=Ye.h),this.R(Ye);var et=Ye.h;if(Ye===et.t?et.t=void 0:et.i=void 0,this._-=1,this.N.l=0,this.enableIndex)for(;et!==this.A;)et.O-=1,et=et.h},t.prototype.P=function(Ke){for(var Ye=typeof Ke=="number"?Ke:void 0,Je=typeof Ke=="function"?Ke:void 0,Xe=typeof Ke>"u"?[]:void 0,et=0,tt=this.N,rt=[];rt.length||tt;)if(tt)rt.push(tt),tt=tt.t;else{if(tt=rt.pop(),et===Ye)return tt;Xe&&Xe.push(tt),Je&&Je(tt,et,this),et+=1,tt=tt.i}return Xe},t.prototype.q=function(Ke){for(;;){var Ye=Ke.h;if(Ye.l===0)return;var Je=Ye.h;if(Ye===Je.t){var Xe=Je.i;if(Xe&&Xe.l===1){if(Xe.l=Ye.l=0,Je===this.N)return;Je.l=1,Ke=Je;continue}else if(Ke===Ye.i){if(Ke.l=0,Ke.t&&(Ke.t.h=Ye),Ke.i&&(Ke.i.h=Je),Ye.i=Ke.t,Je.t=Ke.i,Ke.t=Ye,Ke.i=Je,Je===this.N)this.N=Ke,this.A.h=Ke;else{var et=Je.h;et.t===Je?et.t=Ke:et.i=Ke}Ke.h=Je.h,Ye.h=Ke,Je.h=Ke,Je.l=1}else{Ye.l=0,Je===this.N?this.N=Je.I():Je.I(),Je.l=1;return}}else{var Xe=Je.t;if(Xe&&Xe.l===1){if(Xe.l=Ye.l=0,Je===this.N)return;Je.l=1,Ke=Je;continue}else if(Ke===Ye.t){if(Ke.l=0,Ke.t&&(Ke.t.h=Je),Ke.i&&(Ke.i.h=Ye),Je.i=Ke.t,Ye.t=Ke.i,Ke.t=Je,Ke.i=Ye,Je===this.N)this.N=Ke,this.A.h=Ke;else{var et=Je.h;et.t===Je?et.t=Ke:et.i=Ke}Ke.h=Je.h,Ye.h=Ke,Je.h=Ke,Je.l=1}else{Ye.l=0,Je===this.N?this.N=Je.T():Je.T(),Je.l=1;return}}this.enableIndex&&(Ye.M(),Je.M(),Ke.M());return}},t.prototype.D=function(Ke,Ye,Je){if(this.N===void 0)return this._+=1,this.N=new this.S(Ke,Ye,0),this.N.h=this.A,this.A.h=this.A.t=this.A.i=this.N,this._;var Xe,et=this.A.t,tt=this.g(et.u,Ke);if(tt===0)return et.o=Ye,this._;if(tt>0)et.t=new this.S(Ke,Ye),et.t.h=et,Xe=et.t,this.A.t=Xe;else{var rt=this.A.i,st=this.g(rt.u,Ke);if(st===0)return rt.o=Ye,this._;if(st<0)rt.i=new this.S(Ke,Ye),rt.i.h=rt,Xe=rt.i,this.A.i=Xe;else{if(Je!==void 0){var at=Je.C;if(at!==this.A){var nt=this.g(at.u,Ke);if(nt===0)return at.o=Ye,this._;if(nt>0){var it=at.v(),ot=this.g(it.u,Ke);if(ot===0)return it.o=Ye,this._;ot<0&&(Xe=new this.S(Ke,Ye),it.i===void 0?(it.i=Xe,Xe.h=it):(at.t=Xe,Xe.h=at))}}}if(Xe===void 0)for(Xe=this.N;;){var lt=this.g(Xe.u,Ke);if(lt>0){if(Xe.t===void 0){Xe.t=new this.S(Ke,Ye),Xe.t.h=Xe,Xe=Xe.t;break}Xe=Xe.t}else if(lt<0){if(Xe.i===void 0){Xe.i=new this.S(Ke,Ye),Xe.i.h=Xe,Xe=Xe.i;break}Xe=Xe.i}else return Xe.o=Ye,this._}}}if(this.enableIndex)for(var ut=Xe.h;ut!==this.A;)ut.O+=1,ut=ut.h;return this.q(Xe),this._+=1,this._},t.prototype.F=function(Ke,Ye){for(;Ke;){var Je=this.g(Ke.u,Ye);if(Je<0)Ke=Ke.i;else if(Je>0)Ke=Ke.t;else return Ke}return Ke||this.A},t.prototype.clear=function(){this._=0,this.N=void 0,this.A.h=void 0,this.A.t=this.A.i=void 0},t.prototype.updateKeyByIterator=function(Ke,Ye){var Je=Ke.C;if(Je===this.A&&throwIteratorAccessError(),this._===1)return Je.u=Ye,!0;var Xe=Je.p().u;if(Je===this.A.t)return this.g(Xe,Ye)>0?(Je.u=Ye,!0):!1;var et=Je.v().u;return Je===this.A.i?this.g(et,Ye)<0?(Je.u=Ye,!0):!1:this.g(et,Ye)>=0||this.g(Xe,Ye)<=0?!1:(Je.u=Ye,!0)},t.prototype.eraseElementByPos=function(Ke){if(Ke<0||Ke>this._-1)throw new RangeError;var Ye=this.P(Ke);return this.G(Ye),this._},t.prototype.eraseElementByKey=function(Ke){if(this._===0)return!1;var Ye=this.F(this.N,Ke);return Ye===this.A?!1:(this.G(Ye),!0)},t.prototype.eraseElementByIterator=function(Ke){var Ye=Ke.C;Ye===this.A&&throwIteratorAccessError();var Je=Ye.i===void 0,Xe=Ke.iteratorType===0;return Xe?Je&&Ke.next():(!Je||Ye.t===void 0)&&Ke.next(),this.G(Ye),Ke},t.prototype.getHeight=function(){if(this._===0)return 0;function Ke(Ye){return Ye?Math.max(Ke(Ye.t),Ke(Ye.i))+1:0}return Ke(this.N)},t})(Container),TreeIterator=(function(e){__extends(t,e);function t(Ke,Ye,Je){var Xe=e.call(this,Je)||this;return Xe.C=Ke,Xe.A=Ye,Xe.iteratorType===0?(Xe.pre=function(){return this.C===this.A.t&&throwIteratorAccessError(),this.C=this.C.v(),this},Xe.next=function(){return this.C===this.A&&throwIteratorAccessError(),this.C=this.C.p(),this}):(Xe.pre=function(){return this.C===this.A.i&&throwIteratorAccessError(),this.C=this.C.p(),this},Xe.next=function(){return this.C===this.A&&throwIteratorAccessError(),this.C=this.C.v(),this}),Xe}return Object.defineProperty(t.prototype,"index",{get:function(){var Ke=this.C,Ye=this.A.h;if(Ke===this.A)return Ye?Ye.O-1:0;var Je=0;for(Ke.t&&(Je+=Ke.t.O);Ke!==Ye;){var Xe=Ke.h;Ke===Xe.i&&(Je+=1,Xe.t&&(Je+=Xe.t.O)),Ke=Xe}return Je},enumerable:!1,configurable:!0}),t.prototype.isAccessible=function(){return this.C!==this.A},t})(ContainerIterator),OrderedMapIterator=(function(e){__extends(t,e);function t(Ke,Ye,Je,Xe){var et=e.call(this,Ke,Ye,Xe)||this;return et.container=Je,et}return Object.defineProperty(t.prototype,"pointer",{get:function(){this.C===this.A&&throwIteratorAccessError();var Ke=this;return new Proxy([],{get:function(Ye,Je){return Je==="0"?Ke.C.u:Je==="1"?Ke.C.o:(Ye[0]=Ke.C.u,Ye[1]=Ke.C.o,Ye[Je])},set:function(Ye,Je,Xe){if(Je!=="1")throw new TypeError("prop must be 1");return Ke.C.o=Xe,!0}})},enumerable:!1,configurable:!0}),t.prototype.copy=function(){return new t(this.C,this.A,this.container,this.iteratorType)},t})(TreeIterator),OrderedMap=(function(e){__extends(t,e);function t(Ke,Ye,Je){Ke===void 0&&(Ke=[]);var Xe=e.call(this,Ye,Je)||this,et=Xe;return Ke.forEach((function(tt){et.setElement(tt[0],tt[1])})),Xe}return t.prototype.begin=function(){return new OrderedMapIterator(this.A.t||this.A,this.A,this)},t.prototype.end=function(){return new OrderedMapIterator(this.A,this.A,this)},t.prototype.rBegin=function(){return new OrderedMapIterator(this.A.i||this.A,this.A,this,1)},t.prototype.rEnd=function(){return new OrderedMapIterator(this.A,this.A,this,1)},t.prototype.front=function(){if(this._!==0){var Ke=this.A.t;return[Ke.u,Ke.o]}},t.prototype.back=function(){if(this._!==0){var Ke=this.A.i;return[Ke.u,Ke.o]}},t.prototype.lowerBound=function(Ke){var Ye=this.m(this.N,Ke);return new OrderedMapIterator(Ye,this.A,this)},t.prototype.upperBound=function(Ke){var Ye=this.B(this.N,Ke);return new OrderedMapIterator(Ye,this.A,this)},t.prototype.reverseLowerBound=function(Ke){var Ye=this.j(this.N,Ke);return new OrderedMapIterator(Ye,this.A,this)},t.prototype.reverseUpperBound=function(Ke){var Ye=this.k(this.N,Ke);return new OrderedMapIterator(Ye,this.A,this)},t.prototype.forEach=function(Ke){this.P((function(Ye,Je,Xe){Ke([Ye.u,Ye.o],Je,Xe)}))},t.prototype.setElement=function(Ke,Ye,Je){return this.D(Ke,Ye,Je)},t.prototype.getElementByPos=function(Ke){if(Ke<0||Ke>this._-1)throw new RangeError;var Ye=this.P(Ke);return[Ye.u,Ye.o]},t.prototype.find=function(Ke){var Ye=this.F(this.N,Ke);return new OrderedMapIterator(Ye,this.A,this)},t.prototype.getElementByKey=function(Ke){var Ye=this.F(this.N,Ke);return Ye.o},t.prototype.union=function(Ke){var Ye=this;return Ke.forEach((function(Je){Ye.setElement(Je[0],Je[1])})),this._},t.prototype[Symbol.iterator]=function(){var Ke,Ye,Je,Xe;return __generator(this,(function(et){switch(et.label){case 0:Ke=this._,Ye=this.P(),Je=0,et.label=1;case 1:return Je<Ke?(Xe=Ye[Je],[4,[Xe.u,Xe.o]]):[3,4];case 2:et.sent(),et.label=3;case 3:return++Je,[3,1];case 4:return[2]}}))},t})(TreeContainer);const esm=Object.freeze(Object.defineProperty({__proto__:null,OrderedMap},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(esm);var admin={},hasRequiredAdmin;function requireAdmin(){if(hasRequiredAdmin)return admin;hasRequiredAdmin=1,Object.defineProperty(admin,"__esModule",{value:!0}),admin.registerAdminService=t,admin.addAdminServicesToServer=Ke;const e=[];function t(Ye,Je){e.push({getServiceDefinition:Ye,getHandlers:Je})}function Ke(Ye){for(const{getServiceDefinition:Je,getHandlers:Xe}of e)Ye.addService(Je(),Xe())}return admin}var makeClient={},client={},call={},hasRequiredCall;function requireCall(){if(hasRequiredCall)return call;hasRequiredCall=1,Object.defineProperty(call,"__esModule",{value:!0}),call.ClientDuplexStreamImpl=call.ClientWritableStreamImpl=call.ClientReadableStreamImpl=call.ClientUnaryCallImpl=void 0,call.callErrorFromStatus=Ye;const e=require("events"),t=require("stream"),Ke=requireConstants();function Ye(rt,st){const at=`${rt.code} ${Ke.Status[rt.code]}: ${rt.details}`,it=`${new Error(at).stack}
for call at
${st}`;return Object.assign(new Error(at),rt,{stack:it})}class Je extends e.EventEmitter{constructor(){super()}cancel(){var st;(st=this.call)===null||st===void 0||st.cancelWithStatus(Ke.Status.CANCELLED,"Cancelled on client")}getPeer(){var st,at;return(at=(st=this.call)===null||st===void 0?void 0:st.getPeer())!==null&&at!==void 0?at:"unknown"}}call.ClientUnaryCallImpl=Je;class Xe extends t.Readable{constructor(st){super({objectMode:!0}),this.deserialize=st}cancel(){var st;(st=this.call)===null||st===void 0||st.cancelWithStatus(Ke.Status.CANCELLED,"Cancelled on client")}getPeer(){var st,at;return(at=(st=this.call)===null||st===void 0?void 0:st.getPeer())!==null&&at!==void 0?at:"unknown"}_read(st){var at;(at=this.call)===null||at===void 0||at.startRead()}}call.ClientReadableStreamImpl=Xe;class et extends t.Writable{constructor(st){super({objectMode:!0}),this.serialize=st}cancel(){var st;(st=this.call)===null||st===void 0||st.cancelWithStatus(Ke.Status.CANCELLED,"Cancelled on client")}getPeer(){var st,at;return(at=(st=this.call)===null||st===void 0?void 0:st.getPeer())!==null&&at!==void 0?at:"unknown"}_write(st,at,nt){var it;const ot={callback:nt},lt=Number(at);Number.isNaN(lt)||(ot.flags=lt),(it=this.call)===null||it===void 0||it.sendMessageWithContext(ot,st)}_final(st){var at;(at=this.call)===null||at===void 0||at.halfClose(),st()}}call.ClientWritableStreamImpl=et;class tt extends t.Duplex{constructor(st,at){super({objectMode:!0}),this.serialize=st,this.deserialize=at}cancel(){var st;(st=this.call)===null||st===void 0||st.cancelWithStatus(Ke.Status.CANCELLED,"Cancelled on client")}getPeer(){var st,at;return(at=(st=this.call)===null||st===void 0?void 0:st.getPeer())!==null&&at!==void 0?at:"unknown"}_read(st){var at;(at=this.call)===null||at===void 0||at.startRead()}_write(st,at,nt){var it;const ot={callback:nt},lt=Number(at);Number.isNaN(lt)||(ot.flags=lt),(it=this.call)===null||it===void 0||it.sendMessageWithContext(ot,st)}_final(st){var at;(at=this.call)===null||at===void 0||at.halfClose(),st()}}return call.ClientDuplexStreamImpl=tt,call}var clientInterceptors={},callInterface={},hasRequiredCallInterface;function requireCallInterface(){if(hasRequiredCallInterface)return callInterface;hasRequiredCallInterface=1,Object.defineProperty(callInterface,"__esModule",{value:!0}),callInterface.InterceptingListenerImpl=void 0,callInterface.isInterceptingListener=e;function e(Ke){return Ke.onReceiveMetadata!==void 0&&Ke.onReceiveMetadata.length===1}class t{constructor(Ye,Je){this.listener=Ye,this.nextListener=Je,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(Ye){this.processingMetadata=!0,this.listener.onReceiveMetadata(Ye,Je=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(Je),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(Ye){this.processingMessage=!0,this.listener.onReceiveMessage(Ye,Je=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=Je,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(Je),this.processPendingStatus())})}onReceiveStatus(Ye){this.listener.onReceiveStatus(Ye,Je=>{this.processingMetadata||this.processingMessage?this.pendingStatus=Je:this.nextListener.onReceiveStatus(Je)})}}return callInterface.InterceptingListenerImpl=t,callInterface}var hasRequiredClientInterceptors;function requireClientInterceptors(){if(hasRequiredClientInterceptors)return clientInterceptors;hasRequiredClientInterceptors=1,Object.defineProperty(clientInterceptors,"__esModule",{value:!0}),clientInterceptors.InterceptingCall=clientInterceptors.RequesterBuilder=clientInterceptors.ListenerBuilder=clientInterceptors.InterceptorConfigurationError=void 0,clientInterceptors.getInterceptingCall=ut;const e=requireMetadata(),t=requireCallInterface(),Ke=requireConstants(),Ye=requireError();class Je extends Error{constructor(ct){super(ct),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,Je)}}clientInterceptors.InterceptorConfigurationError=Je;class Xe{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(ct){return this.metadata=ct,this}withOnReceiveMessage(ct){return this.message=ct,this}withOnReceiveStatus(ct){return this.status=ct,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}}clientInterceptors.ListenerBuilder=Xe;class et{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(ct){return this.start=ct,this}withSendMessage(ct){return this.message=ct,this}withHalfClose(ct){return this.halfClose=ct,this}withCancel(ct){return this.cancel=ct,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}}clientInterceptors.RequesterBuilder=et;const tt={onReceiveMetadata:(ft,ct)=>{ct(ft)},onReceiveMessage:(ft,ct)=>{ct(ft)},onReceiveStatus:(ft,ct)=>{ct(ft)}},rt={start:(ft,ct,dt)=>{dt(ft,ct)},sendMessage:(ft,ct)=>{ct(ft)},halfClose:ft=>{ft()},cancel:ft=>{ft()}};class st{constructor(ct,dt){var ht,xt,vt,bt;this.nextCall=ct,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,dt?this.requester={start:(ht=dt.start)!==null&&ht!==void 0?ht:rt.start,sendMessage:(xt=dt.sendMessage)!==null&&xt!==void 0?xt:rt.sendMessage,halfClose:(vt=dt.halfClose)!==null&&vt!==void 0?vt:rt.halfClose,cancel:(bt=dt.cancel)!==null&&bt!==void 0?bt:rt.cancel}:this.requester=rt}cancelWithStatus(ct,dt){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(ct,dt)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(ct,dt){var ht,xt,vt,bt,_t,Ct;const Rt={onReceiveMetadata:(xt=(ht=dt?.onReceiveMetadata)===null||ht===void 0?void 0:ht.bind(dt))!==null&&xt!==void 0?xt:(jt=>{}),onReceiveMessage:(bt=(vt=dt?.onReceiveMessage)===null||vt===void 0?void 0:vt.bind(dt))!==null&&bt!==void 0?bt:(jt=>{}),onReceiveStatus:(Ct=(_t=dt?.onReceiveStatus)===null||_t===void 0?void 0:_t.bind(dt))!==null&&Ct!==void 0?Ct:(jt=>{})};this.processingMetadata=!0,this.requester.start(ct,Rt,(jt,yt)=>{var Et,pt,mt;this.processingMetadata=!1;let gt;if((0,t.isInterceptingListener)(yt))gt=yt;else{const St={onReceiveMetadata:(Et=yt.onReceiveMetadata)!==null&&Et!==void 0?Et:tt.onReceiveMetadata,onReceiveMessage:(pt=yt.onReceiveMessage)!==null&&pt!==void 0?pt:tt.onReceiveMessage,onReceiveStatus:(mt=yt.onReceiveStatus)!==null&&mt!==void 0?mt:tt.onReceiveStatus};gt=new t.InterceptingListenerImpl(St,Rt)}this.nextCall.start(jt,gt),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(ct,dt){this.processingMessage=!0,this.requester.sendMessage(dt,ht=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=ct,this.pendingMessage=dt):(this.nextCall.sendMessageWithContext(ct,ht),this.processPendingHalfClose())})}sendMessage(ct){this.sendMessageWithContext({},ct)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}}clientInterceptors.InterceptingCall=st;function at(ft,ct,dt){var ht,xt;const vt=(ht=dt.deadline)!==null&&ht!==void 0?ht:1/0,bt=dt.host,_t=(xt=dt.parent)!==null&&xt!==void 0?xt:null,Ct=dt.propagate_flags,Rt=dt.credentials,jt=ft.createCall(ct,vt,bt,_t,Ct);return Rt&&jt.setCredentials(Rt),jt}class nt{constructor(ct,dt){this.call=ct,this.methodDefinition=dt}cancelWithStatus(ct,dt){this.call.cancelWithStatus(ct,dt)}getPeer(){return this.call.getPeer()}sendMessageWithContext(ct,dt){let ht;try{ht=this.methodDefinition.requestSerialize(dt)}catch(xt){this.call.cancelWithStatus(Ke.Status.INTERNAL,`Request message serialization failure: ${(0,Ye.getErrorMessage)(xt)}`);return}this.call.sendMessageWithContext(ct,ht)}sendMessage(ct){this.sendMessageWithContext({},ct)}start(ct,dt){let ht=null;this.call.start(ct,{onReceiveMetadata:xt=>{var vt;(vt=dt?.onReceiveMetadata)===null||vt===void 0||vt.call(dt,xt)},onReceiveMessage:xt=>{var vt;let bt;try{bt=this.methodDefinition.responseDeserialize(xt)}catch(_t){ht={code:Ke.Status.INTERNAL,details:`Response message parsing error: ${(0,Ye.getErrorMessage)(_t)}`,metadata:new e.Metadata},this.call.cancelWithStatus(ht.code,ht.details);return}(vt=dt?.onReceiveMessage)===null||vt===void 0||vt.call(dt,bt)},onReceiveStatus:xt=>{var vt,bt;ht?(vt=dt?.onReceiveStatus)===null||vt===void 0||vt.call(dt,ht):(bt=dt?.onReceiveStatus)===null||bt===void 0||bt.call(dt,xt)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}}class it extends nt{constructor(ct,dt){super(ct,dt)}start(ct,dt){var ht,xt;let vt=!1;const bt={onReceiveMetadata:(xt=(ht=dt?.onReceiveMetadata)===null||ht===void 0?void 0:ht.bind(dt))!==null&&xt!==void 0?xt:(_t=>{}),onReceiveMessage:_t=>{var Ct;vt=!0,(Ct=dt?.onReceiveMessage)===null||Ct===void 0||Ct.call(dt,_t)},onReceiveStatus:_t=>{var Ct,Rt;vt||(Ct=dt?.onReceiveMessage)===null||Ct===void 0||Ct.call(dt,null),(Rt=dt?.onReceiveStatus)===null||Rt===void 0||Rt.call(dt,_t)}};super.start(ct,bt),this.call.startRead()}}class ot extends nt{}function lt(ft,ct,dt){const ht=at(ft,dt.path,ct);return dt.responseStream?new ot(ht,dt):new it(ht,dt)}function ut(ft,ct,dt,ht){if(ft.clientInterceptors.length>0&&ft.clientInterceptorProviders.length>0)throw new Je("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(ft.callInterceptors.length>0&&ft.callInterceptorProviders.length>0)throw new Je("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let xt=[];ft.callInterceptors.length>0||ft.callInterceptorProviders.length>0?xt=[].concat(ft.callInterceptors,ft.callInterceptorProviders.map(_t=>_t(ct))).filter(_t=>_t):xt=[].concat(ft.clientInterceptors,ft.clientInterceptorProviders.map(_t=>_t(ct))).filter(_t=>_t);const vt=Object.assign({},dt,{method_definition:ct});return xt.reduceRight((_t,Ct)=>Rt=>Ct(Rt,_t),_t=>lt(ht,_t,ct))(vt)}return clientInterceptors}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1,Object.defineProperty(client,"__esModule",{value:!0}),client.Client=void 0;const e=requireCall(),t=requireChannel(),Ke=requireConnectivityState(),Ye=requireConstants(),Je=requireMetadata(),Xe=requireClientInterceptors(),et=Symbol(),tt=Symbol(),rt=Symbol(),st=Symbol();function at(ot){return typeof ot=="function"}function nt(ot){var lt;return((lt=ot.stack)===null||lt===void 0?void 0:lt.split(`
`).slice(1).join(`
`))||"no stack trace available"}class it{constructor(lt,ut,ft={}){var ct,dt;if(ft=Object.assign({},ft),this[tt]=(ct=ft.interceptors)!==null&&ct!==void 0?ct:[],delete ft.interceptors,this[rt]=(dt=ft.interceptor_providers)!==null&&dt!==void 0?dt:[],delete ft.interceptor_providers,this[tt].length>0&&this[rt].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[st]=ft.callInvocationTransformer,delete ft.callInvocationTransformer,ft.channelOverride)this[et]=ft.channelOverride;else if(ft.channelFactoryOverride){const ht=ft.channelFactoryOverride;delete ft.channelFactoryOverride,this[et]=ht(lt,ut,ft)}else this[et]=new t.ChannelImplementation(lt,ut,ft)}close(){this[et].close()}getChannel(){return this[et]}waitForReady(lt,ut){const ft=ct=>{if(ct){ut(new Error("Failed to connect before the deadline"));return}let dt;try{dt=this[et].getConnectivityState(!0)}catch{ut(new Error("The channel has been closed"));return}if(dt===Ke.ConnectivityState.READY)ut();else try{this[et].watchConnectivityState(dt,lt,ft)}catch{ut(new Error("The channel has been closed"))}};setImmediate(ft)}checkOptionalUnaryResponseArguments(lt,ut,ft){if(at(lt))return{metadata:new Je.Metadata,options:{},callback:lt};if(at(ut))return lt instanceof Je.Metadata?{metadata:lt,options:{},callback:ut}:{metadata:new Je.Metadata,options:lt,callback:ut};if(!(lt instanceof Je.Metadata&&ut instanceof Object&&at(ft)))throw new Error("Incorrect arguments passed");return{metadata:lt,options:ut,callback:ft}}makeUnaryRequest(lt,ut,ft,ct,dt,ht,xt){var vt,bt;const _t=this.checkOptionalUnaryResponseArguments(dt,ht,xt),Ct={path:lt,requestStream:!1,responseStream:!1,requestSerialize:ut,responseDeserialize:ft};let Rt={argument:ct,metadata:_t.metadata,call:new e.ClientUnaryCallImpl,channel:this[et],methodDefinition:Ct,callOptions:_t.options,callback:_t.callback};this[st]&&(Rt=this[st](Rt));const jt=Rt.call,yt={clientInterceptors:this[tt],clientInterceptorProviders:this[rt],callInterceptors:(vt=Rt.callOptions.interceptors)!==null&&vt!==void 0?vt:[],callInterceptorProviders:(bt=Rt.callOptions.interceptor_providers)!==null&&bt!==void 0?bt:[]},Et=(0,Xe.getInterceptingCall)(yt,Rt.methodDefinition,Rt.callOptions,Rt.channel);jt.call=Et;let pt=null,mt=!1,gt=new Error;return Et.start(Rt.metadata,{onReceiveMetadata:St=>{jt.emit("metadata",St)},onReceiveMessage(St){pt!==null&&Et.cancelWithStatus(Ye.Status.UNIMPLEMENTED,"Too many responses received"),pt=St},onReceiveStatus(St){if(!mt){if(mt=!0,St.code===Ye.Status.OK)if(pt===null){const wt=nt(gt);Rt.callback((0,e.callErrorFromStatus)({code:Ye.Status.UNIMPLEMENTED,details:"No message received",metadata:St.metadata},wt))}else Rt.callback(null,pt);else{const wt=nt(gt);Rt.callback((0,e.callErrorFromStatus)(St,wt))}gt=null,jt.emit("status",St)}}}),Et.sendMessage(ct),Et.halfClose(),jt}makeClientStreamRequest(lt,ut,ft,ct,dt,ht){var xt,vt;const bt=this.checkOptionalUnaryResponseArguments(ct,dt,ht),_t={path:lt,requestStream:!0,responseStream:!1,requestSerialize:ut,responseDeserialize:ft};let Ct={metadata:bt.metadata,call:new e.ClientWritableStreamImpl(ut),channel:this[et],methodDefinition:_t,callOptions:bt.options,callback:bt.callback};this[st]&&(Ct=this[st](Ct));const Rt=Ct.call,jt={clientInterceptors:this[tt],clientInterceptorProviders:this[rt],callInterceptors:(xt=Ct.callOptions.interceptors)!==null&&xt!==void 0?xt:[],callInterceptorProviders:(vt=Ct.callOptions.interceptor_providers)!==null&&vt!==void 0?vt:[]},yt=(0,Xe.getInterceptingCall)(jt,Ct.methodDefinition,Ct.callOptions,Ct.channel);Rt.call=yt;let Et=null,pt=!1,mt=new Error;return yt.start(Ct.metadata,{onReceiveMetadata:gt=>{Rt.emit("metadata",gt)},onReceiveMessage(gt){Et!==null&&yt.cancelWithStatus(Ye.Status.UNIMPLEMENTED,"Too many responses received"),Et=gt,yt.startRead()},onReceiveStatus(gt){if(!pt){if(pt=!0,gt.code===Ye.Status.OK)if(Et===null){const St=nt(mt);Ct.callback((0,e.callErrorFromStatus)({code:Ye.Status.UNIMPLEMENTED,details:"No message received",metadata:gt.metadata},St))}else Ct.callback(null,Et);else{const St=nt(mt);Ct.callback((0,e.callErrorFromStatus)(gt,St))}mt=null,Rt.emit("status",gt)}}}),Rt}checkMetadataAndOptions(lt,ut){let ft,ct;return lt instanceof Je.Metadata?(ft=lt,ut?ct=ut:ct={}):(lt?ct=lt:ct={},ft=new Je.Metadata),{metadata:ft,options:ct}}makeServerStreamRequest(lt,ut,ft,ct,dt,ht){var xt,vt;const bt=this.checkMetadataAndOptions(dt,ht),_t={path:lt,requestStream:!1,responseStream:!0,requestSerialize:ut,responseDeserialize:ft};let Ct={argument:ct,metadata:bt.metadata,call:new e.ClientReadableStreamImpl(ft),channel:this[et],methodDefinition:_t,callOptions:bt.options};this[st]&&(Ct=this[st](Ct));const Rt=Ct.call,jt={clientInterceptors:this[tt],clientInterceptorProviders:this[rt],callInterceptors:(xt=Ct.callOptions.interceptors)!==null&&xt!==void 0?xt:[],callInterceptorProviders:(vt=Ct.callOptions.interceptor_providers)!==null&&vt!==void 0?vt:[]},yt=(0,Xe.getInterceptingCall)(jt,Ct.methodDefinition,Ct.callOptions,Ct.channel);Rt.call=yt;let Et=!1,pt=new Error;return yt.start(Ct.metadata,{onReceiveMetadata(mt){Rt.emit("metadata",mt)},onReceiveMessage(mt){Rt.push(mt)},onReceiveStatus(mt){if(!Et){if(Et=!0,Rt.push(null),mt.code!==Ye.Status.OK){const gt=nt(pt);Rt.emit("error",(0,e.callErrorFromStatus)(mt,gt))}pt=null,Rt.emit("status",mt)}}}),yt.sendMessage(ct),yt.halfClose(),Rt}makeBidiStreamRequest(lt,ut,ft,ct,dt){var ht,xt;const vt=this.checkMetadataAndOptions(ct,dt),bt={path:lt,requestStream:!0,responseStream:!0,requestSerialize:ut,responseDeserialize:ft};let _t={metadata:vt.metadata,call:new e.ClientDuplexStreamImpl(ut,ft),channel:this[et],methodDefinition:bt,callOptions:vt.options};this[st]&&(_t=this[st](_t));const Ct=_t.call,Rt={clientInterceptors:this[tt],clientInterceptorProviders:this[rt],callInterceptors:(ht=_t.callOptions.interceptors)!==null&&ht!==void 0?ht:[],callInterceptorProviders:(xt=_t.callOptions.interceptor_providers)!==null&&xt!==void 0?xt:[]},jt=(0,Xe.getInterceptingCall)(Rt,_t.methodDefinition,_t.callOptions,_t.channel);Ct.call=jt;let yt=!1,Et=new Error;return jt.start(_t.metadata,{onReceiveMetadata(pt){Ct.emit("metadata",pt)},onReceiveMessage(pt){Ct.push(pt)},onReceiveStatus(pt){if(!yt){if(yt=!0,Ct.push(null),pt.code!==Ye.Status.OK){const mt=nt(Et);Ct.emit("error",(0,e.callErrorFromStatus)(pt,mt))}Et=null,Ct.emit("status",pt)}}}),Ct}}return client.Client=it,client}var hasRequiredMakeClient;function requireMakeClient(){if(hasRequiredMakeClient)return makeClient;hasRequiredMakeClient=1,Object.defineProperty(makeClient,"__esModule",{value:!0}),makeClient.makeClientConstructor=Ye,makeClient.loadPackageDefinition=et;const e=requireClient(),t={unary:e.Client.prototype.makeUnaryRequest,server_stream:e.Client.prototype.makeServerStreamRequest,client_stream:e.Client.prototype.makeClientStreamRequest,bidi:e.Client.prototype.makeBidiStreamRequest};function Ke(tt){return["__proto__","prototype","constructor"].includes(tt)}function Ye(tt,rt,st){class at extends e.Client{}return Object.keys(tt).forEach(nt=>{if(Ke(nt))return;const it=tt[nt];let ot;if(typeof nt=="string"&&nt.charAt(0)==="$")throw new Error("Method names cannot start with $");it.requestStream?it.responseStream?ot="bidi":ot="client_stream":it.responseStream?ot="server_stream":ot="unary";const lt=it.requestSerialize,ut=it.responseDeserialize,ft=Je(t[ot],it.path,lt,ut);at.prototype[nt]=ft,Object.assign(at.prototype[nt],it),it.originalName&&!Ke(it.originalName)&&(at.prototype[it.originalName]=at.prototype[nt])}),at.service=tt,at.serviceName=rt,at}function Je(tt,rt,st,at){return function(...nt){return tt.call(this,rt,st,at,...nt)}}function Xe(tt){return"format"in tt}function et(tt){const rt={};for(const st in tt)if(Object.prototype.hasOwnProperty.call(tt,st)){const at=tt[st],nt=st.split(".");if(nt.some(lt=>Ke(lt)))continue;const it=nt[nt.length-1];let ot=rt;for(const lt of nt.slice(0,-1))ot[lt]||(ot[lt]={}),ot=ot[lt];Xe(at)?ot[it]=at:ot[it]=Ye(at,it)}return rt}return makeClient}var hasRequiredChannelz;function requireChannelz(){if(hasRequiredChannelz)return channelz;hasRequiredChannelz=1,Object.defineProperty(channelz,"__esModule",{value:!0}),channelz.registerChannelzSocket=channelz.registerChannelzServer=channelz.registerChannelzSubchannel=channelz.registerChannelzChannel=channelz.ChannelzCallTrackerStub=channelz.ChannelzCallTracker=channelz.ChannelzChildrenTrackerStub=channelz.ChannelzChildrenTracker=channelz.ChannelzTrace=channelz.ChannelzTraceStub=void 0,channelz.unregisterChannelzRef=vt,channelz.getChannelzHandlers=Ot,channelz.getChannelzServiceDefinition=Kt,channelz.setup=qt;const e=require("net"),t=require$$0,Ke=requireConnectivityState(),Ye=requireConstants(),Je=requireSubchannelAddress(),Xe=requireAdmin(),et=requireMakeClient();function tt(Bt){return{channel_id:Bt.id,name:Bt.name}}function rt(Bt){return{subchannel_id:Bt.id,name:Bt.name}}function st(Bt){return{server_id:Bt.id}}function at(Bt){return{socket_id:Bt.id,name:Bt.name}}const nt=32,it=100;class ot{constructor(){this.events=[],this.creationTimestamp=new Date,this.eventsLogged=0}addTrace(){}getTraceMessage(){return{creation_timestamp:Et(this.creationTimestamp),num_events_logged:this.eventsLogged,events:[]}}}channelz.ChannelzTraceStub=ot;class lt{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(kt,Nt,Pt){const Ft=new Date;this.events.push({description:Nt,severity:kt,timestamp:Ft,childChannel:Pt?.kind==="channel"?Pt:void 0,childSubchannel:Pt?.kind==="subchannel"?Pt:void 0}),this.events.length>=nt*2&&(this.events=this.events.slice(nt)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:Et(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(kt=>({description:kt.description,severity:kt.severity,timestamp:Et(kt.timestamp),channel_ref:kt.childChannel?tt(kt.childChannel):null,subchannel_ref:kt.childSubchannel?rt(kt.childSubchannel):null}))}}}channelz.ChannelzTrace=lt;class ut{constructor(){this.channelChildren=new t.OrderedMap,this.subchannelChildren=new t.OrderedMap,this.socketChildren=new t.OrderedMap,this.trackerMap={channel:this.channelChildren,subchannel:this.subchannelChildren,socket:this.socketChildren}}refChild(kt){const Nt=this.trackerMap[kt.kind],Pt=Nt.find(kt.id);Pt.equals(Nt.end())?Nt.setElement(kt.id,{ref:kt,count:1},Pt):Pt.pointer[1].count+=1}unrefChild(kt){const Nt=this.trackerMap[kt.kind],Pt=Nt.getElementByKey(kt.id);Pt!==void 0&&(Pt.count-=1,Pt.count===0&&Nt.eraseElementByKey(kt.id))}getChildLists(){return{channels:this.channelChildren,subchannels:this.subchannelChildren,sockets:this.socketChildren}}}channelz.ChannelzChildrenTracker=ut;class ft extends ut{refChild(){}unrefChild(){}}channelz.ChannelzChildrenTrackerStub=ft;class ct{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}}channelz.ChannelzCallTracker=ct;class dt extends ct{addCallStarted(){}addCallSucceeded(){}addCallFailed(){}}channelz.ChannelzCallTrackerStub=dt;const ht={channel:new t.OrderedMap,subchannel:new t.OrderedMap,server:new t.OrderedMap,socket:new t.OrderedMap},xt=Bt=>{let kt=1;function Nt(){return kt++}const Pt=ht[Bt];return(Ft,Ut,Ht)=>{const Zt=Nt(),Jt={id:Zt,name:Ft,kind:Bt};return Ht&&Pt.setElement(Zt,{ref:Jt,getInfo:Ut}),Jt}};channelz.registerChannelzChannel=xt("channel"),channelz.registerChannelzSubchannel=xt("subchannel"),channelz.registerChannelzServer=xt("server"),channelz.registerChannelzSocket=xt("socket");function vt(Bt){ht[Bt.kind].eraseElementByKey(Bt.id)}function bt(Bt){const kt=Number.parseInt(Bt,16);return[kt/256|0,kt%256]}function _t(Bt){if(Bt==="")return[];const kt=Bt.split(":").map(Pt=>bt(Pt));return[].concat(...kt)}function Ct(Bt){return(0,e.isIPv6)(Bt)&&Bt.toLowerCase().startsWith("::ffff:")&&(0,e.isIPv4)(Bt.substring(7))}function Rt(Bt){return Buffer.from(Uint8Array.from(Bt.split(".").map(kt=>Number.parseInt(kt))))}function jt(Bt){if((0,e.isIPv4)(Bt))return Rt(Bt);if(Ct(Bt))return Rt(Bt.substring(7));if((0,e.isIPv6)(Bt)){let kt,Nt;const Pt=Bt.indexOf("::");Pt===-1?(kt=Bt,Nt=""):(kt=Bt.substring(0,Pt),Nt=Bt.substring(Pt+2));const Ft=Buffer.from(_t(kt)),Ut=Buffer.from(_t(Nt)),Ht=Buffer.alloc(16-Ft.length-Ut.length,0);return Buffer.concat([Ft,Ht,Ut])}else return null}function yt(Bt){switch(Bt){case Ke.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case Ke.ConnectivityState.IDLE:return{state:"IDLE"};case Ke.ConnectivityState.READY:return{state:"READY"};case Ke.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case Ke.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function Et(Bt){if(!Bt)return null;const kt=Bt.getTime();return{seconds:kt/1e3|0,nanos:kt%1e3*1e6}}function pt(Bt){const kt=Bt.getInfo(),Nt=[],Pt=[];return kt.children.channels.forEach(Ft=>{Nt.push(tt(Ft[1].ref))}),kt.children.subchannels.forEach(Ft=>{Pt.push(rt(Ft[1].ref))}),{ref:tt(Bt.ref),data:{target:kt.target,state:yt(kt.state),calls_started:kt.callTracker.callsStarted,calls_succeeded:kt.callTracker.callsSucceeded,calls_failed:kt.callTracker.callsFailed,last_call_started_timestamp:Et(kt.callTracker.lastCallStartedTimestamp),trace:kt.trace.getTraceMessage()},channel_ref:Nt,subchannel_ref:Pt}}function mt(Bt,kt){const Nt=parseInt(Bt.request.channel_id,10),Pt=ht.channel.getElementByKey(Nt);if(Pt===void 0){kt({code:Ye.Status.NOT_FOUND,details:"No channel data found for id "+Nt});return}kt(null,{channel:pt(Pt)})}function gt(Bt,kt){const Nt=parseInt(Bt.request.max_results,10)||it,Pt=[],Ft=parseInt(Bt.request.start_channel_id,10),Ut=ht.channel;let Ht;for(Ht=Ut.lowerBound(Ft);!Ht.equals(Ut.end())&&Pt.length<Nt;Ht=Ht.next())Pt.push(pt(Ht.pointer[1]));kt(null,{channel:Pt,end:Ht.equals(Ut.end())})}function St(Bt){const kt=Bt.getInfo(),Nt=[];return kt.listenerChildren.sockets.forEach(Pt=>{Nt.push(at(Pt[1].ref))}),{ref:st(Bt.ref),data:{calls_started:kt.callTracker.callsStarted,calls_succeeded:kt.callTracker.callsSucceeded,calls_failed:kt.callTracker.callsFailed,last_call_started_timestamp:Et(kt.callTracker.lastCallStartedTimestamp),trace:kt.trace.getTraceMessage()},listen_socket:Nt}}function wt(Bt,kt){const Nt=parseInt(Bt.request.server_id,10),Ft=ht.server.getElementByKey(Nt);if(Ft===void 0){kt({code:Ye.Status.NOT_FOUND,details:"No server data found for id "+Nt});return}kt(null,{server:St(Ft)})}function $t(Bt,kt){const Nt=parseInt(Bt.request.max_results,10)||it,Pt=parseInt(Bt.request.start_server_id,10),Ft=ht.server,Ut=[];let Ht;for(Ht=Ft.lowerBound(Pt);!Ht.equals(Ft.end())&&Ut.length<Nt;Ht=Ht.next())Ut.push(St(Ht.pointer[1]));kt(null,{server:Ut,end:Ht.equals(Ft.end())})}function Tt(Bt,kt){const Nt=parseInt(Bt.request.subchannel_id,10),Pt=ht.subchannel.getElementByKey(Nt);if(Pt===void 0){kt({code:Ye.Status.NOT_FOUND,details:"No subchannel data found for id "+Nt});return}const Ft=Pt.getInfo(),Ut=[];Ft.children.sockets.forEach(Zt=>{Ut.push(at(Zt[1].ref))});const Ht={ref:rt(Pt.ref),data:{target:Ft.target,state:yt(Ft.state),calls_started:Ft.callTracker.callsStarted,calls_succeeded:Ft.callTracker.callsSucceeded,calls_failed:Ft.callTracker.callsFailed,last_call_started_timestamp:Et(Ft.callTracker.lastCallStartedTimestamp),trace:Ft.trace.getTraceMessage()},socket_ref:Ut};kt(null,{subchannel:Ht})}function At(Bt){var kt;return(0,Je.isTcpSubchannelAddress)(Bt)?{address:"tcpip_address",tcpip_address:{ip_address:(kt=jt(Bt.host))!==null&&kt!==void 0?kt:void 0,port:Bt.port}}:{address:"uds_address",uds_address:{filename:Bt.path}}}function Dt(Bt,kt){var Nt,Pt,Ft,Ut,Ht;const Zt=parseInt(Bt.request.socket_id,10),Jt=ht.socket.getElementByKey(Zt);if(Jt===void 0){kt({code:Ye.Status.NOT_FOUND,details:"No socket data found for id "+Zt});return}const zt=Jt.getInfo(),Yt=zt.security?{model:"tls",tls:{cipher_suite:zt.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:(Nt=zt.security.cipherSuiteStandardName)!==null&&Nt!==void 0?Nt:void 0,other_name:(Pt=zt.security.cipherSuiteOtherName)!==null&&Pt!==void 0?Pt:void 0,local_certificate:(Ft=zt.security.localCertificate)!==null&&Ft!==void 0?Ft:void 0,remote_certificate:(Ut=zt.security.remoteCertificate)!==null&&Ut!==void 0?Ut:void 0}}:null,tr={ref:at(Jt.ref),local:zt.localAddress?At(zt.localAddress):null,remote:zt.remoteAddress?At(zt.remoteAddress):null,remote_name:(Ht=zt.remoteName)!==null&&Ht!==void 0?Ht:void 0,security:Yt,data:{keep_alives_sent:zt.keepAlivesSent,streams_started:zt.streamsStarted,streams_succeeded:zt.streamsSucceeded,streams_failed:zt.streamsFailed,last_local_stream_created_timestamp:Et(zt.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:Et(zt.lastRemoteStreamCreatedTimestamp),messages_received:zt.messagesReceived,messages_sent:zt.messagesSent,last_message_received_timestamp:Et(zt.lastMessageReceivedTimestamp),last_message_sent_timestamp:Et(zt.lastMessageSentTimestamp),local_flow_control_window:zt.localFlowControlWindow?{value:zt.localFlowControlWindow}:null,remote_flow_control_window:zt.remoteFlowControlWindow?{value:zt.remoteFlowControlWindow}:null}};kt(null,{socket:tr})}function It(Bt,kt){const Nt=parseInt(Bt.request.server_id,10),Pt=ht.server.getElementByKey(Nt);if(Pt===void 0){kt({code:Ye.Status.NOT_FOUND,details:"No server data found for id "+Nt});return}const Ft=parseInt(Bt.request.start_socket_id,10),Ut=parseInt(Bt.request.max_results,10)||it,Zt=Pt.getInfo().sessionChildren.sockets,Jt=[];let zt;for(zt=Zt.lowerBound(Ft);!zt.equals(Zt.end())&&Jt.length<Ut;zt=zt.next())Jt.push(at(zt.pointer[1].ref));kt(null,{socket_ref:Jt,end:zt.equals(Zt.end())})}function Ot(){return{GetChannel:mt,GetTopChannels:gt,GetServer:wt,GetServers:$t,GetSubchannel:Tt,GetSocket:Dt,GetServerSockets:It}}let Mt=null;function Kt(){if(Mt)return Mt;const Bt=requireSrc$1().loadSync,kt=Bt("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return Mt=(0,et.loadPackageDefinition)(kt).grpc.channelz.v1.Channelz.service,Mt}function qt(){(0,Xe.registerAdminService)(Kt,Ot)}return channelz}var hasRequiredSubchannel;function requireSubchannel(){if(hasRequiredSubchannel)return subchannel;hasRequiredSubchannel=1,Object.defineProperty(subchannel,"__esModule",{value:!0}),subchannel.Subchannel=void 0;const e=requireConnectivityState(),t=requireBackoffTimeout(),Ke=requireLogging(),Ye=requireConstants(),Je=requireUriParser(),Xe=requireSubchannelAddress(),et=requireChannelz(),tt="subchannel",rt=2147483647;class st{constructor(nt,it,ot,lt,ut){var ft;this.channelTarget=nt,this.subchannelAddress=it,this.options=ot,this.connector=ut,this.connectivityState=e.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0;const ct={initialDelay:ot["grpc.initial_reconnect_backoff_ms"],maxDelay:ot["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new t.BackoffTimeout(()=>{this.handleBackoffTimer()},ct),this.backoffTimeout.unref(),this.subchannelAddressString=(0,Xe.subchannelAddressToString)(it),this.keepaliveTime=(ft=ot["grpc.keepalive_time_ms"])!==null&&ft!==void 0?ft:-1,ot["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.channelzTrace=new et.ChannelzTraceStub,this.callTracker=new et.ChannelzCallTrackerStub,this.childrenTracker=new et.ChannelzChildrenTrackerStub,this.streamTracker=new et.ChannelzCallTrackerStub):(this.channelzTrace=new et.ChannelzTrace,this.callTracker=new et.ChannelzCallTracker,this.childrenTracker=new et.ChannelzChildrenTracker,this.streamTracker=new et.ChannelzCallTracker),this.channelzRef=(0,et.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(ot,void 0,2)),this.secureConnector=lt._createSecureConnector(nt,ot)}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(nt){Ke.trace(Ye.LogVerbosity.DEBUG,tt,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+nt)}refTrace(nt){Ke.trace(Ye.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+nt)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([e.ConnectivityState.TRANSIENT_FAILURE],e.ConnectivityState.CONNECTING):this.transitionToState([e.ConnectivityState.TRANSIENT_FAILURE],e.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let nt=this.options;if(nt["grpc.keepalive_time_ms"]){const it=Math.min(this.keepaliveTime,rt);nt=Object.assign(Object.assign({},nt),{"grpc.keepalive_time_ms":it})}this.connector.connect(this.subchannelAddress,this.secureConnector,nt).then(it=>{this.transitionToState([e.ConnectivityState.CONNECTING],e.ConnectivityState.READY)?(this.transport=it,this.channelzEnabled&&this.childrenTracker.refChild(it.getChannelzRef()),it.addDisconnectListener(ot=>{this.transitionToState([e.ConnectivityState.READY],e.ConnectivityState.IDLE),ot&&this.keepaliveTime>0&&(this.keepaliveTime*=2,Ke.log(Ye.LogVerbosity.ERROR,`Connection to ${(0,Je.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):it.shutdown()},it=>{this.transitionToState([e.ConnectivityState.CONNECTING],e.ConnectivityState.TRANSIENT_FAILURE,`${it}`)})}transitionToState(nt,it,ot){var lt,ut;if(nt.indexOf(this.connectivityState)===-1)return!1;ot?this.trace(e.ConnectivityState[this.connectivityState]+" -> "+e.ConnectivityState[it]+' with error "'+ot+'"'):this.trace(e.ConnectivityState[this.connectivityState]+" -> "+e.ConnectivityState[it]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+e.ConnectivityState[it]);const ft=this.connectivityState;switch(this.connectivityState=it,it){case e.ConnectivityState.READY:this.stopBackoff();break;case e.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case e.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(lt=this.transport)===null||lt===void 0||lt.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case e.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(ut=this.transport)===null||ut===void 0||ut.shutdown(),this.transport=null;break;default:throw new Error(`Invalid state: unknown ConnectivityState ${it}`)}for(const ct of this.stateListeners)ct(this,ft,it,this.keepaliveTime,ot);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.refcount===0&&(this.channelzTrace.addTrace("CT_INFO","Shutting down"),(0,et.unregisterChannelzRef)(this.channelzRef),this.secureConnector.destroy(),process.nextTick(()=>{this.transitionToState([e.ConnectivityState.CONNECTING,e.ConnectivityState.READY],e.ConnectivityState.IDLE)}))}unrefIfOneRef(){return this.refcount===1?(this.unref(),!0):!1}createCall(nt,it,ot,lt){if(!this.transport)throw new Error("Cannot create call, subchannel not READY");let ut;return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),ut={onCallEnd:ft=>{ft.code===Ye.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):ut={},this.transport.createCall(nt,it,ot,lt,ut)}startConnecting(){process.nextTick(()=>{this.transitionToState([e.ConnectivityState.IDLE],e.ConnectivityState.CONNECTING)||this.connectivityState===e.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(nt){this.stateListeners.add(nt)}removeConnectivityStateListener(nt){this.stateListeners.delete(nt)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([e.ConnectivityState.TRANSIENT_FAILURE],e.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}isHealthy(){return!0}addHealthStateWatcher(nt){}removeHealthStateWatcher(nt){}getRealSubchannel(){return this}realSubchannelEquals(nt){return nt.getRealSubchannel()===this}throttleKeepalive(nt){nt>this.keepaliveTime&&(this.keepaliveTime=nt)}getCallCredentials(){return this.secureConnector.getCallCredentials()}}return subchannel.Subchannel=st,subchannel}var transport={},http_proxy={},resolverDns={},environment={},hasRequiredEnvironment;function requireEnvironment(){if(hasRequiredEnvironment)return environment;hasRequiredEnvironment=1;var e={},t;return Object.defineProperty(environment,"__esModule",{value:!0}),environment.GRPC_NODE_USE_ALTERNATIVE_RESOLVER=void 0,environment.GRPC_NODE_USE_ALTERNATIVE_RESOLVER=((t=e.GRPC_NODE_USE_ALTERNATIVE_RESOLVER)!==null&&t!==void 0?t:"false")==="true",environment}var hasRequiredResolverDns;function requireResolverDns(){return hasRequiredResolverDns||(hasRequiredResolverDns=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_PORT=void 0,e.setup=ft;const t=requireResolver(),Ke=require("dns"),Ye=requireServiceConfig(),Je=requireConstants(),Xe=requireMetadata(),et=requireLogging(),tt=requireConstants(),rt=requireUriParser(),st=require("net"),at=requireBackoffTimeout(),nt=requireEnvironment(),it="dns_resolver";function ot(ct){et.trace(tt.LogVerbosity.DEBUG,it,ct)}e.DEFAULT_PORT=443;const lt=3e4;class ut{constructor(dt,ht,xt){var vt,bt,_t;this.target=dt,this.listener=ht,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,this.alternativeResolver=new Ke.promises.Resolver,ot("Resolver constructed for target "+(0,rt.uriToString)(dt)),dt.authority&&this.alternativeResolver.setServers([dt.authority]);const Ct=(0,rt.splitHostPort)(dt.path);Ct===null?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,st.isIPv4)(Ct.host)||(0,st.isIPv6)(Ct.host)?(this.ipResult=[{addresses:[{host:Ct.host,port:(vt=Ct.port)!==null&&vt!==void 0?vt:e.DEFAULT_PORT}]}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=Ct.host,this.port=(bt=Ct.port)!==null&&bt!==void 0?bt:e.DEFAULT_PORT),this.percentage=Math.random()*100,xt["grpc.service_config_disable_resolution"]===1&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:Je.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,rt.uriToString)(this.target)}`,metadata:new Xe.Metadata};const Rt={initialDelay:xt["grpc.initial_reconnect_backoff_ms"],maxDelay:xt["grpc.max_reconnect_backoff_ms"]};this.backoff=new at.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},Rt),this.backoff.unref(),this.minTimeBetweenResolutionsMs=(_t=xt["grpc.dns_min_time_between_resolutions_ms"])!==null&&_t!==void 0?_t:lt,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(this.ipResult!==null){this.returnedIpResult||(ot("Returning IP address for target "+(0,rt.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(this.dnsHostname===null)ot("Failed to parse DNS address "+(0,rt.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:Je.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,rt.uriToString)(this.target)}`,metadata:new Xe.Metadata})}),this.stopNextResolutionTimer();else{if(this.pendingLookupPromise!==null)return;ot("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;const dt=this.dnsHostname;this.pendingLookupPromise=this.lookup(dt),this.pendingLookupPromise.then(ht=>{if(this.pendingLookupPromise===null)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop(),this.latestLookupResult=ht.map(vt=>({addresses:[vt]}));const xt="["+ht.map(vt=>vt.host+":"+vt.port).join(",")+"]";if(ot("Resolved addresses for target "+(0,rt.uriToString)(this.target)+": "+xt),this.latestLookupResult.length===0){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},ht=>{this.pendingLookupPromise!==null&&(ot("Resolution error for target "+(0,rt.uriToString)(this.target)+": "+ht.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&this.pendingTxtPromise===null&&(this.pendingTxtPromise=this.resolveTxt(dt),this.pendingTxtPromise.then(ht=>{if(this.pendingTxtPromise!==null){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,Ye.extractAndSelectServiceConfig)(ht,this.percentage)}catch(xt){this.latestServiceConfigError={code:Je.Status.UNAVAILABLE,details:`Parsing service config failed with error ${xt.message}`,metadata:new Xe.Metadata}}this.latestLookupResult!==null&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},ht=>{}))}}async lookup(dt){if(nt.GRPC_NODE_USE_ALTERNATIVE_RESOLVER){ot("Using alternative DNS resolver.");const xt=await Promise.allSettled([this.alternativeResolver.resolve4(dt),this.alternativeResolver.resolve6(dt)]);if(xt.every(vt=>vt.status==="rejected"))throw new Error(xt[0].reason);return xt.reduce((vt,bt)=>bt.status==="fulfilled"?[...vt,...bt.value]:vt,[]).map(vt=>({host:vt,port:+this.port}))}return(await Ke.promises.lookup(dt,{all:!0})).map(xt=>({host:xt.address,port:+this.port}))}async resolveTxt(dt){return nt.GRPC_NODE_USE_ALTERNATIVE_RESOLVER?(ot("Using alternative DNS resolver."),this.alternativeResolver.resolveTxt(dt)):Ke.promises.resolveTxt(dt)}startNextResolutionTimer(){var dt,ht;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs),(ht=(dt=this.nextResolutionTimer).unref)===null||ht===void 0||ht.call(dt),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){this.pendingLookupPromise===null&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){this.pendingLookupPromise===null&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?ot('resolution update delayed by "min time between resolutions" rate limit'):ot("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(dt){return dt.path}}function ft(){(0,t.registerResolver)("dns",ut),(0,t.registerDefaultScheme)("dns")}})(resolverDns)),resolverDns}var hasRequiredHttp_proxy;function requireHttp_proxy(){if(hasRequiredHttp_proxy)return http_proxy;hasRequiredHttp_proxy=1;var e={};Object.defineProperty(http_proxy,"__esModule",{value:!0}),http_proxy.parseCIDR=lt,http_proxy.mapProxyName=dt,http_proxy.getProxiedConnection=ht;const t=requireLogging(),Ke=requireConstants(),Ye=require("net"),Je=require("http"),Xe=requireLogging(),et=requireSubchannelAddress(),tt=requireUriParser(),rt=require("url"),st=requireResolverDns(),at="proxy";function nt(xt){Xe.trace(Ke.LogVerbosity.DEBUG,at,xt)}function it(){let xt="",vt="";if(e.grpc_proxy)vt="grpc_proxy",xt=e.grpc_proxy;else if(e.https_proxy)vt="https_proxy",xt=e.https_proxy;else if(e.http_proxy)vt="http_proxy",xt=e.http_proxy;else return{};let bt;try{bt=new rt.URL(xt)}catch{return(0,t.log)(Ke.LogVerbosity.ERROR,`cannot parse value of "${vt}" env var`),{}}if(bt.protocol!=="http:")return(0,t.log)(Ke.LogVerbosity.ERROR,`"${bt.protocol}" scheme not supported in proxy URI`),{};let _t=null;bt.username&&(bt.password?((0,t.log)(Ke.LogVerbosity.INFO,"userinfo found in proxy URI"),_t=decodeURIComponent(`${bt.username}:${bt.password}`)):_t=bt.username);const Ct=bt.hostname;let Rt=bt.port;Rt===""&&(Rt="80");const jt={address:`${Ct}:${Rt}`};return _t&&(jt.creds=_t),nt("Proxy server "+jt.address+" set by environment variable "+vt),jt}function ot(){let xt=e.no_grpc_proxy,vt="no_grpc_proxy";return xt||(xt=e.no_proxy,vt="no_proxy"),xt?(nt("No proxy server list set by environment variable "+vt),xt.split(",")):[]}function lt(xt){const vt=xt.split("/");if(vt.length!==2)return null;const bt=parseInt(vt[1],10);return!(0,Ye.isIPv4)(vt[0])||Number.isNaN(bt)||bt<0||bt>32?null:{ip:ut(vt[0]),prefixLength:bt}}function ut(xt){return xt.split(".").reduce((vt,bt)=>(vt<<8)+parseInt(bt,10),0)}function ft(xt,vt){const bt=xt.ip,_t=-1<<32-xt.prefixLength;return(ut(vt)&_t)===(bt&_t)}function ct(xt){for(const vt of ot()){const bt=lt(vt);if((0,Ye.isIPv4)(xt)&&bt&&ft(bt,xt))return!0;if(xt.endsWith(vt))return!0}return!1}function dt(xt,vt){var bt;const _t={target:xt,extraOptions:{}};if(((bt=vt["grpc.enable_http_proxy"])!==null&&bt!==void 0?bt:1)===0||xt.scheme==="unix")return _t;const Ct=it();if(!Ct.address)return _t;const Rt=(0,tt.splitHostPort)(xt.path);if(!Rt)return _t;const jt=Rt.host;if(ct(jt))return nt("Not using proxy for target in no_proxy list: "+(0,tt.uriToString)(xt)),_t;const yt={"grpc.http_connect_target":(0,tt.uriToString)(xt)};return Ct.creds&&(yt["grpc.http_connect_creds"]=Ct.creds),{target:{scheme:"dns",path:Ct.address},extraOptions:yt}}function ht(xt,vt){var bt;if(!("grpc.http_connect_target"in vt))return Promise.resolve(null);const _t=vt["grpc.http_connect_target"],Ct=(0,tt.parseUri)(_t);if(Ct===null)return Promise.resolve(null);const Rt=(0,tt.splitHostPort)(Ct.path);if(Rt===null)return Promise.resolve(null);const jt=`${Rt.host}:${(bt=Rt.port)!==null&&bt!==void 0?bt:st.DEFAULT_PORT}`,yt={method:"CONNECT",path:jt},Et={Host:jt};(0,et.isTcpSubchannelAddress)(xt)?(yt.host=xt.host,yt.port=xt.port):yt.socketPath=xt.path,"grpc.http_connect_creds"in vt&&(Et["Proxy-Authorization"]="Basic "+Buffer.from(vt["grpc.http_connect_creds"]).toString("base64")),yt.headers=Et;const pt=(0,et.subchannelAddressToString)(xt);return nt("Using proxy "+pt+" to connect to "+yt.path),new Promise((mt,gt)=>{const St=Je.request(yt);St.once("connect",(wt,$t,Tt)=>{St.removeAllListeners(),$t.removeAllListeners(),wt.statusCode===200?(nt("Successfully connected to "+yt.path+" through proxy "+pt),Tt.length>0&&$t.unshift(Tt),nt("Successfully established a plaintext connection to "+yt.path+" through proxy "+pt),mt($t)):((0,t.log)(Ke.LogVerbosity.ERROR,"Failed to connect to "+yt.path+" through proxy "+pt+" with status "+wt.statusCode),gt())}),St.once("error",wt=>{St.removeAllListeners(),(0,t.log)(Ke.LogVerbosity.ERROR,"Failed to connect to proxy "+pt+" with error "+wt.message),gt()}),St.end()})}return http_proxy}var subchannelCall={},streamDecoder={},hasRequiredStreamDecoder;function requireStreamDecoder(){if(hasRequiredStreamDecoder)return streamDecoder;hasRequiredStreamDecoder=1,Object.defineProperty(streamDecoder,"__esModule",{value:!0}),streamDecoder.StreamDecoder=void 0;var e;(function(Ke){Ke[Ke.NO_DATA=0]="NO_DATA",Ke[Ke.READING_SIZE=1]="READING_SIZE",Ke[Ke.READING_MESSAGE=2]="READING_MESSAGE"})(e||(e={}));class t{constructor(Ye){this.maxReadMessageLength=Ye,this.readState=e.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(Ye){let Je=0,Xe;const et=[];for(;Je<Ye.length;)switch(this.readState){case e.NO_DATA:this.readCompressFlag=Ye.slice(Je,Je+1),Je+=1,this.readState=e.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case e.READING_SIZE:if(Xe=Math.min(Ye.length-Je,this.readSizeRemaining),Ye.copy(this.readPartialSize,4-this.readSizeRemaining,Je,Je+Xe),this.readSizeRemaining-=Xe,Je+=Xe,this.readSizeRemaining===0){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.maxReadMessageLength!==-1&&this.readMessageSize>this.maxReadMessageLength)throw new Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=e.READING_MESSAGE;else{const tt=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=e.NO_DATA,et.push(tt)}}break;case e.READING_MESSAGE:if(Xe=Math.min(Ye.length-Je,this.readMessageRemaining),this.readPartialMessage.push(Ye.slice(Je,Je+Xe)),this.readMessageRemaining-=Xe,Je+=Xe,this.readMessageRemaining===0){const tt=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),rt=Buffer.concat(tt,this.readMessageSize+5);this.readState=e.NO_DATA,et.push(rt)}break;default:throw new Error("Unexpected read state")}return et}}return streamDecoder.StreamDecoder=t,streamDecoder}var hasRequiredSubchannelCall;function requireSubchannelCall(){if(hasRequiredSubchannelCall)return subchannelCall;hasRequiredSubchannelCall=1,Object.defineProperty(subchannelCall,"__esModule",{value:!0}),subchannelCall.Http2SubchannelCall=void 0;const e=require("http2"),t=require("os"),Ke=requireConstants(),Ye=requireMetadata(),Je=requireStreamDecoder(),Xe=requireLogging(),et=requireConstants(),tt="subchannel_call";function rt(nt){for(const[it,ot]of Object.entries(t.constants.errno))if(ot===nt)return it;return"Unknown system error "+nt}function st(nt){const it=`Received HTTP status code ${nt}`;let ot;switch(nt){case 400:ot=Ke.Status.INTERNAL;break;case 401:ot=Ke.Status.UNAUTHENTICATED;break;case 403:ot=Ke.Status.PERMISSION_DENIED;break;case 404:ot=Ke.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:ot=Ke.Status.UNAVAILABLE;break;default:ot=Ke.Status.UNKNOWN}return{code:ot,details:it,metadata:new Ye.Metadata}}class at{constructor(it,ot,lt,ut,ft){var ct;this.http2Stream=it,this.callEventTracker=ot,this.listener=lt,this.transport=ut,this.callId=ft,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.finalStatus=null,this.internalError=null,this.serverEndedCall=!1,this.connectionDropped=!1;const dt=(ct=ut.getOptions()["grpc.max_receive_message_length"])!==null&&ct!==void 0?ct:Ke.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new Je.StreamDecoder(dt),it.on("response",(ht,xt)=>{let vt="";for(const bt of Object.keys(ht))vt+="		"+bt+": "+ht[bt]+`
`;if(this.trace(`Received server headers:
`+vt),this.httpStatusCode=ht[":status"],xt&e.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(ht);else{let bt;try{bt=Ye.Metadata.fromHttp2Headers(ht)}catch(_t){this.endCall({code:Ke.Status.UNKNOWN,details:_t.message,metadata:new Ye.Metadata});return}this.listener.onReceiveMetadata(bt)}}),it.on("trailers",ht=>{this.handleTrailers(ht)}),it.on("data",ht=>{if(this.statusOutput)return;this.trace("receive HTTP/2 data frame of length "+ht.length);let xt;try{xt=this.decoder.write(ht)}catch(vt){if(this.httpStatusCode!==void 0&&this.httpStatusCode!==200){const bt=st(this.httpStatusCode);this.cancelWithStatus(bt.code,bt.details)}else this.cancelWithStatus(Ke.Status.RESOURCE_EXHAUSTED,vt.message);return}for(const vt of xt)this.trace("parsed message of length "+vt.length),this.callEventTracker.addMessageReceived(),this.tryPush(vt)}),it.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),it.on("close",()=>{this.serverEndedCall=!0,process.nextTick(()=>{var ht;if(this.trace("HTTP/2 stream closed with code "+it.rstCode),((ht=this.finalStatus)===null||ht===void 0?void 0:ht.code)===Ke.Status.OK)return;let xt,vt="";switch(it.rstCode){case e.constants.NGHTTP2_NO_ERROR:if(this.finalStatus!==null)return;if(this.httpStatusCode&&this.httpStatusCode!==200){const bt=st(this.httpStatusCode);xt=bt.code,vt=bt.details}else xt=Ke.Status.INTERNAL,vt=`Received RST_STREAM with code ${it.rstCode} (Call ended without gRPC status)`;break;case e.constants.NGHTTP2_REFUSED_STREAM:xt=Ke.Status.UNAVAILABLE,vt="Stream refused by server";break;case e.constants.NGHTTP2_CANCEL:this.connectionDropped?(xt=Ke.Status.UNAVAILABLE,vt="Connection dropped"):(xt=Ke.Status.CANCELLED,vt="Call cancelled");break;case e.constants.NGHTTP2_ENHANCE_YOUR_CALM:xt=Ke.Status.RESOURCE_EXHAUSTED,vt="Bandwidth exhausted or memory limit exceeded";break;case e.constants.NGHTTP2_INADEQUATE_SECURITY:xt=Ke.Status.PERMISSION_DENIED,vt="Protocol not secure enough";break;case e.constants.NGHTTP2_INTERNAL_ERROR:xt=Ke.Status.INTERNAL,this.internalError===null?vt=`Received RST_STREAM with code ${it.rstCode} (Internal server error)`:this.internalError.code==="ECONNRESET"||this.internalError.code==="ETIMEDOUT"?(xt=Ke.Status.UNAVAILABLE,vt=this.internalError.message):vt=`Received RST_STREAM with code ${it.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:xt=Ke.Status.INTERNAL,vt=`Received RST_STREAM with code ${it.rstCode}`}this.endCall({code:xt,details:vt,metadata:new Ye.Metadata,rstCode:it.rstCode})})}),it.on("error",ht=>{ht.code!=="ERR_HTTP2_STREAM_ERROR"&&(this.trace("Node error event: message="+ht.message+" code="+ht.code+" errno="+rt(ht.errno)+" syscall="+ht.syscall),this.internalError=ht),this.callEventTracker.onStreamEnd(!1)})}getDeadlineInfo(){return[`remote_addr=${this.getPeer()}`]}onDisconnect(){this.connectionDropped=!0,setImmediate(()=>{this.endCall({code:Ke.Status.UNAVAILABLE,details:"Connection dropped",metadata:new Ye.Metadata})})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(it){Xe.trace(et.LogVerbosity.DEBUG,tt,"["+this.callId+"] "+it)}endCall(it){(this.finalStatus===null||this.finalStatus.code===Ke.Status.OK)&&(this.finalStatus=it,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){this.finalStatus!==null&&(this.finalStatus.code!==Ke.Status.OK||this.readsClosed&&this.unpushedReadMessages.length===0&&!this.isReadFilterPending&&!this.isPushPending)&&this.outputStatus()}push(it){this.trace("pushing to reader message of length "+(it instanceof Buffer?it.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,!this.statusOutput&&(this.listener.onReceiveMessage(it),this.maybeOutputStatus())})}tryPush(it){this.canPush?(this.http2Stream.pause(),this.push(it)):(this.trace("unpushedReadMessages.push message of length "+it.length),this.unpushedReadMessages.push(it))}handleTrailers(it){this.serverEndedCall=!0,this.callEventTracker.onStreamEnd(!0);let ot="";for(const ct of Object.keys(it))ot+="		"+ct+": "+it[ct]+`
`;this.trace(`Received server trailers:
`+ot);let lt;try{lt=Ye.Metadata.fromHttp2Headers(it)}catch{lt=new Ye.Metadata}const ut=lt.getMap();let ft;if(typeof ut["grpc-status"]=="string"){const ct=Number(ut["grpc-status"]);this.trace("received status code "+ct+" from server"),lt.remove("grpc-status");let dt="";if(typeof ut["grpc-message"]=="string"){try{dt=decodeURI(ut["grpc-message"])}catch{dt=ut["grpc-message"]}lt.remove("grpc-message"),this.trace('received status details string "'+dt+'" from server')}ft={code:ct,details:dt,metadata:lt}}else this.httpStatusCode?(ft=st(this.httpStatusCode),ft.metadata=lt):ft={code:Ke.Status.UNKNOWN,details:"No status information received",metadata:lt};this.endCall(ft)}destroyHttp2Stream(){var it;if(!this.http2Stream.destroyed)if(this.serverEndedCall)this.http2Stream.end();else{let ot;((it=this.finalStatus)===null||it===void 0?void 0:it.code)===Ke.Status.OK?ot=e.constants.NGHTTP2_NO_ERROR:ot=e.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+ot),this.http2Stream.close(ot)}}cancelWithStatus(it,ot){this.trace("cancelWithStatus code: "+it+' details: "'+ot+'"'),this.endCall({code:it,details:ot,metadata:new Ye.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(this.finalStatus!==null&&this.finalStatus.code!==Ke.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){const it=this.unpushedReadMessages.shift();this.push(it);return}this.http2Stream.resume()}sendMessageWithContext(it,ot){this.trace("write() called with message of length "+ot.length);const lt=ut=>{process.nextTick(()=>{var ft;let ct=Ke.Status.UNAVAILABLE;ut?.code==="ERR_STREAM_WRITE_AFTER_END"&&(ct=Ke.Status.INTERNAL),ut&&this.cancelWithStatus(ct,`Write error: ${ut.message}`),(ft=it.callback)===null||ft===void 0||ft.call(it)})};this.trace("sending data chunk of length "+ot.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(ot,lt)}catch(ut){this.endCall({code:Ke.Status.UNAVAILABLE,details:`Write failed with error ${ut.message}`,metadata:new Ye.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}}return subchannelCall.Http2SubchannelCall=at,subchannelCall}var callNumber={},hasRequiredCallNumber;function requireCallNumber(){if(hasRequiredCallNumber)return callNumber;hasRequiredCallNumber=1,Object.defineProperty(callNumber,"__esModule",{value:!0}),callNumber.getNextCallNumber=t;let e=0;function t(){return e++}return callNumber}var hasRequiredTransport;function requireTransport(){if(hasRequiredTransport)return transport;hasRequiredTransport=1,Object.defineProperty(transport,"__esModule",{value:!0}),transport.Http2SubchannelConnector=void 0;const e=require("http2"),t=requireChannelz(),Ke=requireConstants(),Ye=requireHttp_proxy(),Je=requireLogging(),Xe=requireResolver(),et=requireSubchannelAddress(),tt=requireUriParser(),rt=require("net"),st=requireSubchannelCall(),at=requireCallNumber(),nt="transport",it="transport_flowctrl",ot=require$$9.version,{HTTP2_HEADER_AUTHORITY:lt,HTTP2_HEADER_CONTENT_TYPE:ut,HTTP2_HEADER_METHOD:ft,HTTP2_HEADER_PATH:ct,HTTP2_HEADER_TE:dt,HTTP2_HEADER_USER_AGENT:ht}=e.constants,xt=2e4,vt=Buffer.from("too_many_pings","ascii");class bt{constructor(Rt,jt,yt,Et){this.session=Rt,this.options=yt,this.remoteName=Et,this.keepaliveTimer=null,this.pendingSendKeepalivePing=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,et.subchannelAddressToString)(jt),yt["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.streamTracker=new t.ChannelzCallTrackerStub):this.streamTracker=new t.ChannelzCallTracker,this.channelzRef=(0,t.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[yt["grpc.primary_user_agent"],`grpc-node-js/${ot}`,yt["grpc.secondary_user_agent"]].filter(pt=>pt).join(" "),"grpc.keepalive_time_ms"in yt?this.keepaliveTimeMs=yt["grpc.keepalive_time_ms"]:this.keepaliveTimeMs=-1,"grpc.keepalive_timeout_ms"in yt?this.keepaliveTimeoutMs=yt["grpc.keepalive_timeout_ms"]:this.keepaliveTimeoutMs=xt,"grpc.keepalive_permit_without_calls"in yt?this.keepaliveWithoutCalls=yt["grpc.keepalive_permit_without_calls"]===1:this.keepaliveWithoutCalls=!1,Rt.once("close",()=>{this.trace("session closed"),this.handleDisconnect()}),Rt.once("goaway",(pt,mt,gt)=>{let St=!1;pt===e.constants.NGHTTP2_ENHANCE_YOUR_CALM&&gt&&gt.equals(vt)&&(St=!0),this.trace("connection closed by GOAWAY with code "+pt+" and data "+gt?.toString()),this.reportDisconnectToOwner(St)}),Rt.once("error",pt=>{this.trace("connection closed with error "+pt.message),this.handleDisconnect()}),Rt.socket.once("close",pt=>{this.trace("connection closed. hadError="+pt),this.handleDisconnect()}),Je.isTracerEnabled(nt)&&(Rt.on("remoteSettings",pt=>{this.trace("new settings received"+(this.session!==Rt?" on the old connection":"")+": "+JSON.stringify(pt))}),Rt.on("localSettings",pt=>{this.trace("local settings acknowledged by remote"+(this.session!==Rt?" on the old connection":"")+": "+JSON.stringify(pt))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var Rt,jt,yt;const Et=this.session.socket,pt=Et.remoteAddress?(0,et.stringToSubchannelAddress)(Et.remoteAddress,Et.remotePort):null,mt=Et.localAddress?(0,et.stringToSubchannelAddress)(Et.localAddress,Et.localPort):null;let gt;if(this.session.encrypted){const wt=Et,$t=wt.getCipher(),Tt=wt.getCertificate(),At=wt.getPeerCertificate();gt={cipherSuiteStandardName:(Rt=$t.standardName)!==null&&Rt!==void 0?Rt:null,cipherSuiteOtherName:$t.standardName?null:$t.name,localCertificate:Tt&&"raw"in Tt?Tt.raw:null,remoteCertificate:At&&"raw"in At?At.raw:null}}else gt=null;return{remoteAddress:pt,localAddress:mt,security:gt,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:(jt=this.session.state.localWindowSize)!==null&&jt!==void 0?jt:null,remoteFlowControlWindow:(yt=this.session.state.remoteWindowSize)!==null&&yt!==void 0?yt:null}}trace(Rt){Je.trace(Ke.LogVerbosity.DEBUG,nt,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+Rt)}keepaliveTrace(Rt){Je.trace(Ke.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+Rt)}flowControlTrace(Rt){Je.trace(Ke.LogVerbosity.DEBUG,it,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+Rt)}internalsTrace(Rt){Je.trace(Ke.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+Rt)}reportDisconnectToOwner(Rt){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(jt=>jt(Rt)))}handleDisconnect(){this.clearKeepaliveTimeout(),this.reportDisconnectToOwner(!1);for(const Rt of this.activeCalls)Rt.onDisconnect();setImmediate(()=>{this.session.destroy()})}addDisconnectListener(Rt){this.disconnectListeners.push(Rt)}canSendPing(){return!this.session.destroyed&&this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var Rt,jt;if(!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}if(this.keepaliveTimer){console.error("keepaliveTimeout is not null");return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),(jt=(Rt=this.keepaliveTimer).unref)===null||jt===void 0||jt.call(Rt);let yt="";try{this.session.ping((pt,mt,gt)=>{this.clearKeepaliveTimeout(),pt?(this.keepaliveTrace("Ping failed with error "+pt.message),this.handleDisconnect()):(this.keepaliveTrace("Received ping response"),this.maybeStartKeepalivePingTimer())})||(yt="Ping returned false")}catch(Et){yt=(Et instanceof Error?Et.message:"")||"Unknown error"}yt&&(this.keepaliveTrace("Ping send failed: "+yt),this.handleDisconnect())}maybeStartKeepalivePingTimer(){var Rt,jt;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):this.keepaliveTimer||(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.maybeSendPing()},this.keepaliveTimeMs),(jt=(Rt=this.keepaliveTimer).unref)===null||jt===void 0||jt.call(Rt)))}clearKeepaliveTimeout(){this.keepaliveTimer&&(clearTimeout(this.keepaliveTimer),this.keepaliveTimer=null)}removeActiveCall(Rt){this.activeCalls.delete(Rt),this.activeCalls.size===0&&this.session.unref()}addActiveCall(Rt){this.activeCalls.add(Rt),this.activeCalls.size===1&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(Rt,jt,yt,Et,pt){const mt=Rt.toHttp2Headers();mt[lt]=jt,mt[ht]=this.userAgent,mt[ut]="application/grpc",mt[ft]="POST",mt[ct]=yt,mt[dt]="trailers";let gt;try{gt=this.session.request(mt)}catch($t){throw this.handleDisconnect(),$t}this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed);let St,wt;return this.channelzEnabled?(this.streamTracker.addCallStarted(),St={addMessageSent:()=>{var $t;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,($t=pt.addMessageSent)===null||$t===void 0||$t.call(pt)},addMessageReceived:()=>{var $t;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,($t=pt.addMessageReceived)===null||$t===void 0||$t.call(pt)},onCallEnd:$t=>{var Tt;(Tt=pt.onCallEnd)===null||Tt===void 0||Tt.call(pt,$t),this.removeActiveCall(wt)},onStreamEnd:$t=>{var Tt;$t?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),(Tt=pt.onStreamEnd)===null||Tt===void 0||Tt.call(pt,$t)}}):St={addMessageSent:()=>{var $t;($t=pt.addMessageSent)===null||$t===void 0||$t.call(pt)},addMessageReceived:()=>{var $t;($t=pt.addMessageReceived)===null||$t===void 0||$t.call(pt)},onCallEnd:$t=>{var Tt;(Tt=pt.onCallEnd)===null||Tt===void 0||Tt.call(pt,$t),this.removeActiveCall(wt)},onStreamEnd:$t=>{var Tt;(Tt=pt.onStreamEnd)===null||Tt===void 0||Tt.call(pt,$t)}},wt=new st.Http2SubchannelCall(gt,St,Et,this,(0,at.getNextCallNumber)()),this.addActiveCall(wt),wt}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}shutdown(){this.session.close(),(0,t.unregisterChannelzRef)(this.channelzRef)}}class _t{constructor(Rt){this.channelTarget=Rt,this.session=null,this.isShutdown=!1}trace(Rt){Je.trace(Ke.LogVerbosity.DEBUG,nt,(0,tt.uriToString)(this.channelTarget)+" "+Rt)}createSession(Rt,jt,yt){return this.isShutdown?Promise.reject():Rt.socket.closed?Promise.reject("Connection closed before starting HTTP/2 handshake"):new Promise((Et,pt)=>{let mt=null,gt=this.channelTarget;if("grpc.http_connect_target"in yt){const Mt=(0,tt.parseUri)(yt["grpc.http_connect_target"]);Mt&&(gt=Mt,mt=(0,tt.uriToString)(Mt))}const St=Rt.secure?"https":"http",wt=(0,Xe.getDefaultAuthority)(gt),$t=()=>{var Mt;(Mt=this.session)===null||Mt===void 0||Mt.destroy(),this.session=null,setImmediate(()=>{Ot||(Ot=!0,pt(`${It.trim()} (${new Date().toISOString()})`))})},Tt=Mt=>{var Kt;(Kt=this.session)===null||Kt===void 0||Kt.destroy(),It=Mt.message,this.trace("connection failed with error "+It),Ot||(Ot=!0,pt(`${It} (${new Date().toISOString()})`))},At={createConnection:(Mt,Kt)=>Rt.socket};yt["grpc-node.flow_control_window"]!==void 0&&(At.settings={initialWindowSize:yt["grpc-node.flow_control_window"]});const Dt=e.connect(`${St}://${wt}`,At);this.session=Dt;let It="Failed to connect",Ot=!1;Dt.unref(),Dt.once("remoteSettings",()=>{Dt.removeAllListeners(),Rt.socket.removeListener("close",$t),Rt.socket.removeListener("error",Tt),Et(new bt(Dt,jt,yt,mt)),this.session=null}),Dt.once("close",$t),Dt.once("error",Tt),Rt.socket.once("close",$t),Rt.socket.once("error",Tt)})}tcpConnect(Rt,jt){return(0,Ye.getProxiedConnection)(Rt,jt).then(yt=>yt||new Promise((Et,pt)=>{const mt=()=>{pt(new Error("Socket closed"))},gt=wt=>{pt(wt)},St=rt.connect(Rt,()=>{St.removeListener("close",mt),St.removeListener("error",gt),Et(St)});St.once("close",mt),St.once("error",gt)}))}async connect(Rt,jt,yt){if(this.isShutdown)return Promise.reject();let Et=null,pt=null;const mt=(0,et.subchannelAddressToString)(Rt);try{return this.trace(mt+" Waiting for secureConnector to be ready"),await jt.waitForReady(),this.trace(mt+" secureConnector is ready"),Et=await this.tcpConnect(Rt,yt),Et.setNoDelay(),this.trace(mt+" Established TCP connection"),pt=await jt.connect(Et),this.trace(mt+" Established secure connection"),this.createSession(pt,Rt,yt)}catch(gt){throw Et?.destroy(),pt?.socket.destroy(),gt}}shutdown(){var Rt;this.isShutdown=!0,(Rt=this.session)===null||Rt===void 0||Rt.close(),this.session=null}}return transport.Http2SubchannelConnector=_t,transport}var hasRequiredSubchannelPool;function requireSubchannelPool(){if(hasRequiredSubchannelPool)return subchannelPool;hasRequiredSubchannelPool=1,Object.defineProperty(subchannelPool,"__esModule",{value:!0}),subchannelPool.SubchannelPool=void 0,subchannelPool.getSubchannelPool=rt;const e=requireChannelOptions(),t=requireSubchannel(),Ke=requireSubchannelAddress(),Ye=requireUriParser(),Je=requireTransport(),Xe=1e4;class et{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let at=!0;for(const nt in this.pool){const ot=this.pool[nt].filter(lt=>!lt.subchannel.unrefIfOneRef());ot.length>0&&(at=!1),this.pool[nt]=ot}at&&this.cleanupTimer!==null&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var at,nt;this.cleanupTimer===null&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},Xe),(nt=(at=this.cleanupTimer).unref)===null||nt===void 0||nt.call(at))}getOrCreateSubchannel(at,nt,it,ot){this.ensureCleanupTask();const lt=(0,Ye.uriToString)(at);if(lt in this.pool){const ft=this.pool[lt];for(const ct of ft)if((0,Ke.subchannelAddressEqual)(nt,ct.subchannelAddress)&&(0,e.channelOptionsEqual)(it,ct.channelArguments)&&ot._equals(ct.channelCredentials))return ct.subchannel}const ut=new t.Subchannel(at,nt,it,ot,new Je.Http2SubchannelConnector(at));return lt in this.pool||(this.pool[lt]=[]),this.pool[lt].push({subchannelAddress:nt,channelArguments:it,channelCredentials:ot,subchannel:ut}),ut.ref(),ut}}subchannelPool.SubchannelPool=et;const tt=new et;function rt(st){return st?tt:new et}return subchannelPool}var filterStack={},hasRequiredFilterStack;function requireFilterStack(){if(hasRequiredFilterStack)return filterStack;hasRequiredFilterStack=1,Object.defineProperty(filterStack,"__esModule",{value:!0}),filterStack.FilterStackFactory=filterStack.FilterStack=void 0;class e{constructor(Ye){this.filters=Ye}sendMetadata(Ye){let Je=Ye;for(let Xe=0;Xe<this.filters.length;Xe++)Je=this.filters[Xe].sendMetadata(Je);return Je}receiveMetadata(Ye){let Je=Ye;for(let Xe=this.filters.length-1;Xe>=0;Xe--)Je=this.filters[Xe].receiveMetadata(Je);return Je}sendMessage(Ye){let Je=Ye;for(let Xe=0;Xe<this.filters.length;Xe++)Je=this.filters[Xe].sendMessage(Je);return Je}receiveMessage(Ye){let Je=Ye;for(let Xe=this.filters.length-1;Xe>=0;Xe--)Je=this.filters[Xe].receiveMessage(Je);return Je}receiveTrailers(Ye){let Je=Ye;for(let Xe=this.filters.length-1;Xe>=0;Xe--)Je=this.filters[Xe].receiveTrailers(Je);return Je}push(Ye){this.filters.unshift(...Ye)}getFilters(){return this.filters}}filterStack.FilterStack=e;class t{constructor(Ye){this.factories=Ye}push(Ye){this.factories.unshift(...Ye)}clone(){return new t([...this.factories])}createFilter(){return new e(this.factories.map(Ye=>Ye.createFilter()))}}return filterStack.FilterStackFactory=t,filterStack}var compressionFilter={},compressionAlgorithms={},hasRequiredCompressionAlgorithms;function requireCompressionAlgorithms(){if(hasRequiredCompressionAlgorithms)return compressionAlgorithms;hasRequiredCompressionAlgorithms=1,Object.defineProperty(compressionAlgorithms,"__esModule",{value:!0}),compressionAlgorithms.CompressionAlgorithms=void 0;var e;return(function(t){t[t.identity=0]="identity",t[t.deflate=1]="deflate",t[t.gzip=2]="gzip"})(e||(compressionAlgorithms.CompressionAlgorithms=e={})),compressionAlgorithms}var filter={},hasRequiredFilter;function requireFilter(){if(hasRequiredFilter)return filter;hasRequiredFilter=1,Object.defineProperty(filter,"__esModule",{value:!0}),filter.BaseFilter=void 0;class e{async sendMetadata(Ke){return Ke}receiveMetadata(Ke){return Ke}async sendMessage(Ke){return Ke}async receiveMessage(Ke){return Ke}receiveTrailers(Ke){return Ke}}return filter.BaseFilter=e,filter}var hasRequiredCompressionFilter;function requireCompressionFilter(){if(hasRequiredCompressionFilter)return compressionFilter;hasRequiredCompressionFilter=1,Object.defineProperty(compressionFilter,"__esModule",{value:!0}),compressionFilter.CompressionFilterFactory=compressionFilter.CompressionFilter=void 0;const e=require("zlib"),t=requireCompressionAlgorithms(),Ke=requireConstants(),Ye=requireFilter(),Je=requireLogging(),Xe=lt=>typeof lt=="number"&&typeof t.CompressionAlgorithms[lt]=="string";class et{async writeMessage(ut,ft){let ct=ut;ft&&(ct=await this.compressMessage(ct));const dt=Buffer.allocUnsafe(ct.length+5);return dt.writeUInt8(ft?1:0,0),dt.writeUInt32BE(ct.length,1),ct.copy(dt,5),dt}async readMessage(ut){const ft=ut.readUInt8(0)===1;let ct=ut.slice(5);return ft&&(ct=await this.decompressMessage(ct)),ct}}class tt extends et{async compressMessage(ut){return ut}async writeMessage(ut,ft){const ct=Buffer.allocUnsafe(ut.length+5);return ct.writeUInt8(0,0),ct.writeUInt32BE(ut.length,1),ut.copy(ct,5),ct}decompressMessage(ut){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}}class rt extends et{constructor(ut){super(),this.maxRecvMessageLength=ut}compressMessage(ut){return new Promise((ft,ct)=>{e.deflate(ut,(dt,ht)=>{dt?ct(dt):ft(ht)})})}decompressMessage(ut){return new Promise((ft,ct)=>{let dt=0;const ht=[],xt=e.createInflate();xt.on("data",vt=>{ht.push(vt),dt+=vt.byteLength,this.maxRecvMessageLength!==-1&&dt>this.maxRecvMessageLength&&(xt.destroy(),ct({code:Ke.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),xt.on("end",()=>{ft(Buffer.concat(ht))}),xt.write(ut),xt.end()})}}class st extends et{constructor(ut){super(),this.maxRecvMessageLength=ut}compressMessage(ut){return new Promise((ft,ct)=>{e.gzip(ut,(dt,ht)=>{dt?ct(dt):ft(ht)})})}decompressMessage(ut){return new Promise((ft,ct)=>{let dt=0;const ht=[],xt=e.createGunzip();xt.on("data",vt=>{ht.push(vt),dt+=vt.byteLength,this.maxRecvMessageLength!==-1&&dt>this.maxRecvMessageLength&&(xt.destroy(),ct({code:Ke.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),xt.on("end",()=>{ft(Buffer.concat(ht))}),xt.write(ut),xt.end()})}}class at extends et{constructor(ut){super(),this.compressionName=ut}compressMessage(ut){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(ut){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}}function nt(lt,ut){switch(lt){case"identity":return new tt;case"deflate":return new rt(ut);case"gzip":return new st(ut);default:return new at(lt)}}class it extends Ye.BaseFilter{constructor(ut,ft){var ct,dt,ht;super(),this.sharedFilterConfig=ft,this.sendCompression=new tt,this.receiveCompression=new tt,this.currentCompressionAlgorithm="identity";const xt=ut["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=(ct=ut["grpc.max_receive_message_length"])!==null&&ct!==void 0?ct:Ke.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.maxSendMessageLength=(dt=ut["grpc.max_send_message_length"])!==null&&dt!==void 0?dt:Ke.DEFAULT_MAX_SEND_MESSAGE_LENGTH,xt!==void 0)if(Xe(xt)){const vt=t.CompressionAlgorithms[xt],bt=(ht=ft.serverSupportedEncodingHeader)===null||ht===void 0?void 0:ht.split(",");(!bt||bt.includes(vt))&&(this.currentCompressionAlgorithm=vt,this.sendCompression=nt(this.currentCompressionAlgorithm,-1))}else Je.log(Ke.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${xt}`)}async sendMetadata(ut){const ft=await ut;return ft.set("grpc-accept-encoding","identity,deflate,gzip"),ft.set("accept-encoding","identity"),this.currentCompressionAlgorithm==="identity"?ft.remove("grpc-encoding"):ft.set("grpc-encoding",this.currentCompressionAlgorithm),ft}receiveMetadata(ut){const ft=ut.get("grpc-encoding");if(ft.length>0){const dt=ft[0];typeof dt=="string"&&(this.receiveCompression=nt(dt,this.maxReceiveMessageLength))}ut.remove("grpc-encoding");const ct=ut.get("grpc-accept-encoding")[0];return ct&&(this.sharedFilterConfig.serverSupportedEncodingHeader=ct,ct.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new tt,this.currentCompressionAlgorithm="identity")),ut.remove("grpc-accept-encoding"),ut}async sendMessage(ut){var ft;const ct=await ut;if(this.maxSendMessageLength!==-1&&ct.message.length>this.maxSendMessageLength)throw{code:Ke.Status.RESOURCE_EXHAUSTED,details:`Attempted to send message with a size larger than ${this.maxSendMessageLength}`};let dt;return this.sendCompression instanceof tt?dt=!1:dt=(((ft=ct.flags)!==null&&ft!==void 0?ft:0)&2)===0,{message:await this.sendCompression.writeMessage(ct.message,dt),flags:ct.flags}}async receiveMessage(ut){return this.receiveCompression.readMessage(await ut)}}compressionFilter.CompressionFilter=it;class ot{constructor(ut,ft){this.options=ft,this.sharedFilterConfig={}}createFilter(){return new it(this.options,this.sharedFilterConfig)}}return compressionFilter.CompressionFilterFactory=ot,compressionFilter}var loadBalancingCall={},deadline={},hasRequiredDeadline;function requireDeadline(){if(hasRequiredDeadline)return deadline;hasRequiredDeadline=1,Object.defineProperty(deadline,"__esModule",{value:!0}),deadline.minDeadline=e,deadline.getDeadlineTimeoutString=Ke,deadline.getRelativeTimeout=Je,deadline.deadlineToString=Xe,deadline.formatDateDifference=et;function e(...tt){let rt=1/0;for(const st of tt){const at=st instanceof Date?st.getTime():st;at<rt&&(rt=at)}return rt}const t=[["m",1],["S",1e3],["M",60*1e3],["H",3600*1e3]];function Ke(tt){const rt=new Date().getTime();tt instanceof Date&&(tt=tt.getTime());const st=Math.max(tt-rt,0);for(const[at,nt]of t){const it=st/nt;if(it<1e8)return String(Math.ceil(it))+at}throw new Error("Deadline is too far in the future")}const Ye=2147483647;function Je(tt){const rt=tt instanceof Date?tt.getTime():tt,st=new Date().getTime(),at=rt-st;return at<0?0:at>Ye?1/0:at}function Xe(tt){if(tt instanceof Date)return tt.toISOString();{const rt=new Date(tt);return Number.isNaN(rt.getTime())?""+tt:rt.toISOString()}}function et(tt,rt){return((rt.getTime()-tt.getTime())/1e3).toFixed(3)+"s"}return deadline}var controlPlaneStatus={},hasRequiredControlPlaneStatus;function requireControlPlaneStatus(){if(hasRequiredControlPlaneStatus)return controlPlaneStatus;hasRequiredControlPlaneStatus=1,Object.defineProperty(controlPlaneStatus,"__esModule",{value:!0}),controlPlaneStatus.restrictControlPlaneStatusCode=Ke;const e=requireConstants(),t=[e.Status.OK,e.Status.INVALID_ARGUMENT,e.Status.NOT_FOUND,e.Status.ALREADY_EXISTS,e.Status.FAILED_PRECONDITION,e.Status.ABORTED,e.Status.OUT_OF_RANGE,e.Status.DATA_LOSS];function Ke(Ye,Je){return t.includes(Ye)?{code:e.Status.INTERNAL,details:`Invalid status from control plane: ${Ye} ${e.Status[Ye]} ${Je}`}:{code:Ye,details:Je}}return controlPlaneStatus}var hasRequiredLoadBalancingCall;function requireLoadBalancingCall(){if(hasRequiredLoadBalancingCall)return loadBalancingCall;hasRequiredLoadBalancingCall=1,Object.defineProperty(loadBalancingCall,"__esModule",{value:!0}),loadBalancingCall.LoadBalancingCall=void 0;const e=requireConnectivityState(),t=requireConstants(),Ke=requireDeadline(),Ye=requireMetadata(),Je=requirePicker(),Xe=requireUriParser(),et=requireLogging(),tt=requireControlPlaneStatus(),rt=require("http2"),st="load_balancing_call";class at{constructor(it,ot,lt,ut,ft,ct,dt){var ht,xt;this.channel=it,this.callConfig=ot,this.methodName=lt,this.host=ut,this.credentials=ft,this.deadline=ct,this.callNumber=dt,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null,this.childStartTime=null;const vt=this.methodName.split("/");let bt="";vt.length>=2&&(bt=vt[1]);const _t=(xt=(ht=(0,Xe.splitHostPort)(this.host))===null||ht===void 0?void 0:ht.host)!==null&&xt!==void 0?xt:"localhost";this.serviceUrl=`https://${_t}/${bt}`,this.startTime=new Date}getDeadlineInfo(){var it,ot;const lt=[];return this.childStartTime?(this.childStartTime>this.startTime&&(!((it=this.metadata)===null||it===void 0)&&it.getOptions().waitForReady&&lt.push("wait_for_ready"),lt.push(`LB pick: ${(0,Ke.formatDateDifference)(this.startTime,this.childStartTime)}`)),lt.push(...this.child.getDeadlineInfo()),lt):(!((ot=this.metadata)===null||ot===void 0)&&ot.getOptions().waitForReady&&lt.push("wait_for_ready"),lt.push("Waiting for LB pick"),lt)}trace(it){et.trace(t.LogVerbosity.DEBUG,st,"["+this.callNumber+"] "+it)}outputStatus(it,ot){var lt,ut;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+it.code+' details="'+it.details+'" start time='+this.startTime.toISOString());const ft=Object.assign(Object.assign({},it),{progress:ot});(lt=this.listener)===null||lt===void 0||lt.onReceiveStatus(ft),(ut=this.onCallEnded)===null||ut===void 0||ut.call(this,ft.code)}}doPick(){var it,ot;if(this.ended)return;if(!this.metadata)throw new Error("doPick called before start");this.trace("Pick called");const lt=this.metadata.clone(),ut=this.channel.doPick(lt,this.callConfig.pickInformation),ft=ut.subchannel?"("+ut.subchannel.getChannelzRef().id+") "+ut.subchannel.getAddress():""+ut.subchannel;switch(this.trace("Pick result: "+Je.PickResultType[ut.pickResultType]+" subchannel: "+ft+" status: "+((it=ut.status)===null||it===void 0?void 0:it.code)+" "+((ot=ut.status)===null||ot===void 0?void 0:ot.details)),ut.pickResultType){case Je.PickResultType.COMPLETE:this.credentials.compose(ut.subchannel.getCallCredentials()).generateMetadata({method_name:this.methodName,service_url:this.serviceUrl}).then(xt=>{var vt;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}if(lt.merge(xt),lt.get("authorization").length>1&&this.outputStatus({code:t.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new Ye.Metadata},"PROCESSED"),ut.subchannel.getConnectivityState()!==e.ConnectivityState.READY){this.trace("Picked subchannel "+ft+" has state "+e.ConnectivityState[ut.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&lt.set("grpc-timeout",(0,Ke.getDeadlineTimeoutString)(this.deadline));try{this.child=ut.subchannel.getRealSubchannel().createCall(lt,this.host,this.methodName,{onReceiveMetadata:bt=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(bt)},onReceiveMessage:bt=>{this.trace("Received message"),this.listener.onReceiveMessage(bt)},onReceiveStatus:bt=>{this.trace("Received status"),bt.rstCode===rt.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(bt,"REFUSED"):this.outputStatus(bt,"PROCESSED")}}),this.childStartTime=new Date}catch(bt){this.trace("Failed to start call on picked subchannel "+ft+" with error "+bt.message),this.outputStatus({code:t.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+bt.message,metadata:new Ye.Metadata},"NOT_STARTED");return}(vt=ut.onCallStarted)===null||vt===void 0||vt.call(ut),this.onCallEnded=ut.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},xt=>{const{code:vt,details:bt}=(0,tt.restrictControlPlaneStatusCode)(typeof xt.code=="number"?xt.code:t.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${xt.message}`);this.outputStatus({code:vt,details:bt,metadata:new Ye.Metadata},"PROCESSED")});break;case Je.PickResultType.DROP:const{code:dt,details:ht}=(0,tt.restrictControlPlaneStatusCode)(ut.status.code,ut.status.details);setImmediate(()=>{this.outputStatus({code:dt,details:ht,metadata:ut.status.metadata},"DROP")});break;case Je.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{const{code:xt,details:vt}=(0,tt.restrictControlPlaneStatusCode)(ut.status.code,ut.status.details);setImmediate(()=>{this.outputStatus({code:xt,details:vt,metadata:ut.status.metadata},"PROCESSED")})}break;case Je.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(it,ot){var lt;this.trace("cancelWithStatus code: "+it+' details: "'+ot+'"'),(lt=this.child)===null||lt===void 0||lt.cancelWithStatus(it,ot),this.outputStatus({code:it,details:ot,metadata:new Ye.Metadata},"PROCESSED")}getPeer(){var it,ot;return(ot=(it=this.child)===null||it===void 0?void 0:it.getPeer())!==null&&ot!==void 0?ot:this.channel.getTarget()}start(it,ot){this.trace("start called"),this.listener=ot,this.metadata=it,this.doPick()}sendMessageWithContext(it,ot){this.trace("write() called with message of length "+ot.length),this.child?this.child.sendMessageWithContext(it,ot):this.pendingMessage={context:it,message:ot}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(it){throw new Error("Method not implemented.")}getCallNumber(){return this.callNumber}}return loadBalancingCall.LoadBalancingCall=at,loadBalancingCall}var resolvingCall={},hasRequiredResolvingCall;function requireResolvingCall(){if(hasRequiredResolvingCall)return resolvingCall;hasRequiredResolvingCall=1,Object.defineProperty(resolvingCall,"__esModule",{value:!0}),resolvingCall.ResolvingCall=void 0;const e=requireCallCredentials(),t=requireConstants(),Ke=requireDeadline(),Ye=requireMetadata(),Je=requireLogging(),Xe=requireControlPlaneStatus(),et="resolving_call";class tt{constructor(st,at,nt,it,ot){this.channel=st,this.method=at,this.filterStackFactory=it,this.callNumber=ot,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadlineStartTime=null,this.configReceivedTime=null,this.childStartTime=null,this.credentials=e.CallCredentials.createEmpty(),this.deadline=nt.deadline,this.host=nt.host,nt.parentCall&&(nt.flags&t.Propagate.CANCELLATION&&nt.parentCall.on("cancelled",()=>{this.cancelWithStatus(t.Status.CANCELLED,"Cancelled by parent call")}),nt.flags&t.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+nt.parentCall.getDeadline()),this.deadline=(0,Ke.minDeadline)(this.deadline,nt.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(st){Je.trace(t.LogVerbosity.DEBUG,et,"["+this.callNumber+"] "+st)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.deadlineStartTime=new Date,this.trace("Deadline: "+(0,Ke.deadlineToString)(this.deadline));const st=(0,Ke.getRelativeTimeout)(this.deadline);if(st!==1/0){this.trace("Deadline will be reached in "+st+"ms");const at=()=>{if(!this.deadlineStartTime){this.cancelWithStatus(t.Status.DEADLINE_EXCEEDED,"Deadline exceeded");return}const nt=[],it=new Date;nt.push(`Deadline exceeded after ${(0,Ke.formatDateDifference)(this.deadlineStartTime,it)}`),this.configReceivedTime?(this.configReceivedTime>this.deadlineStartTime&&nt.push(`name resolution: ${(0,Ke.formatDateDifference)(this.deadlineStartTime,this.configReceivedTime)}`),this.childStartTime?this.childStartTime>this.configReceivedTime&&nt.push(`metadata filters: ${(0,Ke.formatDateDifference)(this.configReceivedTime,this.childStartTime)}`):nt.push("waiting for metadata filters")):nt.push("waiting for name resolution"),this.child&&nt.push(...this.child.getDeadlineInfo()),this.cancelWithStatus(t.Status.DEADLINE_EXCEEDED,nt.join(","))};st<=0?process.nextTick(at):this.deadlineTimer=setTimeout(at,st)}}outputStatus(st){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);const at=this.filterStack.receiveTrailers(st);this.trace("ended with status: code="+at.code+' details="'+at.details+'"'),this.statusWatchers.forEach(nt=>nt(at)),process.nextTick(()=>{var nt;(nt=this.listener)===null||nt===void 0||nt.onReceiveStatus(at)})}}sendMessageOnChild(st,at){if(!this.child)throw new Error("sendMessageonChild called with child not populated");const nt=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:at,flags:st.flags})).then(it=>{this.writeFilterPending=!1,nt.sendMessageWithContext(st,it.message),this.pendingHalfClose&&nt.halfClose()},it=>{this.cancelWithStatus(it.code,it.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw new Error("getConfig called before start");const st=this.channel.getConfig(this.method,this.metadata);if(st.type==="NONE"){this.channel.queueCallForConfig(this);return}else if(st.type==="ERROR"){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(st.error);return}this.configReceivedTime=new Date;const at=st.config;if(at.status!==t.Status.OK){const{code:nt,details:it}=(0,Xe.restrictControlPlaneStatusCode)(at.status,"Failed to route call to method "+this.method);this.outputStatus({code:nt,details:it,metadata:new Ye.Metadata});return}if(at.methodConfig.timeout){const nt=new Date;nt.setSeconds(nt.getSeconds()+at.methodConfig.timeout.seconds),nt.setMilliseconds(nt.getMilliseconds()+at.methodConfig.timeout.nanos/1e6),this.deadline=(0,Ke.minDeadline)(this.deadline,nt),this.runDeadlineTimer()}this.filterStackFactory.push(at.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(nt=>{this.child=this.channel.createRetryingCall(at,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.childStartTime=new Date,this.child.start(nt,{onReceiveMetadata:it=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(it))},onReceiveMessage:it=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(it).then(ot=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(ot),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},ot=>{this.cancelWithStatus(ot.code,ot.details)})},onReceiveStatus:it=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=it:this.outputStatus(it)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},nt=>{this.outputStatus(nt)})}reportResolverError(st){var at;!((at=this.metadata)===null||at===void 0)&&at.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(st)}cancelWithStatus(st,at){var nt;this.trace("cancelWithStatus code: "+st+' details: "'+at+'"'),(nt=this.child)===null||nt===void 0||nt.cancelWithStatus(st,at),this.outputStatus({code:st,details:at,metadata:new Ye.Metadata})}getPeer(){var st,at;return(at=(st=this.child)===null||st===void 0?void 0:st.getPeer())!==null&&at!==void 0?at:this.channel.getTarget()}start(st,at){this.trace("start called"),this.metadata=st.clone(),this.listener=at,this.getConfig()}sendMessageWithContext(st,at){this.trace("write() called with message of length "+at.length),this.child?this.sendMessageOnChild(st,at):this.pendingMessage={context:st,message:at}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(st){this.credentials=st}addStatusWatcher(st){this.statusWatchers.push(st)}getCallNumber(){return this.callNumber}}return resolvingCall.ResolvingCall=tt,resolvingCall}var retryingCall={},hasRequiredRetryingCall;function requireRetryingCall(){if(hasRequiredRetryingCall)return retryingCall;hasRequiredRetryingCall=1,Object.defineProperty(retryingCall,"__esModule",{value:!0}),retryingCall.RetryingCall=retryingCall.MessageBufferTracker=retryingCall.RetryThrottler=void 0;const e=requireConstants(),t=requireDeadline(),Ke=requireMetadata(),Ye=requireLogging(),Je="retrying_call";class Xe{constructor(nt,it,ot){this.maxTokens=nt,this.tokenRatio=it,ot?this.tokens=ot.tokens*(nt/ot.maxTokens):this.tokens=nt}addCallSucceeded(){this.tokens=Math.min(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.max(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}}retryingCall.RetryThrottler=Xe;class et{constructor(nt,it){this.totalLimit=nt,this.limitPerCall=it,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(nt,it){var ot;const lt=(ot=this.allocatedPerCall.get(it))!==null&&ot!==void 0?ot:0;return this.limitPerCall-lt<nt||this.totalLimit-this.totalAllocated<nt?!1:(this.allocatedPerCall.set(it,lt+nt),this.totalAllocated+=nt,!0)}free(nt,it){var ot;if(this.totalAllocated<nt)throw new Error(`Invalid buffer allocation state: call ${it} freed ${nt} > total allocated ${this.totalAllocated}`);this.totalAllocated-=nt;const lt=(ot=this.allocatedPerCall.get(it))!==null&&ot!==void 0?ot:0;if(lt<nt)throw new Error(`Invalid buffer allocation state: call ${it} freed ${nt} > allocated for call ${lt}`);this.allocatedPerCall.set(it,lt-nt)}freeAll(nt){var it;const ot=(it=this.allocatedPerCall.get(nt))!==null&&it!==void 0?it:0;if(this.totalAllocated<ot)throw new Error(`Invalid buffer allocation state: call ${nt} allocated ${ot} > total allocated ${this.totalAllocated}`);this.totalAllocated-=ot,this.allocatedPerCall.delete(nt)}}retryingCall.MessageBufferTracker=et;const tt="grpc-previous-rpc-attempts",rt=5;class st{constructor(nt,it,ot,lt,ut,ft,ct,dt,ht){var xt;this.channel=nt,this.callConfig=it,this.methodName=ot,this.host=lt,this.credentials=ut,this.deadline=ft,this.callNumber=ct,this.bufferTracker=dt,this.retryThrottler=ht,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0;const vt=(xt=nt.getOptions()["grpc-node.retry_max_attempts_limit"])!==null&&xt!==void 0?xt:rt;if(nt.getOptions()["grpc.enable_retries"]===0)this.state="NO_RETRY",this.maxAttempts=1;else if(it.methodConfig.retryPolicy){this.state="RETRY";const bt=it.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(bt.initialBackoff.substring(0,bt.initialBackoff.length-1)),this.maxAttempts=Math.min(bt.maxAttempts,vt)}else it.methodConfig.hedgingPolicy?(this.state="HEDGING",this.maxAttempts=Math.min(it.methodConfig.hedgingPolicy.maxAttempts,vt)):(this.state="TRANSPARENT_ONLY",this.maxAttempts=1);this.startTime=new Date}getDeadlineInfo(){if(this.underlyingCalls.length===0)return[];const nt=[],it=this.underlyingCalls[this.underlyingCalls.length-1];return this.underlyingCalls.length>1&&nt.push(`previous attempts: ${this.underlyingCalls.length-1}`),it.startTime>this.startTime&&nt.push(`time to current attempt start: ${(0,t.formatDateDifference)(this.startTime,it.startTime)}`),nt.push(...it.call.getDeadlineInfo()),nt}getCallNumber(){return this.callNumber}trace(nt){Ye.trace(e.LogVerbosity.DEBUG,Je,"["+this.callNumber+"] "+nt)}reportStatus(nt){this.trace("ended with status: code="+nt.code+' details="'+nt.details+'" start time='+this.startTime.toISOString()),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var it;(it=this.listener)===null||it===void 0||it.onReceiveStatus({code:nt.code,details:nt.details,metadata:nt.metadata})})}cancelWithStatus(nt,it){this.trace("cancelWithStatus code: "+nt+' details: "'+it+'"'),this.reportStatus({code:nt,details:it,metadata:new Ke.Metadata});for(const{call:ot}of this.underlyingCalls)ot.cancelWithStatus(nt,it)}getPeer(){return this.committedCallIndex!==null?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(nt){var it;return(it=this.writeBuffer[nt-this.writeBufferOffset])!==null&&it!==void 0?it:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if(this.state!=="COMMITTED")return;let nt;this.underlyingCalls[this.committedCallIndex].state==="COMPLETED"?nt=this.getNextBufferIndex():nt=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let it=this.writeBufferOffset;it<nt;it++){const ot=this.getBufferEntry(it);ot.allocated&&this.bufferTracker.free(ot.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(nt-this.writeBufferOffset),this.writeBufferOffset=nt}commitCall(nt){var it,ot;if(this.state!=="COMMITTED"){this.trace("Committing call ["+this.underlyingCalls[nt].call.getCallNumber()+"] at index "+nt),this.state="COMMITTED",(ot=(it=this.callConfig).onCommitted)===null||ot===void 0||ot.call(it),this.committedCallIndex=nt;for(let lt=0;lt<this.underlyingCalls.length;lt++)lt!==nt&&this.underlyingCalls[lt].state!=="COMPLETED"&&(this.underlyingCalls[lt].state="COMPLETED",this.underlyingCalls[lt].call.cancelWithStatus(e.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if(this.state==="COMMITTED")return;let nt=-1,it=-1;for(const[ot,lt]of this.underlyingCalls.entries())lt.state==="ACTIVE"&&lt.nextMessageToSend>nt&&(nt=lt.nextMessageToSend,it=ot);it===-1?this.state="TRANSPARENT_ONLY":this.commitCall(it)}isStatusCodeInList(nt,it){return nt.some(ot=>{var lt;return ot===it||ot.toString().toLowerCase()===((lt=e.Status[it])===null||lt===void 0?void 0:lt.toLowerCase())})}getNextRetryBackoffMs(){var nt;const it=(nt=this.callConfig)===null||nt===void 0?void 0:nt.methodConfig.retryPolicy;if(!it)return 0;const ot=Math.random()*this.nextRetryBackoffSec*1e3,lt=Number(it.maxBackoff.substring(0,it.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*it.backoffMultiplier,lt),ot}maybeRetryCall(nt,it){if(this.state!=="RETRY"){it(!1);return}if(this.attempts>=this.maxAttempts){it(!1);return}let ot;if(nt===null)ot=this.getNextRetryBackoffMs();else if(nt<0){this.state="TRANSPARENT_ONLY",it(!1);return}else ot=nt,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var lt,ut;if(this.state!=="RETRY"){it(!1);return}!((ut=(lt=this.retryThrottler)===null||lt===void 0?void 0:lt.canRetryCall())!==null&&ut!==void 0)||ut?(it(!0),this.attempts+=1,this.startNewAttempt()):(this.trace("Retry attempt denied by throttling policy"),it(!1))},ot)}countActiveCalls(){let nt=0;for(const it of this.underlyingCalls)it?.state==="ACTIVE"&&(nt+=1);return nt}handleProcessedStatus(nt,it,ot){var lt,ut,ft;switch(this.state){case"COMMITTED":case"NO_RETRY":case"TRANSPARENT_ONLY":this.commitCall(it),this.reportStatus(nt);break;case"HEDGING":if(this.isStatusCodeInList((lt=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)!==null&&lt!==void 0?lt:[],nt.code)){(ut=this.retryThrottler)===null||ut===void 0||ut.addCallFailed();let ct;if(ot===null)ct=0;else if(ot<0){this.state="TRANSPARENT_ONLY",this.commitCall(it),this.reportStatus(nt);return}else ct=ot;setTimeout(()=>{this.maybeStartHedgingAttempt(),this.countActiveCalls()===0&&(this.commitCall(it),this.reportStatus(nt))},ct)}else this.commitCall(it),this.reportStatus(nt);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,nt.code)?((ft=this.retryThrottler)===null||ft===void 0||ft.addCallFailed(),this.maybeRetryCall(ot,ct=>{ct||(this.commitCall(it),this.reportStatus(nt))})):(this.commitCall(it),this.reportStatus(nt));break}}getPushback(nt){const it=nt.get("grpc-retry-pushback-ms");if(it.length===0)return null;try{return parseInt(it[0])}catch{return-1}}handleChildStatus(nt,it){var ot;if(this.underlyingCalls[it].state==="COMPLETED")return;if(this.trace("state="+this.state+" handling status with progress "+nt.progress+" from child ["+this.underlyingCalls[it].call.getCallNumber()+"] in state "+this.underlyingCalls[it].state),this.underlyingCalls[it].state="COMPLETED",nt.code===e.Status.OK){(ot=this.retryThrottler)===null||ot===void 0||ot.addCallSucceeded(),this.commitCall(it),this.reportStatus(nt);return}if(this.state==="NO_RETRY"){this.commitCall(it),this.reportStatus(nt);return}if(this.state==="COMMITTED"){this.reportStatus(nt);return}const lt=this.getPushback(nt.metadata);switch(nt.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(nt,it,lt):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(it),this.reportStatus(nt);break;case"PROCESSED":this.handleProcessedStatus(nt,it,lt);break}}maybeStartHedgingAttempt(){this.state==="HEDGING"&&this.callConfig.methodConfig.hedgingPolicy&&(this.attempts>=this.maxAttempts||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()))}maybeStartHedgingTimer(){var nt,it,ot;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;const lt=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=this.maxAttempts)return;const ut=(nt=lt.hedgingDelay)!==null&&nt!==void 0?nt:"0s",ft=Number(ut.substring(0,ut.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},ft*1e3),(ot=(it=this.hedgingTimer).unref)===null||ot===void 0||ot.call(it)}startNewAttempt(){const nt=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+nt.getCallNumber()+"] for attempt "+this.attempts);const it=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:nt,nextMessageToSend:0,startTime:new Date});const ot=this.attempts-1,lt=this.initialMetadata.clone();ot>0&&lt.set(tt,`${ot}`);let ut=!1;nt.start(lt,{onReceiveMetadata:ft=>{this.trace("Received metadata from child ["+nt.getCallNumber()+"]"),this.commitCall(it),ut=!0,ot>0&&ft.set(tt,`${ot}`),this.underlyingCalls[it].state==="ACTIVE"&&this.listener.onReceiveMetadata(ft)},onReceiveMessage:ft=>{this.trace("Received message from child ["+nt.getCallNumber()+"]"),this.commitCall(it),this.underlyingCalls[it].state==="ACTIVE"&&this.listener.onReceiveMessage(ft)},onReceiveStatus:ft=>{this.trace("Received status from child ["+nt.getCallNumber()+"]"),!ut&&ot>0&&ft.metadata.set(tt,`${ot}`),this.handleChildStatus(ft,it)}}),this.sendNextChildMessage(it),this.readStarted&&nt.startRead()}start(nt,it){this.trace("start called"),this.listener=it,this.initialMetadata=nt,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(nt){var it,ot;const lt=this.underlyingCalls[nt],ut=lt.nextMessageToSend;(ot=(it=this.getBufferEntry(ut)).callback)===null||ot===void 0||ot.call(it),this.clearSentMessages(),lt.nextMessageToSend+=1,this.sendNextChildMessage(nt)}sendNextChildMessage(nt){const it=this.underlyingCalls[nt];if(it.state!=="COMPLETED"&&this.getBufferEntry(it.nextMessageToSend)){const ot=this.getBufferEntry(it.nextMessageToSend);switch(ot.entryType){case"MESSAGE":it.call.sendMessageWithContext({callback:lt=>{this.handleChildWriteCompleted(nt)}},ot.message.message);break;case"HALF_CLOSE":it.nextMessageToSend+=1,it.call.halfClose();break}}}sendMessageWithContext(nt,it){var ot;this.trace("write() called with message of length "+it.length);const lt={message:it,flags:nt.flags},ut=this.getNextBufferIndex(),ft={entryType:"MESSAGE",message:lt,allocated:this.bufferTracker.allocate(it.length,this.callNumber)};if(this.writeBuffer.push(ft),ft.allocated){(ot=nt.callback)===null||ot===void 0||ot.call(nt);for(const[ct,dt]of this.underlyingCalls.entries())dt.state==="ACTIVE"&&dt.nextMessageToSend===ut&&dt.call.sendMessageWithContext({callback:ht=>{this.handleChildWriteCompleted(ct)}},it)}else{if(this.commitCallWithMostMessages(),this.committedCallIndex===null)return;const ct=this.underlyingCalls[this.committedCallIndex];ft.callback=nt.callback,ct.state==="ACTIVE"&&ct.nextMessageToSend===ut&&ct.call.sendMessageWithContext({callback:dt=>{this.handleChildWriteCompleted(this.committedCallIndex)}},it)}}startRead(){this.trace("startRead called"),this.readStarted=!0;for(const nt of this.underlyingCalls)nt?.state==="ACTIVE"&&nt.call.startRead()}halfClose(){this.trace("halfClose called");const nt=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1});for(const it of this.underlyingCalls)it?.state==="ACTIVE"&&it.nextMessageToSend===nt&&(it.nextMessageToSend+=1,it.call.halfClose())}setCredentials(nt){throw new Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}}return retryingCall.RetryingCall=st,retryingCall}var subchannelInterface={},hasRequiredSubchannelInterface;function requireSubchannelInterface(){if(hasRequiredSubchannelInterface)return subchannelInterface;hasRequiredSubchannelInterface=1,Object.defineProperty(subchannelInterface,"__esModule",{value:!0}),subchannelInterface.BaseSubchannelWrapper=void 0;class e{constructor(Ke){this.child=Ke,this.healthy=!0,this.healthListeners=new Set,Ke.addHealthStateWatcher(Ye=>{this.healthy&&this.updateHealthListeners()})}updateHealthListeners(){for(const Ke of this.healthListeners)Ke(this.isHealthy())}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(Ke){this.child.addConnectivityStateListener(Ke)}removeConnectivityStateListener(Ke){this.child.removeConnectivityStateListener(Ke)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(Ke){this.child.throttleKeepalive(Ke)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}isHealthy(){return this.healthy&&this.child.isHealthy()}addHealthStateWatcher(Ke){this.healthListeners.add(Ke)}removeHealthStateWatcher(Ke){this.healthListeners.delete(Ke)}setHealthy(Ke){Ke!==this.healthy&&(this.healthy=Ke,this.child.isHealthy()&&this.updateHealthListeners())}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(Ke){return this.getRealSubchannel()===Ke.getRealSubchannel()}getCallCredentials(){return this.child.getCallCredentials()}}return subchannelInterface.BaseSubchannelWrapper=e,subchannelInterface}var hasRequiredInternalChannel;function requireInternalChannel(){return hasRequiredInternalChannel||(hasRequiredInternalChannel=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.InternalChannel=e.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX=void 0;const t=requireChannelCredentials(),Ke=requireResolvingLoadBalancer(),Ye=requireSubchannelPool(),Je=requirePicker(),Xe=requireMetadata(),et=requireConstants(),tt=requireFilterStack(),rt=requireCompressionFilter(),st=requireResolver(),at=requireLogging(),nt=requireHttp_proxy(),it=requireUriParser(),ot=requireConnectivityState(),lt=requireChannelz(),ut=requireLoadBalancingCall(),ft=requireDeadline(),ct=requireResolvingCall(),dt=requireCallNumber(),ht=requireControlPlaneStatus(),xt=requireRetryingCall(),vt=requireSubchannelInterface(),bt=2147483647,_t=1e3,Ct=1800*1e3,Rt=new Map,jt=1<<24,yt=1<<20;class Et extends vt.BaseSubchannelWrapper{constructor(wt,$t){super(wt),this.channel=$t,this.refCount=0,this.subchannelStateListener=(Tt,At,Dt,It)=>{$t.throttleKeepalive(It)}}ref(){this.refCount===0&&(this.child.addConnectivityStateListener(this.subchannelStateListener),this.channel.addWrappedSubchannel(this)),this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}}class pt{pick(wt){return{pickResultType:Je.PickResultType.DROP,status:{code:et.Status.UNAVAILABLE,details:"Channel closed before call started",metadata:new Xe.Metadata},subchannel:null,onCallStarted:null,onCallEnded:null}}}e.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX="grpc.internal.no_subchannel";class mt{constructor(wt){this.target=wt,this.trace=new lt.ChannelzTrace,this.callTracker=new lt.ChannelzCallTracker,this.childrenTracker=new lt.ChannelzChildrenTracker,this.state=ot.ConnectivityState.IDLE}getChannelzInfoCallback(){return()=>({target:this.target,state:this.state,trace:this.trace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()})}}class gt{constructor(wt,$t,Tt){var At,Dt,It,Ot,Mt,Kt;if(this.credentials=$t,this.options=Tt,this.connectivityState=ot.ConnectivityState.IDLE,this.currentPicker=new Je.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.callRefTimer=null,this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.randomChannelId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),typeof wt!="string")throw new TypeError("Channel target must be a string");if(!($t instanceof t.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(Tt&&typeof Tt!="object")throw new TypeError("Channel options must be an object");this.channelzInfoTracker=new mt(wt);const qt=(0,it.parseUri)(wt);if(qt===null)throw new Error(`Could not parse target name "${wt}"`);const Bt=(0,st.mapUriDefaultScheme)(qt);if(Bt===null)throw new Error(`Could not find a default scheme for target name "${wt}"`);this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzRef=(0,lt.registerChannelzChannel)(wt,this.channelzInfoTracker.getChannelzInfoCallback(),this.channelzEnabled),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,st.getDefaultAuthority)(Bt);const kt=(0,nt.mapProxyName)(Bt,Tt);this.target=kt.target,this.options=Object.assign({},this.options,kt.extraOptions),this.subchannelPool=(0,Ye.getSubchannelPool)(((At=this.options["grpc.use_local_subchannel_pool"])!==null&&At!==void 0?At:0)===0),this.retryBufferTracker=new xt.MessageBufferTracker((Dt=this.options["grpc.retry_buffer_size"])!==null&&Dt!==void 0?Dt:jt,(It=this.options["grpc.per_rpc_retry_buffer_size"])!==null&&It!==void 0?It:yt),this.keepaliveTime=(Ot=this.options["grpc.keepalive_time_ms"])!==null&&Ot!==void 0?Ot:-1,this.idleTimeoutMs=Math.max((Mt=this.options["grpc.client_idle_timeout_ms"])!==null&&Mt!==void 0?Mt:Ct,_t);const Nt={createSubchannel:(Ft,Ut)=>{const Ht={};for(const[zt,Yt]of Object.entries(Ut))zt.startsWith(e.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX)||(Ht[zt]=Yt);const Zt=this.subchannelPool.getOrCreateSubchannel(this.target,Ft,Ht,this.credentials);return Zt.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Created subchannel or used existing subchannel",Zt.getChannelzRef()),new Et(Zt,this)},updateState:(Ft,Ut)=>{this.currentPicker=Ut;const Ht=this.pickQueue.slice();this.pickQueue=[],Ht.length>0&&this.callRefTimerUnref();for(const Zt of Ht)Zt.doPick();this.updateState(Ft)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:Ft=>{this.channelzEnabled&&this.channelzInfoTracker.childrenTracker.refChild(Ft)},removeChannelzChild:Ft=>{this.channelzEnabled&&this.channelzInfoTracker.childrenTracker.unrefChild(Ft)}};this.resolvingLoadBalancer=new Ke.ResolvingLoadBalancer(this.target,Nt,this.options,(Ft,Ut)=>{var Ht;Ft.retryThrottling?Rt.set(this.getTarget(),new xt.RetryThrottler(Ft.retryThrottling.maxTokens,Ft.retryThrottling.tokenRatio,Rt.get(this.getTarget()))):Rt.delete(this.getTarget()),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Address resolution succeeded"),(Ht=this.configSelector)===null||Ht===void 0||Ht.unref(),this.configSelector=Ut,this.currentResolutionError=null,process.nextTick(()=>{const Zt=this.configSelectionQueue;this.configSelectionQueue=[],Zt.length>0&&this.callRefTimerUnref();for(const Jt of Zt)Jt.getConfig()})},Ft=>{this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_WARNING","Address resolution failed with code "+Ft.code+' and details "'+Ft.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),this.configSelector===null&&(this.currentResolutionError=Object.assign(Object.assign({},(0,ht.restrictControlPlaneStatusCode)(Ft.code,Ft.details)),{metadata:Ft.metadata}));const Ut=this.configSelectionQueue;this.configSelectionQueue=[],Ut.length>0&&this.callRefTimerUnref();for(const Ht of Ut)Ht.reportResolverError(Ft)}),this.filterStackFactory=new tt.FilterStackFactory([new rt.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(Tt,void 0,2));const Pt=new Error;(0,at.isTracerEnabled)("channel_stacktrace")&&(0,at.trace)(et.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+`) Channel constructed 
`+((Kt=Pt.stack)===null||Kt===void 0?void 0:Kt.substring(Pt.stack.indexOf(`
`)+1))),this.lastActivityTimestamp=new Date}trace(wt,$t){(0,at.trace)($t??et.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,it.uriToString)(this.target)+" "+wt)}callRefTimerRef(){var wt,$t,Tt,At;this.callRefTimer||(this.callRefTimer=setInterval(()=>{},bt)),!(($t=(wt=this.callRefTimer).hasRef)===null||$t===void 0)&&$t.call(wt)||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(At=(Tt=this.callRefTimer).ref)===null||At===void 0||At.call(Tt))}callRefTimerUnref(){var wt,$t,Tt;(!(!((wt=this.callRefTimer)===null||wt===void 0)&&wt.hasRef)||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(Tt=($t=this.callRefTimer)===null||$t===void 0?void 0:$t.unref)===null||Tt===void 0||Tt.call($t))}removeConnectivityStateWatcher(wt){const $t=this.connectivityStateWatchers.findIndex(Tt=>Tt===wt);$t>=0&&this.connectivityStateWatchers.splice($t,1)}updateState(wt){(0,at.trace)(et.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,it.uriToString)(this.target)+" "+ot.ConnectivityState[this.connectivityState]+" -> "+ot.ConnectivityState[wt]),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Connectivity state change to "+ot.ConnectivityState[wt]),this.connectivityState=wt,this.channelzInfoTracker.state=wt;const $t=this.connectivityStateWatchers.slice();for(const Tt of $t)wt!==Tt.currentState&&(Tt.timer&&clearTimeout(Tt.timer),this.removeConnectivityStateWatcher(Tt),Tt.callback());wt!==ot.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(wt){if(wt>this.keepaliveTime){this.keepaliveTime=wt;for(const $t of this.wrappedSubchannels)$t.throttleKeepalive(wt)}}addWrappedSubchannel(wt){this.wrappedSubchannels.add(wt)}removeWrappedSubchannel(wt){this.wrappedSubchannels.delete(wt)}doPick(wt,$t){return this.currentPicker.pick({metadata:wt,extraPickInfo:$t})}queueCallForPick(wt){this.pickQueue.push(wt),this.callRefTimerRef()}getConfig(wt,$t){return this.connectivityState!==ot.ConnectivityState.SHUTDOWN&&this.resolvingLoadBalancer.exitIdle(),this.configSelector?{type:"SUCCESS",config:this.configSelector.invoke(wt,$t,this.randomChannelId)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(wt){this.configSelectionQueue.push(wt),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(ot.ConnectivityState.IDLE),this.currentPicker=new Je.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null),this.callRefTimer&&(clearInterval(this.callRefTimer),this.callRefTimer=null)}startIdleTimeout(wt){var $t,Tt;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}const Dt=new Date().valueOf()-this.lastActivityTimestamp.valueOf();Dt>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-Dt)},wt),(Tt=($t=this.idleTimer).unref)===null||Tt===void 0||Tt.call($t)}maybeStartIdleTimer(){this.connectivityState!==ot.ConnectivityState.SHUTDOWN&&!this.idleTimer&&this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.channelzInfoTracker.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(wt){this.channelzEnabled&&(wt.code===et.Status.OK?this.channelzInfoTracker.callTracker.addCallSucceeded():this.channelzInfoTracker.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(wt,$t,Tt,At,Dt){const It=(0,dt.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+It+'] method="'+$t+'"'),new ut.LoadBalancingCall(this,wt,$t,Tt,At,Dt,It)}createRetryingCall(wt,$t,Tt,At,Dt){const It=(0,dt.getNextCallNumber)();return this.trace("createRetryingCall ["+It+'] method="'+$t+'"'),new xt.RetryingCall(this,wt,$t,Tt,At,Dt,It,this.retryBufferTracker,Rt.get(this.getTarget()))}createResolvingCall(wt,$t,Tt,At,Dt){const It=(0,dt.getNextCallNumber)();this.trace("createResolvingCall ["+It+'] method="'+wt+'", deadline='+(0,ft.deadlineToString)($t));const Ot={deadline:$t,flags:Dt??et.Propagate.DEFAULTS,host:Tt??this.defaultAuthority,parentCall:At},Mt=new ct.ResolvingCall(this,wt,Ot,this.filterStackFactory.clone(),It);return this.onCallStart(),Mt.addStatusWatcher(Kt=>{this.onCallEnd(Kt)}),Mt}close(){var wt;this.resolvingLoadBalancer.destroy(),this.updateState(ot.ConnectivityState.SHUTDOWN),this.currentPicker=new pt;for(const $t of this.configSelectionQueue)$t.cancelWithStatus(et.Status.UNAVAILABLE,"Channel closed before call started");this.configSelectionQueue=[];for(const $t of this.pickQueue)$t.cancelWithStatus(et.Status.UNAVAILABLE,"Channel closed before call started");this.pickQueue=[],this.callRefTimer&&clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,lt.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels(),(wt=this.configSelector)===null||wt===void 0||wt.unref(),this.configSelector=null}getTarget(){return(0,it.uriToString)(this.target)}getConnectivityState(wt){const $t=this.connectivityState;return wt&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),$t}watchConnectivityState(wt,$t,Tt){if(this.connectivityState===ot.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");let At=null;if($t!==1/0){const It=$t instanceof Date?$t:new Date($t),Ot=new Date;if($t===-1/0||It<=Ot){process.nextTick(Tt,new Error("Deadline passed without connectivity state change"));return}At=setTimeout(()=>{this.removeConnectivityStateWatcher(Dt),Tt(new Error("Deadline passed without connectivity state change"))},It.getTime()-Ot.getTime())}const Dt={currentState:wt,callback:Tt,timer:At};this.connectivityStateWatchers.push(Dt)}getChannelzRef(){return this.channelzRef}createCall(wt,$t,Tt,At,Dt){if(typeof wt!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof $t=="number"||$t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===ot.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");return this.createResolvingCall(wt,$t,Tt,At,Dt)}getOptions(){return this.options}}e.InternalChannel=gt})(internalChannel)),internalChannel}var hasRequiredChannel;function requireChannel(){if(hasRequiredChannel)return channel;hasRequiredChannel=1,Object.defineProperty(channel,"__esModule",{value:!0}),channel.ChannelImplementation=void 0;const e=requireChannelCredentials(),t=requireInternalChannel();class Ke{constructor(Je,Xe,et){if(typeof Je!="string")throw new TypeError("Channel target must be a string");if(!(Xe instanceof e.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(et&&typeof et!="object")throw new TypeError("Channel options must be an object");this.internalChannel=new t.InternalChannel(Je,Xe,et)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(Je){return this.internalChannel.getConnectivityState(Je)}watchConnectivityState(Je,Xe,et){this.internalChannel.watchConnectivityState(Je,Xe,et)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(Je,Xe,et,tt,rt){if(typeof Je!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof Xe=="number"||Xe instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(Je,Xe,et,tt,rt)}}return channel.ChannelImplementation=Ke,channel}var server={},serverCall={},hasRequiredServerCall;function requireServerCall(){if(hasRequiredServerCall)return serverCall;hasRequiredServerCall=1,Object.defineProperty(serverCall,"__esModule",{value:!0}),serverCall.ServerDuplexStreamImpl=serverCall.ServerWritableStreamImpl=serverCall.ServerReadableStreamImpl=serverCall.ServerUnaryCallImpl=void 0,serverCall.serverErrorToStatus=Je;const e=require("events"),t=require("stream"),Ke=requireConstants(),Ye=requireMetadata();function Je(st,at){var nt;const it={code:Ke.Status.UNKNOWN,details:"message"in st?st.message:"Unknown Error",metadata:(nt=at??st.metadata)!==null&&nt!==void 0?nt:null};return"code"in st&&typeof st.code=="number"&&Number.isInteger(st.code)&&(it.code=st.code,"details"in st&&typeof st.details=="string"&&(it.details=st.details)),it}class Xe extends e.EventEmitter{constructor(at,nt,it,ot){super(),this.path=at,this.call=nt,this.metadata=it,this.request=ot,this.cancelled=!1}getPeer(){return this.call.getPeer()}sendMetadata(at){this.call.sendMetadata(at)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}}serverCall.ServerUnaryCallImpl=Xe;class et extends t.Readable{constructor(at,nt,it){super({objectMode:!0}),this.path=at,this.call=nt,this.metadata=it,this.cancelled=!1}_read(at){this.call.startRead()}getPeer(){return this.call.getPeer()}sendMetadata(at){this.call.sendMetadata(at)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}}serverCall.ServerReadableStreamImpl=et;class tt extends t.Writable{constructor(at,nt,it,ot){super({objectMode:!0}),this.path=at,this.call=nt,this.metadata=it,this.request=ot,this.pendingStatus={code:Ke.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new Ye.Metadata,this.on("error",lt=>{this.pendingStatus=Je(lt),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(at){this.call.sendMetadata(at)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}_write(at,nt,it){this.call.sendMessage(at,it)}_final(at){var nt;at(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(nt=this.pendingStatus.metadata)!==null&&nt!==void 0?nt:this.trailingMetadata}))}end(at){return at&&(this.trailingMetadata=at),super.end()}}serverCall.ServerWritableStreamImpl=tt;class rt extends t.Duplex{constructor(at,nt,it){super({objectMode:!0}),this.path=at,this.call=nt,this.metadata=it,this.pendingStatus={code:Ke.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new Ye.Metadata,this.on("error",ot=>{this.pendingStatus=Je(ot),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(at){this.call.sendMetadata(at)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}_read(at){this.call.startRead()}_write(at,nt,it){this.call.sendMessage(at,it)}_final(at){var nt;at(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(nt=this.pendingStatus.metadata)!==null&&nt!==void 0?nt:this.trailingMetadata}))}end(at){return at&&(this.trailingMetadata=at),super.end()}}return serverCall.ServerDuplexStreamImpl=rt,serverCall}var serverCredentials={},hasRequiredServerCredentials;function requireServerCredentials(){if(hasRequiredServerCredentials)return serverCredentials;hasRequiredServerCredentials=1,Object.defineProperty(serverCredentials,"__esModule",{value:!0}),serverCredentials.ServerCredentials=void 0,serverCredentials.createCertificateProviderServerCredentials=Xe,serverCredentials.createServerCredentialsWithInterceptors=tt;const e=requireTlsHelpers();class t{constructor(st,at){this.serverConstructorOptions=st,this.watchers=new Set,this.latestContextOptions=null,this.latestContextOptions=at??null}_addWatcher(st){this.watchers.add(st)}_removeWatcher(st){this.watchers.delete(st)}getWatcherCount(){return this.watchers.size}updateSecureContextOptions(st){this.latestContextOptions=st;for(const at of this.watchers)at(this.latestContextOptions)}_isSecure(){return this.serverConstructorOptions!==null}_getSecureContextOptions(){return this.latestContextOptions}_getConstructorOptions(){return this.serverConstructorOptions}_getInterceptors(){return[]}static createInsecure(){return new Ke}static createSsl(st,at,nt=!1){var it;if(st!==null&&!Buffer.isBuffer(st))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(at))throw new TypeError("keyCertPairs must be an array");if(typeof nt!="boolean")throw new TypeError("checkClientCertificate must be a boolean");const ot=[],lt=[];for(let ut=0;ut<at.length;ut++){const ft=at[ut];if(ft===null||typeof ft!="object")throw new TypeError(`keyCertPair[${ut}] must be an object`);if(!Buffer.isBuffer(ft.private_key))throw new TypeError(`keyCertPair[${ut}].private_key must be a Buffer`);if(!Buffer.isBuffer(ft.cert_chain))throw new TypeError(`keyCertPair[${ut}].cert_chain must be a Buffer`);ot.push(ft.cert_chain),lt.push(ft.private_key)}return new Ye({requestCert:nt,ciphers:e.CIPHER_SUITES},{ca:(it=st??(0,e.getDefaultRootsData)())!==null&&it!==void 0?it:void 0,cert:ot,key:lt})}}serverCredentials.ServerCredentials=t;class Ke extends t{constructor(){super(null)}_getSettings(){return null}_equals(st){return st instanceof Ke}}class Ye extends t{constructor(st,at){super(st,at),this.options=Object.assign(Object.assign({},st),at)}_equals(st){if(this===st)return!0;if(!(st instanceof Ye))return!1;if(Buffer.isBuffer(this.options.ca)&&Buffer.isBuffer(st.options.ca)){if(!this.options.ca.equals(st.options.ca))return!1}else if(this.options.ca!==st.options.ca)return!1;if(Array.isArray(this.options.cert)&&Array.isArray(st.options.cert)){if(this.options.cert.length!==st.options.cert.length)return!1;for(let at=0;at<this.options.cert.length;at++){const nt=this.options.cert[at],it=st.options.cert[at];if(Buffer.isBuffer(nt)&&Buffer.isBuffer(it)){if(!nt.equals(it))return!1}else if(nt!==it)return!1}}else if(this.options.cert!==st.options.cert)return!1;if(Array.isArray(this.options.key)&&Array.isArray(st.options.key)){if(this.options.key.length!==st.options.key.length)return!1;for(let at=0;at<this.options.key.length;at++){const nt=this.options.key[at],it=st.options.key[at];if(Buffer.isBuffer(nt)&&Buffer.isBuffer(it)){if(!nt.equals(it))return!1}else if(nt!==it)return!1}}else if(this.options.key!==st.options.key)return!1;return this.options.requestCert===st.options.requestCert}}class Je extends t{constructor(st,at,nt){super({requestCert:at!==null,rejectUnauthorized:nt,ciphers:e.CIPHER_SUITES}),this.identityCertificateProvider=st,this.caCertificateProvider=at,this.requireClientCertificate=nt,this.latestCaUpdate=null,this.latestIdentityUpdate=null,this.caCertificateUpdateListener=this.handleCaCertificateUpdate.bind(this),this.identityCertificateUpdateListener=this.handleIdentityCertitificateUpdate.bind(this)}_addWatcher(st){var at;this.getWatcherCount()===0&&((at=this.caCertificateProvider)===null||at===void 0||at.addCaCertificateListener(this.caCertificateUpdateListener),this.identityCertificateProvider.addIdentityCertificateListener(this.identityCertificateUpdateListener)),super._addWatcher(st)}_removeWatcher(st){var at;super._removeWatcher(st),this.getWatcherCount()===0&&((at=this.caCertificateProvider)===null||at===void 0||at.removeCaCertificateListener(this.caCertificateUpdateListener),this.identityCertificateProvider.removeIdentityCertificateListener(this.identityCertificateUpdateListener))}_equals(st){return this===st?!0:st instanceof Je?this.caCertificateProvider===st.caCertificateProvider&&this.identityCertificateProvider===st.identityCertificateProvider&&this.requireClientCertificate===st.requireClientCertificate:!1}calculateSecureContextOptions(){var st;return this.latestIdentityUpdate===null||this.caCertificateProvider!==null&&this.latestCaUpdate===null?null:{ca:(st=this.latestCaUpdate)===null||st===void 0?void 0:st.caCertificate,cert:[this.latestIdentityUpdate.certificate],key:[this.latestIdentityUpdate.privateKey]}}finalizeUpdate(){const st=this.calculateSecureContextOptions();this.updateSecureContextOptions(st)}handleCaCertificateUpdate(st){this.latestCaUpdate=st,this.finalizeUpdate()}handleIdentityCertitificateUpdate(st){this.latestIdentityUpdate=st,this.finalizeUpdate()}}function Xe(rt,st,at){return new Je(rt,st,at)}class et extends t{constructor(st,at){super({}),this.childCredentials=st,this.interceptors=at}_isSecure(){return this.childCredentials._isSecure()}_equals(st){if(!(st instanceof et)||!this.childCredentials._equals(st.childCredentials)||this.interceptors.length!==st.interceptors.length)return!1;for(let at=0;at<this.interceptors.length;at++)if(this.interceptors[at]!==st.interceptors[at])return!1;return!0}_getInterceptors(){return this.interceptors}_addWatcher(st){this.childCredentials._addWatcher(st)}_removeWatcher(st){this.childCredentials._removeWatcher(st)}_getConstructorOptions(){return this.childCredentials._getConstructorOptions()}_getSecureContextOptions(){return this.childCredentials._getSecureContextOptions()}}function tt(rt,st){return new et(rt,st)}return serverCredentials}var serverInterceptors={},hasRequiredServerInterceptors;function requireServerInterceptors(){if(hasRequiredServerInterceptors)return serverInterceptors;hasRequiredServerInterceptors=1,Object.defineProperty(serverInterceptors,"__esModule",{value:!0}),serverInterceptors.BaseServerInterceptingCall=serverInterceptors.ServerInterceptingCall=serverInterceptors.ResponderBuilder=serverInterceptors.ServerListenerBuilder=void 0,serverInterceptors.isInterceptingServerListener=at,serverInterceptors.getServerInterceptingCall=yt;const e=requireMetadata(),t=requireConstants(),Ke=require("http2"),Ye=requireError(),Je=require("zlib"),Xe=requireStreamDecoder(),et=requireLogging(),tt="server_call";function rt(Et){et.trace(t.LogVerbosity.DEBUG,tt,Et)}class st{constructor(){this.metadata=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withOnReceiveMetadata(pt){return this.metadata=pt,this}withOnReceiveMessage(pt){return this.message=pt,this}withOnReceiveHalfClose(pt){return this.halfClose=pt,this}withOnCancel(pt){return this.cancel=pt,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveHalfClose:this.halfClose,onCancel:this.cancel}}}serverInterceptors.ServerListenerBuilder=st;function at(Et){return Et.onReceiveMetadata!==void 0&&Et.onReceiveMetadata.length===1}class nt{constructor(pt,mt){this.listener=pt,this.nextListener=mt,this.cancelled=!1,this.processingMetadata=!1,this.hasPendingMessage=!1,this.pendingMessage=null,this.processingMessage=!1,this.hasPendingHalfClose=!1}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingHalfClose(){this.hasPendingHalfClose&&(this.nextListener.onReceiveHalfClose(),this.hasPendingHalfClose=!1)}onReceiveMetadata(pt){this.cancelled||(this.processingMetadata=!0,this.listener.onReceiveMetadata(pt,mt=>{this.processingMetadata=!1,!this.cancelled&&(this.nextListener.onReceiveMetadata(mt),this.processPendingMessage(),this.processPendingHalfClose())}))}onReceiveMessage(pt){this.cancelled||(this.processingMessage=!0,this.listener.onReceiveMessage(pt,mt=>{this.processingMessage=!1,!this.cancelled&&(this.processingMetadata?(this.pendingMessage=mt,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(mt),this.processPendingHalfClose()))}))}onReceiveHalfClose(){this.cancelled||this.listener.onReceiveHalfClose(()=>{this.cancelled||(this.processingMetadata||this.processingMessage?this.hasPendingHalfClose=!0:this.nextListener.onReceiveHalfClose())})}onCancel(){this.cancelled=!0,this.listener.onCancel(),this.nextListener.onCancel()}}class it{constructor(){this.start=void 0,this.metadata=void 0,this.message=void 0,this.status=void 0}withStart(pt){return this.start=pt,this}withSendMetadata(pt){return this.metadata=pt,this}withSendMessage(pt){return this.message=pt,this}withSendStatus(pt){return this.status=pt,this}build(){return{start:this.start,sendMetadata:this.metadata,sendMessage:this.message,sendStatus:this.status}}}serverInterceptors.ResponderBuilder=it;const ot={onReceiveMetadata:(Et,pt)=>{pt(Et)},onReceiveMessage:(Et,pt)=>{pt(Et)},onReceiveHalfClose:Et=>{Et()},onCancel:()=>{}},lt={start:Et=>{Et()},sendMetadata:(Et,pt)=>{pt(Et)},sendMessage:(Et,pt)=>{pt(Et)},sendStatus:(Et,pt)=>{pt(Et)}};class ut{constructor(pt,mt){var gt,St,wt,$t;this.nextCall=pt,this.processingMetadata=!1,this.sentMetadata=!1,this.processingMessage=!1,this.pendingMessage=null,this.pendingMessageCallback=null,this.pendingStatus=null,this.responder={start:(gt=mt?.start)!==null&&gt!==void 0?gt:lt.start,sendMetadata:(St=mt?.sendMetadata)!==null&&St!==void 0?St:lt.sendMetadata,sendMessage:(wt=mt?.sendMessage)!==null&&wt!==void 0?wt:lt.sendMessage,sendStatus:($t=mt?.sendStatus)!==null&&$t!==void 0?$t:lt.sendStatus}}processPendingMessage(){this.pendingMessageCallback&&(this.nextCall.sendMessage(this.pendingMessage,this.pendingMessageCallback),this.pendingMessage=null,this.pendingMessageCallback=null)}processPendingStatus(){this.pendingStatus&&(this.nextCall.sendStatus(this.pendingStatus),this.pendingStatus=null)}start(pt){this.responder.start(mt=>{var gt,St,wt,$t;const Tt={onReceiveMetadata:(gt=mt?.onReceiveMetadata)!==null&&gt!==void 0?gt:ot.onReceiveMetadata,onReceiveMessage:(St=mt?.onReceiveMessage)!==null&&St!==void 0?St:ot.onReceiveMessage,onReceiveHalfClose:(wt=mt?.onReceiveHalfClose)!==null&&wt!==void 0?wt:ot.onReceiveHalfClose,onCancel:($t=mt?.onCancel)!==null&&$t!==void 0?$t:ot.onCancel},At=new nt(Tt,pt);this.nextCall.start(At)})}sendMetadata(pt){this.processingMetadata=!0,this.sentMetadata=!0,this.responder.sendMetadata(pt,mt=>{this.processingMetadata=!1,this.nextCall.sendMetadata(mt),this.processPendingMessage(),this.processPendingStatus()})}sendMessage(pt,mt){this.processingMessage=!0,this.sentMetadata||this.sendMetadata(new e.Metadata),this.responder.sendMessage(pt,gt=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=gt,this.pendingMessageCallback=mt):this.nextCall.sendMessage(gt,mt)})}sendStatus(pt){this.responder.sendStatus(pt,mt=>{this.processingMetadata||this.processingMessage?this.pendingStatus=mt:this.nextCall.sendStatus(mt)})}startRead(){this.nextCall.startRead()}getPeer(){return this.nextCall.getPeer()}getDeadline(){return this.nextCall.getDeadline()}getHost(){return this.nextCall.getHost()}}serverInterceptors.ServerInterceptingCall=ut;const ft="grpc-accept-encoding",ct="grpc-encoding",dt="grpc-message",ht="grpc-status",xt="grpc-timeout",vt=/(\d{1,8})\s*([HMSmun])/,bt={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},_t={[ft]:"identity,deflate,gzip",[ct]:"identity"},Ct={[Ke.constants.HTTP2_HEADER_STATUS]:Ke.constants.HTTP_STATUS_OK,[Ke.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},Rt={waitForTrailers:!0};class jt{constructor(pt,mt,gt,St,wt){var $t;this.stream=pt,this.callEventTracker=gt,this.handler=St,this.listener=null,this.deadlineTimer=null,this.deadline=1/0,this.maxSendMessageSize=t.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.cancelled=!1,this.metadataSent=!1,this.wantTrailers=!1,this.cancelNotified=!1,this.incomingEncoding="identity",this.readQueue=[],this.isReadPending=!1,this.receivedHalfClose=!1,this.streamEnded=!1,this.stream.once("error",It=>{}),this.stream.once("close",()=>{var It;rt("Request to method "+((It=this.handler)===null||It===void 0?void 0:It.path)+" stream closed with rstCode "+this.stream.rstCode),this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!1),this.callEventTracker.onCallEnd({code:t.Status.CANCELLED,details:"Stream closed before sending status",metadata:null})),this.notifyOnCancel()}),this.stream.on("data",It=>{this.handleDataFrame(It)}),this.stream.pause(),this.stream.on("end",()=>{this.handleEndEvent()}),"grpc.max_send_message_length"in wt&&(this.maxSendMessageSize=wt["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in wt&&(this.maxReceiveMessageSize=wt["grpc.max_receive_message_length"]),this.host=($t=mt[":authority"])!==null&&$t!==void 0?$t:mt.host,this.decoder=new Xe.StreamDecoder(this.maxReceiveMessageSize);const Tt=e.Metadata.fromHttp2Headers(mt);et.isTracerEnabled(tt)&&rt("Request to "+this.handler.path+" received headers "+JSON.stringify(Tt.toJSON()));const At=Tt.get(xt);At.length>0&&this.handleTimeoutHeader(At[0]);const Dt=Tt.get(ct);Dt.length>0&&(this.incomingEncoding=Dt[0]),Tt.remove(xt),Tt.remove(ct),Tt.remove(ft),Tt.remove(Ke.constants.HTTP2_HEADER_ACCEPT_ENCODING),Tt.remove(Ke.constants.HTTP2_HEADER_TE),Tt.remove(Ke.constants.HTTP2_HEADER_CONTENT_TYPE),this.metadata=Tt}handleTimeoutHeader(pt){const mt=pt.toString().match(vt);if(mt===null){const wt={code:t.Status.INTERNAL,details:`Invalid ${xt} value "${pt}"`,metadata:null};process.nextTick(()=>{this.sendStatus(wt)});return}const gt=+mt[1]*bt[mt[2]]|0,St=new Date;this.deadline=St.setMilliseconds(St.getMilliseconds()+gt),this.deadlineTimer=setTimeout(()=>{const wt={code:t.Status.DEADLINE_EXCEEDED,details:"Deadline exceeded",metadata:null};this.sendStatus(wt)},gt)}checkCancelled(){return!this.cancelled&&(this.stream.destroyed||this.stream.closed)&&(this.notifyOnCancel(),this.cancelled=!0),this.cancelled}notifyOnCancel(){this.cancelNotified||(this.cancelNotified=!0,this.cancelled=!0,process.nextTick(()=>{var pt;(pt=this.listener)===null||pt===void 0||pt.onCancel()}),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.resume())}maybeSendMetadata(){this.metadataSent||this.sendMetadata(new e.Metadata)}serializeMessage(pt){const mt=this.handler.serialize(pt),gt=mt.byteLength,St=Buffer.allocUnsafe(gt+5);return St.writeUInt8(0,0),St.writeUInt32BE(gt,1),mt.copy(St,5),St}decompressMessage(pt,mt){const gt=pt.subarray(5);if(mt==="identity")return gt;if(mt==="deflate"||mt==="gzip"){let St;return mt==="deflate"?St=Je.createInflate():St=Je.createGunzip(),new Promise((wt,$t)=>{let Tt=0;const At=[];St.on("data",Dt=>{At.push(Dt),Tt+=Dt.byteLength,this.maxReceiveMessageSize!==-1&&Tt>this.maxReceiveMessageSize&&(St.destroy(),$t({code:t.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`}))}),St.on("end",()=>{wt(Buffer.concat(At))}),St.write(gt),St.end()})}else return Promise.reject({code:t.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${mt}"`})}async decompressAndMaybePush(pt){if(pt.type!=="COMPRESSED")throw new Error(`Invalid queue entry type: ${pt.type}`);const gt=pt.compressedMessage.readUInt8(0)===1?this.incomingEncoding:"identity";let St;try{St=await this.decompressMessage(pt.compressedMessage,gt)}catch(wt){this.sendStatus(wt);return}try{pt.parsedMessage=this.handler.deserialize(St)}catch(wt){this.sendStatus({code:t.Status.INTERNAL,details:`Error deserializing request: ${wt.message}`});return}pt.type="READABLE",this.maybePushNextMessage()}maybePushNextMessage(){if(this.listener&&this.isReadPending&&this.readQueue.length>0&&this.readQueue[0].type!=="COMPRESSED"){this.isReadPending=!1;const pt=this.readQueue.shift();pt.type==="READABLE"?this.listener.onReceiveMessage(pt.parsedMessage):this.listener.onReceiveHalfClose()}}handleDataFrame(pt){var mt;if(this.checkCancelled())return;rt("Request to "+this.handler.path+" received data frame of size "+pt.length);let gt;try{gt=this.decoder.write(pt)}catch(St){this.sendStatus({code:t.Status.RESOURCE_EXHAUSTED,details:St.message});return}for(const St of gt){this.stream.pause();const wt={type:"COMPRESSED",compressedMessage:St,parsedMessage:null};this.readQueue.push(wt),this.decompressAndMaybePush(wt),(mt=this.callEventTracker)===null||mt===void 0||mt.addMessageReceived()}}handleEndEvent(){this.readQueue.push({type:"HALF_CLOSE",compressedMessage:null,parsedMessage:null}),this.receivedHalfClose=!0,this.maybePushNextMessage()}start(pt){rt("Request to "+this.handler.path+" start called"),!this.checkCancelled()&&(this.listener=pt,pt.onReceiveMetadata(this.metadata))}sendMetadata(pt){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;const mt=pt?pt.toHttp2Headers():null,gt=Object.assign(Object.assign(Object.assign({},Ct),_t),mt);this.stream.respond(gt,Rt)}sendMessage(pt,mt){if(this.checkCancelled())return;let gt;try{gt=this.serializeMessage(pt)}catch(St){this.sendStatus({code:t.Status.INTERNAL,details:`Error serializing response: ${(0,Ye.getErrorMessage)(St)}`,metadata:null});return}if(this.maxSendMessageSize!==-1&&gt.length-5>this.maxSendMessageSize){this.sendStatus({code:t.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${gt.length} vs. ${this.maxSendMessageSize})`,metadata:null});return}this.maybeSendMetadata(),rt("Request to "+this.handler.path+" sent data frame of size "+gt.length),this.stream.write(gt,St=>{var wt;if(St){this.sendStatus({code:t.Status.INTERNAL,details:`Error writing message: ${(0,Ye.getErrorMessage)(St)}`,metadata:null});return}(wt=this.callEventTracker)===null||wt===void 0||wt.addMessageSent(),mt()})}sendStatus(pt){var mt,gt;if(!this.checkCancelled())if(rt("Request to method "+((mt=this.handler)===null||mt===void 0?void 0:mt.path)+" ended with status code: "+t.Status[pt.code]+" details: "+pt.details),this.metadataSent)this.wantTrailers?this.notifyOnCancel():(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var St;this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(pt));const wt=Object.assign({[ht]:pt.code,[dt]:encodeURI(pt.details)},(St=pt.metadata)===null||St===void 0?void 0:St.toHttp2Headers());this.stream.sendTrailers(wt),this.notifyOnCancel()}),this.stream.end());else{this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(pt));const St=Object.assign(Object.assign({[ht]:pt.code,[dt]:encodeURI(pt.details)},Ct),(gt=pt.metadata)===null||gt===void 0?void 0:gt.toHttp2Headers());this.stream.respond(St,{endStream:!0}),this.notifyOnCancel()}}startRead(){rt("Request to "+this.handler.path+" startRead called"),!this.checkCancelled()&&(this.isReadPending=!0,this.readQueue.length===0?this.receivedHalfClose||this.stream.resume():this.maybePushNextMessage())}getPeer(){var pt;const mt=(pt=this.stream.session)===null||pt===void 0?void 0:pt.socket;return mt?.remoteAddress?mt.remotePort?`${mt.remoteAddress}:${mt.remotePort}`:mt.remoteAddress:"unknown"}getDeadline(){return this.deadline}getHost(){return this.host}}serverInterceptors.BaseServerInterceptingCall=jt;function yt(Et,pt,mt,gt,St,wt){const $t={path:St.path,requestStream:St.type==="clientStream"||St.type==="bidi",responseStream:St.type==="serverStream"||St.type==="bidi",requestDeserialize:St.deserialize,responseSerialize:St.serialize},Tt=new jt(pt,mt,gt,St,wt);return Et.reduce((At,Dt)=>Dt($t,At),Tt)}return serverInterceptors}var hasRequiredServer;function requireServer(){if(hasRequiredServer)return server;hasRequiredServer=1;var e=server&&server.__runInitializers||function(mt,gt,St){for(var wt=arguments.length>2,$t=0;$t<gt.length;$t++)St=wt?gt[$t].call(mt,St):gt[$t].call(mt);return wt?St:void 0},t=server&&server.__esDecorate||function(mt,gt,St,wt,$t,Tt){function At(Ft){if(Ft!==void 0&&typeof Ft!="function")throw new TypeError("Function expected");return Ft}for(var Dt=wt.kind,It=Dt==="getter"?"get":Dt==="setter"?"set":"value",Ot=!gt&&mt?wt.static?mt:mt.prototype:null,Mt=gt||(Ot?Object.getOwnPropertyDescriptor(Ot,wt.name):{}),Kt,qt=!1,Bt=St.length-1;Bt>=0;Bt--){var kt={};for(var Nt in wt)kt[Nt]=Nt==="access"?{}:wt[Nt];for(var Nt in wt.access)kt.access[Nt]=wt.access[Nt];kt.addInitializer=function(Ft){if(qt)throw new TypeError("Cannot add initializers after decoration has completed");Tt.push(At(Ft||null))};var Pt=(0,St[Bt])(Dt==="accessor"?{get:Mt.get,set:Mt.set}:Mt[It],kt);if(Dt==="accessor"){if(Pt===void 0)continue;if(Pt===null||typeof Pt!="object")throw new TypeError("Object expected");(Kt=At(Pt.get))&&(Mt.get=Kt),(Kt=At(Pt.set))&&(Mt.set=Kt),(Kt=At(Pt.init))&&$t.unshift(Kt)}else(Kt=At(Pt))&&(Dt==="field"?$t.unshift(Kt):Mt[It]=Kt)}Ot&&Object.defineProperty(Ot,wt.name,Mt),qt=!0};Object.defineProperty(server,"__esModule",{value:!0}),server.Server=void 0;const Ke=require("http2"),Ye=require("util"),Je=requireConstants(),Xe=requireServerCall(),et=requireServerCredentials(),tt=requireResolver(),rt=requireLogging(),st=requireSubchannelAddress(),at=requireUriParser(),nt=requireChannelz(),it=requireServerInterceptors(),ot=2147483647,lt=2147483647,ut=2e4,ft=2147483647,{HTTP2_HEADER_PATH:ct}=Ke.constants,dt="server",ht=Buffer.from("max_age");function xt(mt){rt.trace(Je.LogVerbosity.DEBUG,"server_call",mt)}function vt(){}function bt(mt){return function(gt,St){return Ye.deprecate(gt,mt)}}function _t(mt){return{code:Je.Status.UNIMPLEMENTED,details:`The server does not implement the method ${mt}`}}function Ct(mt,gt){const St=_t(gt);switch(mt){case"unary":return(wt,$t)=>{$t(St,null)};case"clientStream":return(wt,$t)=>{$t(St,null)};case"serverStream":return wt=>{wt.emit("error",St)};case"bidi":return wt=>{wt.emit("error",St)};default:throw new Error(`Invalid handlerType ${mt}`)}}let Rt=(()=>{var mt;let gt=[],St;return mt=class{constructor($t){var Tt,At,Dt,It,Ot,Mt;this.boundPorts=(e(this,gt),new Map),this.http2Servers=new Map,this.sessionIdleTimeouts=new Map,this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.options=$t??{},this.options["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.channelzTrace=new nt.ChannelzTraceStub,this.callTracker=new nt.ChannelzCallTrackerStub,this.listenerChildrenTracker=new nt.ChannelzChildrenTrackerStub,this.sessionChildrenTracker=new nt.ChannelzChildrenTrackerStub):(this.channelzTrace=new nt.ChannelzTrace,this.callTracker=new nt.ChannelzCallTracker,this.listenerChildrenTracker=new nt.ChannelzChildrenTracker,this.sessionChildrenTracker=new nt.ChannelzChildrenTracker),this.channelzRef=(0,nt.registerChannelzServer)("server",()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=(Tt=this.options["grpc.max_connection_age_ms"])!==null&&Tt!==void 0?Tt:ot,this.maxConnectionAgeGraceMs=(At=this.options["grpc.max_connection_age_grace_ms"])!==null&&At!==void 0?At:ot,this.keepaliveTimeMs=(Dt=this.options["grpc.keepalive_time_ms"])!==null&&Dt!==void 0?Dt:lt,this.keepaliveTimeoutMs=(It=this.options["grpc.keepalive_timeout_ms"])!==null&&It!==void 0?It:ut,this.sessionIdleTimeout=(Ot=this.options["grpc.max_connection_idle_ms"])!==null&&Ot!==void 0?Ot:ft,this.commonServerOptions={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER},"grpc-node.max_session_memory"in this.options?this.commonServerOptions.maxSessionMemory=this.options["grpc-node.max_session_memory"]:this.commonServerOptions.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(this.commonServerOptions.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]}),this.interceptors=(Mt=this.options.interceptors)!==null&&Mt!==void 0?Mt:[],this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfo($t){var Tt,At,Dt;const It=this.sessions.get($t),Ot=$t.socket,Mt=Ot.remoteAddress?(0,st.stringToSubchannelAddress)(Ot.remoteAddress,Ot.remotePort):null,Kt=Ot.localAddress?(0,st.stringToSubchannelAddress)(Ot.localAddress,Ot.localPort):null;let qt;if($t.encrypted){const kt=Ot,Nt=kt.getCipher(),Pt=kt.getCertificate(),Ft=kt.getPeerCertificate();qt={cipherSuiteStandardName:(Tt=Nt.standardName)!==null&&Tt!==void 0?Tt:null,cipherSuiteOtherName:Nt.standardName?null:Nt.name,localCertificate:Pt&&"raw"in Pt?Pt.raw:null,remoteCertificate:Ft&&"raw"in Ft?Ft.raw:null}}else qt=null;return{remoteAddress:Mt,localAddress:Kt,security:qt,remoteName:null,streamsStarted:It.streamTracker.callsStarted,streamsSucceeded:It.streamTracker.callsSucceeded,streamsFailed:It.streamTracker.callsFailed,messagesSent:It.messagesSent,messagesReceived:It.messagesReceived,keepAlivesSent:It.keepAlivesSent,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:It.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:It.lastMessageSentTimestamp,lastMessageReceivedTimestamp:It.lastMessageReceivedTimestamp,localFlowControlWindow:(At=$t.state.localWindowSize)!==null&&At!==void 0?At:null,remoteFlowControlWindow:(Dt=$t.state.remoteWindowSize)!==null&&Dt!==void 0?Dt:null}}trace($t){rt.trace(Je.LogVerbosity.DEBUG,dt,"("+this.channelzRef.id+") "+$t)}keepaliveTrace($t){rt.trace(Je.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+$t)}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService($t,Tt){if($t===null||typeof $t!="object"||Tt===null||typeof Tt!="object")throw new Error("addService() requires two objects as arguments");const At=Object.keys($t);if(At.length===0)throw new Error("Cannot add an empty service to a server");At.forEach(Dt=>{const It=$t[Dt];let Ot;It.requestStream?It.responseStream?Ot="bidi":Ot="clientStream":It.responseStream?Ot="serverStream":Ot="unary";let Mt=Tt[Dt],Kt;if(Mt===void 0&&typeof It.originalName=="string"&&(Mt=Tt[It.originalName]),Mt!==void 0?Kt=Mt.bind(Tt):Kt=Ct(Ot,Dt),this.register(It.path,Kt,It.responseSerialize,It.requestDeserialize,Ot)===!1)throw new Error(`Method handler for ${It.path} already provided.`)})}removeService($t){if($t===null||typeof $t!="object")throw new Error("removeService() requires object as argument");Object.keys($t).forEach(At=>{const Dt=$t[At];this.unregister(Dt.path)})}bind($t,Tt){throw new Error("Not implemented. Use bindAsync() instead")}experimentalRegisterListenerToChannelz($t){return(0,nt.registerChannelzSocket)((0,st.subchannelAddressToString)($t),()=>({localAddress:$t,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}experimentalUnregisterListenerFromChannelz($t){(0,nt.unregisterChannelzRef)($t)}createHttp2Server($t){let Tt;if($t._isSecure()){const At=$t._getConstructorOptions(),Dt=$t._getSecureContextOptions(),It=Object.assign(Object.assign(Object.assign(Object.assign({},this.commonServerOptions),At),Dt),{enableTrace:this.options["grpc-node.tls_enable_trace"]===1});let Ot=Dt!==null;this.trace("Initial credentials valid: "+Ot),Tt=Ke.createSecureServer(It),Tt.prependListener("connection",Kt=>{Ot||(this.trace("Dropped connection from "+JSON.stringify(Kt.address())+" due to unloaded credentials"),Kt.destroy())}),Tt.on("secureConnection",Kt=>{Kt.on("error",qt=>{this.trace("An incoming TLS connection closed with error: "+qt.message)})});const Mt=Kt=>{if(Kt){const qt=Tt;try{qt.setSecureContext(Kt)}catch(Bt){rt.log(Je.LogVerbosity.ERROR,"Failed to set secure context with error "+Bt.message),Kt=null}}Ot=Kt!==null,this.trace("Post-update credentials valid: "+Ot)};$t._addWatcher(Mt),Tt.on("close",()=>{$t._removeWatcher(Mt)})}else Tt=Ke.createServer(this.commonServerOptions);return Tt.setTimeout(0,vt),this._setupHandlers(Tt,$t._getInterceptors()),Tt}bindOneAddress($t,Tt){this.trace("Attempting to bind "+(0,st.subchannelAddressToString)($t));const At=this.createHttp2Server(Tt.credentials);return new Promise((Dt,It)=>{const Ot=Mt=>{this.trace("Failed to bind "+(0,st.subchannelAddressToString)($t)+" with error "+Mt.message),Dt({port:"port"in $t?$t.port:1,error:Mt.message})};At.once("error",Ot),At.listen($t,()=>{const Mt=At.address();let Kt;typeof Mt=="string"?Kt={path:Mt}:Kt={host:Mt.address,port:Mt.port};const qt=this.experimentalRegisterListenerToChannelz(Kt);this.listenerChildrenTracker.refChild(qt),this.http2Servers.set(At,{channelzRef:qt,sessions:new Set,ownsChannelzRef:!0}),Tt.listeningServers.add(At),this.trace("Successfully bound "+(0,st.subchannelAddressToString)(Kt)),Dt({port:"port"in Kt?Kt.port:1}),At.removeListener("error",Ot)})})}async bindManyPorts($t,Tt){if($t.length===0)return{count:0,port:0,errors:[]};if((0,st.isTcpSubchannelAddress)($t[0])&&$t[0].port===0){const At=await this.bindOneAddress($t[0],Tt);if(At.error){const Dt=await this.bindManyPorts($t.slice(1),Tt);return Object.assign(Object.assign({},Dt),{errors:[At.error,...Dt.errors]})}else{const Dt=$t.slice(1).map(Mt=>(0,st.isTcpSubchannelAddress)(Mt)?{host:Mt.host,port:At.port}:Mt),It=await Promise.all(Dt.map(Mt=>this.bindOneAddress(Mt,Tt))),Ot=[At,...It];return{count:Ot.filter(Mt=>Mt.error===void 0).length,port:At.port,errors:Ot.filter(Mt=>Mt.error).map(Mt=>Mt.error)}}}else{const At=await Promise.all($t.map(Dt=>this.bindOneAddress(Dt,Tt)));return{count:At.filter(Dt=>Dt.error===void 0).length,port:At[0].port,errors:At.filter(Dt=>Dt.error).map(Dt=>Dt.error)}}}async bindAddressList($t,Tt){const At=await this.bindManyPorts($t,Tt);if(At.count>0)return At.count<$t.length&&rt.log(Je.LogVerbosity.INFO,`WARNING Only ${At.count} addresses added out of total ${$t.length} resolved`),At.port;{const Dt=`No address added out of total ${$t.length} resolved`;throw rt.log(Je.LogVerbosity.ERROR,Dt),new Error(`${Dt} errors: [${At.errors.join(",")}]`)}}resolvePort($t){return new Promise((Tt,At)=>{const Dt={onSuccessfulResolution:(Ot,Mt,Kt)=>{Dt.onSuccessfulResolution=()=>{};const qt=[].concat(...Ot.map(Bt=>Bt.addresses));if(qt.length===0){At(new Error(`No addresses resolved for port ${$t}`));return}Tt(qt)},onError:Ot=>{At(new Error(Ot.details))}};(0,tt.createResolver)($t,Dt,this.options).updateResolution()})}async bindPort($t,Tt){const At=await this.resolvePort($t);if(Tt.cancelled)throw this.completeUnbind(Tt),new Error("bindAsync operation cancelled by unbind call");const Dt=await this.bindAddressList(At,Tt);if(Tt.cancelled)throw this.completeUnbind(Tt),new Error("bindAsync operation cancelled by unbind call");return Dt}normalizePort($t){const Tt=(0,at.parseUri)($t);if(Tt===null)throw new Error(`Could not parse port "${$t}"`);const At=(0,tt.mapUriDefaultScheme)(Tt);if(At===null)throw new Error(`Could not get a default scheme for port "${$t}"`);return At}bindAsync($t,Tt,At){if(this.shutdown)throw new Error("bindAsync called after shutdown");if(typeof $t!="string")throw new TypeError("port must be a string");if(Tt===null||!(Tt instanceof et.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");if(typeof At!="function")throw new TypeError("callback must be a function");this.trace("bindAsync port="+$t);const Dt=this.normalizePort($t),It=(qt,Bt)=>{process.nextTick(()=>At(qt,Bt))};let Ot=this.boundPorts.get((0,at.uriToString)(Dt));if(Ot){if(!Tt._equals(Ot.credentials)){It(new Error(`${$t} already bound with incompatible credentials`),0);return}Ot.cancelled=!1,Ot.completionPromise?Ot.completionPromise.then(qt=>At(null,qt),qt=>At(qt,0)):It(null,Ot.portNumber);return}Ot={mapKey:(0,at.uriToString)(Dt),originalUri:Dt,completionPromise:null,cancelled:!1,portNumber:0,credentials:Tt,listeningServers:new Set};const Mt=(0,at.splitHostPort)(Dt.path),Kt=this.bindPort(Dt,Ot);Ot.completionPromise=Kt,Mt?.port===0?Kt.then(qt=>{const Bt={scheme:Dt.scheme,authority:Dt.authority,path:(0,at.combineHostPort)({host:Mt.host,port:qt})};Ot.mapKey=(0,at.uriToString)(Bt),Ot.completionPromise=null,Ot.portNumber=qt,this.boundPorts.set(Ot.mapKey,Ot),At(null,qt)},qt=>{At(qt,0)}):(this.boundPorts.set(Ot.mapKey,Ot),Kt.then(qt=>{Ot.completionPromise=null,Ot.portNumber=qt,At(null,qt)},qt=>{At(qt,0)}))}registerInjectorToChannelz(){return(0,nt.registerChannelzSocket)("injector",()=>({localAddress:null,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}experimentalCreateConnectionInjectorWithChannelzRef($t,Tt,At=!1){if($t===null||!($t instanceof et.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");this.channelzEnabled&&this.listenerChildrenTracker.refChild(Tt);const Dt=this.createHttp2Server($t),It=new Set;return this.http2Servers.set(Dt,{channelzRef:Tt,sessions:It,ownsChannelzRef:At}),{injectConnection:Ot=>{Dt.emit("connection",Ot)},drain:Ot=>{var Mt,Kt;for(const qt of It)this.closeSession(qt);(Kt=(Mt=setTimeout(()=>{for(const qt of It)qt.destroy(Ke.constants.NGHTTP2_CANCEL)},Ot)).unref)===null||Kt===void 0||Kt.call(Mt)},destroy:()=>{this.closeServer(Dt);for(const Ot of It)this.closeSession(Ot)}}}createConnectionInjector($t){if($t===null||!($t instanceof et.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");const Tt=this.registerInjectorToChannelz();return this.experimentalCreateConnectionInjectorWithChannelzRef($t,Tt,!0)}closeServer($t,Tt){this.trace("Closing server with address "+JSON.stringify($t.address()));const At=this.http2Servers.get($t);$t.close(()=>{At&&At.ownsChannelzRef&&(this.listenerChildrenTracker.unrefChild(At.channelzRef),(0,nt.unregisterChannelzRef)(At.channelzRef)),this.http2Servers.delete($t),Tt?.()})}closeSession($t,Tt){var At;this.trace("Closing session initiated by "+((At=$t.socket)===null||At===void 0?void 0:At.remoteAddress));const Dt=this.sessions.get($t),It=()=>{Dt&&(this.sessionChildrenTracker.unrefChild(Dt.ref),(0,nt.unregisterChannelzRef)(Dt.ref)),Tt?.()};$t.closed?queueMicrotask(It):$t.close(It)}completeUnbind($t){for(const Tt of $t.listeningServers){const At=this.http2Servers.get(Tt);if(this.closeServer(Tt,()=>{$t.listeningServers.delete(Tt)}),At)for(const Dt of At.sessions)this.closeSession(Dt)}this.boundPorts.delete($t.mapKey)}unbind($t){this.trace("unbind port="+$t);const Tt=this.normalizePort($t),At=(0,at.splitHostPort)(Tt.path);if(At?.port===0)throw new Error("Cannot unbind port 0");const Dt=this.boundPorts.get((0,at.uriToString)(Tt));Dt&&(this.trace("unbinding "+Dt.mapKey+" originally bound as "+(0,at.uriToString)(Dt.originalUri)),Dt.completionPromise?Dt.cancelled=!0:this.completeUnbind(Dt))}drain($t,Tt){var At,Dt;this.trace("drain port="+$t+" graceTimeMs="+Tt);const It=this.normalizePort($t),Ot=(0,at.splitHostPort)(It.path);if(Ot?.port===0)throw new Error("Cannot drain port 0");const Mt=this.boundPorts.get((0,at.uriToString)(It));if(!Mt)return;const Kt=new Set;for(const qt of Mt.listeningServers){const Bt=this.http2Servers.get(qt);if(Bt)for(const kt of Bt.sessions)Kt.add(kt),this.closeSession(kt,()=>{Kt.delete(kt)})}(Dt=(At=setTimeout(()=>{for(const qt of Kt)qt.destroy(Ke.constants.NGHTTP2_CANCEL)},Tt)).unref)===null||Dt===void 0||Dt.call(At)}forceShutdown(){for(const $t of this.boundPorts.values())$t.cancelled=!0;this.boundPorts.clear();for(const $t of this.http2Servers.keys())this.closeServer($t);this.sessions.forEach(($t,Tt)=>{this.closeSession(Tt),Tt.destroy(Ke.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),(0,nt.unregisterChannelzRef)(this.channelzRef),this.shutdown=!0}register($t,Tt,At,Dt,It){return this.handlers.has($t)?!1:(this.handlers.set($t,{func:Tt,serialize:At,deserialize:Dt,type:It,path:$t}),!0)}unregister($t){return this.handlers.delete($t)}start(){if(this.http2Servers.size===0||[...this.http2Servers.keys()].every($t=>!$t.listening))throw new Error("server must be bound in order to start");if(this.started===!0)throw new Error("server is already started");this.started=!0}tryShutdown($t){var Tt;const At=Ot=>{(0,nt.unregisterChannelzRef)(this.channelzRef),$t(Ot)};let Dt=0;function It(){Dt--,Dt===0&&At()}this.shutdown=!0;for(const[Ot,Mt]of this.http2Servers.entries()){Dt++;const Kt=Mt.channelzRef.name;this.trace("Waiting for server "+Kt+" to close"),this.closeServer(Ot,()=>{this.trace("Server "+Kt+" finished closing"),It()});for(const qt of Mt.sessions.keys()){Dt++;const Bt=(Tt=qt.socket)===null||Tt===void 0?void 0:Tt.remoteAddress;this.trace("Waiting for session "+Bt+" to close"),this.closeSession(qt,()=>{this.trace("Session "+Bt+" finished closing"),It()})}}Dt===0&&At()}addHttp2Port(){throw new Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType($t,Tt){const At=Tt[Ke.constants.HTTP2_HEADER_CONTENT_TYPE];return typeof At!="string"||!At.startsWith("application/grpc")?($t.respond({[Ke.constants.HTTP2_HEADER_STATUS]:Ke.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1):!0}_retrieveHandler($t){xt("Received call to method "+$t+" at address "+this.serverAddressString);const Tt=this.handlers.get($t);return Tt===void 0?(xt("No handler registered for method "+$t+". Sending UNIMPLEMENTED status."),null):Tt}_respondWithError($t,Tt,At=null){var Dt,It;const Ot=Object.assign({"grpc-status":(Dt=$t.code)!==null&&Dt!==void 0?Dt:Je.Status.INTERNAL,"grpc-message":$t.details,[Ke.constants.HTTP2_HEADER_STATUS]:Ke.constants.HTTP_STATUS_OK,[Ke.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},(It=$t.metadata)===null||It===void 0?void 0:It.toHttp2Headers());Tt.respond(Ot,{endStream:!0}),this.callTracker.addCallFailed(),At?.streamTracker.addCallFailed()}_channelzHandler($t,Tt,At){this.onStreamOpened(Tt);const Dt=this.sessions.get(Tt.session);if(this.callTracker.addCallStarted(),Dt?.streamTracker.addCallStarted(),!this._verifyContentType(Tt,At)){this.callTracker.addCallFailed(),Dt?.streamTracker.addCallFailed();return}const It=At[ct],Ot=this._retrieveHandler(It);if(!Ot){this._respondWithError(_t(It),Tt,Dt);return}const Mt={addMessageSent:()=>{Dt&&(Dt.messagesSent+=1,Dt.lastMessageSentTimestamp=new Date)},addMessageReceived:()=>{Dt&&(Dt.messagesReceived+=1,Dt.lastMessageReceivedTimestamp=new Date)},onCallEnd:qt=>{qt.code===Je.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()},onStreamEnd:qt=>{Dt&&(qt?Dt.streamTracker.addCallSucceeded():Dt.streamTracker.addCallFailed())}},Kt=(0,it.getServerInterceptingCall)([...$t,...this.interceptors],Tt,At,Mt,Ot,this.options);this._runHandlerForCall(Kt,Ot)||(this.callTracker.addCallFailed(),Dt?.streamTracker.addCallFailed(),Kt.sendStatus({code:Je.Status.INTERNAL,details:`Unknown handler type: ${Ot.type}`}))}_streamHandler($t,Tt,At){if(this.onStreamOpened(Tt),this._verifyContentType(Tt,At)!==!0)return;const Dt=At[ct],It=this._retrieveHandler(Dt);if(!It){this._respondWithError(_t(Dt),Tt,null);return}const Ot=(0,it.getServerInterceptingCall)([...$t,...this.interceptors],Tt,At,null,It,this.options);this._runHandlerForCall(Ot,It)||Ot.sendStatus({code:Je.Status.INTERNAL,details:`Unknown handler type: ${It.type}`})}_runHandlerForCall($t,Tt){const{type:At}=Tt;if(At==="unary")jt($t,Tt);else if(At==="clientStream")yt($t,Tt);else if(At==="serverStream")Et($t,Tt);else if(At==="bidi")pt($t,Tt);else return!1;return!0}_setupHandlers($t,Tt){if($t===null)return;const At=$t.address();let Dt="null";At&&(typeof At=="string"?Dt=At:Dt=At.address+":"+At.port),this.serverAddressString=Dt;const It=this.channelzEnabled?this._channelzHandler:this._streamHandler,Ot=this.channelzEnabled?this._channelzSessionHandler($t):this._sessionHandler($t);$t.on("stream",It.bind(this,Tt)),$t.on("session",Ot)}_sessionHandler($t){return Tt=>{var At,Dt;(At=this.http2Servers.get($t))===null||At===void 0||At.sessions.add(Tt);let It=null,Ot=null,Mt=null,Kt=!1;const qt=this.enableIdleTimeout(Tt);if(this.maxConnectionAgeMs!==ot){const Ft=this.maxConnectionAgeMs/10,Ut=Math.random()*Ft*2-Ft;It=setTimeout(()=>{var Ht,Zt;Kt=!0,this.trace("Connection dropped by max connection age: "+((Ht=Tt.socket)===null||Ht===void 0?void 0:Ht.remoteAddress));try{Tt.goaway(Ke.constants.NGHTTP2_NO_ERROR,~(1<<31),ht)}catch{Tt.destroy();return}Tt.close(),this.maxConnectionAgeGraceMs!==ot&&(Ot=setTimeout(()=>{Tt.destroy()},this.maxConnectionAgeGraceMs),(Zt=Ot.unref)===null||Zt===void 0||Zt.call(Ot))},this.maxConnectionAgeMs+Ut),(Dt=It.unref)===null||Dt===void 0||Dt.call(It)}const Bt=()=>{Mt&&(clearTimeout(Mt),Mt=null)},kt=()=>!Tt.destroyed&&this.keepaliveTimeMs<lt&&this.keepaliveTimeMs>0;let Nt;const Pt=()=>{var Ft;kt()&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),Mt=setTimeout(()=>{Bt(),Nt()},this.keepaliveTimeMs),(Ft=Mt.unref)===null||Ft===void 0||Ft.call(Mt))};Nt=()=>{var Ft;if(!kt())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let Ut="";try{Tt.ping((Zt,Jt,zt)=>{Bt(),Zt?(this.keepaliveTrace("Ping failed with error: "+Zt.message),Kt=!0,Tt.close()):(this.keepaliveTrace("Received ping response"),Pt())})||(Ut="Ping returned false")}catch(Ht){Ut=(Ht instanceof Error?Ht.message:"")||"Unknown error"}if(Ut){this.keepaliveTrace("Ping send failed: "+Ut),this.trace("Connection dropped due to ping send error: "+Ut),Kt=!0,Tt.close();return}Mt=setTimeout(()=>{Bt(),this.keepaliveTrace("Ping timeout passed without response"),this.trace("Connection dropped by keepalive timeout"),Kt=!0,Tt.close()},this.keepaliveTimeoutMs),(Ft=Mt.unref)===null||Ft===void 0||Ft.call(Mt)},Pt(),Tt.on("close",()=>{var Ft,Ut;Kt||this.trace(`Connection dropped by client ${(Ft=Tt.socket)===null||Ft===void 0?void 0:Ft.remoteAddress}`),It&&clearTimeout(It),Ot&&clearTimeout(Ot),Bt(),qt!==null&&(clearTimeout(qt.timeout),this.sessionIdleTimeouts.delete(Tt)),(Ut=this.http2Servers.get($t))===null||Ut===void 0||Ut.sessions.delete(Tt)})}}_channelzSessionHandler($t){return Tt=>{var At,Dt,It,Ot;const Mt=(0,nt.registerChannelzSocket)((Dt=(At=Tt.socket)===null||At===void 0?void 0:At.remoteAddress)!==null&&Dt!==void 0?Dt:"unknown",this.getChannelzSessionInfo.bind(this,Tt),this.channelzEnabled),Kt={ref:Mt,streamTracker:new nt.ChannelzCallTracker,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};(It=this.http2Servers.get($t))===null||It===void 0||It.sessions.add(Tt),this.sessions.set(Tt,Kt);const qt=`${Tt.socket.remoteAddress}:${Tt.socket.remotePort}`;this.channelzTrace.addTrace("CT_INFO","Connection established by client "+qt),this.trace("Connection established by client "+qt),this.sessionChildrenTracker.refChild(Mt);let Bt=null,kt=null,Nt=null,Pt=!1;const Ft=this.enableIdleTimeout(Tt);if(this.maxConnectionAgeMs!==ot){const zt=this.maxConnectionAgeMs/10,Yt=Math.random()*zt*2-zt;Bt=setTimeout(()=>{var tr;Pt=!0,this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+qt);try{Tt.goaway(Ke.constants.NGHTTP2_NO_ERROR,~(1<<31),ht)}catch{Tt.destroy();return}Tt.close(),this.maxConnectionAgeGraceMs!==ot&&(kt=setTimeout(()=>{Tt.destroy()},this.maxConnectionAgeGraceMs),(tr=kt.unref)===null||tr===void 0||tr.call(kt))},this.maxConnectionAgeMs+Yt),(Ot=Bt.unref)===null||Ot===void 0||Ot.call(Bt)}const Ut=()=>{Nt&&(clearTimeout(Nt),Nt=null)},Ht=()=>!Tt.destroyed&&this.keepaliveTimeMs<lt&&this.keepaliveTimeMs>0;let Zt;const Jt=()=>{var zt;Ht()&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),Nt=setTimeout(()=>{Ut(),Zt()},this.keepaliveTimeMs),(zt=Nt.unref)===null||zt===void 0||zt.call(Nt))};Zt=()=>{var zt;if(!Ht())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let Yt="";try{Tt.ping((rr,dr,fr)=>{Ut(),rr?(this.keepaliveTrace("Ping failed with error: "+rr.message),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to error of a ping frame "+rr.message+" return in "+dr),Pt=!0,Tt.close()):(this.keepaliveTrace("Received ping response"),Jt())})||(Yt="Ping returned false")}catch(tr){Yt=(tr instanceof Error?tr.message:"")||"Unknown error"}if(Yt){this.keepaliveTrace("Ping send failed: "+Yt),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to ping send error: "+Yt),Pt=!0,Tt.close();return}Kt.keepAlivesSent+=1,Nt=setTimeout(()=>{Ut(),this.keepaliveTrace("Ping timeout passed without response"),this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+qt),Pt=!0,Tt.close()},this.keepaliveTimeoutMs),(zt=Nt.unref)===null||zt===void 0||zt.call(Nt)},Jt(),Tt.on("close",()=>{var zt;Pt||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+qt),this.sessionChildrenTracker.unrefChild(Mt),(0,nt.unregisterChannelzRef)(Mt),Bt&&clearTimeout(Bt),kt&&clearTimeout(kt),Ut(),Ft!==null&&(clearTimeout(Ft.timeout),this.sessionIdleTimeouts.delete(Tt)),(zt=this.http2Servers.get($t))===null||zt===void 0||zt.sessions.delete(Tt),this.sessions.delete(Tt)})}}enableIdleTimeout($t){var Tt,At;if(this.sessionIdleTimeout>=ft)return null;const Dt={activeStreams:0,lastIdle:Date.now(),onClose:this.onStreamClose.bind(this,$t),timeout:setTimeout(this.onIdleTimeout,this.sessionIdleTimeout,this,$t)};(At=(Tt=Dt.timeout).unref)===null||At===void 0||At.call(Tt),this.sessionIdleTimeouts.set($t,Dt);const{socket:It}=$t;return this.trace("Enable idle timeout for "+It.remoteAddress+":"+It.remotePort),Dt}onIdleTimeout($t,Tt){const{socket:At}=Tt,Dt=$t.sessionIdleTimeouts.get(Tt);Dt!==void 0&&Dt.activeStreams===0&&(Date.now()-Dt.lastIdle>=$t.sessionIdleTimeout?($t.trace("Session idle timeout triggered for "+At?.remoteAddress+":"+At?.remotePort+" last idle at "+Dt.lastIdle),$t.closeSession(Tt)):Dt.timeout.refresh())}onStreamOpened($t){const Tt=$t.session,At=this.sessionIdleTimeouts.get(Tt);At&&(At.activeStreams+=1,$t.once("close",At.onClose))}onStreamClose($t){var Tt,At;const Dt=this.sessionIdleTimeouts.get($t);Dt&&(Dt.activeStreams-=1,Dt.activeStreams===0&&(Dt.lastIdle=Date.now(),Dt.timeout.refresh(),this.trace("Session onStreamClose"+((Tt=$t.socket)===null||Tt===void 0?void 0:Tt.remoteAddress)+":"+((At=$t.socket)===null||At===void 0?void 0:At.remotePort)+" at "+Dt.lastIdle)))}},(()=>{const wt=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;St=[bt("Calling start() is no longer necessary. It can be safely omitted.")],t(mt,null,St,{kind:"method",name:"start",static:!1,private:!1,access:{has:$t=>"start"in $t,get:$t=>$t.start},metadata:wt},null,gt),wt&&Object.defineProperty(mt,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:wt})})(),mt})();server.Server=Rt;async function jt(mt,gt){let St;function wt(At,Dt,It,Ot){if(At){mt.sendStatus((0,Xe.serverErrorToStatus)(At,It));return}mt.sendMessage(Dt,()=>{mt.sendStatus({code:Je.Status.OK,details:"OK",metadata:It??null})})}let $t,Tt=null;mt.start({onReceiveMetadata(At){$t=At,mt.startRead()},onReceiveMessage(At){if(Tt){mt.sendStatus({code:Je.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${gt.path}`,metadata:null});return}Tt=At,mt.startRead()},onReceiveHalfClose(){if(!Tt){mt.sendStatus({code:Je.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${gt.path}`,metadata:null});return}St=new Xe.ServerWritableStreamImpl(gt.path,mt,$t,Tt);try{gt.func(St,wt)}catch(At){mt.sendStatus({code:Je.Status.UNKNOWN,details:`Server method handler threw error ${At.message}`,metadata:null})}},onCancel(){St&&(St.cancelled=!0,St.emit("cancelled","cancelled"))}})}function yt(mt,gt){let St;function wt($t,Tt,At,Dt){if($t){mt.sendStatus((0,Xe.serverErrorToStatus)($t,At));return}mt.sendMessage(Tt,()=>{mt.sendStatus({code:Je.Status.OK,details:"OK",metadata:At??null})})}mt.start({onReceiveMetadata($t){St=new Xe.ServerDuplexStreamImpl(gt.path,mt,$t);try{gt.func(St,wt)}catch(Tt){mt.sendStatus({code:Je.Status.UNKNOWN,details:`Server method handler threw error ${Tt.message}`,metadata:null})}},onReceiveMessage($t){St.push($t)},onReceiveHalfClose(){St.push(null)},onCancel(){St&&(St.cancelled=!0,St.emit("cancelled","cancelled"),St.destroy())}})}function Et(mt,gt){let St,wt,$t=null;mt.start({onReceiveMetadata(Tt){wt=Tt,mt.startRead()},onReceiveMessage(Tt){if($t){mt.sendStatus({code:Je.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${gt.path}`,metadata:null});return}$t=Tt,mt.startRead()},onReceiveHalfClose(){if(!$t){mt.sendStatus({code:Je.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${gt.path}`,metadata:null});return}St=new Xe.ServerWritableStreamImpl(gt.path,mt,wt,$t);try{gt.func(St)}catch(Tt){mt.sendStatus({code:Je.Status.UNKNOWN,details:`Server method handler threw error ${Tt.message}`,metadata:null})}},onCancel(){St&&(St.cancelled=!0,St.emit("cancelled","cancelled"),St.destroy())}})}function pt(mt,gt){let St;mt.start({onReceiveMetadata(wt){St=new Xe.ServerDuplexStreamImpl(gt.path,mt,wt);try{gt.func(St)}catch($t){mt.sendStatus({code:Je.Status.UNKNOWN,details:`Server method handler threw error ${$t.message}`,metadata:null})}},onReceiveMessage(wt){St.push(wt)},onReceiveHalfClose(){St.push(null)},onCancel(){St&&(St.cancelled=!0,St.emit("cancelled","cancelled"),St.destroy())}})}return server}var statusBuilder={},hasRequiredStatusBuilder;function requireStatusBuilder(){if(hasRequiredStatusBuilder)return statusBuilder;hasRequiredStatusBuilder=1,Object.defineProperty(statusBuilder,"__esModule",{value:!0}),statusBuilder.StatusBuilder=void 0;class e{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(Ke){return this.code=Ke,this}withDetails(Ke){return this.details=Ke,this}withMetadata(Ke){return this.metadata=Ke,this}build(){const Ke={};return this.code!==null&&(Ke.code=this.code),this.details!==null&&(Ke.details=this.details),this.metadata!==null&&(Ke.metadata=this.metadata),Ke}}return statusBuilder.StatusBuilder=e,statusBuilder}var experimental={},duration={},hasRequiredDuration;function requireDuration(){if(hasRequiredDuration)return duration;hasRequiredDuration=1,Object.defineProperty(duration,"__esModule",{value:!0}),duration.msToDuration=e,duration.durationToMs=t,duration.isDuration=Ke,duration.parseDuration=Je;function e(Xe){return{seconds:Xe/1e3|0,nanos:Xe%1e3*1e6|0}}function t(Xe){return Xe.seconds*1e3+Xe.nanos/1e6|0}function Ke(Xe){return typeof Xe.seconds=="number"&&typeof Xe.nanos=="number"}const Ye=/^(\d+)(?:\.(\d+))?s$/;function Je(Xe){const et=Xe.match(Ye);return et?{seconds:Number.parseInt(et[1],10),nanos:et[2]?Number.parseInt(et[2].padEnd(9,"0"),10):0}:null}return duration}var loadBalancerPickFirst={},hasRequiredLoadBalancerPickFirst;function requireLoadBalancerPickFirst(){if(hasRequiredLoadBalancerPickFirst)return loadBalancerPickFirst;hasRequiredLoadBalancerPickFirst=1,Object.defineProperty(loadBalancerPickFirst,"__esModule",{value:!0}),loadBalancerPickFirst.LeafLoadBalancer=loadBalancerPickFirst.PickFirstLoadBalancer=loadBalancerPickFirst.PickFirstLoadBalancingConfig=void 0,loadBalancerPickFirst.shuffled=lt,loadBalancerPickFirst.setup=xt;const e=requireLoadBalancer(),t=requireConnectivityState(),Ke=requirePicker(),Ye=requireSubchannelAddress(),Je=requireLogging(),Xe=requireConstants(),et=requireSubchannelAddress(),tt=require("net"),rt="pick_first";function st(vt){Je.trace(Xe.LogVerbosity.DEBUG,rt,vt)}const at="pick_first",nt=250;class it{constructor(bt){this.shuffleAddressList=bt}getLoadBalancerName(){return at}toJsonObject(){return{[at]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(bt){if("shuffleAddressList"in bt&&typeof bt.shuffleAddressList!="boolean")throw new Error("pick_first config field shuffleAddressList must be a boolean if provided");return new it(bt.shuffleAddressList===!0)}}loadBalancerPickFirst.PickFirstLoadBalancingConfig=it;class ot{constructor(bt){this.subchannel=bt}pick(bt){return{pickResultType:Ke.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}}function lt(vt){const bt=vt.slice();for(let _t=bt.length-1;_t>1;_t--){const Ct=Math.floor(Math.random()*(_t+1)),Rt=bt[_t];bt[_t]=bt[Ct],bt[Ct]=Rt}return bt}function ut(vt){if(vt.length===0)return[];const bt=[],_t=[],Ct=[],Rt=(0,et.isTcpSubchannelAddress)(vt[0])&&(0,tt.isIPv6)(vt[0].host);for(const Et of vt)(0,et.isTcpSubchannelAddress)(Et)&&(0,tt.isIPv6)(Et.host)?_t.push(Et):Ct.push(Et);const jt=Rt?_t:Ct,yt=Rt?Ct:_t;for(let Et=0;Et<Math.max(jt.length,yt.length);Et++)Et<jt.length&&bt.push(jt[Et]),Et<yt.length&&bt.push(yt[Et]);return bt}const ft="grpc-node.internal.pick-first.report_health_status";class ct{constructor(bt){this.channelControlHelper=bt,this.children=[],this.currentState=t.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(_t,Ct,Rt,jt,yt)=>{this.onSubchannelStateUpdate(_t,Ct,Rt,yt)},this.pickedSubchannelHealthListener=()=>this.calculateAndReportNewState(),this.stickyTransientFailureMode=!1,this.reportHealthStatus=!1,this.lastError=null,this.latestAddressList=null,this.latestOptions={},this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(bt=>bt.hasReportedTransientFailure)}resetChildrenReportedTF(){this.children.every(bt=>bt.hasReportedTransientFailure=!1)}calculateAndReportNewState(){var bt;if(this.currentPick)if(this.reportHealthStatus&&!this.currentPick.isHealthy()){const _t=`Picked subchannel ${this.currentPick.getAddress()} is unhealthy`;this.updateState(t.ConnectivityState.TRANSIENT_FAILURE,new Ke.UnavailablePicker({details:_t}),_t)}else this.updateState(t.ConnectivityState.READY,new ot(this.currentPick),null);else if(((bt=this.latestAddressList)===null||bt===void 0?void 0:bt.length)===0){const _t=`No connection established. Last error: ${this.lastError}`;this.updateState(t.ConnectivityState.TRANSIENT_FAILURE,new Ke.UnavailablePicker({details:_t}),_t)}else if(this.children.length===0)this.updateState(t.ConnectivityState.IDLE,new Ke.QueuePicker(this),null);else if(this.stickyTransientFailureMode){const _t=`No connection established. Last error: ${this.lastError}`;this.updateState(t.ConnectivityState.TRANSIENT_FAILURE,new Ke.UnavailablePicker({details:_t}),_t)}else this.updateState(t.ConnectivityState.CONNECTING,new Ke.QueuePicker(this),null)}requestReresolution(){this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()){if(this.requestReresolution(),this.resetChildrenReportedTF(),this.stickyTransientFailureMode){this.calculateAndReportNewState();return}this.stickyTransientFailureMode=!0;for(const{subchannel:bt}of this.children)bt.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){this.currentPick!==null&&(this.currentPick.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeHealthStateWatcher(this.pickedSubchannelHealthListener),this.currentPick.unref(),this.currentPick=null)}onSubchannelStateUpdate(bt,_t,Ct,Rt){var jt;if(!((jt=this.currentPick)===null||jt===void 0)&&jt.realSubchannelEquals(bt)){Ct!==t.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState());return}for(const[yt,Et]of this.children.entries())if(bt.realSubchannelEquals(Et.subchannel)){Ct===t.ConnectivityState.READY&&this.pickSubchannel(Et.subchannel),Ct===t.ConnectivityState.TRANSIENT_FAILURE&&(Et.hasReportedTransientFailure=!0,Rt&&(this.lastError=Rt),this.maybeEnterStickyTransientFailureMode(),yt===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(yt+1)),Et.subchannel.startConnecting();return}}startNextSubchannelConnecting(bt){clearTimeout(this.connectionDelayTimeout);for(const[_t,Ct]of this.children.entries())if(_t>=bt){const Rt=Ct.subchannel.getConnectivityState();if(Rt===t.ConnectivityState.IDLE||Rt===t.ConnectivityState.CONNECTING){this.startConnecting(_t);return}}this.maybeEnterStickyTransientFailureMode()}startConnecting(bt){var _t,Ct;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=bt,this.children[bt].subchannel.getConnectivityState()===t.ConnectivityState.IDLE&&(st("Start connecting to subchannel with address "+this.children[bt].subchannel.getAddress()),process.nextTick(()=>{var Rt;(Rt=this.children[bt])===null||Rt===void 0||Rt.subchannel.startConnecting()})),this.connectionDelayTimeout=setTimeout(()=>{this.startNextSubchannelConnecting(bt+1)},nt),(Ct=(_t=this.connectionDelayTimeout).unref)===null||Ct===void 0||Ct.call(_t)}pickSubchannel(bt){st("Pick subchannel with address "+bt.getAddress()),this.stickyTransientFailureMode=!1,bt.ref(),this.channelControlHelper.addChannelzChild(bt.getChannelzRef()),this.removeCurrentPick(),this.resetSubchannelList(),bt.addConnectivityStateListener(this.subchannelStateListener),bt.addHealthStateWatcher(this.pickedSubchannelHealthListener),this.currentPick=bt,clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState()}updateState(bt,_t,Ct){st(t.ConnectivityState[this.currentState]+" -> "+t.ConnectivityState[bt]),this.currentState=bt,this.channelControlHelper.updateState(bt,_t,Ct)}resetSubchannelList(){for(const bt of this.children)bt.subchannel.removeConnectivityStateListener(this.subchannelStateListener),bt.subchannel.unref(),this.channelControlHelper.removeChannelzChild(bt.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[]}connectToAddressList(bt,_t){st("connectToAddressList(["+bt.map(Rt=>(0,Ye.subchannelAddressToString)(Rt))+"])");const Ct=bt.map(Rt=>({subchannel:this.channelControlHelper.createSubchannel(Rt,_t),hasReportedTransientFailure:!1}));for(const{subchannel:Rt}of Ct)if(Rt.getConnectivityState()===t.ConnectivityState.READY){this.pickSubchannel(Rt);return}for(const{subchannel:Rt}of Ct)Rt.ref(),this.channelControlHelper.addChannelzChild(Rt.getChannelzRef());this.resetSubchannelList(),this.children=Ct;for(const{subchannel:Rt}of this.children)Rt.addConnectivityStateListener(this.subchannelStateListener);for(const Rt of this.children)Rt.subchannel.getConnectivityState()===t.ConnectivityState.TRANSIENT_FAILURE&&(Rt.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(bt,_t,Ct){if(!(_t instanceof it))return;this.reportHealthStatus=Ct[ft],_t.getShuffleAddressList()&&(bt=lt(bt));const Rt=[].concat(...bt.map(yt=>yt.addresses));st("updateAddressList(["+Rt.map(yt=>(0,Ye.subchannelAddressToString)(yt))+"])"),Rt.length===0&&(this.lastError="No addresses resolved");const jt=ut(Rt);this.latestAddressList=jt,this.latestOptions=Ct,this.connectToAddressList(jt,Ct)}exitIdle(){this.currentState===t.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList,this.latestOptions)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return at}}loadBalancerPickFirst.PickFirstLoadBalancer=ct;const dt=new it(!1);class ht{constructor(bt,_t,Ct){this.endpoint=bt,this.options=Ct,this.latestState=t.ConnectivityState.IDLE;const Rt=(0,e.createChildChannelControlHelper)(_t,{updateState:(jt,yt,Et)=>{this.latestState=jt,this.latestPicker=yt,_t.updateState(jt,yt,Et)}});this.pickFirstBalancer=new ct(Rt),this.latestPicker=new Ke.QueuePicker(this.pickFirstBalancer)}startConnecting(){this.pickFirstBalancer.updateAddressList([this.endpoint],dt,Object.assign(Object.assign({},this.options),{[ft]:!0}))}updateEndpoint(bt,_t){this.options=_t,this.endpoint=bt,this.latestState!==t.ConnectivityState.IDLE&&this.startConnecting()}getConnectivityState(){return this.latestState}getPicker(){return this.latestPicker}getEndpoint(){return this.endpoint}exitIdle(){this.pickFirstBalancer.exitIdle()}destroy(){this.pickFirstBalancer.destroy()}}loadBalancerPickFirst.LeafLoadBalancer=ht;function xt(){(0,e.registerLoadBalancerType)(at,ct,it),(0,e.registerDefaultLoadBalancerType)(at)}return loadBalancerPickFirst}var certificateProvider={},hasRequiredCertificateProvider;function requireCertificateProvider(){if(hasRequiredCertificateProvider)return certificateProvider;hasRequiredCertificateProvider=1,Object.defineProperty(certificateProvider,"__esModule",{value:!0}),certificateProvider.FileWatcherCertificateProvider=void 0;const e=require("fs"),t=requireLogging(),Ke=requireConstants(),Ye=require("util"),Je="certificate_provider";function Xe(rt){t.trace(Ke.LogVerbosity.DEBUG,Je,rt)}const et=(0,Ye.promisify)(e.readFile);class tt{constructor(st){if(this.config=st,this.refreshTimer=null,this.fileResultPromise=null,this.latestCaUpdate=void 0,this.caListeners=new Set,this.latestIdentityUpdate=void 0,this.identityListeners=new Set,this.lastUpdateTime=null,st.certificateFile===void 0!=(st.privateKeyFile===void 0))throw new Error("certificateFile and privateKeyFile must be set or unset together");if(st.certificateFile===void 0&&st.caCertificateFile===void 0)throw new Error("At least one of certificateFile and caCertificateFile must be set");Xe("File watcher constructed with config "+JSON.stringify(st))}updateCertificates(){this.fileResultPromise||(this.fileResultPromise=Promise.allSettled([this.config.certificateFile?et(this.config.certificateFile):Promise.reject(),this.config.privateKeyFile?et(this.config.privateKeyFile):Promise.reject(),this.config.caCertificateFile?et(this.config.caCertificateFile):Promise.reject()]),this.fileResultPromise.then(([st,at,nt])=>{if(this.refreshTimer){Xe("File watcher read certificates certificate "+st.status+", privateKey "+at.status+", CA certificate "+nt.status),this.lastUpdateTime=new Date,this.fileResultPromise=null,st.status==="fulfilled"&&at.status==="fulfilled"?this.latestIdentityUpdate={certificate:st.value,privateKey:at.value}:this.latestIdentityUpdate=null,nt.status==="fulfilled"?this.latestCaUpdate={caCertificate:nt.value}:this.latestCaUpdate=null;for(const it of this.identityListeners)it(this.latestIdentityUpdate);for(const it of this.caListeners)it(this.latestCaUpdate)}}),Xe("File watcher initiated certificate update"))}maybeStartWatchingFiles(){if(!this.refreshTimer){const st=this.lastUpdateTime?new Date().getTime()-this.lastUpdateTime.getTime():1/0;st>this.config.refreshIntervalMs&&this.updateCertificates(),st>this.config.refreshIntervalMs*2&&(this.latestCaUpdate=void 0,this.latestIdentityUpdate=void 0),this.refreshTimer=setInterval(()=>this.updateCertificates(),this.config.refreshIntervalMs),Xe("File watcher started watching")}}maybeStopWatchingFiles(){this.caListeners.size===0&&this.identityListeners.size===0&&(this.fileResultPromise=null,this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null))}addCaCertificateListener(st){this.caListeners.add(st),this.maybeStartWatchingFiles(),this.latestCaUpdate!==void 0&&process.nextTick(st,this.latestCaUpdate)}removeCaCertificateListener(st){this.caListeners.delete(st),this.maybeStopWatchingFiles()}addIdentityCertificateListener(st){this.identityListeners.add(st),this.maybeStartWatchingFiles(),this.latestIdentityUpdate!==void 0&&process.nextTick(st,this.latestIdentityUpdate)}removeIdentityCertificateListener(st){this.identityListeners.delete(st),this.maybeStopWatchingFiles()}}return certificateProvider.FileWatcherCertificateProvider=tt,certificateProvider}var hasRequiredExperimental;function requireExperimental(){return hasRequiredExperimental||(hasRequiredExperimental=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX=e.createCertificateProviderChannelCredentials=e.FileWatcherCertificateProvider=e.createCertificateProviderServerCredentials=e.createServerCredentialsWithInterceptors=e.BaseSubchannelWrapper=e.registerAdminService=e.FilterStackFactory=e.BaseFilter=e.PickResultType=e.QueuePicker=e.UnavailablePicker=e.ChildLoadBalancerHandler=e.EndpointMap=e.endpointHasAddress=e.endpointToString=e.subchannelAddressToString=e.LeafLoadBalancer=e.isLoadBalancerNameRegistered=e.parseLoadBalancingConfig=e.selectLbConfigFromList=e.registerLoadBalancerType=e.createChildChannelControlHelper=e.BackoffTimeout=e.parseDuration=e.durationToMs=e.splitHostPort=e.uriToString=e.createResolver=e.registerResolver=e.log=e.trace=void 0;var t=requireLogging();Object.defineProperty(e,"trace",{enumerable:!0,get:function(){return t.trace}}),Object.defineProperty(e,"log",{enumerable:!0,get:function(){return t.log}});var Ke=requireResolver();Object.defineProperty(e,"registerResolver",{enumerable:!0,get:function(){return Ke.registerResolver}}),Object.defineProperty(e,"createResolver",{enumerable:!0,get:function(){return Ke.createResolver}});var Ye=requireUriParser();Object.defineProperty(e,"uriToString",{enumerable:!0,get:function(){return Ye.uriToString}}),Object.defineProperty(e,"splitHostPort",{enumerable:!0,get:function(){return Ye.splitHostPort}});var Je=requireDuration();Object.defineProperty(e,"durationToMs",{enumerable:!0,get:function(){return Je.durationToMs}}),Object.defineProperty(e,"parseDuration",{enumerable:!0,get:function(){return Je.parseDuration}});var Xe=requireBackoffTimeout();Object.defineProperty(e,"BackoffTimeout",{enumerable:!0,get:function(){return Xe.BackoffTimeout}});var et=requireLoadBalancer();Object.defineProperty(e,"createChildChannelControlHelper",{enumerable:!0,get:function(){return et.createChildChannelControlHelper}}),Object.defineProperty(e,"registerLoadBalancerType",{enumerable:!0,get:function(){return et.registerLoadBalancerType}}),Object.defineProperty(e,"selectLbConfigFromList",{enumerable:!0,get:function(){return et.selectLbConfigFromList}}),Object.defineProperty(e,"parseLoadBalancingConfig",{enumerable:!0,get:function(){return et.parseLoadBalancingConfig}}),Object.defineProperty(e,"isLoadBalancerNameRegistered",{enumerable:!0,get:function(){return et.isLoadBalancerNameRegistered}});var tt=requireLoadBalancerPickFirst();Object.defineProperty(e,"LeafLoadBalancer",{enumerable:!0,get:function(){return tt.LeafLoadBalancer}});var rt=requireSubchannelAddress();Object.defineProperty(e,"subchannelAddressToString",{enumerable:!0,get:function(){return rt.subchannelAddressToString}}),Object.defineProperty(e,"endpointToString",{enumerable:!0,get:function(){return rt.endpointToString}}),Object.defineProperty(e,"endpointHasAddress",{enumerable:!0,get:function(){return rt.endpointHasAddress}}),Object.defineProperty(e,"EndpointMap",{enumerable:!0,get:function(){return rt.EndpointMap}});var st=requireLoadBalancerChildHandler();Object.defineProperty(e,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return st.ChildLoadBalancerHandler}});var at=requirePicker();Object.defineProperty(e,"UnavailablePicker",{enumerable:!0,get:function(){return at.UnavailablePicker}}),Object.defineProperty(e,"QueuePicker",{enumerable:!0,get:function(){return at.QueuePicker}}),Object.defineProperty(e,"PickResultType",{enumerable:!0,get:function(){return at.PickResultType}});var nt=requireFilter();Object.defineProperty(e,"BaseFilter",{enumerable:!0,get:function(){return nt.BaseFilter}});var it=requireFilterStack();Object.defineProperty(e,"FilterStackFactory",{enumerable:!0,get:function(){return it.FilterStackFactory}});var ot=requireAdmin();Object.defineProperty(e,"registerAdminService",{enumerable:!0,get:function(){return ot.registerAdminService}});var lt=requireSubchannelInterface();Object.defineProperty(e,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return lt.BaseSubchannelWrapper}});var ut=requireServerCredentials();Object.defineProperty(e,"createServerCredentialsWithInterceptors",{enumerable:!0,get:function(){return ut.createServerCredentialsWithInterceptors}}),Object.defineProperty(e,"createCertificateProviderServerCredentials",{enumerable:!0,get:function(){return ut.createCertificateProviderServerCredentials}});var ft=requireCertificateProvider();Object.defineProperty(e,"FileWatcherCertificateProvider",{enumerable:!0,get:function(){return ft.FileWatcherCertificateProvider}});var ct=requireChannelCredentials();Object.defineProperty(e,"createCertificateProviderChannelCredentials",{enumerable:!0,get:function(){return ct.createCertificateProviderChannelCredentials}});var dt=requireInternalChannel();Object.defineProperty(e,"SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX",{enumerable:!0,get:function(){return dt.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX}})})(experimental)),experimental}var resolverUds={},hasRequiredResolverUds;function requireResolverUds(){if(hasRequiredResolverUds)return resolverUds;hasRequiredResolverUds=1,Object.defineProperty(resolverUds,"__esModule",{value:!0}),resolverUds.setup=Ke;const e=requireResolver();class t{constructor(Je,Xe,et){this.listener=Xe,this.hasReturnedResult=!1,this.endpoints=[];let tt;Je.authority===""?tt="/"+Je.path:tt=Je.path,this.endpoints=[{addresses:[{path:tt}]}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.endpoints,null,null,null,{}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(Je){return"localhost"}}function Ke(){(0,e.registerResolver)("unix",t)}return resolverUds}var resolverIp={},hasRequiredResolverIp;function requireResolverIp(){if(hasRequiredResolverIp)return resolverIp;hasRequiredResolverIp=1,Object.defineProperty(resolverIp,"__esModule",{value:!0}),resolverIp.setup=it;const e=require("net"),t=requireConstants(),Ke=requireMetadata(),Ye=requireResolver(),Je=requireUriParser(),Xe=requireLogging(),et="ip_resolver";function tt(ot){Xe.trace(t.LogVerbosity.DEBUG,et,ot)}const rt="ipv4",st="ipv6",at=443;class nt{constructor(lt,ut,ft){var ct;this.listener=ut,this.endpoints=[],this.error=null,this.hasReturnedResult=!1,tt("Resolver constructed for target "+(0,Je.uriToString)(lt));const dt=[];if(!(lt.scheme===rt||lt.scheme===st)){this.error={code:t.Status.UNAVAILABLE,details:`Unrecognized scheme ${lt.scheme} in IP resolver`,metadata:new Ke.Metadata};return}const ht=lt.path.split(",");for(const xt of ht){const vt=(0,Je.splitHostPort)(xt);if(vt===null){this.error={code:t.Status.UNAVAILABLE,details:`Failed to parse ${lt.scheme} address ${xt}`,metadata:new Ke.Metadata};return}if(lt.scheme===rt&&!(0,e.isIPv4)(vt.host)||lt.scheme===st&&!(0,e.isIPv6)(vt.host)){this.error={code:t.Status.UNAVAILABLE,details:`Failed to parse ${lt.scheme} address ${xt}`,metadata:new Ke.Metadata};return}dt.push({host:vt.host,port:(ct=vt.port)!==null&&ct!==void 0?ct:at})}this.endpoints=dt.map(xt=>({addresses:[xt]})),tt("Parsed "+lt.scheme+" address list "+dt)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.endpoints,null,null,null,{})}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(lt){return lt.path.split(",")[0]}}function it(){(0,Ye.registerResolver)(rt,nt),(0,Ye.registerResolver)(st,nt)}return resolverIp}var loadBalancerRoundRobin={},hasRequiredLoadBalancerRoundRobin;function requireLoadBalancerRoundRobin(){if(hasRequiredLoadBalancerRoundRobin)return loadBalancerRoundRobin;hasRequiredLoadBalancerRoundRobin=1,Object.defineProperty(loadBalancerRoundRobin,"__esModule",{value:!0}),loadBalancerRoundRobin.RoundRobinLoadBalancer=void 0,loadBalancerRoundRobin.setup=ot;const e=requireLoadBalancer(),t=requireConnectivityState(),Ke=requirePicker(),Ye=requireLogging(),Je=requireConstants(),Xe=requireSubchannelAddress(),et=requireLoadBalancerPickFirst(),tt="round_robin";function rt(lt){Ye.trace(Je.LogVerbosity.DEBUG,tt,lt)}const st="round_robin";class at{getLoadBalancerName(){return st}constructor(){}toJsonObject(){return{[st]:{}}}static createFromJson(ut){return new at}}class nt{constructor(ut,ft=0){this.children=ut,this.nextIndex=ft}pick(ut){const ft=this.children[this.nextIndex].picker;return this.nextIndex=(this.nextIndex+1)%this.children.length,ft.pick(ut)}peekNextEndpoint(){return this.children[this.nextIndex].endpoint}}class it{constructor(ut){this.channelControlHelper=ut,this.children=[],this.currentState=t.ConnectivityState.IDLE,this.currentReadyPicker=null,this.updatesPaused=!1,this.lastError=null,this.childChannelControlHelper=(0,e.createChildChannelControlHelper)(ut,{updateState:(ft,ct,dt)=>{this.currentState===t.ConnectivityState.READY&&ft!==t.ConnectivityState.READY&&this.channelControlHelper.requestReresolution(),dt&&(this.lastError=dt),this.calculateAndUpdateState()}})}countChildrenWithState(ut){return this.children.filter(ft=>ft.getConnectivityState()===ut).length}calculateAndUpdateState(){if(!this.updatesPaused){if(this.countChildrenWithState(t.ConnectivityState.READY)>0){const ut=this.children.filter(ct=>ct.getConnectivityState()===t.ConnectivityState.READY);let ft=0;if(this.currentReadyPicker!==null){const ct=this.currentReadyPicker.peekNextEndpoint();ft=ut.findIndex(dt=>(0,Xe.endpointEqual)(dt.getEndpoint(),ct)),ft<0&&(ft=0)}this.updateState(t.ConnectivityState.READY,new nt(ut.map(ct=>({endpoint:ct.getEndpoint(),picker:ct.getPicker()})),ft),null)}else if(this.countChildrenWithState(t.ConnectivityState.CONNECTING)>0)this.updateState(t.ConnectivityState.CONNECTING,new Ke.QueuePicker(this),null);else if(this.countChildrenWithState(t.ConnectivityState.TRANSIENT_FAILURE)>0){const ut=`round_robin: No connection established. Last error: ${this.lastError}`;this.updateState(t.ConnectivityState.TRANSIENT_FAILURE,new Ke.UnavailablePicker({details:ut}),ut)}else this.updateState(t.ConnectivityState.IDLE,new Ke.QueuePicker(this),null);for(const ut of this.children)ut.getConnectivityState()===t.ConnectivityState.IDLE&&ut.exitIdle()}}updateState(ut,ft,ct){rt(t.ConnectivityState[this.currentState]+" -> "+t.ConnectivityState[ut]),ut===t.ConnectivityState.READY?this.currentReadyPicker=ft:this.currentReadyPicker=null,this.currentState=ut,this.channelControlHelper.updateState(ut,ft,ct)}resetSubchannelList(){for(const ut of this.children)ut.destroy()}updateAddressList(ut,ft,ct){this.resetSubchannelList(),rt("Connect to endpoint list "+ut.map(Xe.endpointToString)),this.updatesPaused=!0,this.children=ut.map(dt=>new et.LeafLoadBalancer(dt,this.childChannelControlHelper,ct));for(const dt of this.children)dt.startConnecting();this.updatesPaused=!1,this.calculateAndUpdateState()}exitIdle(){}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return st}}loadBalancerRoundRobin.RoundRobinLoadBalancer=it;function ot(){(0,e.registerLoadBalancerType)(st,it,at)}return loadBalancerRoundRobin}var loadBalancerOutlierDetection={},hasRequiredLoadBalancerOutlierDetection;function requireLoadBalancerOutlierDetection(){if(hasRequiredLoadBalancerOutlierDetection)return loadBalancerOutlierDetection;hasRequiredLoadBalancerOutlierDetection=1;var e={},t;Object.defineProperty(loadBalancerOutlierDetection,"__esModule",{value:!0}),loadBalancerOutlierDetection.OutlierDetectionLoadBalancer=loadBalancerOutlierDetection.OutlierDetectionLoadBalancingConfig=void 0,loadBalancerOutlierDetection.setup=yt;const Ke=requireConnectivityState(),Ye=requireConstants(),Je=requireDuration(),Xe=requireExperimental(),et=requireLoadBalancer(),tt=requireLoadBalancerChildHandler(),rt=requirePicker(),st=requireSubchannelAddress(),at=requireSubchannelInterface(),nt=requireLogging(),it="outlier_detection";function ot(Et){nt.trace(Ye.LogVerbosity.DEBUG,it,Et)}const lt="outlier_detection",ut=((t=e.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)!==null&&t!==void 0?t:"true")==="true",ft={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},ct={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function dt(Et,pt,mt,gt){if(pt in Et&&Et[pt]!==void 0&&typeof Et[pt]!==mt){const St=gt?`${gt}.${pt}`:pt;throw new Error(`outlier detection config ${St} parse error: expected ${mt}, got ${typeof Et[pt]}`)}}function ht(Et,pt,mt){const gt=pt;if(pt in Et&&Et[pt]!==void 0){if(!(0,Je.isDuration)(Et[pt]))throw new Error(`outlier detection config ${gt} parse error: expected Duration, got ${typeof Et[pt]}`);if(!(Et[pt].seconds>=0&&Et[pt].seconds<=315576e6&&Et[pt].nanos>=0&&Et[pt].nanos<=999999999))throw new Error(`outlier detection config ${gt} parse error: values out of range for non-negative Duaration`)}}function xt(Et,pt,mt){const gt=mt?`${mt}.${pt}`:pt;if(dt(Et,pt,"number",mt),pt in Et&&Et[pt]!==void 0&&!(Et[pt]>=0&&Et[pt]<=100))throw new Error(`outlier detection config ${gt} parse error: value out of range for percentage (0-100)`)}class vt{constructor(pt,mt,gt,St,wt,$t,Tt){if(this.childPolicy=Tt,Tt.getLoadBalancerName()==="pick_first")throw new Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=pt??1e4,this.baseEjectionTimeMs=mt??3e4,this.maxEjectionTimeMs=gt??3e5,this.maxEjectionPercent=St??10,this.successRateEjection=wt?Object.assign(Object.assign({},ft),wt):null,this.failurePercentageEjection=$t?Object.assign(Object.assign({},ct),$t):null}getLoadBalancerName(){return lt}toJsonObject(){var pt,mt;return{outlier_detection:{interval:(0,Je.msToDuration)(this.intervalMs),base_ejection_time:(0,Je.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,Je.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:(pt=this.successRateEjection)!==null&&pt!==void 0?pt:void 0,failure_percentage_ejection:(mt=this.failurePercentageEjection)!==null&&mt!==void 0?mt:void 0,child_policy:[this.childPolicy.toJsonObject()]}}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}static createFromJson(pt){var mt;if(ht(pt,"interval"),ht(pt,"base_ejection_time"),ht(pt,"max_ejection_time"),xt(pt,"max_ejection_percent"),"success_rate_ejection"in pt&&pt.success_rate_ejection!==void 0){if(typeof pt.success_rate_ejection!="object")throw new Error("outlier detection config success_rate_ejection must be an object");dt(pt.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),xt(pt.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),dt(pt.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),dt(pt.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in pt&&pt.failure_percentage_ejection!==void 0){if(typeof pt.failure_percentage_ejection!="object")throw new Error("outlier detection config failure_percentage_ejection must be an object");xt(pt.failure_percentage_ejection,"threshold","failure_percentage_ejection"),xt(pt.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),dt(pt.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),dt(pt.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}if(!("child_policy"in pt)||!Array.isArray(pt.child_policy))throw new Error("outlier detection config child_policy must be an array");const gt=(0,et.selectLbConfigFromList)(pt.child_policy);if(!gt)throw new Error("outlier detection config child_policy: no valid recognized policy found");return new vt(pt.interval?(0,Je.durationToMs)(pt.interval):null,pt.base_ejection_time?(0,Je.durationToMs)(pt.base_ejection_time):null,pt.max_ejection_time?(0,Je.durationToMs)(pt.max_ejection_time):null,(mt=pt.max_ejection_percent)!==null&&mt!==void 0?mt:null,pt.success_rate_ejection,pt.failure_percentage_ejection,gt)}}loadBalancerOutlierDetection.OutlierDetectionLoadBalancingConfig=vt;class bt extends at.BaseSubchannelWrapper{constructor(pt,mt){super(pt),this.mapEntry=mt,this.refCount=0}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){const pt=this.mapEntry.subchannelWrappers.indexOf(this);pt>=0&&this.mapEntry.subchannelWrappers.splice(pt,1)}}eject(){this.setHealthy(!1)}uneject(){this.setHealthy(!0)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}}function _t(){return{success:0,failure:0}}class Ct{constructor(){this.activeBucket=_t(),this.inactiveBucket=_t()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=_t()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}}class Rt{constructor(pt,mt){this.wrappedPicker=pt,this.countCalls=mt}pick(pt){const mt=this.wrappedPicker.pick(pt);if(mt.pickResultType===rt.PickResultType.COMPLETE){const gt=mt.subchannel,St=gt.getMapEntry();if(St){let wt=mt.onCallEnded;return this.countCalls&&(wt=$t=>{var Tt;$t===Ye.Status.OK?St.counter.addSuccess():St.counter.addFailure(),(Tt=mt.onCallEnded)===null||Tt===void 0||Tt.call(mt,$t)}),Object.assign(Object.assign({},mt),{subchannel:gt.getWrappedSubchannel(),onCallEnded:wt})}else return Object.assign(Object.assign({},mt),{subchannel:gt.getWrappedSubchannel()})}else return mt}}class jt{constructor(pt){this.entryMap=new st.EndpointMap,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new tt.ChildLoadBalancerHandler((0,Xe.createChildChannelControlHelper)(pt,{createSubchannel:(mt,gt)=>{const St=pt.createSubchannel(mt,gt),wt=this.entryMap.getForSubchannelAddress(mt),$t=new bt(St,wt);return wt?.currentEjectionTimestamp!==null&&$t.eject(),wt?.subchannelWrappers.push($t),$t},updateState:(mt,gt,St)=>{mt===Ke.ConnectivityState.READY?pt.updateState(mt,new Rt(gt,this.isCountingEnabled()),St):pt.updateState(mt,gt,St)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return this.latestConfig!==null&&(this.latestConfig.getSuccessRateEjectionConfig()!==null||this.latestConfig.getFailurePercentageEjectionConfig()!==null)}getCurrentEjectionPercent(){let pt=0;for(const mt of this.entryMap.values())mt.currentEjectionTimestamp!==null&&(pt+=1);return pt*100/this.entryMap.size}runSuccessRateCheck(pt){if(!this.latestConfig)return;const mt=this.latestConfig.getSuccessRateEjectionConfig();if(!mt)return;ot("Running success rate check");const gt=mt.request_volume;let St=0;const wt=[];for(const[Ot,Mt]of this.entryMap.entries()){const Kt=Mt.counter.getLastSuccesses(),qt=Mt.counter.getLastFailures();ot("Stats for "+(0,st.endpointToString)(Ot)+": successes="+Kt+" failures="+qt+" targetRequestVolume="+gt),Kt+qt>=gt&&(St+=1,wt.push(Kt/(Kt+qt)))}if(ot("Found "+St+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+wt+"]"),St<mt.minimum_hosts)return;const $t=wt.reduce((Ot,Mt)=>Ot+Mt)/wt.length;let Tt=0;for(const Ot of wt){const Mt=Ot-$t;Tt+=Mt*Mt}const At=Tt/wt.length,Dt=Math.sqrt(At),It=$t-Dt*(mt.stdev_factor/1e3);ot("stdev="+Dt+" ejectionThreshold="+It);for(const[Ot,Mt]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;const Kt=Mt.counter.getLastSuccesses(),qt=Mt.counter.getLastFailures();if(Kt+qt<gt)continue;const Bt=Kt/(Kt+qt);if(ot("Checking candidate "+Ot+" successRate="+Bt),Bt<It){const kt=Math.random()*100;ot("Candidate "+Ot+" randomNumber="+kt+" enforcement_percentage="+mt.enforcement_percentage),kt<mt.enforcement_percentage&&(ot("Ejecting candidate "+Ot),this.eject(Mt,pt))}}}runFailurePercentageCheck(pt){if(!this.latestConfig)return;const mt=this.latestConfig.getFailurePercentageEjectionConfig();if(!mt)return;ot("Running failure percentage check. threshold="+mt.threshold+" request volume threshold="+mt.request_volume);let gt=0;for(const St of this.entryMap.values()){const wt=St.counter.getLastSuccesses(),$t=St.counter.getLastFailures();wt+$t>=mt.request_volume&&(gt+=1)}if(!(gt<mt.minimum_hosts))for(const[St,wt]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;const $t=wt.counter.getLastSuccesses(),Tt=wt.counter.getLastFailures();if(ot("Candidate successes="+$t+" failures="+Tt),$t+Tt<mt.request_volume)continue;if(Tt*100/(Tt+$t)>mt.threshold){const Dt=Math.random()*100;ot("Candidate "+St+" randomNumber="+Dt+" enforcement_percentage="+mt.enforcement_percentage),Dt<mt.enforcement_percentage&&(ot("Ejecting candidate "+St),this.eject(wt,pt))}}}eject(pt,mt){pt.currentEjectionTimestamp=new Date,pt.ejectionTimeMultiplier+=1;for(const gt of pt.subchannelWrappers)gt.eject()}uneject(pt){pt.currentEjectionTimestamp=null;for(const mt of pt.subchannelWrappers)mt.uneject()}switchAllBuckets(){for(const pt of this.entryMap.values())pt.counter.switchBuckets()}startTimer(pt){var mt,gt;this.ejectionTimer=setTimeout(()=>this.runChecks(),pt),(gt=(mt=this.ejectionTimer).unref)===null||gt===void 0||gt.call(mt)}runChecks(){const pt=new Date;if(ot("Ejection timer running"),this.switchAllBuckets(),!!this.latestConfig){this.timerStartTime=pt,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(pt),this.runFailurePercentageCheck(pt);for(const[mt,gt]of this.entryMap.entries())if(gt.currentEjectionTimestamp===null)gt.ejectionTimeMultiplier>0&&(gt.ejectionTimeMultiplier-=1);else{const St=this.latestConfig.getBaseEjectionTimeMs(),wt=this.latestConfig.getMaxEjectionTimeMs(),$t=new Date(gt.currentEjectionTimestamp.getTime());$t.setMilliseconds($t.getMilliseconds()+Math.min(St*gt.ejectionTimeMultiplier,Math.max(St,wt))),$t<new Date&&(ot("Unejecting "+mt),this.uneject(gt))}}}updateAddressList(pt,mt,gt){if(!(mt instanceof vt))return;ot("Received update with config: "+JSON.stringify(mt.toJsonObject(),void 0,2));for(const wt of pt)this.entryMap.has(wt)||(ot("Adding map entry for "+(0,st.endpointToString)(wt)),this.entryMap.set(wt,{counter:new Ct,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));this.entryMap.deleteMissing(pt);const St=mt.getChildPolicy();if(this.childBalancer.updateAddressList(pt,St,gt),mt.getSuccessRateEjectionConfig()||mt.getFailurePercentageEjectionConfig())if(this.timerStartTime){ot("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);const wt=mt.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(wt)}else ot("Starting new timer"),this.timerStartTime=new Date,this.startTimer(mt.getIntervalMs()),this.switchAllBuckets();else{ot("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer);for(const wt of this.entryMap.values())this.uneject(wt),wt.ejectionTimeMultiplier=0}this.latestConfig=mt}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return lt}}loadBalancerOutlierDetection.OutlierDetectionLoadBalancer=jt;function yt(){ut&&(0,Xe.registerLoadBalancerType)(lt,jt,vt)}return loadBalancerOutlierDetection}var hasRequiredSrc;function requireSrc(){return hasRequiredSrc||(hasRequiredSrc=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.experimental=e.ServerInterceptingCall=e.ResponderBuilder=e.ServerListenerBuilder=e.addAdminServicesToServer=e.getChannelzHandlers=e.getChannelzServiceDefinition=e.InterceptorConfigurationError=e.InterceptingCall=e.RequesterBuilder=e.ListenerBuilder=e.StatusBuilder=e.getClientChannel=e.ServerCredentials=e.Server=e.setLogVerbosity=e.setLogger=e.load=e.loadObject=e.CallCredentials=e.ChannelCredentials=e.waitForClientReady=e.closeClient=e.Channel=e.makeGenericClientConstructor=e.makeClientConstructor=e.loadPackageDefinition=e.Client=e.compressionAlgorithms=e.propagate=e.connectivityState=e.status=e.logVerbosity=e.Metadata=e.credentials=void 0;const t=requireCallCredentials();Object.defineProperty(e,"CallCredentials",{enumerable:!0,get:function(){return t.CallCredentials}});const Ke=requireChannel();Object.defineProperty(e,"Channel",{enumerable:!0,get:function(){return Ke.ChannelImplementation}});const Ye=requireCompressionAlgorithms();Object.defineProperty(e,"compressionAlgorithms",{enumerable:!0,get:function(){return Ye.CompressionAlgorithms}});const Je=requireConnectivityState();Object.defineProperty(e,"connectivityState",{enumerable:!0,get:function(){return Je.ConnectivityState}});const Xe=requireChannelCredentials();Object.defineProperty(e,"ChannelCredentials",{enumerable:!0,get:function(){return Xe.ChannelCredentials}});const et=requireClient();Object.defineProperty(e,"Client",{enumerable:!0,get:function(){return et.Client}});const tt=requireConstants();Object.defineProperty(e,"logVerbosity",{enumerable:!0,get:function(){return tt.LogVerbosity}}),Object.defineProperty(e,"status",{enumerable:!0,get:function(){return tt.Status}}),Object.defineProperty(e,"propagate",{enumerable:!0,get:function(){return tt.Propagate}});const rt=requireLogging(),st=requireMakeClient();Object.defineProperty(e,"loadPackageDefinition",{enumerable:!0,get:function(){return st.loadPackageDefinition}}),Object.defineProperty(e,"makeClientConstructor",{enumerable:!0,get:function(){return st.makeClientConstructor}}),Object.defineProperty(e,"makeGenericClientConstructor",{enumerable:!0,get:function(){return st.makeClientConstructor}});const at=requireMetadata();Object.defineProperty(e,"Metadata",{enumerable:!0,get:function(){return at.Metadata}});const nt=requireServer();Object.defineProperty(e,"Server",{enumerable:!0,get:function(){return nt.Server}});const it=requireServerCredentials();Object.defineProperty(e,"ServerCredentials",{enumerable:!0,get:function(){return it.ServerCredentials}});const ot=requireStatusBuilder();Object.defineProperty(e,"StatusBuilder",{enumerable:!0,get:function(){return ot.StatusBuilder}}),e.credentials={combineChannelCredentials:(wt,...$t)=>$t.reduce((Tt,At)=>Tt.compose(At),wt),combineCallCredentials:(wt,...$t)=>$t.reduce((Tt,At)=>Tt.compose(At),wt),createInsecure:Xe.ChannelCredentials.createInsecure,createSsl:Xe.ChannelCredentials.createSsl,createFromSecureContext:Xe.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:t.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:t.CallCredentials.createFromGoogleCredential,createEmpty:t.CallCredentials.createEmpty};const lt=wt=>wt.close();e.closeClient=lt;const ut=(wt,$t,Tt)=>wt.waitForReady($t,Tt);e.waitForClientReady=ut;const ft=(wt,$t)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};e.loadObject=ft;const ct=(wt,$t,Tt)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};e.load=ct;const dt=wt=>{rt.setLogger(wt)};e.setLogger=dt;const ht=wt=>{rt.setLoggerVerbosity(wt)};e.setLogVerbosity=ht;const xt=wt=>et.Client.prototype.getChannel.call(wt);e.getClientChannel=xt;var vt=requireClientInterceptors();Object.defineProperty(e,"ListenerBuilder",{enumerable:!0,get:function(){return vt.ListenerBuilder}}),Object.defineProperty(e,"RequesterBuilder",{enumerable:!0,get:function(){return vt.RequesterBuilder}}),Object.defineProperty(e,"InterceptingCall",{enumerable:!0,get:function(){return vt.InterceptingCall}}),Object.defineProperty(e,"InterceptorConfigurationError",{enumerable:!0,get:function(){return vt.InterceptorConfigurationError}});var bt=requireChannelz();Object.defineProperty(e,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return bt.getChannelzServiceDefinition}}),Object.defineProperty(e,"getChannelzHandlers",{enumerable:!0,get:function(){return bt.getChannelzHandlers}});var _t=requireAdmin();Object.defineProperty(e,"addAdminServicesToServer",{enumerable:!0,get:function(){return _t.addAdminServicesToServer}});var Ct=requireServerInterceptors();Object.defineProperty(e,"ServerListenerBuilder",{enumerable:!0,get:function(){return Ct.ServerListenerBuilder}}),Object.defineProperty(e,"ResponderBuilder",{enumerable:!0,get:function(){return Ct.ResponderBuilder}}),Object.defineProperty(e,"ServerInterceptingCall",{enumerable:!0,get:function(){return Ct.ServerInterceptingCall}});const Rt=requireExperimental();e.experimental=Rt;const jt=requireResolverDns(),yt=requireResolverUds(),Et=requireResolverIp(),pt=requireLoadBalancerPickFirst(),mt=requireLoadBalancerRoundRobin(),gt=requireLoadBalancerOutlierDetection(),St=requireChannelz();jt.setup(),yt.setup(),Et.setup(),pt.setup(),mt.setup(),gt.setup(),St.setup()})(src)),src}var srcExports=requireSrc();const GrpcStatusTag=reactExports.memo(({statusMessage:e,statusCode:t,small:Ke,tooltipDelay:Ye})=>{const Je=t===srcExports.status.OK?"bg-success":"bg-danger",Xe=t===srcExports.status.OK?"OK":e;return jsxRuntimeExports.jsx("div",{className:classNames("tag",Je,{"tag--small":Ke}),"data-testid":"response-status-tag",children:jsxRuntimeExports.jsxs(Tooltip,{message:Xe,position:"bottom",delay:Ye,children:[jsxRuntimeExports.jsxs("strong",{children:[t," "]}),Xe]})})});GrpcStatusTag.displayName="GrpcStatusTag";const GrpcResponsePane=({grpcState:{running:e,responseMessages:t,status:Ke,error:Ye}})=>{const Je=t.map((Xe,et)=>({id:Xe.id,text:Xe.text,name:`Response ${et+1}`}));return jsxRuntimeExports.jsxs(Pane,{type:"response",children:[jsxRuntimeExports.jsx(PaneHeader,{className:"row-spaced",children:jsxRuntimeExports.jsxs("div",{className:"no-wrap scrollable scrollable--no-bars pad-left",children:[e&&jsxRuntimeExports.jsx("i",{className:"fa fa-refresh fa-spin margin-right-sm"}),Ke&&jsxRuntimeExports.jsx(GrpcStatusTag,{statusCode:Ke.code,statusMessage:Ke.details}),!Ke&&Ye&&jsxRuntimeExports.jsx(GrpcStatusTag,{statusMessage:Ye.message})]})}),jsxRuntimeExports.jsx(PaneBody,{children:t.length?jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$b2539bed5023c21c,{"aria-label":"Grpc tabbed messages tabs",className:"flex h-full w-full flex-1 flex-col",children:[jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$e51a686c67fdaa2d,{items:Je,className:"flex h-[--line-height-sm] w-full flex-shrink-0 items-center overflow-x-auto border-b border-solid border-b-[--hl-md] bg-[--color-bg]",children:Xe=>jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:Xe.id,children:Xe.name})}),Je.filter(Xe=>Xe.id!=="body").map(Xe=>jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{id:Xe.id,className:"h-full w-full overflow-y-auto",children:jsxRuntimeExports.jsx(CodeEditor,{id:"grpc-request-editor-tab"+Xe.id,defaultValue:Xe.text,mode:"application/json",enableNunjucks:!0,readOnly:!0,autoPrettify:!0})},Xe.id))]}):null})]})},PlaceholderRequestPane=()=>{const{settings:e}=useRootLoaderData(),{hotKeyRegistry:t}=e,Ke=useRequestNewActionFetcher(),{organizationId:Ye,projectId:Je,workspaceId:Xe}=useParams(),et=reactExports.useCallback(()=>Ke.submit({organizationId:Ye,projectId:Je,workspaceId:Xe,requestType:"HTTP",parentId:Xe}),[Ke,Ye,Je,Xe]);return jsxRuntimeExports.jsxs(Pane,{type:"request",children:[jsxRuntimeExports.jsx(PaneHeader,{}),jsxRuntimeExports.jsx(PaneBody,{placeholder:!0,children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("table",{className:"table--fancy",children:jsxRuntimeExports.jsxs("tbody",{children:[jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:"New Request"}),jsxRuntimeExports.jsx("td",{className:"text-right",children:jsxRuntimeExports.jsx("code",{children:jsxRuntimeExports.jsx(Hotkey,{keyBindings:t.request_createHTTP,useFallbackMessage:!0})})})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:"Switch Requests"}),jsxRuntimeExports.jsx("td",{className:"text-right",children:jsxRuntimeExports.jsx("code",{children:jsxRuntimeExports.jsx(Hotkey,{keyBindings:t.request_quickSwitch,useFallbackMessage:!0})})})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:"Edit Environments"}),jsxRuntimeExports.jsx("td",{className:"text-right",children:jsxRuntimeExports.jsx("code",{children:jsxRuntimeExports.jsx(Hotkey,{keyBindings:t.environment_showEditor,useFallbackMessage:!0})})})]})]})}),jsxRuntimeExports.jsx("div",{className:"pane__body--placeholder__cta text-center",children:jsxRuntimeExports.jsx("button",{className:"btn btn--clicky inline-block",onClick:et,children:"New HTTP Request"})})]})})]})},getEnvVar='insomnia.environment.get("variable_name");',getGlbVar='insomnia.globals.get("variable_name");',getVar='insomnia.variables.get("variable_name");',getCollectionVar='insomnia.collectionVariables.get("variable_name");',setEnvVar='insomnia.environment.set("variable_name", "variable_value");',setGlbVar='insomnia.globals.set("variable_name", "variable_value");',setVar='insomnia.variables.set("variable_name", "variable_value");',setCollectionVar='insomnia.collectionVariables.set("variable_name", "variable_value");',unsetEnvVar='insomnia.environment.unset("variable_name");',unsetGlbVar='insomnia.globals.unset("variable_name");',unsetCollectionVar='insomnia.collectionVariables.unset("variable_name");',sendReq=`const resp = await insomnia.sendRequest(
	'https://insomnia.rest/',
	(err, resp) => {
		if (err != null) {
			throw err;
		}
	}
);`,logValue='console.log("log", variableName);',addHeader="insomnia.request.addHeader({key: 'X-Header-Name', value: 'header_value' });",removeHeader="insomnia.request.removeHeader('X-Header-Name');",setMethod="insomnia.request.method = 'GET';",addQueryParams="insomnia.request.url.addQueryParams('k1=v1');",updateRequestBody=`insomnia.request.body.update({
  mode: 'raw',
  raw: 'rawContent',
});`,updateRequestAuth=`insomnia.request.auth.update(
  {
      type: 'bearer',
      bearer: [
              {key: 'token', value: 'tokenValue'},
      ],
  },
  'bearer'
);`,requireAModule="const atob = require('atob');",delay="await new Promise((resolve) => setTimeout(resolve, 1000));",getStatusCode="const statusCode = insomnia.response.code;",getStatusMsg="const status = insomnia.response.status;",getRespTime="const responseTime = insomnia.response.responseTime;",getJsonBody="const jsonBody = insomnia.response.json();",getTextBody="const textBody = insomnia.response.text();",findHeader=`const header = insomnia.response.headers.find(
    header => header.key === 'Content-Type',
    {},
);`,getCookies="const cookies = insomnia.response.cookies.toObject();",skipRequest="insomnia.execution.skipRequest();",setNextRequest='insomnia.execution.setNextRequest("ADD_REQUEST_NAME_OR_ID_HERE");',activeReqPath="console.log(insomnia.execution.location);",activeReqItem="console.log(insomnia.execution.location.current);",activeReqInfo="console.log(insomnia.info);",checkStatus200=`insomnia.test('Check if status is 200', () => {
    insomnia.expect(insomnia.response.code).to.eql(200);
});`,expectToEqual="insomnia.expect(200).to.eql(200);",expectToBeA="insomnia.expect('uname').to.be.a('string');",expectToHaveLength="insomnia.expect('a').to.have.lengthOf(1);",expectToInclude="insomnia.expect('xxx_customer_id_yyy').to.include('customer_id');",expectToBeOneOf="insomnia.expect(201).to.be.oneOf([201,202]);",expectToBeBelow="insomnia.expect(199).to.be.below(200);",expectToHaveAllKeys="insomnia.expect({a: 1, b: 2}).to.have.all.keys('a', 'b');",expectToHaveAnyKeys="insomnia.expect({a: 1, b: 2}).to.have.any.keys('a', 'b');",expectToNotHaveAnyKeys="insomnia.expect({a: 1, b: 2}).to.not.have.any.keys('c', 'd');",expectToHaveProperty="insomnia.expect({a: 1}).to.have.property('a');",expectToBeAnObjectThatHasAllKeys="insomnia.expect({a: 1, b: 2}).to.be.an('object').that.has.all.keys('a', 'b');",findFolderEnvValue=`const myEnv = insomnia.parentFolders.findValue('envKey');
console.log(myEnv);`,getFolderEnvValue=`const myFolder = insomnia.parentFolders.get('folderName');
if (myFolder === undefined) {
	throw Error('myFolder not found');
}
console.log(myFolder.environment.get('val'));`,setFolderEnvValue=`const myFolder = insomnia.parentFolders.get('myFolder');
if (myFolder === undefined) {
	throw Error('myFolder not found');
}
myFolder.environment.set('newEnvKey', 'newEnvValue');`,lintOptions={globals:{insomnia:!0,pm:!0,require:!0,console:!0,_:!0},asi:!0,undef:!0,node:!0,esversion:11};function getRequestScriptSnippets(e,t){let Ke=[];const Ye=new Set,Je=e;for(const Xe in e){if(typeof Xe=="string"&&Xe.startsWith("_"))continue;const tt=Je[Xe];if(typeof Xe=="object"){if(Ye.has(tt))continue;Ye.add(tt)}if(typeof tt=="string"||typeof tt=="number"||typeof tt=="boolean")Ke.push({displayValue:`${t}.${tt}`,name:`${t}.${Xe}`,value:`${t}.${Xe}`});else if(typeof tt=="function")Ke.push({displayValue:`${t}.${Xe}()`,name:`${t}.${Xe}()`,value:`${t}.${Xe}()`});else if(Array.isArray(tt))for(const rt of tt)Ke=Ke.concat(getRequestScriptSnippets(rt,`${t}.${Xe}`));else Ke=Ke.concat(getRequestScriptSnippets(tt,`${t}.${Xe}`))}return Ke}const variableSnippetsMenu={id:"variable-snippets",name:"Variable Snippets",items:[{id:"get-values",name:"Get values",items:[{id:"get-env-var",name:"Get an environment variable",snippet:getEnvVar},{id:"get-glb-var",name:"Get a global variable",snippet:getGlbVar},{id:"get-var",name:"Get a variable",snippet:getVar},{id:"get-collection-var",name:"Get a collection variable",snippet:getCollectionVar},{id:"get-folder-var",name:"Get a folder-level variable",snippet:getFolderEnvValue},{id:"find-folder-var",name:"Find a folder-level variable",snippet:findFolderEnvValue}]},{id:"set-values",name:"Set values",items:[{id:"set-env-var",name:"Set an environment variable",snippet:setEnvVar},{id:"set-glb-var",name:"Set a global variable",snippet:setGlbVar},{id:"set-var",name:"Set a variable",snippet:setVar},{id:"set-collection-var",name:"Set a collection variable",snippet:setCollectionVar},{id:"set-folder-var",name:"Set a folder-level variable",snippet:setFolderEnvValue}]},{id:"clear-values",name:"Clear values",items:[{id:"unset-env-var",name:"Clear an environment variable",snippet:unsetEnvVar},{id:"unset-glb-var",name:"Clear a global variable",snippet:unsetGlbVar},{id:"unset-collection-var",name:"Clear a collection variable",snippet:unsetCollectionVar}]}]},requestManipulationMenu={id:"request-manipulation",name:"Request Manipulation",items:[{id:"add-query-param",name:"Add query param",snippet:addQueryParams},{id:"set-method",name:"Set method",snippet:setMethod},{id:"add-header",name:"Add a header",snippet:addHeader},{id:"remove-header",name:"Remove header",snippet:removeHeader},{id:"update-body-raw",name:"Update body as raw",snippet:updateRequestBody},{id:"update-auth-method",name:"Update auth method",snippet:updateRequestAuth}]},responseHandlingMenu={id:"response-handling",name:"Response Handling",items:[{id:"get-status-code",name:"Get status code",snippet:getStatusCode},{id:"get-status-message",name:"Get status message",snippet:getStatusMsg},{id:"get-response-time",name:"Get response time",snippet:getRespTime},{id:"get-body-json",name:"Get body as JSON",snippet:getJsonBody},{id:"get-body-text",name:"Get body as text",snippet:getTextBody},{id:"find-header",name:"Find a header by name",snippet:findHeader},{id:"get-cookies",name:"Get cookies",snippet:getCookies}]},miscMenu={id:"misc",name:"Misc",items:[{id:"send-request",name:"Send a request",snippet:sendReq},{id:"print-log",name:"Print log",snippet:logValue},{id:"require-module",name:"Require a module",snippet:requireAModule},{id:"delay",name:"Delay",snippet:delay},{id:"skip-request",name:"Skip request",snippet:skipRequest},{id:"set-next-request",name:"Set next request (in Runner)",snippet:setNextRequest},{id:"active-request-info",name:"Active request info",snippet:activeReqInfo},{id:"active-request-path",name:"Active request path",snippet:activeReqPath},{id:"active-request-item",name:"Active request item",snippet:activeReqItem}]},testMenu={id:"test-snippets",name:"Test Utils",items:[{id:"test-examples",name:"Test Examples",items:[{id:"check-status-200",name:"Check if status is 200",snippet:checkStatus200}]},{id:"expect-examples",name:"Expect Examples",items:[{id:"expect-to-equal",name:"expectToEqual",snippet:expectToEqual},{id:"expect-to-be-a",name:"expectToBeA",snippet:expectToBeA},{id:"expect-to-have-length",name:"expectToHaveLength",snippet:expectToHaveLength},{id:"expect-to-include",name:"expectToInclude",snippet:expectToInclude},{id:"expect-to-be-one-of",name:"expectToBeOneOf",snippet:expectToBeOneOf},{id:"expect-to-be-below",name:"expectToBeBelow",snippet:expectToBeBelow},{id:"expect-to-have-all-keys",name:"expectToHaveAllKeys",snippet:expectToHaveAllKeys},{id:"expect-to-have-any-keys",name:"expectToHaveAnyKeys",snippet:expectToHaveAnyKeys},{id:"expect-to-not-have-any-keys",name:"expectToNotHaveAnyKeys",snippet:expectToNotHaveAnyKeys},{id:"expect-to-have-property",name:"expectToHaveProperty",snippet:expectToHaveProperty},{id:"expect-to-be-an-object-that-has-all-keys",name:"expectToBeAnObjectThatHasAllKeys",snippet:expectToBeAnObjectThatHasAllKeys}]}]},snippetsMenus=[variableSnippetsMenu,requestManipulationMenu,responseHandlingMenu,testMenu,miscMenu],RequestScriptEditor=({className:e,defaultValue:t,onChange:Ke,uniquenessKey:Ye,settings:Je})=>{const Xe=reactExports.useRef(null),et=st=>{const at=Xe.current?.getCursor()?.line||0,nt=at+1,it=Xe.current?.getValue()||"";Xe.current?.setValue([...it.split(`
`).slice(0,nt),st,`
`,...it.split(`
`).slice(nt)].join(`
`)),Xe.current?.focus(),Xe.current?.setCursorLine(at+st.split(`
`).length)},tt=new Request({url:new Url("http://placeholder.com")}),rt=getRequestScriptSnippets(new InsomniaObject({globals:new Environment("globals",{}),baseGlobals:new Environment("baseGlobals",{}),iterationData:new Environment("iterationData",{}),environment:new Environment("environment",{}),baseEnvironment:new Environment("baseEnvironment",{}),variables:new Variables({baseGlobalVars:new Environment("baseGlobals",{}),globalVars:new Environment("globals",{}),environmentVars:new Environment("environment",{}),collectionVars:new Environment("collection",{}),iterationDataVars:new Environment("data",{}),folderLevelVars:[],localVars:new Environment("data",{})}),vault:Je.enableVaultInScripts?new Vault("vault",{},Je.enableVaultInScripts):void 0,request:tt,response:new Response({code:200,reason:"OK",header:[{key:"header1",value:"val1"},{key:"header2",value:"val2"}],cookie:[{key:"header1",value:"val1"},{key:"header2",value:"val2"}],body:'{"key": 888}',stream:void 0,responseTime:100,originalRequest:tt}),settings:Je,clientCertificates:[],cookies:new CookieObject({_id:"",type:"CookieJar",parentId:"",modified:0,created:0,isPrivate:!1,name:"",cookies:[]}),requestInfo:new RequestInfo({eventName:"prerequest",iteration:1,iterationCount:1,requestName:"",requestId:""}),execution:new Execution({location:["path"]}),parentFolders:new ParentFolders([])}),"insomnia");return jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col divide-y divide-solid divide-[--hl-md]",children:[jsxRuntimeExports.jsx(CodeEditor,{id:`script-editor-${Ye}`,showPrettifyButton:!0,uniquenessKey:Ye,defaultValue:t,className:e,onChange:Ke,mode:"text/javascript",placeholder:"...",lintOptions,ref:Xe,getAutocompleteSnippets:()=>rt,onPaste:translateHandlersInScript},Ye),jsxRuntimeExports.jsx($13c3c67164f4d5be$export$4c260019440d418f,{className:"box-border flex h-[--line-height-sm] flex-shrink-0 flex-row items-center overflow-x-auto text-[var(--font-size-sm)]",children:snippetsMenus.map(st=>jsxRuntimeExports.jsxs($3674c52c6b3c5bce$export$27d2ad3c5815583e,{children:[jsxRuntimeExports.jsxs($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"flex h-full items-center justify-center gap-2 px-2 text-sm text-[--color-font] ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] aria-pressed:bg-[--hl-sm]",children:[jsxRuntimeExports.jsx(Icon,{icon:"code"}),st.name]}),jsxRuntimeExports.jsx($07b14b47974efb58$export$5b6b19405a83ff9d,{className:"flex min-w-max flex-col overflow-y-hidden",children:jsxRuntimeExports.jsx($3674c52c6b3c5bce$export$d9b273488cd8ce6f,{"aria-label":"Create a new request",selectionMode:"single",className:"min-w-max select-none overflow-y-auto rounded-md border border-solid border-[--hl-sm] bg-[--color-bg] py-2 text-sm shadow-lg focus:outline-none",items:st.items,children:at=>"items"in at?jsxRuntimeExports.jsxs($3674c52c6b3c5bce$export$4b1545b4f2016d26,{children:[jsxRuntimeExports.jsx($72a5793c14baf454$export$8b251419efc915eb,{className:"py-1 pl-2 text-xs uppercase text-[--hl]",children:at.name}),jsxRuntimeExports.jsx($e1995378a142960e$export$fb8073518f34e6ec,{items:at.items,children:nt=>jsxRuntimeExports.jsx($3674c52c6b3c5bce$export$2ce376c2cc3355c8,{onAction:()=>et(nt.snippet),className:"flex h-[--line-height-xs] w-full items-center gap-2 whitespace-nowrap bg-transparent px-[--padding-md] text-[--color-font] transition-colors hover:bg-[--hl-sm] focus:bg-[--hl-xs] focus:outline-none disabled:cursor-not-allowed aria-selected:font-bold",children:nt.name},nt.name)})]}):jsxRuntimeExports.jsx($3674c52c6b3c5bce$export$2ce376c2cc3355c8,{onAction:()=>et(at.snippet),className:"flex h-[--line-height-xs] w-full items-center gap-2 whitespace-nowrap bg-transparent px-[--padding-md] text-[--color-font] transition-colors hover:bg-[--hl-sm] focus:bg-[--hl-xs] focus:outline-none disabled:cursor-not-allowed aria-selected:font-bold",children:at.name},at.name)})})]},st.id))})]})},RequestGroupPane=({settings:e})=>{const{activeRequestGroup:t}=useRequestGroupLoaderData(),{activeEnvironment:Ke,vcsVersion:Ye}=useWorkspaceLoaderData(),[Je,Xe]=reactExports.useState(!1),et=useRequestGroupPatcher(),tt=useGitVCSVersion(),rt=`${Ke?.modified}::${t._id}::${tt}::${Ye}`,st=t?.headers||[],at=st.filter(ct=>!ct.disabled)?.length||0,nt=reactExports.useRef(null),it=useRequestGroupPatcher(),ot=()=>{if(nt.current?.isValid())try{const ct=nt.current?.getValue();t&&ct&&it(t._id,{environment:ct.object,environmentPropertyOrder:ct.propertyOrder})}catch(ct){console.warn("Failed to update environment",ct)}},lt=ct=>{if(t){const dt=getDataFromKVPair(ct);it(t._id,{environment:dt.data,environmentPropertyOrder:dt.dataPropertyOrder,kvPairData:ct})}},ut=getAuthObjectOrNull(t.authentication),ft=ut?.type==="none"||ut===null;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$b2539bed5023c21c,{"aria-label":"Request group tabs",className:"flex h-full w-full flex-1 flex-col",onSelectionChange:ct=>{ct!=="environment"&&nt&&ot()},children:[jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$e51a686c67fdaa2d,{className:"flex h-[--line-height-sm] w-full flex-shrink-0 items-center overflow-x-auto border-b border-solid border-b-[--hl-md] bg-[--color-bg]","aria-label":"Request pane tabs",children:[jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"auth",children:[jsxRuntimeExports.jsx("span",{children:"Auth"}),!ft&&jsxRuntimeExports.jsx("span",{className:"flex h-6 min-w-6 items-center justify-center rounded-lg border border-solid border-[--hl] p-1 text-xs",children:jsxRuntimeExports.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"})})]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"headers",children:[jsxRuntimeExports.jsx("span",{children:"Headers"}),at>0&&jsxRuntimeExports.jsx("span",{className:"flex h-6 min-w-6 items-center justify-center rounded-lg border border-solid border-[--hl] p-1 text-xs",children:at})]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"scripts",children:[jsxRuntimeExports.jsx("span",{children:"Scripts"}),!!(t.preRequestScript||t.afterResponseScript)&&jsxRuntimeExports.jsx("span",{className:"flex h-6 min-w-6 items-center justify-center rounded-lg border border-solid border-[--hl] p-1 text-xs",children:jsxRuntimeExports.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"})})]}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"environment",children:"Environment"}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"docs",children:"Docs"})]}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"flex w-full flex-1 flex-col overflow-hidden",id:"auth",children:jsxRuntimeExports.jsx(ErrorBoundary,{errorClassName:"font-error pad text-center",children:jsxRuntimeExports.jsx(AuthWrapper,{authentication:t.authentication})},rt)}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"w-full flex-1 overflow-y-auto",id:"headers",children:jsxRuntimeExports.jsx(ErrorBoundary,{errorClassName:"font-error pad text-center",children:jsxRuntimeExports.jsx(RequestHeadersEditor,{bulk:!1,headers:st,requestType:"RequestGroup"})},rt)}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"w-full flex-1",id:"scripts",children:jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$b2539bed5023c21c,{className:"flex h-full w-full flex-col overflow-hidden",children:[jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$e51a686c67fdaa2d,{className:"flex h-[--line-height-sm] w-full flex-shrink-0 items-center gap-2 overflow-x-auto border-b border-solid border-b-[--hl-md] bg-[--color-bg] px-2","aria-label":"Request scripts tabs",children:[jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-[--line-height-xxs] w-[10.5rem] flex-shrink-0 cursor-pointer select-none items-center justify-between rounded-md px-2 py-1 text-sm text-[--hl] outline-none transition-colors duration-300 hover:bg-[rgba(var(--color-surprise-rgb),50%)] hover:text-[--color-font-surprise] aria-selected:bg-[rgba(var(--color-surprise-rgb),40%)] aria-selected:text-[--color-font-surprise]",id:"pre-request",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[jsxRuntimeExports.jsx(Icon,{icon:"arrow-right-to-bracket"}),jsxRuntimeExports.jsx("span",{children:"Pre-request"})]}),!!t.preRequestScript&&jsxRuntimeExports.jsx("span",{className:"rounded-lg p-2",children:jsxRuntimeExports.jsx("span",{className:"flex h-2 w-2 rounded-full bg-green-500"})})]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-[--line-height-xxs] w-[10.5rem] flex-shrink-0 cursor-pointer select-none items-center justify-between rounded-md px-2 py-1 text-sm text-[--hl] outline-none transition-colors duration-300 hover:bg-[rgba(var(--color-surprise-rgb),50%)] hover:text-[--color-font-surprise] aria-selected:bg-[rgba(var(--color-surprise-rgb),40%)] aria-selected:text-[--color-font-surprise]",id:"after-response",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[jsxRuntimeExports.jsx(Icon,{icon:"arrow-right-from-bracket"}),jsxRuntimeExports.jsx("span",{children:"After-response"})]}),!!t.afterResponseScript&&jsxRuntimeExports.jsx("span",{className:"rounded-lg p-2",children:jsxRuntimeExports.jsx("span",{className:"flex h-2 w-2 rounded-full bg-green-500"})})]})]}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"w-full flex-1",id:"pre-request",children:jsxRuntimeExports.jsx(ErrorBoundary,{errorClassName:"tall wide vertically-align font-error pad text-center",children:jsxRuntimeExports.jsx(RequestScriptEditor,{uniquenessKey:`${t._id}:pre-request-script`,defaultValue:t.preRequestScript||"",onChange:ct=>et(t._id,{preRequestScript:ct}),settings:e})},rt)}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"w-full flex-1",id:"after-response",children:jsxRuntimeExports.jsx(ErrorBoundary,{errorClassName:"tall wide vertically-align font-error pad text-center",children:jsxRuntimeExports.jsx(RequestScriptEditor,{uniquenessKey:`${t._id}:after-response-script`,defaultValue:t.afterResponseScript||"",onChange:ct=>et(t._id,{afterResponseScript:ct}),settings:e})},rt)})]})}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"flex w-full flex-1 flex-col overflow-hidden",id:"environment",children:[jsxRuntimeExports.jsx("div",{className:"flex w-full items-center justify-between gap-2 overflow-hidden",children:jsxRuntimeExports.jsx($5cb03073d3f54797$export$a8a3e93435678ff9,{className:"flex h-[--line-height-sm] items-center gap-2 overflow-hidden px-4 py-2 text-lg",children:jsxRuntimeExports.jsx($efde0372d7a700fe$export$d2b052e7b4be1756,{onChange:ct=>{if(t){const dt=(_t,Ct)=>{it(t._id,{environmentType:_t,kvPairData:Ct})},{environment:ht,environmentPropertyOrder:xt,kvPairData:vt}=t,bt=!!nt.current?.isValid();handleToggleEnvironmentType(ct,{data:ht,dataPropertyOrder:xt,kvPairData:vt},bt,dt)}},isSelected:t?.environmentType!==EnvironmentType.KVPAIR,className:"ml-2 flex h-full w-[14ch] flex-shrink-0 items-center justify-start gap-2 rounded-sm py-1 pl-2 text-sm text-[--color-font] ring-1 ring-transparent transition-colors hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md]",children:({isSelected:ct})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Icon,{icon:ct?"toggle-off":"toggle-on",className:`${ct?"":"text-[--color-success]"}`}),jsxRuntimeExports.jsx("span",{children:"Table View"})]})})})}),jsxRuntimeExports.jsx(ErrorBoundary,{errorClassName:"font-error pad text-center",children:jsxRuntimeExports.jsx("div",{className:"flex h-[calc(100%-var(--line-height-md))] flex-col",children:t&&t.environmentType===EnvironmentType.KVPAIR?jsxRuntimeExports.jsx(EnvironmentKVEditor,{data:t?.kvPairData||[],onChange:lt},t?t._id:"n/a"):jsxRuntimeExports.jsx(EnvironmentEditor,{ref:nt,environmentInfo:{object:t?t.environment:{},propertyOrder:t&&t.environmentPropertyOrder},onBlur:ot},t?t._id:"n/a")})},rt)]}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"w-full flex-1 overflow-y-auto",id:"docs",children:jsxRuntimeExports.jsx(MarkdownEditor,{className:"margin-top",placeholder:"Write a description",defaultValue:t.description,onChange:ct=>et(t._id,{description:ct})},rt)})]}),Je&&jsxRuntimeExports.jsx(RequestGroupSettingsModal,{requestGroup:t,onHide:()=>Xe(!1)})]})},FileEditor=({onChange:e,path:t})=>{const Ke=reactExports.useCallback(()=>{e("")},[e]),Ye=reactExports.useCallback(tt=>{e(tt)},[e]),Je=window.app.getPath("home"),Xe=t.replace(Je,"~");let et="";try{const tt=requiredModule.statSync(t).size;et=describeByteSize(tt)}catch{et=""}return jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("div",{className:"pad text-left",children:[jsxRuntimeExports.jsx("label",{className:"label--small",children:"Selected File"}),t?jsxRuntimeExports.jsxs("code",{className:"txt-sm block",children:[jsxRuntimeExports.jsx("span",{className:"force-wrap selectable",title:t,children:Xe})," ",jsxRuntimeExports.jsxs("span",{className:"no-wrap",children:["(",et,")"]})]}):jsxRuntimeExports.jsx("code",{className:"super-faint txt-sm block",children:"No file selected"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(PromptButton,{className:"btn btn--super-compact",disabled:!t,onClick:Ke,children:"Reset File"}),"",jsxRuntimeExports.jsx(FileInputButton,{path:t,className:"btn btn--clicky",onChange:Ye})]})]})},FormEditor=({parameters:e,onChange:t})=>jsxRuntimeExports.jsx("div",{className:"scrollable-container tall wide",children:jsxRuntimeExports.jsx("div",{className:"scrollable",children:jsxRuntimeExports.jsx(KeyValueEditor,{allowFile:!0,allowMultiline:!0,namePlaceholder:"name",valuePlaceholder:"value",descriptionPlaceholder:"description",onChange:t,pairs:e})})});requireSchemaReference();const GraphQLExplorerEnum=({type:e})=>{const t=e.getValues();return jsxRuntimeExports.jsxs("div",{className:"graphql-explorer__type",children:[jsxRuntimeExports.jsx(MarkdownPreview,{markdown:e.description||"*no description*"}),jsxRuntimeExports.jsx("h2",{className:"graphql-explorer__subheading",children:"Values"}),jsxRuntimeExports.jsx("ul",{className:"graphql-explorer__defs",children:t.map(Ke=>jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"selectable bold",children:Ke.name}),jsxRuntimeExports.jsx("div",{className:"graphql-explorer__defs__description",children:jsxRuntimeExports.jsx(MarkdownPreview,{markdown:Ke.description||`This is a long paragraph that is a description for the enum value ${Ke.name}`})})]},Ke.name))})]})},GraphQLDefaultValue=reactExports.memo(({field:e})=>{const t=e;if("defaultValue"in t&&t.defaultValue!==void 0){const Ke=astFromValue(t.defaultValue,t.type),Ye=Ke?print(Ke):"";return jsxRuntimeExports.jsx("span",{className:"success",children:` = ${Ye}`})}return null});GraphQLDefaultValue.displayName="GraphQLDefaultValue";const GraphQLExplorerTypeLink=({type:e,onNavigate:t})=>{const Ke=reactExports.useCallback(Ye=>{Ye.preventDefault(),t(e)},[t,e]);return e instanceof GraphQLList?jsxRuntimeExports.jsxs(reactExports.Fragment,{children:["[",jsxRuntimeExports.jsx(GraphQLExplorerTypeLink,{onNavigate:t,type:e.ofType}),"]"]}):e instanceof GraphQLNonNull?jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(GraphQLExplorerTypeLink,{onNavigate:t,type:e.ofType}),"!"]}):jsxRuntimeExports.jsx("a",{href:"#",onClick:Ke,className:"notice",children:e.name})};class GraphQLExplorerField extends reactExports.PureComponent{renderDescription(){const{field:t}=this.props;return jsxRuntimeExports.jsx(MarkdownPreview,{markdown:t.description||"*no description*"})}renderType(){const{field:t,onNavigateType:Ke}=this.props;return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("h2",{className:"graphql-explorer__subheading",children:"Type"}),jsxRuntimeExports.jsx(GraphQLExplorerTypeLink,{type:t.type,onNavigate:Ke})]})}renderArgumentsMaybe(){const{field:t,onNavigateType:Ke}=this.props;return!t.args||t.args.length===0?null:jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("h2",{className:"graphql-explorer__subheading",children:"Arguments"}),jsxRuntimeExports.jsx("ul",{className:"graphql-explorer__defs",children:t.args.map(Ye=>jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"info",children:Ye.name}),":"," ",jsxRuntimeExports.jsx(GraphQLExplorerTypeLink,{onNavigate:Ke,type:Ye.type}),jsxRuntimeExports.jsx(GraphQLDefaultValue,{field:Ye}),Ye.description&&jsxRuntimeExports.jsx(MarkdownPreview,{markdown:Ye.description})]},Ye.name))})]})}render(){return jsxRuntimeExports.jsxs("div",{className:"graphql-explorer__field",children:[this.renderDescription(),this.renderType(),this.renderArgumentsMaybe()]})}}class GraphQLExplorerSchema extends reactExports.PureComponent{renderQueryType(){const{schema:t,onNavigateType:Ke}=this.props,Ye=t.getQueryType();return Ye?jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"success",children:"query"}),": ",jsxRuntimeExports.jsx(GraphQLExplorerTypeLink,{onNavigate:Ke,type:Ye})]}):null}renderMutationType(){const{schema:t,onNavigateType:Ke}=this.props,Ye=t.getMutationType();return Ye?jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"success",children:"mutation"}),": ",jsxRuntimeExports.jsx(GraphQLExplorerTypeLink,{onNavigate:Ke,type:Ye})]}):null}renderSubscriptionType(){const{schema:t,onNavigateType:Ke}=this.props,Ye=t.getSubscriptionType();return Ye?jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"success",children:"subscription"}),":"," ",jsxRuntimeExports.jsx(GraphQLExplorerTypeLink,{onNavigate:Ke,type:Ye})]}):null}render(){return jsxRuntimeExports.jsxs("div",{className:"graphql-explorer__schema",children:[jsxRuntimeExports.jsx("p",{children:"A GraphQL schema provides a root type for each kind of operation."}),jsxRuntimeExports.jsx("h2",{className:"graphql-explorer__subheading",children:"Root Types"}),jsxRuntimeExports.jsxs("ul",{className:"graphql-explorer__defs",children:[jsxRuntimeExports.jsx("li",{children:this.renderQueryType()}),jsxRuntimeExports.jsx("li",{children:this.renderMutationType()}),jsxRuntimeExports.jsx("li",{children:this.renderSubscriptionType()})]})]})}}const GraphQLExplorerArgLinks=({args:e,onNavigate:t})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:e?e.map(Ke=>jsxRuntimeExports.jsxs("div",{className:"graphql-explorer__defs__arg",children:[jsxRuntimeExports.jsx("span",{className:"info",children:Ke.name}),": ",jsxRuntimeExports.jsx(GraphQLExplorerTypeLink,{onNavigate:t,type:Ke.type}),Ke.deprecationReason&&jsxRuntimeExports.jsx(Tooltip,{message:`The argument "${Ke.name}" is deprecated. ${Ke.deprecationReason}`,position:"bottom",delay:1e3,children:jsxRuntimeExports.jsx(SvgIcon,{icon:"warning"})})]},Ke.name)):null}),GraphQLExplorerFieldLink=({field:e,onNavigate:t})=>{const{name:Ke,parentName:Ye}=e,Je=reactExports.useCallback(Xe=>{Xe.preventDefault(),t(e)},[t,e]);return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[Ye?jsxRuntimeExports.jsxs("span",{children:[Ye,"."]}):null,jsxRuntimeExports.jsx("a",{href:"#",onClick:Je,className:"success",children:Ke})]})},GraphQLExplorerFieldsList=({fields:e,onNavigateType:t,onNavigateField:Ke})=>{const Ye=e.map(Je=>{const Xe=jsxRuntimeExports.jsx(GraphQLExplorerArgLinks,{onNavigate:t,args:Je.args}),et=jsxRuntimeExports.jsx(GraphQLExplorerFieldLink,{onNavigate:Ke,field:Je}),tt=jsxRuntimeExports.jsx(GraphQLExplorerTypeLink,{onNavigate:t,type:Je.type}),rt=!!Je.deprecationReason,st=Je.description;return jsxRuntimeExports.jsxs("li",{children:[et,Xe,": ",tt," ",jsxRuntimeExports.jsx(GraphQLDefaultValue,{field:Je}),rt&&jsxRuntimeExports.jsx(Tooltip,{message:`The field "${Je.name}" is deprecated. ${Je.deprecationReason}`,position:"bottom",delay:1e3,children:jsxRuntimeExports.jsx(SvgIcon,{icon:"warning"})}),st&&jsxRuntimeExports.jsx("div",{className:"graphql-explorer__defs__description",children:jsxRuntimeExports.jsx(MarkdownPreview,{markdown:st})})]},Je.name+Je.parentName)});return jsxRuntimeExports.jsx("ul",{className:"graphql-explorer__defs",children:Ye})},BATCH_SIZE=100;class GraphQLExplorerSearchResults extends reactExports.PureComponent{constructor(){super(...arguments),this.ref=React.createRef(),this.state={foundTypes:[],foundFields:[],displayedTypeBatches:1,displayedFieldBatches:1}}componentDidUpdate(t){t.filter!==this.props.filter&&this.updateSearchResults()}componentDidMount(){this.updateSearchResults()}updateSearchResults(){this.ref.current&&this.setState({foundFields:this.searchForFields(),foundTypes:this.searchForTypes()})}searchForTypes(){const{schema:t,filter:Ke}=this.props,Ye=t.getTypeMap();return Object.values(Ye).filter(({name:Xe})=>!!fuzzyMatch(Ke,Xe,{splitSpace:!0,loose:!0}))}searchForFields(){const{schema:t,filter:Ke}=this.props,Ye=t.getTypeMap();return Object.values(Ye).reduce((Xe,et)=>{if(typeof et.getFields!="function")return Xe;const tt=et.getFields(),rt=Object.values(tt).filter(({name:st,args:at})=>!!fuzzyMatchAll(Ke,[st,...at?.map(nt=>nt.name)||[]],{splitSpace:!0,loose:!0})).map(st=>({...st,parentName:et.name}));return[...Xe,...rt]},[])}renderFoundTypes(){const{onNavigateType:t}=this.props,{foundTypes:Ke,displayedTypeBatches:Ye}=this.state,Je=Ke.length,Xe=BATCH_SIZE*Ye;return Ke.length?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("ul",{className:"graphql-explorer__defs",children:Ke.slice(0,Xe).map(et=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(GraphQLExplorerTypeLink,{type:et,onNavigate:t})},et.name))}),Je>Xe&&jsxRuntimeExports.jsxs("a",{href:"#",className:"surprise",onClick:()=>this.setState(({displayedTypeBatches:et})=>({displayedTypeBatches:et+1})),children:["And ",Je-Xe," more types found... Click here to show ",BATCH_SIZE," more."]})]}):null}renderFoundFields(){const{onNavigateType:t,onNavigateField:Ke}=this.props,{foundFields:Ye,displayedFieldBatches:Je}=this.state,Xe=Ye.length,et=BATCH_SIZE*Je;return Ye.length?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(GraphQLExplorerFieldsList,{fields:Ye.slice(0,et),onNavigateType:t,onNavigateField:Ke}),Xe>et&&jsxRuntimeExports.jsxs("a",{href:"#",className:"surprise",onClick:()=>this.setState(({displayedFieldBatches:tt})=>({displayedFieldBatches:tt+1})),children:["And ",Xe-et," more fields found... Click here to show ",BATCH_SIZE," more."]})]}):null}render(){const{foundTypes:t,foundFields:Ke}=this.state;return jsxRuntimeExports.jsxs("div",{ref:this.ref,className:"graphql-explorer__search-reults",children:[!t.length&&!Ke.length&&jsxRuntimeExports.jsx("p",{children:"No results found."}),t.length>0&&jsxRuntimeExports.jsx("h2",{className:"graphql-explorer__subheading",children:"Found Types"}),this.renderFoundTypes(),Ke.length>0&&jsxRuntimeExports.jsx("h2",{className:"graphql-explorer__subheading",children:"Found Fields"}),this.renderFoundFields()]})}}const GraphQLExplorerType=({schema:e,type:t,onNavigateType:Ke,onNavigateField:Ye})=>{const Je=()=>t instanceof GraphQLUnionType?"Possible Types":t instanceof GraphQLInterfaceType?"Implementations":t instanceof GraphQLObjectType?"Implements":"Types",Xe=()=>{const nt=t instanceof GraphQLUnionType||t instanceof GraphQLInterfaceType;return e&&nt?e.getPossibleTypes(t):t instanceof GraphQLObjectType?t.getInterfaces():[]},et="description"in t?t.description||"":"*no description*",tt=Xe(),rt=e&&tt.length,st=Je(),at="getFields"in t?Object.values(t.getFields()).sort(ascendingNameSort):[];return jsxRuntimeExports.jsxs("div",{className:"graphql-explorer__type",children:[jsxRuntimeExports.jsx(MarkdownPreview,{markdown:et}),rt?jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("h2",{className:"graphql-explorer__subheading",children:st}),jsxRuntimeExports.jsx("ul",{className:"graphql-explorer__defs",children:tt.map(nt=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(GraphQLExplorerTypeLink,{onNavigate:Ke,type:nt})},nt.name))})]}):null,at.length?jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("h2",{className:"graphql-explorer__subheading",children:"Fields"}),jsxRuntimeExports.jsx(GraphQLExplorerFieldsList,{fields:at,onNavigateType:Ke,onNavigateField:Ye})]}):null]})};function getReferenceInfo(e){let t;"field"in e&&(t=e.field);let Ke;return"type"in e&&(Ke=e.type),{type:Ke,field:t}}function isSameFieldAndType(e,t,Ke,Ye){const Je=(tt,rt)=>!tt&&!rt||tt&&rt&&tt.name===rt.name;isNamedType(e)||(e=void 0),isNamedType(t)||(t=void 0);const Xe=Je(e,t),et=Je(Ke,Ye);return Xe&&et}const GraphQLExplorer=({schema:e,handleClose:t,visible:Ke,reference:Ye})=>{const[{currentType:Je,currentField:Xe,history:et,filter:tt},rt]=reactExports.useState({history:[],filter:""}),st=reactExports.useRef(null),at=reactExports.useCallback(({currentType:vt,currentField:bt,history:_t})=>!vt&&!bt?_t:[..._t,{currentType:vt,currentField:bt}],[]);reactExports.useEffect(()=>{Ye&&rt(vt=>{const{type:bt,field:_t}=getReferenceInfo(Ye);return isSameFieldAndType(vt.currentType,bt,vt.currentField,_t)?vt:{...vt,history:at(vt),currentType:bt,currentField:_t}})},[at,Ye]);const nt=vt=>{rt(bt=>({...bt,currentType:vt,currentField:void 0,history:at(bt)}))},it=vt=>{rt(bt=>({...bt,currentType:vt.type,currentField:vt,history:at(bt)}))},ot=()=>{rt(vt=>{const bt=vt.history[vt.history.length-1]||null;return{...vt,history:vt.history.slice(0,vt.history.length-1),currentType:bt?bt.currentType:void 0,currentField:bt?bt.currentField:void 0}})};if(useDocBodyKeyboardShortcuts({graphql_explorer_focus_filter:()=>{rt(vt=>({...vt,currentType:void 0,currentField:void 0,history:at(vt)})),st.current&&(st.current?.focus(),st.current?.select())}}),!Ke)return null;let lt=null;if(Xe?lt=jsxRuntimeExports.jsx(GraphQLExplorerField,{onNavigateType:nt,field:Xe}):Je&&Je instanceof GraphQLEnumType?lt=jsxRuntimeExports.jsx(GraphQLExplorerEnum,{type:Je}):Je?lt=jsxRuntimeExports.jsx(GraphQLExplorerType,{schema:e,type:Je,onNavigateType:nt,onNavigateField:it}):e&&(lt=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"graphql-explorer__search",children:jsxRuntimeExports.jsxs("div",{className:"form-control form-control--outlined form-control--btn-right",children:[jsxRuntimeExports.jsx("input",{ref:st,onChange:vt=>rt(bt=>({...bt,filter:vt.target.value})),placeholder:"Search the docs...",defaultValue:tt}),tt&&jsxRuntimeExports.jsx("button",{className:"form-control__right",onClick:()=>{st.current&&(st.current.value="",rt(vt=>({...vt,filter:""})))},children:jsxRuntimeExports.jsx("i",{className:"fa fa-times-circle"})})]})}),tt?jsxRuntimeExports.jsx(GraphQLExplorerSearchResults,{schema:e,filter:tt,onNavigateType:nt,onNavigateField:it}):jsxRuntimeExports.jsx(GraphQLExplorerSchema,{onNavigateType:nt,schema:e})]})),!lt)return null;const ut=Xe?Xe.name:null,ft=isNamedType(Je)?Je.name:null,ct=e?"Schema":null,dt=Je||Xe;let ht="Unknown";const xt=et[et.length-1]||{};return xt.currentField?.name?ht=xt.currentField?.name:isNamedType(xt.currentType)&&(ht=xt.currentType.name),jsxRuntimeExports.jsxs("div",{className:"graphql-explorer theme--dialog",children:[jsxRuntimeExports.jsxs("div",{className:"graphql-explorer__header",children:[et.length?jsxRuntimeExports.jsxs("a",{href:"#",className:"graphql-explorer__header__back-btn",onClick:vt=>{vt.preventDefault(),ot()},children:[jsxRuntimeExports.jsx("i",{className:"fa--skinny fa fa-angle-left"})," ",ht]}):dt?jsxRuntimeExports.jsxs("a",{href:"#",className:"graphql-explorer__header__back-btn",onClick:vt=>{vt.preventDefault(),ot()},children:[jsxRuntimeExports.jsx("i",{className:"fa--skinny fa fa-angle-left"})," Schema"]}):null,jsxRuntimeExports.jsx("h1",{children:ut||ft||ct||"Unknown"}),jsxRuntimeExports.jsx("button",{className:"btn btn--compact graphql-explorer__header__close-btn",onClick:t,children:jsxRuntimeExports.jsx("i",{className:"fa fa-close"})})]}),jsxRuntimeExports.jsx("div",{className:"graphql-explorer__body",children:lt})]})},isSelectionsEmpty=e=>!e.selectionSet||!e.selectionSet.selections||e.selectionSet.selections.length===0,removeDuplicatedLeafNodes=e=>{if(isSelectionsEmpty(e))return e;const t={...e};return t.selectionSet.selections=t.selectionSet.selections.filter((Ke,Ye,Je)=>Ke.kind!==Kind.FIELD||Ke.selectionSet||Ye===Je.findIndex(Xe=>Xe.kind===Kind.FIELD&&Ke.name.value===Xe.name.value)).map(removeDuplicatedLeafNodes),t},mergeDuplicatedNotLeafNodes=e=>{if(isSelectionsEmpty(e))return e;const t={...e};if(e.selectionSet.selections.length<=2)return t.selectionSet.selections=t.selectionSet.selections.map(mergeDuplicatedNotLeafNodes),t;let Ke=[];const Ye=(Je,Xe)=>Je.kind===Xe.kind&&Je.name.value===Xe.name.value&&(!Je.alias&&!Xe.alias||Je.alias.value===Xe.alias.value);return t.selectionSet.selections=t.selectionSet.selections.filter((Je,Xe,et)=>Je.kind!==Kind.FIELD||!Je.selectionSet||Xe===et.findIndex(tt=>Ye(Je,tt))?!0:(Ke=[...Ke,Je],!1)),Ke.forEach(Je=>{const Xe=t.selectionSet.selections.findIndex(et=>Ye(et,Je));t.selectionSet.selections[Xe].selectionSet.selections=[...t.selectionSet.selections[Xe].selectionSet.selections,...Je.selectionSet.selections]}),t.selectionSet.selections=t.selectionSet.selections.map(mergeDuplicatedNotLeafNodes),t},replaceFragments=(e,t)=>{if(isSelectionsEmpty(e))return e;const Ke={...e};let Ye=[];return Ke.selectionSet.selections=Ke.selectionSet.selections.filter(Je=>{if(Je.kind!==Kind.FRAGMENT_SPREAD)return!0;if(!Ye.find(Xe=>Xe.name.value===Je.name.value)){const Xe=t.find(et=>et.name.value===Je.name.value);if(!Xe)throw new Error(`Found usage of unknown fragment ${Je.name.value}`);Ye=[...Ye,Xe]}return!1}),Ke.selectionSet.selections=[...Ke.selectionSet.selections,...Ye.reduce((Je,Xe)=>[...Xe.selectionSet.selections,...Je],[])],Ke.selectionSet.selections=Ke.selectionSet.selections.map(Je=>replaceFragments(Je,t)),Ke},prettifyGraphql=(e,t=!0)=>{const Ke=parse(e),Ye=Ke.definitions.filter(Je=>Je.kind===Kind.FRAGMENT_DEFINITION).map((Je,Xe,et)=>replaceFragments(Je,et));return Ke.definitions.filter(Je=>Je.kind===Kind.OPERATION_DEFINITION).map(Je=>{let Xe={...Je};return Xe.selectionSet.selections=Xe.selectionSet.selections.map(et=>replaceFragments(et,Ye)),t&&(Xe.selectionSet.selections=Xe.selectionSet.selections.map(et=>removeDuplicatedLeafNodes(mergeDuplicatedNotLeafNodes(et)))),Xe}).map(print).join(`
`)},{useLocalStorage}=reactUse,hasLocation=e=>e.loc!==null&&e.loc!==void 0,matchesOperation=e=>({name:t})=>!e&&!t?!0:t?.value===e;function getGraphQLContent(e,t,Ke,Ye){const{query:Je,...Xe}=e,et={query:Je};return Xe.operationName&&(et.operationName=Xe.operationName),Xe.variables&&(et.variables=Xe.variables),isString(t)&&(et.query=t),isString(Ke)&&(et.operationName=Ke.length?Ke:void 0),isString(Ye)&&(et.variables=Ye.length?Ye:void 0),!et.query&&!et.variables?"":JSON.stringify(et)}const isString=e=>typeof e=="string"||e instanceof String,isOperationDefinition=e=>e.kind===Kind.OPERATION_DEFINITION,fetchGraphQLSchemaForRequest=async({requestId:e,url:t,inputValueDeprecation:Ke=!1})=>{if(!t)return;const Ye=await request.getById(e);if(Ye)try{const Je=JSON.stringify({query:getIntrospectionQuery({inputValueDeprecation:Ke}),operationName:"IntrospectionQuery"}),Xe=await database.update(Object.assign({},Ye,{_id:Ye._id+".graphql",settingMaxTimelineDataSize:5e3,parentId:Ye._id,isPrivate:!0,body:{mimeType:CONTENT_TYPE_JSON,text:Je}})),{request:et,environment:tt,settings:rt,clientCertificates:st,caCert:at,activeEnvironmentId:nt,timelinePath:it,responseId:ot}=await fetchRequestData(Xe._id),lt=await tryToInterpolateRequest({request:et,environment:tt._id,purpose:"send"}),ut=await tryToTransformRequestWithPlugins(lt),ft=await sendCurlAndWriteTimeline(ut,st,at,rt,it,ot),ct=await responseTransform(ft,nt,ut,lt.context),dt=ct.statusCode||0;if(!ct)return{schemaFetchError:{message:"No response body received when fetching schema"}};if(dt<200||dt>=300){const xt=ct.url||et.url;return{schemaFetchError:{message:`Got status ${dt} fetching schema from "${xt}"`}}}const ht=await response.getBodyBuffer(ct);if(ht){const{data:xt,errors:vt}=JSON.parse(ht.toString());return vt?.length?{schemaFetchError:vt[0]}:{schema:buildClientSchema(xt)}}return{schemaFetchError:{message:"Something went wrong, no data was received from introspection query"}}}catch(Je){return console.error("[graphql] Failed to fetch schema",Je),{schemaFetchError:{message:Je.message}}}},GraphQLEditor=({request:e,environmentId:t,onChange:Ke,className:Ye,uniquenessKey:Je,workspaceId:Xe})=>{let et;try{et=JSON.parse(e.body.text||"")}catch{et={query:""}}et.variables=et.variables||"";let tt;try{tt=parse(et.query||"")}catch{tt=null}const rt=tt?.definitions.filter(isOperationDefinition)?.map(kt=>kt.name?.value||"").filter(Boolean)||[],st=et.operationName||rt[0]||"",at=reactExports.useRef([]),[nt,it]=reactExports.useState({body:{query:et.query||"",variables:et.variables,operationName:st},operations:rt,variablesSyntaxError:"",activeReference:null,explorerVisible:!1,documentAST:tt}),[ot,lt]=useLocalStorage("graphql.automaticFetch",!0),[ut,ft]=reactExports.useState(!1),[ct,dt]=reactExports.useState(null),[ht,xt]=reactExports.useState(),[vt,bt]=reactExports.useState(null),[_t,Ct]=reactExports.useState(0),Rt=reactExports.useRef(null);reactExports.useEffect(()=>{if(!ot)return;let kt=!0;return(async()=>{bt(!0);const Pt=await fetchGraphQLSchemaForRequest({requestId:e._id,url:e.url,inputValueDeprecation:ut});kt&&xt(Pt?.schemaFetchError),kt&&Pt?.schema&&dt(Pt.schema),kt&&Pt?.schema&&Ct(Date.now()),kt&&bt(!1)})(),()=>{kt=!1}},[ot,t,ut,e._id,e.url,Xe]);const jt=async()=>{const{body:kt}=nt,Nt=prettifyGraphql(kt.query);pt(Nt),Rt.current&&Rt.current?.setValue(Nt)};useDocBodyKeyboardShortcuts({beautifyRequestBody:jt});const yt=reactExports.useCallback(kt=>{const Nt=getGraphQLContent(nt.body,void 0,kt);Ke(Nt),it(Pt=>({...Pt,body:{...Pt.body,operationName:kt}}))},[Ke,nt.body]),Et=kt=>{try{const Nt=getGraphQLContent(nt.body,void 0,st,kt);Ke(Nt),it(Pt=>({...Pt,body:{...Pt.body,variables:kt.length?kt:void 0},variablesSyntaxError:""}))}catch(Nt){it(Pt=>({...Pt,variablesSyntaxError:Nt.message}))}},pt=kt=>{try{const Nt=parse(kt),Pt=Nt.definitions.filter(isOperationDefinition)?.map(Ht=>Ht.name?.value||"").filter(Boolean)||[];let Ft=Pt[0]||"";if(Pt.length&&nt.body.operationName){const Ht=nt.operations.join()!==Pt.join(),Zt=!Pt.includes(nt.body.operationName);if(Ht&&Zt){const Jt=nt.operations.indexOf(nt.body.operationName);Ft=Pt[Jt]||Pt[0]||""}}Ft||delete nt.body.operationName;const Ut=getGraphQLContent(nt.body,kt,Ft);Ke(Ut),it(Ht=>({...Ht,documentAST:Nt,body:{...Ht.body,query:kt,operationName:Ft},operations:Pt}))}catch(Nt){console.warn("failed to parse",Nt),isString(kt)&&kt.trim()===""&&Ke(getGraphQLContent(nt.body,kt,"")),it(Pt=>({...Pt,documentAST:null,body:{...Pt.body,query:kt,operationName:kt?Pt.body.operationName:"Operations"},operations:kt?Pt.operations:[]}))}},mt=()=>e.url?vt?"Fetching schema...":_t>0?jsxRuntimeExports.jsxs("span",{children:["Schema fetched ",jsxRuntimeExports.jsx(TimeFromNow,{timestamp:_t})]}):jsxRuntimeExports.jsx("span",{children:"Schema not fetched yet"}):"",gt=async()=>{const kt={title:"Import GraphQL introspection schema",buttonLabel:"Import",properties:["openFile"],filters:[{extensions:["","json"]}]},{canceled:Nt,filePaths:Pt}=await window.dialog.showOpenDialog(kt);if(!Nt)try{const Ft=Pt[0],Ut=readFileSync(Ft),Ht=JSON.parse(Ut.toString());if(!Ht.data)throw new Error("JSON file should have a data field with the introspection results");dt(buildClientSchema(Ht.data)),Ct(Date.now()),xt(void 0),bt(!1)}catch(Ft){console.log("[graphql] ERROR: Failed to fetch schema",Ft),xt({message:`Failed to fetch schema: ${Ft.message}`,response:null}),bt(!1)}},{variablesSyntaxError:St,activeReference:wt,explorerVisible:$t}=nt,Tt={};ct&&nt.documentAST?.definitions.filter(isOperationDefinition)?.forEach(({variableDefinitions:Nt})=>{Nt?.forEach(({variable:Pt,type:Ft})=>{const Ut=typeFromAST(ct,Ft);Ut&&(Tt[Pt.name.value]=Ut)})});let At=null;const Dt=document.querySelector("#graphql-explorer-container");invariant(Dt,"Failed to find #graphql-explorer-container"),Dt&&(At=ReactDOM.createPortal(jsxRuntimeExports.jsx(GraphQLExplorer,{schema:ct,visible:$t,reference:wt,handleClose:()=>it(kt=>({...kt,explorerVisible:!1}))},_t),Dt));let It;const Ot=(kt,Nt)=>{Nt.preventDefault(),kt&&it(Pt=>({...Pt,explorerVisible:!0,activeReference:kt}))};ct&&(It={hintOptions:{completeSingle:!1,schema:ct},infoOptions:{schema:ct,renderDescription:kt=>`<div class="markdown-preview__content">${markdownToHTML(kt)}</div>`,onClick:Ot},jumpOptions:{schema:ct,onClick:Ot},lintOptions:{schema:ct}});const Mt=ct&&!vt&&!ht&&_t>0,Kt=reactExports.useCallback(kt=>{if(!(!nt.documentAST||!Rt.current)){for(const Nt of at?.current||[])Nt.clear();at.current=nt.documentAST?.definitions.filter(isOperationDefinition).filter(Nt=>!matchesOperation(kt)(Nt)).filter(hasLocation).map(({loc:{startToken:Nt,endToken:Pt}})=>{const Ft={line:Nt.line-1,ch:Nt.column-1},Ut={line:Pt.line,ch:Pt.column-1};return Rt.current?.getDoc()?.markText(Ft,Ut,{className:"opacity-70"})})}},[nt.documentAST]),qt=reactExports.useCallback(()=>{if(!Rt.current||!Rt.current.hasFocus())return nt.body.operationName||null;const kt=nt.documentAST?.definitions.filter(isOperationDefinition)||[],Nt=Rt.current.getCursor(),Pt=Rt.current.indexFromPos(Nt);let Ft=null;const Ut=[];for(const Ht of kt){if(!Ht.name)continue;Ut.push(Ht.name.value);const{start:Zt=0,end:Jt=0}=Ht.loc||{};Zt<=Pt&&Jt>=Pt&&(Ft=Ht.name.value)}return!Ft&&rt.length>0&&(Ft=nt.body.operationName||null),Ut.includes(Ft)?Ft:null},[rt.length,nt.body.operationName,nt.documentAST?.definitions]),Bt=reactExports.useCallback(()=>{const kt=qt();kt!==nt.body.operationName&&yt(kt||"")},[yt,qt,nt.body.operationName]);return reactExports.useEffect(()=>{Kt(nt.body.operationName)},[Kt,nt.body.operationName]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs($13c3c67164f4d5be$export$4c260019440d418f,{"aria-label":"GraphQL toolbar",className:"flex h-[--line-height-sm] w-full flex-shrink-0 items-center border-b border-solid border-[--hl-md] px-2",children:[jsxRuntimeExports.jsx(Dropdown,{"aria-label":"Operations Dropdown",isDisabled:!nt.operations.length,triggerButton:jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"btn btn--compact h-full bg-transparent p-[--padding-xs] text-[--hl]",children:nt.body.operationName||"Operations"}),children:nt.operations.map(kt=>jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":`Operation ${kt}`,children:jsxRuntimeExports.jsx(ItemContent,{label:kt,onClick:()=>yt(kt)})},kt))}),jsxRuntimeExports.jsxs(Dropdown,{"aria-label":"Schema Dropdown",triggerButton:jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"btn btn--compact h-full bg-transparent p-[--padding-xs] text-[--hl]",children:jsxRuntimeExports.jsxs("span",{children:["schema ",jsxRuntimeExports.jsx("i",{className:"fa fa-wrench"})]})}),children:[jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":"Show Documentation",children:jsxRuntimeExports.jsx(ItemContent,{isDisabled:!Mt,icon:"file-code-o",label:"Show Documentation",onClick:()=>{it(kt=>({...kt,explorerVisible:!0}))}})}),jsxRuntimeExports.jsxs($9fc4852771d079eb$export$6e2c8f0811a474ce,{"aria-label":"Remote GraphQL Schema Section",title:"Remote GraphQL Schema",children:[jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":"Refresh Schema",children:jsxRuntimeExports.jsx(ItemContent,{stayOpenAfterClick:!0,icon:`refresh ${vt?"fa-spin":""}`,label:"Refresh Schema",onClick:async()=>{bt(!0);const kt=await fetchGraphQLSchemaForRequest({requestId:e._id,url:e.url,inputValueDeprecation:ut});xt(kt?.schemaFetchError),kt?.schema&&dt(kt.schema),kt?.schema&&Ct(Date.now()),bt(!1)}})}),jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":"Automatic Fetch",children:jsxRuntimeExports.jsx(ItemContent,{stayOpenAfterClick:!0,icon:`toggle-${ot?"on":"off"}`,label:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{style:{marginRight:"10px"},children:"Automatic Fetch"}),jsxRuntimeExports.jsx(HelpTooltip,{children:"Automatically fetch schema when request URL is modified"})]}),onClick:()=>{lt(!ot)}})}),jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":"Fetch deprecation values",children:jsxRuntimeExports.jsx(ItemContent,{stayOpenAfterClick:!0,icon:`toggle-${ut?"on":"off"}`,label:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{style:{marginRight:"10px"},children:"Include input value deprecation"}),jsxRuntimeExports.jsx(HelpTooltip,{children:"When fetching the schema include input value deprecation reasons"})]}),onClick:()=>{ft(!ut)}})})]}),jsxRuntimeExports.jsx($9fc4852771d079eb$export$6e2c8f0811a474ce,{"aria-label":"Local GraphQL Schema Section",title:"Local GraphQL Schema",children:jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":"Load schema from JSON",children:jsxRuntimeExports.jsx(ItemContent,{icon:"file-code-o",label:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{style:{marginRight:"10px"},children:"Load schema from JSON"}),jsxRuntimeExports.jsxs(HelpTooltip,{children:["Run ",jsxRuntimeExports.jsx("i",{children:"apollo-codegen introspect-schema schema.graphql --output schema.json"})," to convert GraphQL DSL to JSON."]})]}),onClick:()=>{gt()}})})})]})]}),jsxRuntimeExports.jsxs(PanelGroup,{direction:"vertical",autoSaveId:"graphql-variables",children:[jsxRuntimeExports.jsx(Panel,{id:"GraphQL Editor",minSize:20,defaultSize:60,children:jsxRuntimeExports.jsx(CodeEditor,{id:"graphql-editor",ref:Rt,dynamicHeight:!0,showPrettifyButton:!0,uniquenessKey:Je?Je+"::query":void 0,defaultValue:et.query||"",className:Ye,onChange:pt,onCursorActivity:Bt,onFocus:Bt,mode:"graphql",placeholder:"",hintOptions:It?.hintOptions,infoOptions:It?.infoOptions,jumpOptions:It?.jumpOptions,lintOptions:It?.lintOptions})}),jsxRuntimeExports.jsx(PanelResizeHandle,{className:"h-[1px] w-full bg-[--hl-md]"}),jsxRuntimeExports.jsxs(Panel,{id:"GraphQL Variables editor",className:"flex flex-col",minSize:20,children:[jsxRuntimeExports.jsxs($5cb03073d3f54797$export$a8a3e93435678ff9,{className:"flex h-[--line-height-sm] w-full flex-shrink-0 select-none items-center border-b border-solid border-[--hl-md] px-2 text-[--hl]",children:["Query Variables",jsxRuntimeExports.jsxs(HelpTooltip,{className:"space-left",children:["Variables to use in GraphQL query ",jsxRuntimeExports.jsx("br",{}),"(JSON format)"]}),St&&jsxRuntimeExports.jsx("span",{className:"text-danger pull-right italic",children:St})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-hidden",children:jsxRuntimeExports.jsx(CodeEditor,{id:"graphql-editor-variables",dynamicHeight:!0,enableNunjucks:!0,uniquenessKey:Je?Je+"::variables":void 0,showPrettifyButton:!1,defaultValue:jsonPrettify(et.variables),className:Ye,getAutocompleteConstants:()=>Object.keys(Tt),lintOptions:{variableToType:Tt},noLint:!Tt,onChange:Et,mode:"graphql-variables",placeholder:""})})]})]}),jsxRuntimeExports.jsxs($13c3c67164f4d5be$export$4c260019440d418f,{className:"flex h-[--line-height-sm] w-full flex-shrink-0 select-none items-center overflow-y-auto border-t border-solid border-[--hl-md]",children:[jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"flex h-full items-center justify-center gap-2 px-4 py-1 text-sm text-[--color-font] ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] aria-pressed:bg-[--hl-sm]",onPress:jt,children:"Prettify GraphQL"}),jsxRuntimeExports.jsx("span",{className:"flex-1"}),!ht&&jsxRuntimeExports.jsxs("div",{className:"flex flex-shrink-0 items-center gap-2 px-2 text-sm",children:[jsxRuntimeExports.jsx(Icon,{icon:"info-circle"}),mt()]}),ht&&jsxRuntimeExports.jsx($a049562f99e7db0e$export$eb2fcfdbd7ba97d4,{className:"flex h-full items-center",children:jsxRuntimeExports.jsxs($4e3b923658d69c60$export$8c610744efcf8a1d,{children:[jsxRuntimeExports.jsxs($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"flex h-full items-center justify-center gap-2 px-4 py-1 text-sm text-[--color-font] ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] aria-pressed:bg-[--hl-sm]",children:[jsxRuntimeExports.jsx(Icon,{icon:"exclamation-triangle",className:"text-[--color-warning]"}),jsxRuntimeExports.jsx("span",{children:"Error fetching Schema"})]}),jsxRuntimeExports.jsx($4e3b923658d69c60$export$28c660c63b792dea,{offset:8,className:"max-h-[85vh] max-w-xs select-none overflow-y-auto rounded-md border border-solid border-[--hl-sm] bg-[--color-bg] px-4 py-2 text-sm text-[--color-font] shadow-lg focus:outline-none",children:ht.message})]})})]}),At]})},RawEditor=({className:e,content:t,contentType:Ke,onChange:Ye,uniquenessKey:Je})=>jsxRuntimeExports.jsx(reactExports.Fragment,{children:jsxRuntimeExports.jsx(CodeEditor,{id:"raw-editor",showPrettifyButton:!0,uniquenessKey:Je,defaultValue:t,className:e,enableNunjucks:!0,onChange:Ye,mode:Ke,placeholder:"..."})}),UrlEncodedEditor=({parameters:e,onChange:t})=>jsxRuntimeExports.jsx("div",{className:"scrollable-container tall wide",children:jsxRuntimeExports.jsx("div",{className:"scrollable",children:jsxRuntimeExports.jsx(KeyValueEditor,{allowMultiline:!0,namePlaceholder:"name",valuePlaceholder:"value",descriptionPlaceholder:"description",onChange:t,pairs:e})})}),BodyEditor=({request:e,environmentId:t})=>{const{workspaceId:Ke,requestId:Ye}=useParams(),Je=useRequestPatcher(),Xe=reactExports.useCallback(ft=>{const ct=typeof e.body.mimeType!="string"?{text:ft}:{mimeType:e.body.mimeType.split(";")[0],text:ft};Je(Ye,{body:ct})},[Je,e.body.mimeType,Ye]),et=reactExports.useCallback(ft=>{const ct={mimeType:CONTENT_TYPE_GRAPHQL.split(";")[0],text:ft};Je(Ye,{body:ct})},[Je,Ye]),tt=reactExports.useCallback(ft=>{Je(Ye,{body:{mimeType:CONTENT_TYPE_FORM_URLENCODED,params:ft}})},[Je,Ye]),rt=reactExports.useCallback(ft=>{Je(Ye,{body:{mimeType:CONTENT_TYPE_FORM_DATA,params:ft||[]}})},[Je,Ye]),st=async ft=>{const ct=clone(e.headers);Je(Ye,{body:{mimeType:CONTENT_TYPE_FILE,fileName:ft}});let ht=getContentTypeHeader(ct);ht||(ht={name:"Content-Type",value:CONTENT_TYPE_FILE},ct.push(ht));const xt=ht.value,vt=mimeTypesExports.lookup(ft)||CONTENT_TYPE_FILE;xt!==vt&&ft&&(ht.value=vt,showModal(AskModal,{title:"Change Content-Type",message:jsxRuntimeExports.jsxs("p",{children:["Do you want set the ",jsxRuntimeExports.jsx("span",{className:"monospace",children:"Content-Type"})," header to"," ",jsxRuntimeExports.jsx("span",{className:"monospace",children:vt}),"?"]}),onDone:async bt=>{bt&&Je(Ye,{headers:ct})}}))},at=e.settingDisableRenderRequestBody,nt=`${e._id}::${at?"no-render":"render"}`,it=e.body.fileName,ot=e.body.mimeType,lt=typeof ot!="string"&&!e.body.text;function ut(){if(ot===CONTENT_TYPE_FORM_URLENCODED)return jsxRuntimeExports.jsx(UrlEncodedEditor,{onChange:tt,parameters:e.body.params||[]},nt);if(ot===CONTENT_TYPE_FORM_DATA)return jsxRuntimeExports.jsx(FormEditor,{onChange:rt,parameters:e.body.params||[]},nt);if(ot===CONTENT_TYPE_FILE)return jsxRuntimeExports.jsx(FileEditor,{onChange:st,path:it||""},nt);if(ot===CONTENT_TYPE_GRAPHQL)return jsxRuntimeExports.jsx(GraphQLEditor,{uniquenessKey:nt,request:e,workspaceId:Ke,environmentId:t,onChange:et},nt);if(lt){if(isEventStreamRequest(e))return jsxRuntimeExports.jsx(EmptyStatePane,{icon:jsxRuntimeExports.jsx("i",{className:"fa fa-paper-plane"}),documentationLinks:[],title:"Enter a URL and connect to start receiving event stream data"})}else{const ft=getContentTypeFromHeaders(e.headers)||ot;return jsxRuntimeExports.jsx(RawEditor,{uniquenessKey:nt,contentType:ft||"text/plain",content:e.body.text||"",onChange:Xe})}return jsxRuntimeExports.jsx(EmptyStatePane,{icon:jsxRuntimeExports.jsx(SvgIcon,{icon:"bug"}),documentationLinks:[documentationLinks.introductionToInsomnia],secondaryAction:"Select a body type from above to send data in the body of a request",title:"Enter a URL and send to get a response"})}return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx($13c3c67164f4d5be$export$4c260019440d418f,{className:"flex h-[--line-height-sm] w-full flex-shrink-0 items-center border-b border-solid border-[--hl-md] px-2",children:jsxRuntimeExports.jsx(ContentTypeDropdown,{})}),ut()]})},RequestParametersEditor=({bulk:e,disabled:t=!1})=>{const{requestId:Ke}=useParams(),{activeRequest:Ye}=useRequestLoaderData(),Je=useRequestPatcher(),Xe=reactExports.useCallback(rt=>{const st=[],at=rt.split(/\n+/);for(const nt of at){const[it,ot]=nt.split(/:(.*)$/),lt=(it||"").trim(),ut=(ot||"").trim();!lt&&!ut||st.push({name:lt,value:ut})}Je(Ke,{parameters:st})},[Je,Ke]);let et="";for(const rt of Ye.parameters)rt.disabled||!rt.name&&!rt.value||(et+=`${rt.name}: ${rt.value}
`);const tt=reactExports.useCallback(rt=>{Je(Ke,{parameters:rt})},[Je,Ke]);return e?jsxRuntimeExports.jsx(CodeEditor,{id:"request-parameters-editor",className:"flex-1",onChange:Xe,defaultValue:et,enableNunjucks:!0,readOnly:t}):jsxRuntimeExports.jsx(KeyValueEditor,{allowMultiline:!0,namePlaceholder:"name",valuePlaceholder:"value",descriptionPlaceholder:"description",pairs:Ye.parameters,onChange:rt=>tt(rt),isDisabled:t})},defaultPreview="...",addApiKeyToParams=e=>e.type==="apikey"&&e.addTo==="queryParams"&&e.key&&e.value?[{name:e.key,value:e.value}]:[];async function getQueryParamsFromAuth(e){const t=getAuthObjectOrNull(e.authentication);if(t!==null&&isAuthEnabled(e.authentication))return addApiKeyToParams(t);const Je=(await database.withAncestors(e,[requestGroup.type])).filter(isRequestGroup),Xe=getOrInheritAuthentication({request:e,requestGroups:Je}),et=getAuthObjectOrNull(Xe);return et?addApiKeyToParams(et):[]}const MAX_URL_LENGTH=10*1024,RenderedQueryString=({request:e})=>{const[t,Ke]=reactExports.useState(defaultPreview),[Ye,Je]=reactExports.useState(!1),{handleRender:Xe}=useNunjucks();reactExports.useEffect(()=>{(async()=>{const it=e.parameters.filter(({disabled:lt})=>!lt),ot=await getQueryParamsFromAuth(e);try{const lt=await Xe({url:e.url,parameters:it,pathParameters:e.pathParameters,authQueryParams:ot});if(!lt){Je(!1);return}const{parameters:ut,pathParameters:ft,authQueryParams:ct}=lt;let{url:dt}=lt;ft&&(dt=dt.replace(PATH_PARAMETER_REGEX,_t=>{const Ct=_t.replace("/:",""),Rt=ft?.find(jt=>jt.name===Ct);return Rt&&Rt.value?`/${encodeURIComponent(Rt.value)}`:_t}));const ht=[...ut,...ct],xt=buildQueryStringFromParams(ht,!1,{encodeParams:e.settingEncodeUrl});let vt=joinUrlAndQueryString(dt,xt);vt.length>MAX_URL_LENGTH?(Je(!0),vt=vt.slice(0,MAX_URL_LENGTH)):Je(!1);const bt=smartEncodeUrl(vt,e.settingEncodeUrl,{strictNullHandling:!0});Ke(bt===""?defaultPreview:bt)}catch(lt){console.warn(lt),Je(!1),typeof lt=="object"&&lt instanceof RenderError?Ke(lt.message):Ke(defaultPreview)}})()},[e.parameters,e.url,e.pathParameters,e.settingEncodeUrl,Xe,e.authentication,e]);const et=reactExports.useCallback(async()=>{Ye&&window.showAlert({title:"URL Too Long",message:`Your URL is quite long, so only the first ${MAX_URL_LENGTH} characters were copied.`})},[Ye]),tt=t===defaultPreview?"super-duper-faint":"selectable force-wrap",rt="Insomnia Preferences  Security",st=t.endsWith(rt),at=st?t.slice(0,t.length-rt.length):t;return jsxRuntimeExports.jsxs("div",{className:"relative flex h-full w-full justify-between gap-[var(--padding-sm)] overflow-auto",children:[jsxRuntimeExports.jsxs("span",{className:classNames("my-auto",tt),children:[at,st&&jsxRuntimeExports.jsx($4f118338184dc1d9$export$a6c7ac8248d6e38a,{className:"cursor-pointer text-[--color-surprise]",onPress:()=>showSettingsModal({tab:"general"}),children:rt})]}),jsxRuntimeExports.jsx(CopyButton$1,{size:"small",content:t,disabled:t===defaultPreview,title:"Copy URL",confirmMessage:"",onClick:et,className:"sticky top-0 self-start",children:jsxRuntimeExports.jsx("i",{className:"fa fa-copy"})})]})},LOCALSTORAGE_KEY="insomnia.httpMethods",MethodDropdown=reactExports.forwardRef(({method:e,onChange:t},Ke)=>{const Ye=window.localStorage.getItem(LOCALSTORAGE_KEY),Je=Ye?JSON.parse(Ye):[],[Xe,et]=reactExports.useState(Je),tt=reactExports.useCallback(()=>{showModal(PromptModal,{defaultValue:e,title:"HTTP Method",submitName:"Done",upperCase:!0,selectText:!0,hint:"Common examples are LINK, UNLINK, FIND, PURGE",label:"Name",placeholder:"CUSTOM",hints:Xe,onDeleteHint:rt=>{const st=window.localStorage.getItem(LOCALSTORAGE_KEY),nt=(st?JSON.parse(st):[]).filter(it=>it!==rt);et(nt),window.localStorage.setItem(LOCALSTORAGE_KEY,JSON.stringify(nt))},onComplete:rt=>{if(!rt||HTTP_METHODS.includes(rt))return;const st=window.localStorage.getItem(LOCALSTORAGE_KEY),at=st?JSON.parse(st):[];if(!at.includes(rt)){const nt=[...at,rt];et(nt),window.localStorage.setItem(LOCALSTORAGE_KEY,JSON.stringify(nt))}t(rt)}})},[e,t,Xe]);return jsxRuntimeExports.jsxs(Dropdown,{ref:Ke,triggerButton:jsxRuntimeExports.jsxs($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"pl-2","aria-label":"Request Method",children:[jsxRuntimeExports.jsx("span",{className:`http-method-${e}`,children:e})," ",jsxRuntimeExports.jsx("i",{className:"fa fa-caret-down space-left"})]}),children:[jsxRuntimeExports.jsx($9fc4852771d079eb$export$6e2c8f0811a474ce,{children:HTTP_METHODS.map(rt=>jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{children:jsxRuntimeExports.jsx(ItemContent,{className:`http-method-${rt}`,label:rt,onClick:()=>t(rt)})},rt))}),jsxRuntimeExports.jsx($9fc4852771d079eb$export$6e2c8f0811a474ce,{children:jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{children:jsxRuntimeExports.jsx(ItemContent,{className:"http-method-custom",label:"Custom Method",onClick:tt})})})]})});MethodDropdown.displayName="MethodDropdown";const VariableMissingErrorModal=({isOpen:e,title:t,cancelText:Ke,onCancel:Ye,okText:Je,children:Xe,onOk:et,isDismissable:tt=!1})=>jsxRuntimeExports.jsx($f3f84453ead64de5$export$8948f78d83984c69,{isOpen:e,onOpenChange:rt=>{!rt&&Ye?.()},className:"fixed left-0 top-0 z-10 flex h-[--visual-viewport-height] w-full items-start justify-center bg-black/30",children:jsxRuntimeExports.jsx($f3f84453ead64de5$export$2b77a92f1a5ad772,{onOpenChange:rt=>{!rt&&Ye?.()},isDismissable:tt,className:"m-[--padding-lg] flex max-h-full w-full max-w-4xl flex-col rounded-md border border-solid border-[--hl-sm] bg-[--color-bg] p-[--padding-lg] text-[--color-font]",children:jsxRuntimeExports.jsx($de32f1b87079253c$export$3ddf2d174ce01153,{className:"flex h-full flex-1 flex-col gap-4 overflow-hidden outline-none",children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx($5cb03073d3f54797$export$a8a3e93435678ff9,{slot:"title",className:"text-2xl",children:t}),jsxRuntimeExports.jsx("div",{className:"",children:Xe}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 flex-shrink-0 items-center justify-end gap-2",children:[jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"flex items-center gap-2 rounded-sm border border-solid border-[--hl-md] px-3 py-2 text-[--color-font] transition-colors hover:bg-opacity-90 hover:no-underline",onPress:Ye,children:Ke||"Cancel"}),jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"flex items-center gap-2 rounded-sm border border-solid border-[--hl-md] bg-[--color-surprise] px-3 py-2 text-[--color-font-surprise] transition-colors hover:bg-opacity-90 hover:no-underline",onPress:et,children:Je||"OK"})]})]})})})}),RequestUrlBar=reactExports.forwardRef(({handleAutocompleteUrls:e,uniquenessKey:t,onPaste:Ke},Ye)=>{const[Je,Xe]=useSearchParams(),{userSession:et}=useRootLoaderData(),{vaultKey:tt}=et,[rt,st]=reactExports.useState(!1),[at,nt]=reactExports.useState(!1),[it,ot]=reactExports.useState(""),lt=it?.split(",");if(Je.has("error")){if(Je.has("envVariableMissing")&&Je.get("undefinedEnvironmentVariables"))st(!0),ot(Je.get("undefinedEnvironmentVariables"));else{const zt=Je.get("error")||"",Yt="Insomnia Preferences  Security",tr=zt.endsWith(Yt),rr=tr?zt.slice(0,zt.length-Yt.length):zt,dr=showModal(AlertModal,{title:"Unexpected Request Failure",message:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{children:"The request failed due to an unhandled error:"}),jsxRuntimeExports.jsx("code",{className:"wide selectable",children:jsxRuntimeExports.jsxs("div",{className:"w-full overflow-y-auto text-wrap",children:[rr,tr&&jsxRuntimeExports.jsx($4f118338184dc1d9$export$a6c7ac8248d6e38a,{className:"cursor-pointer text-[--color-surprise]",onPress:()=>{dr(),showSettingsModal({tab:"general"})},children:Yt})]})})]})})}Je.delete("error"),Xe({})}const{activeWorkspace:ut,activeEnvironment:ft}=useWorkspaceLoaderData(),{settings:ct}=useRootLoaderData(),{hotKeyRegistry:dt}=ct,{activeRequest:ht,activeRequestMeta:{downloadPath:xt}}=useRequestLoaderData(),vt=useRequestMetaPatcher(),bt=reactExports.useRef(null),_t=reactExports.useRef(null),Ct=reactExports.useRef(null),Rt=ht&&(isEventStreamRequest(ht)||isGraphqlSubscriptionRequest(ht)),jt=reactExports.useCallback(()=>{Ct.current&&Ct.current.focusEnd()},[Ct]),yt=reactExports.useCallback(zt=>{Ct.current&&Ct.current.setValue(zt)},[Ct]);reactExports.useImperativeHandle(Ye,()=>({focusInput:jt,setUrl:yt}),[jt,yt]);const[Et,pt]=reactExports.useState(null),[mt,gt]=reactExports.useState(void 0),St=useRequestConnectActionFetcher(),wt=useDebugRequestSendActionFetcher(),{updateTabById:$t}=useInsomniaTabContext(),{organizationId:Tt,projectId:At,workspaceId:Dt,requestId:It}=useParams(),Ot=St.submit,Mt=reactExports.useCallback(zt=>{Ot({organizationId:Tt,projectId:At,workspaceId:Dt,requestId:It,connectParams:zt})},[Ot,Tt,At,It,Dt]),Kt=wt.submit,qt=reactExports.useCallback(zt=>{Kt({organizationId:Tt,projectId:At,workspaceId:Dt,requestId:It,params:zt})},[Tt,At,It,Kt,Dt]),Bt=reactExports.useCallback(async(zt,Yt)=>{if($t?.(It,{temporary:!1}),stats.incrementExecutedRequests(),window.main.trackSegmentEvent({event:SegmentEvent.requestExecute,properties:{preferredHttpVersion:ct.preferredHttpVersion,authenticationType:ht.authentication?.type,mimeType:ht.body.mimeType}}),gt(void 0),isEventStreamRequest(ht)||isGraphqlSubscriptionRequest(ht)){(async()=>{const rr=ft._id,dr=ut._id,fr=await cookieJar.getOrCreateForParentId(dr),cr=(await database.withAncestors(ht,[requestGroup.type])).filter(isRequestGroup);ht.authentication=getOrInheritAuthentication({request:ht,requestGroups:cr}),ht.headers=getOrInheritHeaders({request:ht,requestGroups:cr});const ur=await tryToInterpolateRequestOrShowRenderErrorModal({request:ht,environmentId:rr,payload:{url:ht.url,headers:ht.headers,authentication:ht.authentication,parameters:ht.parameters.filter(or=>!or.disabled),workspaceCookieJar:fr}});ur&&Mt({url:joinUrlAndQueryString(ur.url,buildQueryStringFromParams(ur.parameters)),headers:ur.headers,authentication:ur.authentication,cookieJar:ur.workspaceCookieJar,suppressUserAgent:ur.suppressUserAgent})})();return}try{qt({requestId:It,shouldPromptForPathAfterResponse:zt,ignoreUndefinedEnvVariable:Yt})}catch(tr){const rr=tr instanceof Error?tr.message:String(tr);showModal(AlertModal,{title:"Unexpected Request Failure",message:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{children:"The request failed due to an unhandled error:"}),jsxRuntimeExports.jsx("code",{className:"wide selectable",children:jsxRuntimeExports.jsx("pre",{children:rr})})]})})}},[ft._id,ht,ut._id,Mt,It,qt,ct.preferredHttpVersion,$t]);reactExports.useEffect(()=>{const zt=Yt=>{Yt.metaKey&&Yt.key==="Enter"&&Bt()};return document.getElementById("sidebar-request-gridlist")?.addEventListener("keydown",zt,{capture:!0}),()=>{document.getElementById("sidebar-request-gridlist")?.removeEventListener("keydown",zt,{capture:!0})}},[Bt]),useInterval(Bt,Et&&St.state==="idle"?Et:null),useTimeoutWhen(Bt,mt,!!mt);const kt=useRequestPatcher();useDocBodyKeyboardShortcuts({request_focusUrl:()=>{Ct.current?.focusEnd(),Ct.current?.selectAll()},request_send:()=>{ht.url&&Bt()},request_toggleHttpMethodMenu:()=>{bt.current?.toggle()},request_showOptions:()=>{_t.current?.toggle(!0)}});const Nt=Rt?"Connect":xt?"Download":"Send",Pt=Rt?"rounded-sm":"rounded-l-sm",{url:Ft,method:Ut}=ht,Ht=useReadyState({requestId:ht._id,protocol:"curl"}),Zt=useReadyState({requestId:ht._id,protocol:"webSocket"}),Jt=Et||mt||Ht||Zt;return jsxRuntimeExports.jsxs("div",{className:"flex w-full items-stretch justify-between self-stretch",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsx(MethodDropdown,{ref:bt,onChange:zt=>kt(It,{method:zt}),method:Ut})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 items-center p-1",children:[jsxRuntimeExports.jsx(OneLineEditor,{id:"request-url-bar",ref:Ct,type:"text",getAutocompleteConstants:e,placeholder:"https://api.myproduct.com/v1/users",defaultValue:Ft,onChange:zt=>kt(It,{url:zt}),onKeyDown:createKeybindingsHandler({Enter:()=>Bt()}),onPaste:Ke},t),jsxRuntimeExports.jsx("div",{className:"flex self-stretch",children:Jt?jsxRuntimeExports.jsx("button",{type:"button",className:"rounded-sm bg-[--color-surprise] px-[--padding-md] text-[--color-font-surprise]",onClick:()=>{if(isEventStreamRequest(ht)){window.main.curl.close({requestId:ht._id});return}isGraphqlSubscriptionRequest(ht)&&window.main.webSocket.close({requestId:ht._id}),pt(null),gt(void 0)},children:Rt?"Disconnect":"Cancel"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:()=>Bt(),className:`bg-[--color-surprise] px-[--padding-md] text-[--color-font-surprise] ${Pt}`,type:"button",children:Nt}),Rt?null:jsxRuntimeExports.jsxs(Dropdown,{className:"flex",ref:_t,"aria-label":"Request Options",closeOnSelect:!1,triggerButton:jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"rounded-r-sm bg-[--color-surprise] px-1 text-[--color-font-surprise]",style:{borderTopRightRadius:"0.125rem",borderBottomRightRadius:"0.125rem"},children:jsxRuntimeExports.jsx("i",{className:"fa fa-caret-down"})}),children:[jsxRuntimeExports.jsxs($9fc4852771d079eb$export$6e2c8f0811a474ce,{"aria-label":"Basic Section",title:"Basic",children:[jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":"send-now",children:jsxRuntimeExports.jsx(ItemContent,{icon:"arrow-circle-o-right",label:"Send Now",hint:dt.request_send,onClick:Bt})}),jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":"Generate Client Code",children:jsxRuntimeExports.jsx(ItemContent,{icon:"code",label:"Generate Client Code",onClick:()=>showModal(GenerateCodeModal,{request:ht})})})]}),jsxRuntimeExports.jsxs($9fc4852771d079eb$export$6e2c8f0811a474ce,{"aria-label":"Advanced Section",title:"Advanced",children:[jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":"Send After Delay",children:jsxRuntimeExports.jsx(ItemContent,{icon:"clock-o",label:"Send After Delay",onClick:()=>showModal(PromptModal,{inputType:"decimal",title:"Send After Delay",label:"Delay in seconds",defaultValue:"3",onComplete:zt=>{gt(+zt*1e3)}})})}),jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":"Repeat on Interval",children:jsxRuntimeExports.jsx(ItemContent,{icon:"repeat",label:"Repeat on Interval",onClick:()=>showModal(PromptModal,{inputType:"decimal",title:"Send on Interval",label:"Interval in seconds",defaultValue:"3",submitName:"Start",onComplete:zt=>{Bt(),pt(+zt*1e3)}})})}),xt?jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":"Stop Auto-Download",children:jsxRuntimeExports.jsx(ItemContent,{icon:"stop-circle",label:"Stop Auto-Download",withPrompt:!0,onClick:()=>vt(ht._id,{downloadPath:null})})}):jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":"Download After Send",children:jsxRuntimeExports.jsx(ItemContent,{icon:"download",label:"Download After Send",onClick:async()=>{const{canceled:zt,filePaths:Yt}=await window.dialog.showOpenDialog({title:"Select Download Location",buttonLabel:"Select",properties:["openDirectory"]});zt||vt(ht._id,{downloadPath:Yt[0]})}})}),jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":"Send And Download",children:jsxRuntimeExports.jsx(ItemContent,{icon:"download",label:"Send And Download",onClick:()=>Bt(!0)})})]})]},"dropdown")]})})]}),jsxRuntimeExports.jsxs(VariableMissingErrorModal,{isOpen:rt,title:lt?.length===1?"1 environment variable is missing":`${lt?.length} environment variables are missing`,okText:"Execute anyways",onOk:()=>{st(!1),Bt(!1,!0)},onCancel:()=>st(!1),children:[jsxRuntimeExports.jsxs("div",{children:["These environment variables have been defined, but have not been assigned a value within the currently active environment:",jsxRuntimeExports.jsx("div",{className:"flex max-h-80 flex-wrap gap-2 overflow-y-auto",children:lt?.map(zt=>jsxRuntimeExports.jsx("div",{className:"mr-3 mt-3 rounded-sm bg-[--color-surprise] px-3 py-1 text-[--color-font-surprise]",children:zt},zt))})]}),!tt&&lt.some(zt=>zt.startsWith(`${vaultEnvironmentRuntimePath}.`))&&jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx("p",{children:"These are secret environment variables. However, the required vault key has not been provided yet."}),jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"cursor- py-1 text-[--color-info] underline ring-1 ring-transparent focus:ring-inset focus:ring-[--hl-md] aria-pressed:bg-[--hl-sm]",onPress:()=>{nt(!0),st(!1)},children:"Click to input vault key"}),jsxRuntimeExports.jsx("div",{className:"flex max-h-80 flex-wrap gap-2 overflow-y-auto",children:lt?.filter(zt=>zt.startsWith(`${vaultEnvironmentRuntimePath}.`)).map(zt=>jsxRuntimeExports.jsx("div",{className:"mr-3 mt-3 rounded-sm bg-[--color-surprise] px-3 py-1 text-[--color-font-surprise]",children:zt},zt))})]})]}),at&&jsxRuntimeExports.jsx(InputVaultKeyModal,{onClose:()=>nt(!1)})]})});RequestUrlBar.displayName="RequestUrlBar";const RequestPane=({environmentId:e,settings:t,onPaste:Ke})=>{const{activeRequest:Ye,activeRequestMeta:Je}=useRequestLoaderData(),{workspaceId:Xe,requestId:et}=useParams(),tt=useSettingsPatcher(),[rt,st]=reactExports.useState(!1),at=useRequestPatcher(),nt=reactExports.useRef(null),[it,ot]=useLocalStorage$1("dismissPathParameterTip",""),lt=()=>{let Et;try{Et=extractQueryStringFromUrl(Ye.url)}catch{console.warn("Failed to parse url to import querystring");return}const pt=Ye.url.replace(`?${Et}`,""),mt=[...Ye.parameters,...deconstructQueryStringToParams(Et)];pt!==Ye.url&&(at(et,{url:pt,parameters:mt}),nt.current?.setUrl(pt))},ut=useGitVCSVersion(),{activeEnvironment:ft,vcsVersion:ct}=useWorkspaceLoaderData(),dt=`${ft?.modified}::${et}::${ut}::${ct}::${Je?.activeResponseId}`;if(!Ye)return jsxRuntimeExports.jsx(PlaceholderRequestPane,{});const ht=getCombinedPathParametersFromUrl(Ye.url,Ye.pathParameters||[]),xt=Et=>{at(et,{pathParameters:Et})},vt=ht.length+Ye.parameters.filter(Et=>!Et.disabled).length,bt=Ye.headers.filter(Et=>!Et.disabled).length+readOnlyHttpPairs.length,_t=Ye.url.includes("?"),Ct=getContentTypeFromHeaders(Ye.headers)||Ye.body.mimeType,Rt=typeof Ye.body.mimeType!="string"&&!Ye.body.text,jt=getAuthObjectOrNull(Ye.authentication),yt=jt?.type==="none"||jt===null;return jsxRuntimeExports.jsxs(Pane,{type:"request",children:[jsxRuntimeExports.jsx(PaneHeader,{children:jsxRuntimeExports.jsx(ErrorBoundary,{errorClassName:"font-error pad text-center",children:jsxRuntimeExports.jsx(RequestUrlBar,{uniquenessKey:dt,handleAutocompleteUrls:()=>queryAllWorkspaceUrls(Xe,request.type,et),nunjucksPowerUserMode:t.nunjucksPowerUserMode,onPaste:Ke,ref:nt},et)})}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$b2539bed5023c21c,{"aria-label":"Request pane tabs",className:"flex h-full w-full flex-1 flex-col",children:[jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$e51a686c67fdaa2d,{className:"scrollbar-thin flex h-[--line-height-sm] w-full flex-shrink-0 items-center overflow-x-auto border-b border-solid border-b-[--hl-md] bg-[--color-bg]","aria-label":"Request pane tabs",children:[jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"params",children:[jsxRuntimeExports.jsx("span",{children:"Params"}),vt>0&&jsxRuntimeExports.jsx("span",{className:"flex h-6 min-w-6 items-center justify-center rounded-lg border border-solid border-[--hl] p-1 text-xs",children:vt})]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"content-type",children:[jsxRuntimeExports.jsx("span",{children:"Body"}),!Rt&&jsxRuntimeExports.jsx("span",{className:"flex h-6 min-w-6 items-center justify-center rounded-lg border border-solid border-[--hl] p-1 text-xs",children:jsxRuntimeExports.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"})})]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"auth",children:[jsxRuntimeExports.jsx("span",{children:"Auth"}),!yt&&jsxRuntimeExports.jsx("span",{className:"flex h-6 min-w-6 items-center justify-center rounded-lg border border-solid border-[--hl] p-1 text-xs",children:jsxRuntimeExports.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"})})]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"headers",children:[jsxRuntimeExports.jsx("span",{children:"Headers"}),bt>0&&jsxRuntimeExports.jsx("span",{className:"flex h-6 min-w-6 items-center justify-center rounded-lg border border-solid border-[--hl] p-1 text-xs",children:bt})]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"scripts",children:[jsxRuntimeExports.jsx("span",{children:"Scripts"}),!!(Ye.preRequestScript||Ye.afterResponseScript)&&jsxRuntimeExports.jsx("span",{className:"flex h-6 min-w-6 items-center justify-center rounded-lg border border-solid border-[--hl] p-1 text-xs",children:jsxRuntimeExports.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"})})]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"docs",children:[jsxRuntimeExports.jsx("span",{children:"Docs"}),Ye.description&&jsxRuntimeExports.jsx("span",{className:"flex h-6 min-w-6 items-center justify-center rounded-lg border border-solid border-[--hl] p-1 text-xs",children:jsxRuntimeExports.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"})})]})]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"flex h-full w-full flex-1 flex-col overflow-y-auto",id:"params",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex max-h-32 min-h-[2em] flex-col overflow-y-auto border border-solid border-[--hl-sm] bg-[--hl-xs] px-2 py-1 text-xs",children:[jsxRuntimeExports.jsx("label",{className:"label--small no-pad-top",children:"Url Preview"}),jsxRuntimeExports.jsx(ErrorBoundary,{errorClassName:"tall wide vertically-align font-error pad text-center",children:jsxRuntimeExports.jsx(RenderedQueryString,{request:Ye})},dt)]})}),jsxRuntimeExports.jsxs(PanelGroup,{className:"flex-1 overflow-hidden",direction:"vertical",children:[jsxRuntimeExports.jsx(Panel,{minSize:20,children:jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex h-4 w-full items-center justify-between p-4",children:[jsxRuntimeExports.jsx($5cb03073d3f54797$export$a8a3e93435678ff9,{className:"text-xs font-bold uppercase text-[--hl]",children:"Query parameters"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{isDisabled:!_t,onPress:lt,className:"asma-pressed:bg-[--hl-sm] flex h-full w-[14ch] flex-shrink-0 items-center justify-start gap-2 rounded-sm px-2 py-1 text-sm text-[--color-font] ring-1 ring-transparent transition-colors hover:bg-[--hl-xs] focus:bg-[--hl-sm] focus:ring-inset focus:ring-[--hl-md] aria-selected:bg-[--hl-xs] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",children:"Import from URL"}),jsxRuntimeExports.jsx($efde0372d7a700fe$export$d2b052e7b4be1756,{onChange:Et=>{tt({useBulkParametersEditor:Et})},isSelected:t.useBulkParametersEditor,className:"flex h-full w-[14ch] flex-shrink-0 items-center justify-start gap-2 rounded-sm px-2 py-1 text-sm text-[--color-font] ring-1 ring-transparent transition-colors hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md]",children:({isSelected:Et})=>jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(Icon,{icon:Et?"toggle-on":"toggle-off",className:`${Et?"text-[--color-success]":""}`}),jsxRuntimeExports.jsx("span",{children:Et?"Regular Edit":"Bulk Edit"})]})})]})]}),jsxRuntimeExports.jsx(ErrorBoundary,{errorClassName:"tall wide vertically-align font-error pad text-center",children:jsxRuntimeExports.jsx(RequestParametersEditor,{bulk:t.useBulkParametersEditor},Ct)},dt)]})}),jsxRuntimeExports.jsx(PanelResizeHandle,{className:"h-[1px] w-full bg-[--hl-md]"}),jsxRuntimeExports.jsx(Panel,{minSize:20,children:jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col",children:[jsxRuntimeExports.jsx($5cb03073d3f54797$export$a8a3e93435678ff9,{className:"p-4 text-xs font-bold uppercase text-[--hl]",children:"Path parameters"}),ht.length>0&&jsxRuntimeExports.jsx("div",{className:"w-full overflow-y-auto pl-4 pr-[72.73px]",children:jsxRuntimeExports.jsx("div",{className:"grid w-full flex-shrink-0 grid-cols-2 gap-x-[20.8px] overflow-hidden rounded-sm",children:ht.map(Et=>jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"flex select-none items-center justify-end truncate rounded-sm border-b border-solid border-[--hl-md] p-2",children:Et.name}),jsxRuntimeExports.jsx("div",{className:"flex h-full items-center border-b border-solid border-[--hl-md] px-2",children:jsxRuntimeExports.jsx(OneLineEditor,{id:"key-value-editor__name"+Et.name,placeholder:"Parameter value",defaultValue:Et.value||"",onChange:pt=>{xt(ht.map(mt=>mt.name===Et.name?{...mt,value:pt}:mt))}},Ye._id)})]},Et.name))})}),ht.length===0&&!it&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 rounded-sm border border-solid border-[--hl-md] p-2 text-sm text-[--hl]",children:[jsxRuntimeExports.jsx(Icon,{icon:"info-circle"}),jsxRuntimeExports.jsx("span",{children:"Path parameters are url path segments that start with a colon ':' e.g. ':id' "}),jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"ml-auto flex aspect-square h-6 flex-shrink-0 items-center justify-center rounded-sm text-[--color-font] hover:bg-[--hl-xs] aria-pressed:bg-[--hl-sm]",onPress:()=>ot("true"),children:jsxRuntimeExports.jsx(Icon,{icon:"close"})})]})]})})]})]}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"flex w-full flex-1 flex-col",id:"content-type",children:jsxRuntimeExports.jsx(BodyEditor,{request:Ye,environmentId:e},dt)}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"flex w-full flex-1 flex-col overflow-hidden",id:"auth",children:jsxRuntimeExports.jsx(ErrorBoundary,{errorClassName:"font-error pad text-center",children:jsxRuntimeExports.jsx(AuthWrapper,{authentication:Ye.authentication})},dt)}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"relative flex w-full flex-1 flex-col overflow-hidden",id:"headers",children:[jsxRuntimeExports.jsx(ErrorBoundary,{errorClassName:"font-error pad text-center",children:jsxRuntimeExports.jsx("div",{className:"flex-1 flex-shrink-0 overflow-y-auto",children:jsxRuntimeExports.jsx(RequestHeadersEditor,{bulk:t.useBulkHeaderEditor,headers:Ye.headers,requestType:"Request"})})},dt),jsxRuntimeExports.jsx("div",{className:"box-border flex h-[var(--line-height-sm)] flex-row border-t border-solid border-[var(--hl-md)] text-[var(--font-size-sm)]",children:jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"flex h-full items-center justify-center gap-2 px-4 py-1 text-xs text-[--color-font] ring-1 ring-transparent transition-colors hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] aria-pressed:bg-[--hl-sm]",onPress:()=>tt({useBulkHeaderEditor:!t.useBulkHeaderEditor}),children:t.useBulkHeaderEditor?"Regular Edit":"Bulk Edit"})})]}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"w-full flex-1",id:"scripts",children:jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$b2539bed5023c21c,{className:"flex h-full w-full flex-col overflow-hidden",children:[jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$e51a686c67fdaa2d,{className:"flex h-[--line-height-sm] w-full flex-shrink-0 items-center gap-2 overflow-x-auto border-b border-solid border-b-[--hl-md] bg-[--color-bg] px-2","aria-label":"Request scripts tabs",children:[jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-[--line-height-xxs] w-[10.5rem] flex-shrink-0 cursor-pointer select-none items-center justify-between rounded-md px-2 py-1 text-sm text-[--hl] outline-none transition-colors duration-300 hover:bg-[rgba(var(--color-surprise-rgb),50%)] hover:text-[--color-font-surprise] aria-selected:bg-[rgba(var(--color-surprise-rgb),40%)] aria-selected:text-[--color-font-surprise]",id:"pre-request",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[jsxRuntimeExports.jsx(Icon,{icon:"arrow-right-to-bracket"}),jsxRuntimeExports.jsx("span",{children:"Pre-request"})]}),!!Ye.preRequestScript&&jsxRuntimeExports.jsx("span",{className:"rounded-lg p-2",children:jsxRuntimeExports.jsx("span",{className:"flex h-2 w-2 rounded-full bg-green-500"})})]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-[--line-height-xxs] w-[10.5rem] flex-shrink-0 cursor-pointer select-none items-center justify-between rounded-md px-2 py-1 text-sm text-[--hl] outline-none transition-colors duration-300 hover:bg-[rgba(var(--color-surprise-rgb),50%)] hover:text-[--color-font-surprise] aria-selected:bg-[rgba(var(--color-surprise-rgb),40%)] aria-selected:text-[--color-font-surprise]",id:"after-response",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[jsxRuntimeExports.jsx(Icon,{icon:"arrow-right-from-bracket"}),jsxRuntimeExports.jsx("span",{children:"After-response"})]}),!!Ye.afterResponseScript&&jsxRuntimeExports.jsx("span",{className:"rounded-lg p-2",children:jsxRuntimeExports.jsx("span",{className:"flex h-2 w-2 rounded-full bg-green-500"})})]})]}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"w-full flex-1",id:"pre-request",children:jsxRuntimeExports.jsx(ErrorBoundary,{errorClassName:"tall wide vertically-align font-error pad text-center",children:jsxRuntimeExports.jsx(RequestScriptEditor,{uniquenessKey:`${Ye._id}:pre-request-script`,defaultValue:Ye.preRequestScript||"",onChange:Et=>at(et,{preRequestScript:Et}),settings:t})},dt)}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"w-full flex-1",id:"after-response",children:jsxRuntimeExports.jsx(ErrorBoundary,{errorClassName:"tall wide vertically-align font-error pad text-center",children:jsxRuntimeExports.jsx(RequestScriptEditor,{uniquenessKey:`${Ye._id}:after-response-script`,defaultValue:Ye.afterResponseScript||"",onChange:Et=>at(et,{afterResponseScript:Et}),settings:t})},dt)})]})}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"w-full flex-1 overflow-y-auto",id:"docs",children:jsxRuntimeExports.jsx(MarkdownEditor,{placeholder:"Write a description",defaultValue:Ye.description,onChange:Et=>at(et,{description:Et})},dt)})]}),rt&&jsxRuntimeExports.jsx(RequestSettingsModal,{request:Ye,onHide:()=>st(!1)})]})},PreviewModeDropdown=({download:e,copyToClipboard:t})=>{const{activeRequest:Ke,activeRequestMeta:Ye,activeResponse:Je}=useRequestLoaderData(),Xe=Ye.previewMode||PREVIEW_MODE_SOURCE,et=useRequestMetaPatcher(),tt=reactExports.useCallback(()=>e(!0),[e]),rt=reactExports.useCallback(()=>e(!1),[e]),st=reactExports.useCallback(async()=>{if(!Je||!Ke||!isRequest(Ke)||!isResponse(Je)){console.warn("Nothing to download");return}const it=await exportHarCurrentRequest(Ke,Je),ot=JSON.stringify(it,null,"	"),{filePath:lt}=await window.dialog.showSaveDialog({title:"Export As HAR",buttonLabel:"Save",defaultPath:`${Ke.name.replace(/ +/g,"_")}-${Date.now()}.har`});if(!lt)return;const ut=requiredModule.createWriteStream(lt);ut.on("error",ft=>{console.warn("Failed to export har",ft)}),ut.end(ot)},[Ke,Je]),at=reactExports.useCallback(async()=>{if(!Je||!Ke||!isResponse(Je)){console.warn("Nothing to download");return}const ot=response.getTimeline(Je).filter(ct=>ct.name==="HeaderIn").map(ct=>ct.value).join(""),{canceled:lt,filePath:ut}=await window.dialog.showSaveDialog({title:"Save Full Response",buttonLabel:"Save",defaultPath:`${Ke.name.replace(/ +/g,"_")}-${Date.now()}.txt`});if(lt)return;const ft=response.getBodyStream(Je);if(ft&&ut&&typeof ft!="string"){const ct=requiredModule.createWriteStream(ut);ct.write(ot),ft.pipe(ct),ct.on("error",dt=>{console.warn("Failed to save full response",dt)})}},[Ke,Je]),nt=Je?.contentType.includes("json");return jsxRuntimeExports.jsxs(Dropdown,{"aria-label":"Preview Mode Dropdown",triggerButton:jsxRuntimeExports.jsxs($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"text-[--hl]",children:[getPreviewModeName(Xe),jsxRuntimeExports.jsx("i",{className:"fa fa-caret-down space-left"})]}),children:[jsxRuntimeExports.jsx($9fc4852771d079eb$export$6e2c8f0811a474ce,{"aria-label":"Preview Mode Section",title:"Preview Mode",children:PREVIEW_MODES.map(it=>jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":getPreviewModeName(it,!0),children:jsxRuntimeExports.jsx(ItemContent,{icon:Xe===it?"check":"empty",label:getPreviewModeName(it,!0),onClick:()=>et(Ke._id,{previewMode:it})})},it))}),jsxRuntimeExports.jsxs($9fc4852771d079eb$export$6e2c8f0811a474ce,{"aria-label":"Action Section",title:"Action",children:[jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":"Copy raw response",children:jsxRuntimeExports.jsx(ItemContent,{icon:"copy",label:"Copy raw response",onClick:t})}),jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":"Export raw response",children:jsxRuntimeExports.jsx(ItemContent,{icon:"save",label:"Export raw response",onClick:rt})}),jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":"Export prettified response",children:nt&&jsxRuntimeExports.jsx(ItemContent,{icon:"save",label:"Export prettified response",onClick:tt})}),jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":"Export HTTP debug",children:jsxRuntimeExports.jsx(ItemContent,{icon:"bug",label:"Export HTTP debug",onClick:at})}),jsxRuntimeExports.jsx($c1d7fb2ec91bae71$export$6d08773d2e66f8f2,{"aria-label":"Export as HAR",children:jsxRuntimeExports.jsx(ItemContent,{icon:"save",label:"Export as HAR",onClick:st})})]})]})},MockResponseExtractor=()=>{const e=useRequestLoaderData(),{activeResponse:t}=e;let Ke="mockServerAndRoutes"in e?e.mockServerAndRoutes:[];const{activeProject:Ye,activeWorkspace:Je}=useWorkspaceLoaderData(),Xe=!Ye?.remoteId,{currentPlan:et}=useOrganizationLoaderData(),tt=et?.type.includes("enterprise");let rt="",st=!1;Xe&&(tt?(Ke=Ke.filter(({useInsomniaCloud:bt})=>!bt),Ke.length===0?rt=`You can't create a cloud mock server route in a local project.
If you want to create a self-hosted mock server route from a request response in a local project, please create a self-hosted mock server in project panel manually first.`:st=!0):rt=`You can't create a cloud mock server route in a local project.
Please alter your project to a cloud project to create a cloud mock server route.
If you want to create a self-hosted mock server route, you need to upgrade to an enterprise plan.`);const at=useMockRoutePatcher(),nt=useNavigate(),{organizationId:it,projectId:ot}=useParams(),[lt,ut]=reactExports.useState(st?Ke[0]._id:""),[ft,ct]=reactExports.useState(""),[dt,ht]=reactExports.useState(null);if(rt)return jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col justify-center px-32",children:[jsxRuntimeExports.jsx("div",{className:"flex place-content-center pb-8 text-9xl text-[--hl-md]",children:jsxRuntimeExports.jsx(Icon,{icon:"cube"})}),jsxRuntimeExports.jsx("div",{className:"flex place-content-center whitespace-pre-line pb-2",children:rt})]});if(t&&isSocketIOResponse(t)&&!("contentType"in t))return jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col justify-center px-32",children:[jsxRuntimeExports.jsx("div",{className:"flex place-content-center pb-8 text-9xl text-[--hl-md]",children:jsxRuntimeExports.jsx(Icon,{icon:"cube"})}),jsxRuntimeExports.jsx("div",{className:"flex place-content-center whitespace-pre-line pb-2",children:"You can't create a mock server route from a Socket.IO response"})]});const xt=t&&getMimeTypeFromContentType(t.contentType),vt=xt&&isInMockContentTypeList(xt)?xt:"text/plain";return jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col justify-center px-32",children:[jsxRuntimeExports.jsx("div",{className:"flex place-content-center pb-8 text-9xl text-[--hl-md]",children:jsxRuntimeExports.jsx(Icon,{icon:"cube"})}),jsxRuntimeExports.jsxs("div",{className:"flex place-content-center pb-2",children:["Transform this",t?.contentType?getContentTypeName(t?.contentType)==="Other"?"":` ${getContentTypeName(t?.contentType)}`:""," ","response to a new mock route or overwrite an existing one."]}),jsxRuntimeExports.jsxs("form",{onSubmit:async bt=>{if(bt.preventDefault(),lt&&ft){if(t&&"bodyPath"in t){const Ct=await window.main.secureReadFile({path:t.bodyPath}),Rt=t.headers.filter(jt=>jt.name.toLowerCase()!=="content-length");at(ft,{body:Ct.toString(),mimeType:vt,statusCode:t.statusCode,headers:Rt})}return}let _t="/new-route";try{_t=t?new URL(t.url).pathname:"/new-route"}catch(Ct){console.log(Ct)}if(!lt){ht({isOpen:!0,title:"Create Mock Route",defaultPath:_t,defaultMethod:"GET",mode:"create",mockServerName:Je.name});return}ft||ht({isOpen:!0,title:"Create Mock Route",defaultPath:_t,defaultMethod:"GET",mode:"create",mockServerId:lt})},children:[jsxRuntimeExports.jsx("div",{className:"form-row",children:jsxRuntimeExports.jsx("div",{className:"form-control form-control--outlined",children:jsxRuntimeExports.jsxs("label",{children:["Choose Mock Server",jsxRuntimeExports.jsx(HelpTooltip,{position:"top",className:"space-left",children:"Select from created mock servers to add the route to"}),jsxRuntimeExports.jsxs("select",{value:lt,onChange:bt=>{const _t=bt.currentTarget.value;ut(_t),ct("")},children:[!st&&jsxRuntimeExports.jsx("option",{value:"",children:"-- Create new --"}),Ke.map(bt=>jsxRuntimeExports.jsx("option",{value:bt._id,children:bt.name},bt._id))]})]})})}),jsxRuntimeExports.jsx("div",{className:"form-row",children:jsxRuntimeExports.jsx("div",{className:"form-control form-control--outlined",children:jsxRuntimeExports.jsxs("label",{children:["Choose Mock Route",jsxRuntimeExports.jsx(HelpTooltip,{position:"top",className:"space-left",children:"Select from created mock routes to overwrite with this response"}),jsxRuntimeExports.jsxs("select",{value:ft,onChange:bt=>{const _t=bt.currentTarget.value;ct(_t)},children:[jsxRuntimeExports.jsx("option",{value:"",children:"-- Create new --"}),Ke.find(bt=>bt._id===lt)?.routes.map(bt=>jsxRuntimeExports.jsxs("option",{value:bt._id,children:[bt.method," ",bt.name]},bt._id))]})]})})}),jsxRuntimeExports.jsxs("div",{className:"mt-2 flex",children:[jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{type:"submit",className:"mr-2 rounded-sm border border-solid border-[--hl-md] bg-[rgba(var(--color-surprise-rgb),var(--tw-bg-opacity))] bg-opacity-100 px-3 py-2 text-[--color-font-surprise] transition-colors hover:bg-opacity-90 hover:no-underline focus:ring-[--hl-md] aria-pressed:bg-opacity-80",children:ft?"Overwrite":"Create"}),jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{isDisabled:!lt||!ft,onPress:()=>{const bt=Ke.find(_t=>_t._id===lt)?.parentId;nt(`/organization/${it}/project/${ot}/workspace/${bt}/mock-server/mock-route/${ft}`)},className:"flex items-center justify-center gap-2 rounded-sm bg-[--hl-xxs] px-3 py-2 text-sm text-[--color-font] ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] aria-pressed:bg-[--hl-sm]",children:"Go to mock"})]})]}),dt&&jsxRuntimeExports.jsx(MockRouteModal,{isOpen:dt.isOpen,onOpenChange:bt=>{bt||ht(null)},title:dt.title,defaultPath:dt.defaultPath,defaultMethod:dt.defaultMethod,mode:dt.mode,mockRouteId:dt.mockRouteId,mockServerId:dt.mockServerId,mockServerName:dt.mockServerName,responseData:t?{bodyPath:"bodyPath"in t?t.bodyPath:void 0,headers:t.headers.filter(bt=>bt.name.toLowerCase()!=="content-length"),statusCode:t.statusCode,mimeType:vt}:void 0})]})},BlankPane=({type:e})=>jsxRuntimeExports.jsxs(Pane,{type:e,children:[jsxRuntimeExports.jsx(PaneHeader,{}),jsxRuntimeExports.jsx(PaneBody,{placeholder:!0})]}),ResponsePane=({activeRequestId:e})=>{const{activeRequest:t,activeRequestMeta:Ke,activeResponse:Ye,responses:Je,requestVersions:Xe}=useRequestLoaderData(),et=Ke.responseFilterHistory||[],tt=Ke.responseFilter||"",rt=useRequestMetaPatcher(),{settings:st}=useRootLoaderData(),at=Ke.previewMode||PREVIEW_MODE_SOURCE,nt=async xt=>{if(!Ye)return;const vt=Ye.parentId;await rt(vt,{responseFilter:xt});const bt=await requestMeta.getByParentId(vt);if(!bt)return;const _t=bt.responseFilterHistory.slice(0,10);!xt||_t.includes(xt)||(_t.unshift(xt),rt(vt,{responseFilterHistory:_t}))},{isExecuting:it,steps:ot}=useExecutionState({requestId:t._id}),lt=reactExports.useCallback(async xt=>{if(!Ye||!t){console.warn("Nothing to download");return}const{contentType:vt}=Ye,bt=mimeTypesExports.extension(vt)||"unknown",{canceled:_t,filePath:Ct}=await window.dialog.showSaveDialog({title:"Save Response Body",buttonLabel:"Save",defaultPath:`${t.name.replace(/ +/g,"_")}-${Date.now()}.${bt}`});if(_t)return;const Rt=response.getBodyStream(Ye),jt=[];Rt&&Ct&&typeof Rt!="string"&&(Rt.on("data",yt=>{jt.push(yt)}),Rt.on("end",()=>{const yt=requiredModule.createWriteStream(Ct),Et=Buffer.concat(jt);yt.on("error",pt=>{showError({title:"Save Failed",message:"Failed to save response body",error:pt})}),xt&&vt.includes("json")?yt.write(jsonPrettify(Et.toString("utf8"))):yt.write(Et),yt.end()}))},[t,Ye]),{passedTestCount:ut,totalTestCount:ft}=reactExports.useMemo(()=>{let xt=0,vt=0;return Ye?.requestTestResults.forEach(bt=>{bt.status==="passed"&&xt++,vt++}),{passedTestCount:xt,totalTestCount:vt}},[Ye]),ct=ft>0?ut===ft?"bg-lime-600":"bg-red-600":"bg-[var(--hl-sm)]";if(!t)return jsxRuntimeExports.jsx(BlankPane,{type:"response"});if(!Ye)return jsxRuntimeExports.jsx(PlaceholderResponsePane,{children:it&&jsxRuntimeExports.jsx(ResponseTimer,{handleCancel:()=>cancelRequestById(t._id),activeRequestId:e,steps:ot})});const dt=response.getTimeline(Ye),ht=getSetCookieHeaders(Ye.headers);return jsxRuntimeExports.jsxs(Pane,{type:"response",children:[Ye?jsxRuntimeExports.jsxs(PaneHeader,{className:"row-spaced",children:[jsxRuntimeExports.jsxs("div",{"aria-atomic":"true","aria-live":"polite",className:"no-wrap scrollable scrollable--no-bars pad-left",children:[jsxRuntimeExports.jsx(StatusTag,{statusCode:Ye.statusCode,statusMessage:Ye.statusMessage}),jsxRuntimeExports.jsx(TimeTag,{milliseconds:Ye.elapsedTime,steps:ot}),jsxRuntimeExports.jsx(SizeTag,{bytesRead:Ye.bytesRead,bytesContent:Ye.bytesContent})]}),jsxRuntimeExports.jsx(ResponseHistoryDropdown,{activeResponse:Ye,responses:Je,requestVersions:Xe})]}):null,jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$b2539bed5023c21c,{"aria-label":"Request group tabs",className:"flex h-full w-full flex-1 flex-col",children:[jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$e51a686c67fdaa2d,{className:"flex h-[--line-height-sm] w-full flex-shrink-0 items-center overflow-x-auto border-b border-solid border-b-[--hl-md] bg-[--color-bg]","aria-label":"Request pane tabs",children:[jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"preview",children:"Preview"}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"headers",children:["Headers",Ye.headers.length>0&&jsxRuntimeExports.jsx("span",{className:"shadow-small flex aspect-square items-center justify-between overflow-hidden rounded-lg border border-solid border-[--hl-md] p-2 text-xs",children:Ye.headers.length})]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"cookies",children:["Cookies",ht.length>0&&jsxRuntimeExports.jsx("span",{className:"shadow-small flex aspect-square items-center justify-between overflow-hidden rounded-lg border border-solid border-[--hl-md] p-2 text-xs",children:ht.length})]}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"test-results",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{children:"Tests"}),jsxRuntimeExports.jsx("span",{className:`ml-1 rounded-sm px-1 ${ct}`,style:{color:"white"},children:`${ut} / ${ft}`})]})}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"mock-response",children:" Mock"}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"timeline",children:"Console"})]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"flex w-full flex-1 flex-col overflow-hidden",id:"preview",children:[jsxRuntimeExports.jsx($13c3c67164f4d5be$export$4c260019440d418f,{className:"flex h-[--line-height-sm] w-full flex-shrink-0 items-center border-b border-solid border-[--hl-md] px-2",children:jsxRuntimeExports.jsx(PreviewModeDropdown,{download:lt,copyToClipboard:async()=>{const xt=Ye?await response.getBodyBuffer(Ye):null;xt&&window.clipboard.writeText(xt.toString("utf8"))}})}),jsxRuntimeExports.jsx(ResponseViewer,{bytes:Math.max(Ye.bytesContent,Ye.bytesRead),contentType:Ye.contentType||"",disableHtmlPreviewJs:st.disableHtmlPreviewJs,disablePreviewLinks:st.disableResponsePreviewLinks,download:lt,editorFontSize:st.editorFontSize,error:Ye.error,filter:tt,filterHistory:et,bodyBuffer:Ye.bodyBuffer,getBody:()=>response.getBodyBuffer(Ye),previewMode:Ye.error?PREVIEW_MODE_SOURCE:at,responseId:Ye._id,updateFilter:Ye.error?void 0:nt,url:Ye.url},Ye._id)]}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"flex w-full flex-1 flex-col overflow-y-auto",id:"headers",children:jsxRuntimeExports.jsx(ErrorBoundary,{errorClassName:"font-error pad text-center",children:jsxRuntimeExports.jsx(ResponseHeadersViewer,{headers:Ye.headers})},Ye._id)}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"flex w-full flex-1 flex-col overflow-y-auto",id:"cookies",children:jsxRuntimeExports.jsx(ErrorBoundary,{errorClassName:"font-error pad text-center",children:jsxRuntimeExports.jsx(ResponseCookiesViewer,{cookiesSent:Ye.settingSendCookies,cookiesStored:Ye.settingStoreCookies,headers:ht})},Ye._id)}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"flex w-full flex-1 flex-col overflow-y-auto",id:"test-results",children:jsxRuntimeExports.jsx(RequestTestResultPane,{requestTestResults:Ye.requestTestResults})}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"flex w-full flex-1 flex-col overflow-y-auto",id:"mock-response",children:jsxRuntimeExports.jsx(MockResponseExtractor,{})}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"flex w-full flex-1 flex-col overflow-y-auto",id:"timeline",children:jsxRuntimeExports.jsx(ErrorBoundary,{errorClassName:"font-error pad text-center",children:jsxRuntimeExports.jsx(ResponseTimelineViewer,{timeline:dt},Ye._id)},Ye._id)})]}),jsxRuntimeExports.jsx(ErrorBoundary,{errorClassName:"font-error pad text-center",children:it&&jsxRuntimeExports.jsx(ResponseTimer,{handleCancel:()=>cancelRequestById(t._id),activeRequestId:e,steps:ot})})]})},WebSocketActionBar=reactExports.forwardRef(({request:e,environmentId:t,defaultValue:Ke,onChange:Ye,readyState:Je},Xe)=>{const et=Je,tt=reactExports.useRef(null);reactExports.useLayoutEffect(()=>{tt.current?.focusEnd()},[]);const rt=useRequestConnectActionFetcher(),{organizationId:st,projectId:at,workspaceId:nt,requestId:it}=useParams(),{updateTabById:ot}=useInsomniaTabContext(),lt=reactExports.useCallback(ht=>{rt.submit({organizationId:st,projectId:at,workspaceId:nt,requestId:it,connectParams:ht})},[rt,st,at,it,nt]),ut=reactExports.useCallback(async()=>{const ht=await cookieJar.getOrCreateForParentId(nt),xt=await tryToInterpolateRequestOrShowRenderErrorModal({request:e,environmentId:t,payload:{url:e.url,headers:e.headers,authentication:e.authentication,parameters:e.parameters.filter(vt=>!vt.disabled),workspaceCookieJar:ht}});if(e.type==="WebSocketRequest"&&xt)return{url:joinUrlAndQueryString(xt.url,buildQueryStringFromParams(xt.parameters)),headers:xt.headers,authentication:xt.authentication,cookieJar:xt.workspaceCookieJar,suppressUserAgent:xt.suppressUserAgent};if(e.type==="SocketIORequest"&&xt){const vt={};return xt.parameters.forEach(({name:bt,value:_t})=>{bt&&(vt[bt]=_t)}),{url:xt.url,query:vt,headers:xt.headers,authentication:xt.authentication,cookieJar:xt.workspaceCookieJar,suppressUserAgent:xt.suppressUserAgent}}return null},[t,e,nt]),ft=reactExports.useCallback(async()=>{if(ot?.(e._id,{temporary:!1}),et){e.type==="WebSocketRequest"?window.main.webSocket.close({requestId:e._id}):e.type==="SocketIORequest"&&window.main.socketIO.close({requestId:e._id});return}const ht=await ut();ht&&lt(ht)},[lt,ut,et,e._id,e.type,ot]),ct=reactExports.useCallback(ht=>{tt.current&&tt.current.setValue(ht)},[tt]);reactExports.useImperativeHandle(Xe,()=>({setUrl:ct}),[ct]),reactExports.useEffect(()=>{const ht=xt=>{xt.metaKey&&xt.key==="Enter"&&ft()};return document.getElementById("sidebar-request-gridlist")?.addEventListener("keydown",ht,{capture:!0}),()=>{document.getElementById("sidebar-request-gridlist")?.removeEventListener("keydown",ht,{capture:!0})}},[ft]),useDocBodyKeyboardShortcuts({request_send:()=>ft(),request_focusUrl:()=>{tt.current?.selectAll()}});const dt=()=>{let ht="";return e.type==="WebSocketRequest"?ht="WS":e.type==="SocketIORequest"&&(ht="Socket.IO"),ht};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!et&&jsxRuntimeExports.jsx("span",{className:"flex items-center pl-[--padding-md] text-[--color-notice]",children:dt()}),et&&jsxRuntimeExports.jsxs("span",{className:"text-success flex items-center pl-[--padding-md]",children:[jsxRuntimeExports.jsx("span",{className:"mr-[--padding-sm] h-2.5 w-2.5 rounded-[50%] bg-[--color-success]"}),"CONNECTED"]}),jsxRuntimeExports.jsxs("form",{className:"flex flex-1",onSubmit:ht=>{ht.preventDefault(),ft()},children:[jsxRuntimeExports.jsx("div",{className:"box-border h-full w-full px-[--padding-md]",children:jsxRuntimeExports.jsx(OneLineEditor,{id:"websocket-url-bar",ref:tt,onKeyDown:createKeybindingsHandler({Enter:()=>ft()}),readOnly:et,placeholder:"wss://example.com/chat",defaultValue:Ke,onChange:Ye,type:"text"})}),jsxRuntimeExports.jsx("div",{className:"flex p-1",children:et?jsxRuntimeExports.jsx(DisconnectButton,{requestId:e._id}):jsxRuntimeExports.jsx("button",{className:"rounded-sm bg-[--color-surprise] px-[--padding-md] text-center text-[--color-font-surprise] hover:brightness-75",type:"submit",children:"Connect"})})]})]})}),InputComponent=({value:e,defaultValue:t,onChange:Ke,warning:Ye,className:Je,...Xe})=>jsxRuntimeExports.jsxs("div",{className:`${Je} flex w-full`,children:[jsxRuntimeExports.jsx($3985021b0ad6602f$export$f5b8910cec6cf069,{className:"w-full",value:e,defaultValue:t,onChange:et=>Ke(et?.target?.value),...Xe}),Ye&&jsxRuntimeExports.jsx(Tooltip,{message:Ye,position:"bottom",delay:500,children:jsxRuntimeExports.jsx(Icon,{icon:"warning",className:"text-[--color-warning]"})})]}),createEmptyListener=()=>({id:generateId("socketIO-event"),eventName:"",desc:"",isOpen:!1}),SocketIOEventTabPane=({request:e,eventListeners:t})=>{const Ke=useRequestPatcher(),Ye=rt=>{const st=rt.map(at=>({id:at.id,eventName:at.eventName,desc:at.desc,isOpen:at.isOpen}));Ke(e._id,{eventListeners:st})},Je=reactExports.useMemo(()=>{const rt=t?.length>0?t:[createEmptyListener()],st=new Map;return rt.map(at=>{const nt=st.get(at.eventName)||0;let it=!1,ot="";return nt!==0&&(it=!0,ot="eventname must be unique"),st.set(at.eventName,nt+1),{...at,disabled:it,warning:ot}})},[t]),Xe=rt=>{const st=t.filter(at=>at.id!==rt.id);Ye(st),rt.eventName&&rt.isOpen&&window.main.socketIO.event.off({requestId:e._id,eventName:rt.eventName})},et=()=>{Ye([...Je,createEmptyListener()])},tt=(rt,st)=>{if(st==="isOpen"&&rt.eventName?.trim()==="")return;if(st==="eventName"&&rt.isOpen){rt.isOpen=!1;const nt=Je.find(it=>it.id===rt.id);nt?.eventName&&window.main.socketIO.event.off({requestId:e._id,eventName:nt.eventName})}const at=Je.map(nt=>nt.id===rt.id?rt:nt);Ye(at),st==="isOpen"&&rt.eventName&&(rt.isOpen?window.main.socketIO.event.on({requestId:e._id,eventName:rt.eventName}):window.main.socketIO.event.off({requestId:e._id,eventName:rt.eventName}))};return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid h-[25px] grid-cols-[30px_1fr_80px_1px_1fr_50px] items-center gap-2 border border-solid border-[--hl-md]",children:[jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:["EVENTS",jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"ml-1 flex h-[25px] w-[25px] items-center justify-center hover:bg-[--hl-xs]",onPress:et,children:jsxRuntimeExports.jsx(Icon,{icon:"plus",className:"cursor-pointer"})})]}),jsxRuntimeExports.jsx("div",{children:"LISTEN"}),jsxRuntimeExports.jsx("span",{className:"h-full bg-[--hl-md]"}),jsxRuntimeExports.jsx("div",{children:"DESCRIPTION"}),jsxRuntimeExports.jsx("div",{})]}),jsxRuntimeExports.jsx($72e60046c03fbe42$export$a7bfbda1311ca015,{onSelectionChange:()=>{},"aria-label":"SocketIO Events",items:Je,children:rt=>jsxRuntimeExports.jsxs($72e60046c03fbe42$export$e96fc9a8407faa6b,{className:"group grid h-[30px] grid-cols-[30px_1fr_80px_1px_1fr_50px] items-center gap-2 border-x border-b border-solid border-[--hl-md] transition-all [&:hover_.deleteBtn]:flex",textValue:"event item",children:[jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx(InputComponent,{className:"w-full",defaultValue:rt.eventName,placeholder:"Add event",onChange:st=>{tt({...rt,eventName:st},"eventName")},warning:rt.warning}),jsxRuntimeExports.jsx("div",{className:"text-left",children:jsxRuntimeExports.jsx($8e59e948500a8fe1$export$b5d5cf8927ab7262,{isSelected:rt.isOpen,onChange:st=>{tt({...rt,isOpen:st},"isOpen")},isDisabled:rt.eventName?.trim()===""||rt.disabled,className:"flex h-full cursor-pointer items-center p-0",children:({isSelected:st,isDisabled:at})=>jsxRuntimeExports.jsx("div",{className:classNames("h-4.5 w-[30px] rounded-full border-[1px] border-solid border-[--hl] bg-[--color-bg] transition-all duration-200 before:m-0.5 before:block before:h-3.5 before:w-3.5 before:rounded-full before:transition-all before:duration-200 before:content-['']",{"bg-[--color-surprise] before:translate-x-[100%] before:bg-[--color-bg]":st,"before:bg-[--color-surprise]":!st,"cursor-not-allowed border-[--hl] before:bg-[--hl]":at})})})}),jsxRuntimeExports.jsx("span",{className:"h-full bg-[--hl-md]"}),jsxRuntimeExports.jsx("input",{className:"w-full",defaultValue:rt.desc,placeholder:"Description",onChange:st=>{tt({...rt,desc:st.target.value},"desc")}}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"deleteBtn flex hidden h-[25px] w-[25px] items-center justify-center hover:bg-[--hl-xs]",onPress:()=>Xe(rt),children:jsxRuntimeExports.jsx(Icon,{icon:"trash",className:"cursor-pointer"})})})]})})]})},PaneReadOnlyBanner$1=()=>jsxRuntimeExports.jsx("div",{style:{paddingTop:"var(--padding-md)",paddingLeft:"var(--padding-md)",paddingRight:"var(--padding-md)"},children:jsxRuntimeExports.jsx("p",{className:"notice info no-margin-top no-margin-bottom",children:"This section is now locked since the connection has already been established. To change these settings, please disconnect first."})}),SocketIORequestPane=({environment:e})=>{const{activeRequest:t,activeRequestMeta:Ke,requestPayload:Ye}=useRequestLoaderData(),{vcsVersion:Je}=useWorkspaceLoaderData(),{requestId:Xe}=useParams(),{settings:et}=useRootLoaderData(),[tt,rt]=useLocalStorage$1("dismissPathParameterTip",""),st=getCombinedPathParametersFromUrl(t.url,t.pathParameters||[]),at=Ct=>{ft(Xe,{pathParameters:Ct})},nt=st.length+t.parameters.filter(Ct=>!Ct.disabled).length,it=t.headers.filter(Ct=>!Ct.disabled).length+readOnlyWebsocketPairs.length,ot=useSettingsPatcher(),lt=()=>{let Ct;try{Ct=extractQueryStringFromUrl(t.url)}catch{console.warn("Failed to parse url to import querystring");return}const Rt=t.url.replace(`?${Ct}`,""),jt=[...t.parameters,...deconstructQueryStringToParams(Ct)];Rt!==t.url&&ft(Xe,{url:Rt,parameters:jt})},ut=useGitVCSVersion(),ft=useRequestPatcher(),ct=t.url.includes("?"),dt=`${e?.modified}::${Xe}::${ut}::${Je}::${Ke.activeResponseId}`,ht=useReadyState({requestId:t._id,protocol:"socketIO"}),xt=ht,vt=t?.eventListeners?.length||0,bt=getAuthObjectOrNull(t.authentication),_t=bt?.type==="singleToken"&&!bt.disabled;return jsxRuntimeExports.jsxs(Pane,{type:"request",children:[jsxRuntimeExports.jsx("header",{className:"pane__header theme--pane__header !items-stretch",children:jsxRuntimeExports.jsx(WebSocketActionBar,{request:t,environmentId:e?._id||"",defaultValue:t.url,readyState:ht,onChange:Ct=>ft(Xe,{url:Ct})},dt)}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$b2539bed5023c21c,{"aria-label":"SocketIO request pane tabs",className:"flex h-full w-full flex-1 flex-col",children:[jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$e51a686c67fdaa2d,{className:"scro flex h-[--line-height-sm] w-full flex-shrink-0 items-center overflow-x-auto border-b border-solid border-b-[--hl-md] bg-[--color-bg]","aria-label":"Request pane tabs",children:[jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"params",children:[jsxRuntimeExports.jsx("span",{children:"Params"}),nt>0&&jsxRuntimeExports.jsx("span",{className:"flex h-6 min-w-6 items-center justify-center rounded-lg border border-solid border-[--hl] p-1 text-xs",children:nt})]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"body",children:[jsxRuntimeExports.jsx("span",{children:"Body"}),jsxRuntimeExports.jsx("span",{className:"flex h-6 min-w-6 items-center justify-center rounded-lg border border-solid border-[--hl] p-1 text-xs",children:jsxRuntimeExports.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"})})]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"events",children:[jsxRuntimeExports.jsx("span",{children:"Events"}),vt>0&&jsxRuntimeExports.jsx("span",{className:"flex h-6 min-w-6 items-center justify-center rounded-lg border border-solid border-[--hl] p-1 text-xs",children:vt})]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"auth",children:[jsxRuntimeExports.jsx("span",{children:"Auth"}),_t&&jsxRuntimeExports.jsx("span",{className:"flex h-6 min-w-6 items-center justify-center rounded-lg border border-solid border-[--hl] p-1 text-xs",children:jsxRuntimeExports.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"})})]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"headers",children:[jsxRuntimeExports.jsx("span",{children:"Headers"}),it>0&&jsxRuntimeExports.jsx("span",{className:"flex h-6 min-w-6 items-center justify-center rounded-lg border border-solid border-[--hl] p-1 text-xs",children:it})]}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"docs",children:"Docs"})]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"flex h-full w-full flex-1 flex-col overflow-y-auto",id:"params",children:[xt&&jsxRuntimeExports.jsx(PaneReadOnlyBanner$1,{}),jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex max-h-32 min-h-[2em] flex-col overflow-y-auto border border-solid border-[--hl-sm] bg-[--hl-xs] px-2 py-1 text-xs",children:[jsxRuntimeExports.jsx("label",{className:"label--small no-pad-top",children:"Url Preview"}),jsxRuntimeExports.jsx(ErrorBoundary,{errorClassName:"tall wide vertically-align font-error pad text-center",children:jsxRuntimeExports.jsx(RenderedQueryString,{request:t})},dt)]})}),jsxRuntimeExports.jsxs(PanelGroup,{className:"flex-1 overflow-hidden",direction:"vertical",children:[jsxRuntimeExports.jsx(Panel,{minSize:20,children:jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex h-4 w-full items-center justify-between p-4",children:[jsxRuntimeExports.jsx($5cb03073d3f54797$export$a8a3e93435678ff9,{className:"text-xs font-bold uppercase text-[--hl]",children:"Query parameters"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{isDisabled:xt||!ct,onPress:lt,className:"asma-pressed:bg-[--hl-sm] flex h-full w-[14ch] flex-shrink-0 items-center justify-start gap-2 rounded-sm px-2 py-1 text-sm text-[--color-font] ring-1 ring-transparent transition-colors hover:bg-[--hl-xs] focus:bg-[--hl-sm] focus:ring-inset focus:ring-[--hl-md] aria-selected:bg-[--hl-xs] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",children:"Import from URL"}),jsxRuntimeExports.jsx($efde0372d7a700fe$export$d2b052e7b4be1756,{isDisabled:xt,onChange:Ct=>{ot({useBulkParametersEditor:Ct})},isSelected:et.useBulkParametersEditor,className:"flex h-full w-[14ch] flex-shrink-0 items-center justify-start gap-2 rounded-sm px-2 py-1 text-sm text-[--color-font] ring-1 ring-transparent transition-colors hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md]",children:({isSelected:Ct})=>jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(Icon,{icon:Ct?"toggle-on":"toggle-off",className:`${Ct?"text-[--color-success]":""}`}),jsxRuntimeExports.jsx("span",{children:Ct?"Regular Edit":"Bulk Edit"})]})})]})]}),jsxRuntimeExports.jsx(ErrorBoundary,{errorClassName:"tall wide vertically-align font-error pad text-center",children:jsxRuntimeExports.jsx(RequestParametersEditor,{bulk:et.useBulkParametersEditor,disabled:xt})},dt)]})}),jsxRuntimeExports.jsx(PanelResizeHandle,{className:"h-[1px] w-full bg-[--hl-md]"}),jsxRuntimeExports.jsx(Panel,{minSize:20,children:jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col",children:[jsxRuntimeExports.jsx($5cb03073d3f54797$export$a8a3e93435678ff9,{className:"p-4 text-xs font-bold uppercase text-[--hl]",children:"Path parameters"}),st.length>0&&jsxRuntimeExports.jsx("div",{className:"w-full overflow-y-auto pl-4 pr-[72.73px]",children:jsxRuntimeExports.jsx("div",{className:"grid w-full flex-shrink-0 grid-cols-2 gap-x-[20.8px] overflow-hidden rounded-sm",children:st.map(Ct=>jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"flex select-none items-center justify-end truncate rounded-sm border-b border-solid border-[--hl-md] p-2",children:Ct.name}),jsxRuntimeExports.jsx("div",{className:"flex h-full items-center border-b border-solid border-[--hl-md] px-2",children:jsxRuntimeExports.jsx(OneLineEditor,{readOnly:xt,id:"key-value-editor__name"+Ct.name,placeholder:"Parameter value",defaultValue:Ct.value||"",onChange:Rt=>{at(st.map(jt=>jt.name===Ct.name?{...jt,value:Rt}:jt))}},t._id)})]},Ct.name))})}),st.length===0&&!tt&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 rounded-sm border border-solid border-[--hl-md] p-2 text-sm text-[--hl]",children:[jsxRuntimeExports.jsx(Icon,{icon:"info-circle"}),jsxRuntimeExports.jsx("span",{children:"Path parameters are url path segments that start with a colon ':' e.g. ':id' "}),jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"ml-auto flex aspect-square h-6 flex-shrink-0 items-center justify-center rounded-sm text-[--color-font] hover:bg-[--hl-xs] aria-pressed:bg-[--hl-sm]",onPress:()=>rt("true"),children:jsxRuntimeExports.jsx(Icon,{icon:"close"})})]})]})})]})]}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"flex h-full w-full flex-1 flex-col",id:"body",children:jsxRuntimeExports.jsx(SocketIOBodyTabPane,{request:t,requestPayload:Ye,environmentId:e?._id||""})}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"w-full flex-1 overflow-y-auto",id:"events",children:jsxRuntimeExports.jsx(SocketIOEventTabPane,{request:t,eventListeners:t.eventListeners})}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"w-full flex-1 overflow-y-auto",id:"auth",children:jsxRuntimeExports.jsx(AuthWrapper,{authentication:t.authentication,disabled:ht,authTypes:["singleToken"],hideOthers:!0},dt)}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"w-full flex-1 overflow-y-auto",id:"headers",children:[xt&&jsxRuntimeExports.jsx(PaneReadOnlyBanner$1,{}),jsxRuntimeExports.jsx(RequestHeadersEditor,{headers:t.headers,bulk:!1,isDisabled:ht,requestType:"WebSocketRequest"},dt)]}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"w-full flex-1 overflow-y-auto",id:"docs",children:jsxRuntimeExports.jsx(MarkdownEditor,{placeholder:"Write a description",defaultValue:t.description,onChange:Ct=>ft(Xe,{description:Ct})},dt)})]})]})},contentTypes=[{id:CONTENT_TYPE_JSON,name:"JSON"},{id:CONTENT_TYPE_PLAINTEXT,name:"Raw"}],WebSocketPreviewMode=({previewMode:e,onSelect:t})=>jsxRuntimeExports.jsxs($82d7e5349645de74$export$ef9b1a59e592288f,{"aria-label":"Change Body Type",name:"body-type",onSelectionChange:Ke=>{Ke&&t(Ke.toString())},selectedKey:e,children:[jsxRuntimeExports.jsxs($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"flex min-w-[12ch] flex-1 items-center justify-between gap-2 rounded-sm px-4 py-1 text-sm font-bold text-[--color-font] ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] aria-pressed:bg-[--hl-sm]",children:[jsxRuntimeExports.jsx($82d7e5349645de74$export$e288731fd71264f0,{className:"flex items-center justify-center gap-2 truncate",children:({selectedText:Ke})=>jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 text-[--hl]",children:Ke})}),jsxRuntimeExports.jsx(Icon,{icon:"caret-down"})]}),jsxRuntimeExports.jsx($07b14b47974efb58$export$5b6b19405a83ff9d,{className:"flex min-w-max flex-col overflow-y-hidden",children:jsxRuntimeExports.jsx($eed445e0843c11d0$export$41f133550aa26f48,{items:contentTypes,className:"min-w-max select-none overflow-y-auto rounded-md border border-solid border-[--hl-sm] bg-[--color-bg] py-2 text-sm shadow-lg focus:outline-none",children:Ke=>jsxRuntimeExports.jsx($eed445e0843c11d0$export$a11e76429ed99b4,{className:"flex h-[--line-height-xs] w-full items-center gap-2 whitespace-nowrap bg-transparent px-[--padding-md] text-[--color-font] transition-colors hover:bg-[--hl-sm] focus:bg-[--hl-xs] focus:outline-none disabled:cursor-not-allowed aria-selected:font-bold","aria-label":Ke.name,textValue:Ke.name,children:({isSelected:Ye})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{children:Ke.name}),Ye&&jsxRuntimeExports.jsx(Icon,{icon:"check",className:"justify-self-end text-[--color-success]"})]})})})})]}),supportedAuthTypes=["apikey","basic","bearer"],PaneReadOnlyBanner=()=>jsxRuntimeExports.jsx("div",{style:{paddingTop:"var(--padding-md)",paddingLeft:"var(--padding-md)",paddingRight:"var(--padding-md)"},children:jsxRuntimeExports.jsx("p",{className:"notice info no-margin-top no-margin-bottom",children:"This section is now locked since the connection has already been established. To change these settings, please disconnect first."})}),WebSocketRequestForm=({request:e,previewMode:t,environmentId:Ke,workspaceId:Ye})=>{const Je=reactExports.useRef(null);reactExports.useEffect(()=>{(async()=>{const st=(await webSocketPayload.getByParentId(e._id))?.value||"";Je.current?.setValue(st)})()},[e._id]);const Xe=async tt=>{try{const rt=await tryToInterpolateRequestOrShowRenderErrorModal({request:e,environmentId:Ke,payload:tt});if(!await window.main.webSocket.readyState.getCurrent({requestId:e._id})){const at=await cookieJar.getOrCreateForParentId(Ye),nt=await tryToInterpolateRequestOrShowRenderErrorModal({request:e,environmentId:Ke,payload:{url:e.url,headers:e.headers,authentication:e.authentication,parameters:e.parameters.filter(it=>!it.disabled),workspaceCookieJar:at}});window.main.webSocket.open({requestId:e._id,workspaceId:Ye,url:joinUrlAndQueryString(nt.url,buildQueryStringFromParams(nt.parameters)),headers:nt.headers,authentication:nt.authentication,cookieJar:nt.workspaceCookieJar,initialPayload:rt});return}window.main.webSocket.event.send({requestId:e._id,payload:rt})}catch(rt){rt instanceof RenderError?showModal(RequestRenderErrorModal,{request:e,error:rt}):showModal(AlertModal,{title:"Unexpected Request Failure",message:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{children:"The request failed due to an unhandled error:"}),jsxRuntimeExports.jsx("code",{className:"wide selectable",children:jsxRuntimeExports.jsx("pre",{children:rt.message})})]})})}},et=async tt=>{const rt=await webSocketPayload.getByParentId(e._id);rt?await webSocketPayload.update(rt,{value:tt}):await webSocketPayload.create({parentId:e._id,value:tt,mode:t})};return jsxRuntimeExports.jsx("form",{id:"websocketMessageForm",onSubmit:tt=>{tt.preventDefault(),Xe(Je.current?.getValue()||"")},className:"relative box-border h-full w-full",children:jsxRuntimeExports.jsx(CodeEditor,{id:"websocket-message-editor",showPrettifyButton:!0,uniquenessKey:e._id,mode:t,ref:Je,onChange:et,enableNunjucks:!0,className:"w-full"})})},WebSocketRequestPane=({environment:e})=>{const{activeRequest:t,activeRequestMeta:Ke}=useRequestLoaderData(),{vcsVersion:Ye}=useWorkspaceLoaderData(),{workspaceId:Je,requestId:Xe}=useParams(),et=useReadyState({requestId:t._id,protocol:"webSocket"}),{settings:tt}=useRootLoaderData(),rt=et,[st,at]=reactExports.useState(CONTENT_TYPE_JSON),nt=reactExports.useRef(null),[it,ot]=useLocalStorage$1("dismissPathParameterTip","");reactExports.useEffect(()=>{let mt=!0;return(async()=>{const St=await webSocketPayload.getByParentId(Xe);mt&&St&&at(St.mode)})(),()=>{mt=!1}},[Xe]);const lt=mt=>{at(mt),xt(mt)},ut=getCombinedPathParametersFromUrl(t.url,t.pathParameters||[]),ft=mt=>{Rt(Xe,{pathParameters:mt})},ct=ut.length+t.parameters.filter(mt=>!mt.disabled).length,dt=t.headers.filter(mt=>!mt.disabled).length+readOnlyWebsocketPairs.length,ht=useSettingsPatcher(),xt=async mt=>{const gt=await webSocketPayload.getByParentId(Xe);gt?await webSocketPayload.update(gt,{mode:mt}):await webSocketPayload.create({parentId:Xe,value:"",mode:mt})},[vt,bt]=reactExports.useState(!1),_t=()=>{let mt;try{mt=extractQueryStringFromUrl(t.url)}catch{console.warn("Failed to parse url to import querystring");return}const gt=t.url.replace(`?${mt}`,""),St=[...t.parameters,...deconstructQueryStringToParams(mt)];gt!==t.url&&(Rt(Xe,{url:gt,parameters:St}),nt.current?.setUrl(gt))},Ct=useGitVCSVersion(),Rt=useRequestPatcher(),jt=t.url.includes("?"),yt=`${e?.modified}::${Xe}::${Ct}::${Ye}::${Ke.activeResponseId}`,Et=getAuthObjectOrNull(t.authentication),pt=Et?.type==="none"||Et===null;return jsxRuntimeExports.jsxs(Pane,{type:"request",children:[jsxRuntimeExports.jsx("header",{className:"pane__header theme--pane__header !items-stretch",children:jsxRuntimeExports.jsx(WebSocketActionBar,{request:t,environmentId:e?._id||"",defaultValue:t.url,readyState:et,onChange:mt=>Rt(Xe,{url:mt}),ref:nt},yt)}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$b2539bed5023c21c,{"aria-label":"Websocket request pane tabs",className:"flex h-full w-full flex-1 flex-col",children:[jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$e51a686c67fdaa2d,{className:"flex h-[--line-height-sm] w-full flex-shrink-0 items-center overflow-x-auto border-b border-solid border-b-[--hl-md] bg-[--color-bg]","aria-label":"Request pane tabs",children:[jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"params",children:[jsxRuntimeExports.jsx("span",{children:"Params"}),ct>0&&jsxRuntimeExports.jsx("span",{className:"flex h-6 min-w-6 items-center justify-center rounded-lg border border-solid border-[--hl] p-1 text-xs",children:ct})]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"content-type",children:[jsxRuntimeExports.jsx("span",{children:"Body"}),jsxRuntimeExports.jsx("span",{className:"flex h-6 min-w-6 items-center justify-center rounded-lg border border-solid border-[--hl] p-1 text-xs",children:jsxRuntimeExports.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"})})]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"auth",children:[jsxRuntimeExports.jsx("span",{children:"Auth"}),!pt&&jsxRuntimeExports.jsx("span",{className:"flex h-6 min-w-6 items-center justify-center rounded-lg border border-solid border-[--hl] p-1 text-xs",children:jsxRuntimeExports.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"})})]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"headers",children:[jsxRuntimeExports.jsx("span",{children:"Headers"}),dt>0&&jsxRuntimeExports.jsx("span",{className:"flex h-6 min-w-6 items-center justify-center rounded-lg border border-solid border-[--hl] p-1 text-xs",children:dt})]}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3e41faf802a29e71,{className:"flex h-full flex-shrink-0 cursor-pointer select-none items-center justify-between gap-2 px-3 py-1 text-[--hl] outline-none transition-colors duration-300 hover:bg-[--hl-sm] hover:text-[--color-font] focus:bg-[--hl-sm] aria-selected:bg-[--hl-xs] aria-selected:text-[--color-font] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",id:"docs",children:"Docs"})]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"flex h-full w-full flex-1 flex-col overflow-y-auto",id:"params",children:[rt&&jsxRuntimeExports.jsx(PaneReadOnlyBanner,{}),jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex max-h-32 min-h-[2em] flex-col overflow-y-auto border border-solid border-[--hl-sm] bg-[--hl-xs] px-2 py-1 text-xs",children:[jsxRuntimeExports.jsx("label",{className:"label--small no-pad-top",children:"Url Preview"}),jsxRuntimeExports.jsx(ErrorBoundary,{errorClassName:"tall wide vertically-align font-error pad text-center",children:jsxRuntimeExports.jsx(RenderedQueryString,{request:t})},yt)]})}),jsxRuntimeExports.jsxs(PanelGroup,{className:"flex-1 overflow-hidden",direction:"vertical",children:[jsxRuntimeExports.jsx(Panel,{minSize:20,children:jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex h-4 w-full items-center justify-between p-4",children:[jsxRuntimeExports.jsx($5cb03073d3f54797$export$a8a3e93435678ff9,{className:"text-xs font-bold uppercase text-[--hl]",children:"Query parameters"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{isDisabled:rt||!jt,onPress:_t,className:"asma-pressed:bg-[--hl-sm] flex h-full w-[14ch] flex-shrink-0 items-center justify-start gap-2 rounded-sm px-2 py-1 text-sm text-[--color-font] ring-1 ring-transparent transition-colors hover:bg-[--hl-xs] focus:bg-[--hl-sm] focus:ring-inset focus:ring-[--hl-md] aria-selected:bg-[--hl-xs] aria-selected:hover:bg-[--hl-sm] aria-selected:focus:bg-[--hl-sm]",children:"Import from URL"}),jsxRuntimeExports.jsx($efde0372d7a700fe$export$d2b052e7b4be1756,{isDisabled:rt,onChange:mt=>{ht({useBulkParametersEditor:mt})},isSelected:tt.useBulkParametersEditor,className:"flex h-full w-[14ch] flex-shrink-0 items-center justify-start gap-2 rounded-sm px-2 py-1 text-sm text-[--color-font] ring-1 ring-transparent transition-colors hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md]",children:({isSelected:mt})=>jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(Icon,{icon:mt?"toggle-on":"toggle-off",className:`${mt?"text-[--color-success]":""}`}),jsxRuntimeExports.jsx("span",{children:mt?"Regular Edit":"Bulk Edit"})]})})]})]}),jsxRuntimeExports.jsx(ErrorBoundary,{errorClassName:"tall wide vertically-align font-error pad text-center",children:jsxRuntimeExports.jsx(RequestParametersEditor,{bulk:tt.useBulkParametersEditor,disabled:rt})},yt)]})}),jsxRuntimeExports.jsx(PanelResizeHandle,{className:"h-[1px] w-full bg-[--hl-md]"}),jsxRuntimeExports.jsx(Panel,{minSize:20,children:jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col",children:[jsxRuntimeExports.jsx($5cb03073d3f54797$export$a8a3e93435678ff9,{className:"p-4 text-xs font-bold uppercase text-[--hl]",children:"Path parameters"}),ut.length>0&&jsxRuntimeExports.jsx("div",{className:"w-full overflow-y-auto pl-4 pr-[72.73px]",children:jsxRuntimeExports.jsx("div",{className:"grid w-full flex-shrink-0 grid-cols-2 gap-x-[20.8px] overflow-hidden rounded-sm",children:ut.map(mt=>jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"flex select-none items-center justify-end truncate rounded-sm border-b border-solid border-[--hl-md] p-2",children:mt.name}),jsxRuntimeExports.jsx("div",{className:"flex h-full items-center border-b border-solid border-[--hl-md] px-2",children:jsxRuntimeExports.jsx(OneLineEditor,{readOnly:rt,id:"key-value-editor__name"+mt.name,placeholder:"Parameter value",defaultValue:mt.value||"",onChange:gt=>{ft(ut.map(St=>St.name===mt.name?{...St,value:gt}:St))}},t._id)})]},mt.name))})}),ut.length===0&&!it&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 rounded-sm border border-solid border-[--hl-md] p-2 text-sm text-[--hl]",children:[jsxRuntimeExports.jsx(Icon,{icon:"info-circle"}),jsxRuntimeExports.jsx("span",{children:"Path parameters are url path segments that start with a colon ':' e.g. ':id' "}),jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"ml-auto flex aspect-square h-6 flex-shrink-0 items-center justify-center rounded-sm text-[--color-font] hover:bg-[--hl-xs] aria-pressed:bg-[--hl-sm]",onPress:()=>ot("true"),children:jsxRuntimeExports.jsx(Icon,{icon:"close"})})]})]})})]})]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"flex w-full flex-1 flex-col",id:"content-type",children:[jsxRuntimeExports.jsxs($13c3c67164f4d5be$export$4c260019440d418f,{className:"flex h-[--line-height-sm] w-full flex-shrink-0 items-center justify-between gap-2 border-b border-solid border-[--hl-md] px-2 py-2",children:[jsxRuntimeExports.jsx(WebSocketPreviewMode,{previewMode:st,onSelect:lt}),jsxRuntimeExports.jsx("button",{className:"hover:brightness-75",style:{padding:"0 var(--padding-md)",marginLeft:"var(--padding-xs)",height:"100%",border:"1px solid var(--hl-lg)",borderRadius:"var(--radius-md)",background:et?"var(--color-surprise)":"inherit",color:et?"var(--color-font-surprise)":"inherit"},type:"submit",form:"websocketMessageForm",children:"Send"})]}),jsxRuntimeExports.jsx(WebSocketRequestForm,{request:t,previewMode:st,environmentId:e?._id||"",workspaceId:Je},yt)]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"flex w-full flex-1 flex-col overflow-hidden",id:"auth",children:[rt&&jsxRuntimeExports.jsx(PaneReadOnlyBanner,{}),jsxRuntimeExports.jsx(AuthWrapper,{authentication:t.authentication,disabled:rt,authTypes:supportedAuthTypes},yt)]}),jsxRuntimeExports.jsxs($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"w-full flex-1 overflow-y-auto",id:"headers",children:[rt&&jsxRuntimeExports.jsx(PaneReadOnlyBanner,{}),jsxRuntimeExports.jsx(RequestHeadersEditor,{headers:t.headers,bulk:!1,isDisabled:et,requestType:"WebSocketRequest"},yt)]}),jsxRuntimeExports.jsx($5e8ad37a45e1c704$export$3d96ec278d3efce4,{className:"w-full flex-1 overflow-y-auto",id:"docs",children:jsxRuntimeExports.jsx(MarkdownEditor,{placeholder:"Write a description",defaultValue:t.description,onChange:mt=>Rt(Xe,{description:mt})},yt)})]}),vt&&jsxRuntimeExports.jsx(RequestSettingsModal,{request:t,onHide:()=>bt(!1)})]})};function isMatched(e,t){return!!fuzzyMatchAll(e,[t.name,t.description,...isRequestGroup(t)?[]:[t.url]],{splitSpace:!1,loose:!0})?.indexes}function useFilteredRequests(e,t){return reactExports.useMemo(()=>{if(!t)return e;const Ke=e.map(Ye=>({...Ye,hidden:!isMatched(t,Ye.doc),collapsed:!1}));return Ke.forEach(Ye=>{const Je=Ye.ancestors||[];Ye.hidden||Je.forEach(Xe=>{const et=Ke.find(tt=>tt.doc._id===Xe);et&&(et.hidden=!1)})}),Ke},[e,t])}const INITIAL_GRPC_REQUEST_STATE={running:!1,requestMessages:[],responseMessages:[],status:void 0,error:void 0,methods:[]};async function clientLoader({params:e,request:t}){if(!e.requestId&&!e.requestGroupId){const{projectId:Ke,workspaceId:Ye,organizationId:Je}=e;invariant(Ye,"Workspace ID is required"),invariant(Ke,"Project ID is required");const Xe=await workspace.getById(Ye);invariant(Xe,"Workspace not found");const et=await workspaceMeta.getOrCreateByParentId(Ye);invariant(et,"Workspace meta not found");const tt=et.activeRequestId,rt=tt?await request.getById(tt):null,st=t.url.indexOf("?"),nt=(st>0?t.url.slice(0,st):t.url).includes("/runner"),it=t.url.includes("doNotSkipToActiveRequest=true");if(rt&&!nt&&!it)return redirect(`/organization/${Je}/project/${Ke}/workspace/${Ye}/debug/request/${tt}`)}return null}const WebSocketSpinner=({requestId:e})=>useReadyState({requestId:e,protocol:"webSocket"})?jsxRuntimeExports.jsx("div",{className:"mr-[--padding-sm] h-2.5 w-2.5 flex-shrink-0 rounded-full bg-[--color-success]","data-testid":"WebSocketSpinner__Connected"}):null,SocketIOSpinner=({requestId:e})=>useReadyState({requestId:e,protocol:"socketIO"})?jsxRuntimeExports.jsx("div",{className:"mr-[--padding-sm] h-2.5 w-2.5 flex-shrink-0 rounded-full bg-[--color-success]","data-testid":"SocketIOSpinner__Connected"}):null,EventStreamSpinner=({requestId:e})=>useReadyState({requestId:e,protocol:"curl"})?jsxRuntimeExports.jsx("div",{className:"mr-[--padding-sm] h-2.5 w-2.5 flex-shrink-0 rounded-full bg-[--color-success]","data-testid":"EventStreamSpinner__Connected"}):null,getRequestNameOrFallback=e=>isRequestGroup(e)?e.name||"Untitled folder":e.name||e.url||"Untitled request",RequestTiming=({requestId:e})=>{const{isExecuting:t}=useExecutionState({requestId:e});return t?jsxRuntimeExports.jsx("div",{className:"mr-[--padding-sm] h-2.5 w-2.5 flex-shrink-0 rounded-full bg-[--color-success]","data-testid":"WebSocketSpinner__Connected"}):null},DebugEntry=()=>{const{organizationId:e,projectId:t,workspaceId:Ke}=useParams(),{activeRequestGroup:Ye}=useRequestGroupLoaderData()||{},{activeWorkspace:Je,activeProject:Xe}=useWorkspaceLoaderData(),et=useRequestLoaderData(),{activeRequest:tt}=et||{};return useInsomniaTab({organizationId:e,projectId:t,workspaceId:Ke,activeWorkspace:Je,activeProject:Xe,activeRequest:tt,activeRequestGroup:Ye}),Je.scope==="mcp"?jsxRuntimeExports.jsx(McpPane,{}):jsxRuntimeExports.jsx(Debug,{})},Debug=()=>{const{activeWorkspace:e,activeProject:t,activeEnvironment:Ke,activeCookieJar:Ye,caCertificate:Je,clientCertificates:Xe,grpcRequests:et,collection:tt}=useWorkspaceLoaderData(),rt=useRequestLoaderData(),{activeRequest:st}=rt||{},at=useRequestDeleteActionFetcher(),nt=useRequestDuplicateActionFetcher(),it=useRequestNewActionFetcher(),ot=useRequestGroupNewActionFetcher(),[lt,ut]=reactExports.useState(!1),[ft,ct]=reactExports.useState(""),{organizationId:dt,projectId:ht,workspaceId:xt,requestId:vt,requestGroupId:bt,panel:_t}=useParams(),[Ct,Rt]=useLocalStorage$1(`${xt}:collection-list-filter`),jt=useFilteredRequests(tt,Ct??""),[yt,Et]=reactExports.useState(et.map(Gt=>({requestId:Gt._id,...INITIAL_GRPC_REQUEST_STATE}))),[pt,mt]=reactExports.useState(!1),[gt,St]=reactExports.useState(!1),[wt,$t]=reactExports.useState(!1),[Tt,At]=reactExports.useState(!1),[Dt,It]=reactExports.useState(!1),[Ot,Mt]=reactExports.useState(!1),Kt=useRequestPatcher(),qt=useRequestGroupPatcher(),Bt=useRequestMetaPatcher();reactExports.useEffect(()=>{const Gt=window.main.on("db.changes",async(Lt,Vt)=>{for(const Wt of Vt){const[Xt,er]=Wt;isGrpcRequest(er)&&Xt==="insert"&&Et(ar=>[...ar,{requestId:er._id,...INITIAL_GRPC_REQUEST_STATE}])}});return()=>{Gt()}},[]);const{settings:kt}=useRootLoaderData(),Nt=yt.find(Gt=>Gt.requestId===vt),Pt=Gt=>Et(Lt=>Lt.map(Vt=>Vt.requestId===vt?Gt:Vt)),Ft=Gt=>{Et(Lt=>Lt.map(Vt=>Gt.includes(Vt.requestId)?{...Vt,methods:[]}:Vt))};reactExports.useEffect(()=>window.main.on("grpc.start",(Gt,Lt)=>{Et(Vt=>Vt.map(Wt=>Wt.requestId===Lt?{...Wt,running:!0}:Wt))}),[]),reactExports.useEffect(()=>window.main.on("grpc.end",(Gt,Lt)=>{Et(Vt=>Vt.map(Wt=>Wt.requestId===Lt?{...Wt,running:!1}:Wt))}),[]),reactExports.useEffect(()=>window.main.on("grpc.data",(Gt,Lt,Vt)=>{Et(Wt=>Wt.map(Xt=>Xt.requestId===Lt?{...Xt,responseMessages:[...Xt.responseMessages,{id:generateId(),text:JSON.stringify(Vt),created:Date.now()}]}:Xt))}),[]),reactExports.useEffect(()=>window.main.on("grpc.error",(Gt,Lt,Vt)=>{isGrpcConnectionError(Vt)&&showModal(ErrorModal,{error:Vt,...getGrpcConnectionErrorDetails(Vt)}),Et(Wt=>Wt.map(Xt=>Xt.requestId===Lt?{...Xt,error:Vt}:Xt))}),[]),reactExports.useEffect(()=>window.main.on("grpc.status",(Gt,Lt,Vt)=>{Et(Wt=>Wt.map(Xt=>Xt.requestId===Lt?{...Xt,status:Vt}:Xt))}),[]);const Ut=reactExports.useRef(null);function Ht(){const Gt=Ut.current?.getLayout();Gt&&(Gt&&Gt[0]>0?Gt[0]=0:Gt[0]=DEFAULT_SIDEBAR_SIZE,Ut.current?.setLayout(Gt))}reactExports.useEffect(()=>window.main.on("toggle-sidebar",Ht),[]),useDocBodyKeyboardShortcuts({sidebar_toggle:Ht,request_togglePin:async()=>{if(vt){const Gt=isGrpcRequestId(vt)?await getByParentId(vt):await getByParentId$1(vt);Bt(vt,{pinned:!Gt?.pinned})}},request_showSettings:()=>{st&&St(!0)},request_showDelete:()=>{st&&vt&&showModal(AskModal,{title:"Delete Request?",message:`Really delete ${st.name}?`,color:"danger",onDone:async Gt=>{Gt&&at.submit({organizationId:dt,projectId:ht,workspaceId:xt,id:vt})}})},request_showDuplicate:()=>{st&&vt&&showModal(PromptModal,{title:"Duplicate Request",defaultValue:st.name,submitName:"Create",label:"New Name",selectText:!0,onComplete:async Gt=>{nt.submit({organizationId:dt,projectId:ht,requestId:vt,workspaceId:xt,name:Gt})}})},request_createHTTP:async()=>{const Gt=st?st.parentId:e._id;it.submit({organizationId:dt,projectId:ht,workspaceId:xt,requestType:"HTTP",parentId:Gt})},request_showCreateFolder:()=>{const Gt=st?st.parentId:xt;showModal(PromptModal,{title:"New Folder",defaultValue:"My Folder",submitName:"Create",label:"Name",selectText:!0,onComplete:Lt=>ot.submit({organizationId:dt,projectId:ht,workspaceId:xt,parentId:Gt,name:Lt})})},environment_showEditor:()=>$t(!0),environment_showSwitchMenu:()=>It(!0),showCookiesEditor:()=>mt(!0),request_showGenerateCodeEditor:()=>{st&&isRequest(st)&&showModal(GenerateCodeModal,{request:st})}});const Zt=st&&(isWebSocketRequest(st)||isEventStreamRequest(st)||isGraphqlSubscriptionRequest(st)||isSocketIORequest(st)),[Jt,zt]=useSearchParams(),Yt=Jt.get("sortOrder")||"type-manual",{hotKeyRegistry:tr}=kt,rr=({requestType:Gt,parentId:Lt,req:Vt})=>it.submit({organizationId:dt,projectId:ht,workspaceId:xt,requestType:Gt,parentId:Lt,req:Vt}),dr=useRequestGroupMetaPatcher(),fr=useDebugReorderActionFetcher(),nr=useNavigate(),cr=$d8f176866e6dc039$export$2cfc5be7a55829f6({getItems:Gt=>[...Gt].map(Lt=>({"text/plain":Lt.toString()})),onReorder(Gt){const[Lt]=Gt.keys.values(),Vt=Lt.toString(),Wt=Gt.target.key.toString(),Xt=jt.find(Qt=>Qt.doc._id===Vt),er=jt.find(Qt=>Qt.doc._id===Wt);if(!Xt||!er||isRequestGroup(Xt.doc)&&er.ancestors?.includes(Xt.doc._id))return;let lr=0;if(isRequestGroup(er.doc)&&Gt.target.dropPosition==="after"){const Qt=jt.filter(sr=>sr.doc.parentId===Wt);Qt.length>0?lr=Qt[0]?.doc.metaSortKey-100:lr=-1*Date.now()}else{const Qt=jt.filter(ir=>ir.doc.parentId===er.doc.parentId),sr=Qt.findIndex(ir=>ir.doc._id===Wt);if(Gt.target.dropPosition==="after"){const ir=er,hr=Qt[sr+1];ir&&hr?lr=ir.doc.metaSortKey-(ir.doc.metaSortKey-hr.doc.metaSortKey)/2:lr=ir.doc.metaSortKey+100}else{const ir=Qt[sr-1],hr=er;ir&&hr?lr=hr.doc.metaSortKey-(hr.doc.metaSortKey-ir.doc.metaSortKey)/2:lr=hr.doc.metaSortKey-100}}lr&&fr.submit({organizationId:dt,projectId:ht,workspaceId:xt,params:{targetId:Wt,id:Vt,dropPosition:Gt.target.dropPosition,metaSortKey:lr}})},renderDropIndicator(Gt){if(Gt.type==="item"){const Lt=Er.getVirtualItems().find(Vt=>Vt.key===Gt.key);if(Lt)return jsxRuntimeExports.jsx($612b8eb6cb90e02d$export$62ed72bc21f6b8a6,{target:Gt,className:"absolute left-0 top-0 z-10 w-full outline outline-1 outline-[--color-surprise]",style:{transform:`translateY(${Gt.dropPosition==="before"?Lt?.start:Lt.end}px)`}})}return jsxRuntimeExports.jsx($612b8eb6cb90e02d$export$62ed72bc21f6b8a6,{target:Gt,className:"absolute left-0 top-0 outline outline-1 outline-[--color-surprise]"})}}),ur=[{name:"Create",id:"create",icon:"plus",items:[{id:"New Folder",name:"New Folder",icon:"folder",hint:tr.request_showCreateFolder,action:()=>showModal(PromptModal,{title:"New Folder",defaultValue:"My Folder",submitName:"Create",label:"Name",selectText:!0,onComplete:Gt=>ot.submit({organizationId:dt,projectId:ht,workspaceId:xt,parentId:xt,name:Gt})})},{id:"HTTP",name:"HTTP Request",icon:"plus-circle",hint:tr.request_createHTTP,action:()=>rr({requestType:"HTTP",parentId:xt})},{id:"Event Stream",name:"Event Stream Request (SSE)",icon:"plus-circle",action:()=>rr({requestType:"Event Stream",parentId:xt})},{id:"GraphQL Request",name:"GraphQL Request",icon:"plus-circle",action:()=>rr({requestType:"GraphQL",parentId:xt})},{id:"gRPC Request",name:"gRPC Request",icon:"plus-circle",action:()=>rr({requestType:"gRPC",parentId:xt})},{id:"WebSocket Request",name:"WebSocket Request",icon:"plus-circle",action:()=>rr({requestType:"WebSocket",parentId:xt})},{id:"Socket.IO Request",name:"Socket.IO Request",icon:"plus-circle",action:()=>rr({requestType:"SocketIO",parentId:xt})}]},{name:"Import",id:"import",icon:"file-import",items:[{id:"From Curl",name:"From Curl",icon:"terminal",action:()=>ut(!0)},{id:"from-file",name:"From File",icon:"file-import",action:()=>At(!0)}]}],[or,gr]=reactExports.useState(!1),xr=useToggleExpandAllActionFetcher(),pr=jt.filter(Gt=>!Gt.hidden),br=reactExports.useRef(null),Er=useVirtualizer({getScrollElement:()=>br.current,count:pr.length,estimateSize:React.useCallback(()=>32,[]),overscan:30,getItemKey:Gt=>pr[Gt].doc._id}),[vr,Rr]=reactExports.useState(kt.forceVerticalLayout?"vertical":"horizontal");return reactExports.useEffect(()=>{if(kt.forceVerticalLayout)return Rr("vertical"),()=>{};const Gt=window.matchMedia("(max-width: 880px)");Rr(Gt.matches?"vertical":"horizontal");const Lt=Vt=>{Rr(Vt.matches?"vertical":"horizontal")};return Gt.addEventListener("change",Lt),()=>{Gt.removeEventListener("change",Lt)}},[kt.forceVerticalLayout,vr]),jsxRuntimeExports.jsxs(PanelGroup,{ref:Ut,autoSaveId:"insomnia-sidebar",id:"wrapper",className:"new-sidebar h-full w-full text-[--color-font]",direction:"horizontal",children:[jsxRuntimeExports.jsx(Panel,{id:"sidebar",className:"sidebar theme--sidebar",maxSize:40,minSize:10,collapsible:!0,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-1 flex-col divide-y divide-solid divide-[--hl-md] overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-start divide-y divide-solid divide-[--hl-md]",children:[jsxRuntimeExports.jsx("div",{className:`flex w-full h-[${INSOMNIA_TAB_HEIGHT}px]`,children:jsxRuntimeExports.jsxs($778035c5624f61e7$export$2dc68d50d56fbbd,{className:"m-0 flex h-full w-full list-none items-center gap-2 px-[--padding-sm] font-bold",children:[jsxRuntimeExports.jsxs($778035c5624f61e7$export$dabcc1ec9dd9d1cc,{className:"flex h-full select-none items-center gap-2 text-[--color-font] outline-none data-[focused]:outline-none",children:[jsxRuntimeExports.jsx(NavLink,{"data-testid":"project",className:"flex aspect-square h-7 flex-shrink-0 items-center justify-center gap-2 rounded-sm px-1 py-1 text-sm text-[--color-font] outline-none ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] aria-pressed:bg-[--hl-sm] data-[focused]:outline-none",to:`/organization/${dt}/project/${t._id}`,children:jsxRuntimeExports.jsx(Icon,{className:"text-xs",icon:"chevron-left"})}),jsxRuntimeExports.jsx("span",{"aria-hidden":!0,role:"separator",className:"h-4 text-[--hl-lg] outline outline-1"})]}),jsxRuntimeExports.jsx($778035c5624f61e7$export$dabcc1ec9dd9d1cc,{className:"flex h-full select-none items-center gap-2 truncate text-[--color-font] outline-none data-[focused]:outline-none",children:jsxRuntimeExports.jsx(WorkspaceDropdown,{})}),jsxRuntimeExports.jsx($778035c5624f61e7$export$dabcc1ec9dd9d1cc,{className:"ml-auto mr-2.5 flex h-full select-none items-center gap-2 justify-self-end truncate text-sm text-[--color-font] outline-none data-[focused]:outline-none",children:jsxRuntimeExports.jsxs(NavLink,{"data-testid":"run-collection-btn-quick",className:"flex h-7 flex-shrink-0 items-center justify-center gap-2 rounded-sm px-2 py-1 text-sm text-[--color-font] outline-none ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] aria-pressed:bg-[--hl-sm] aria-[current]:hidden data-[focused]:outline-none",to:`/organization/${dt}/project/${e.parentId}/workspace/${e._id}/debug/runner?folder=`,children:[jsxRuntimeExports.jsx(Icon,{icon:"play"}),jsxRuntimeExports.jsx("span",{className:"truncate",children:"Run"})]})})]})}),isDesign(e)&&jsxRuntimeExports.jsx(DocumentTab,{organizationId:dt,projectId:ht,workspaceId:xt}),jsxRuntimeExports.jsxs("div",{className:"flex w-full flex-col items-start gap-2 p-[--padding-sm]",children:[jsxRuntimeExports.jsx("div",{className:"flex w-full items-center justify-between gap-2",children:jsxRuntimeExports.jsx(EnvironmentPicker,{isOpen:Dt,onOpenChange:It,onOpenEnvironmentSettingsModal:()=>$t(!0)})}),jsxRuntimeExports.jsxs($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{onPress:()=>mt(!0),className:"flex max-w-full flex-1 items-center justify-center gap-2 truncate rounded-sm px-4 py-1 text-sm text-[--color-font] ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] aria-pressed:bg-[--hl-sm]",children:[jsxRuntimeExports.jsx(Icon,{icon:"cookie-bite",className:"w-5 flex-shrink-0"}),jsxRuntimeExports.jsxs("span",{className:"truncate",children:[Ye.cookies.length===0?"Add":"Manage"," Cookies"," ",Ye.cookies.length>0?`(${Ye.cookies.length})`:""]})]}),jsxRuntimeExports.jsxs($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{onPress:()=>Mt(!0),className:"flex max-w-full flex-1 items-center justify-center gap-2 truncate rounded-sm px-4 py-1 text-sm text-[--color-font] ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] aria-pressed:bg-[--hl-sm]",children:[jsxRuntimeExports.jsx(Icon,{icon:"file-contract",className:"w-5 flex-shrink-0"}),jsxRuntimeExports.jsxs("span",{className:"truncate",children:[Xe.length===0||Je?"Add":"Manage"," Certificates"," ",[...Xe,Je].filter(Gt=>!Gt?.disabled).filter(isNotNullOrUndefined).length>0?`(${[...Xe,Je].filter(Gt=>!Gt?.disabled).filter(isNotNullOrUndefined).length})`:""]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between gap-1 p-[--padding-sm]",children:[jsxRuntimeExports.jsxs($440f4836bcb56932$export$b94867ecbd698f21,{"aria-label":"Request filter",className:"group relative flex-1",value:Ct??"",onChange:Rt,children:[jsxRuntimeExports.jsx($3985021b0ad6602f$export$f5b8910cec6cf069,{placeholder:"Filter",className:"w-full rounded-sm border border-solid border-[--hl-sm] bg-[--color-bg] py-1 pl-2 pr-7 text-[--color-font] transition-colors focus:outline-none focus:ring-1 focus:ring-[--hl-md]"}),jsxRuntimeExports.jsx("div",{className:"absolute right-0 top-0 flex h-full items-center px-2",children:jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{className:"flex aspect-square w-5 items-center justify-center rounded-sm text-sm text-[--color-font] ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] aria-pressed:bg-[--hl-sm] group-data-[empty]:hidden",children:jsxRuntimeExports.jsx(Icon,{icon:"close"})})})]}),jsxRuntimeExports.jsxs($82d7e5349645de74$export$ef9b1a59e592288f,{"aria-label":"Sort order",className:"aspect-square h-full",selectedKey:Yt,onSelectionChange:Gt=>Gt&&zt({...Object.fromEntries(Jt.entries()),sortOrder:Gt.toString()}),children:[jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{"aria-label":"Select sort order",className:"flex aspect-square h-full flex-shrink-0 items-center justify-center rounded-sm text-sm text-[--color-font] ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] aria-pressed:bg-[--hl-sm]",children:jsxRuntimeExports.jsx(Icon,{icon:"sort"})}),jsxRuntimeExports.jsx($07b14b47974efb58$export$5b6b19405a83ff9d,{className:"flex min-w-max flex-col overflow-y-hidden",children:jsxRuntimeExports.jsx($eed445e0843c11d0$export$41f133550aa26f48,{items:SORT_ORDERS.map(Gt=>({id:Gt,name:sortOrderName[Gt]})),className:"min-w-max select-none overflow-y-auto rounded-md border border-solid border-[--hl-sm] bg-[--color-bg] py-2 text-sm shadow-lg focus:outline-none",children:Gt=>jsxRuntimeExports.jsx($eed445e0843c11d0$export$a11e76429ed99b4,{id:Gt.id,className:"flex h-[--line-height-xs] w-full items-center gap-2 whitespace-nowrap bg-transparent px-[--padding-md] text-[--color-font] transition-colors hover:bg-[--hl-sm] focus:bg-[--hl-xs] focus:outline-none disabled:cursor-not-allowed aria-selected:font-bold","aria-label":Gt.name,textValue:Gt.name,value:Gt,children:({isSelected:Lt})=>jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{children:Gt.name}),Lt&&jsxRuntimeExports.jsx(Icon,{icon:"check",className:"justify-self-end text-[--color-success]"})]})},Gt.id)})})]}),jsxRuntimeExports.jsxs($4e3b923658d69c60$export$8c610744efcf8a1d,{children:[jsxRuntimeExports.jsx($efde0372d7a700fe$export$d2b052e7b4be1756,{"aria-label":"Expand All/Collapse all",defaultSelected:or,onChange:()=>{gr(!or),xr.submit({organizationId:dt,projectId:ht,workspaceId:xt,toggle:or?"collapse-all":"expand-all"})},className:"flex aspect-square h-full items-center justify-center rounded-sm text-sm text-[--color-font] ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md]",children:({isSelected:Gt})=>jsxRuntimeExports.jsx(Icon,{icon:Gt?"down-left-and-up-right-to-center":"up-right-and-down-left-from-center"})}),jsxRuntimeExports.jsx($4e3b923658d69c60$export$28c660c63b792dea,{offset:8,className:"max-h-[85vh] max-w-xs select-none overflow-y-auto rounded-md border border-solid border-[--hl-sm] bg-[--color-bg] px-4 py-2 text-sm text-[--color-font] shadow-lg focus:outline-none",children:jsxRuntimeExports.jsx("span",{children:or?"Collapse all":"Expand all"})})]}),jsxRuntimeExports.jsxs($3674c52c6b3c5bce$export$27d2ad3c5815583e,{children:[jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{"aria-label":"Create in collection",className:"flex aspect-square h-full items-center justify-center rounded-sm text-sm text-[--color-font] ring-1 ring-transparent transition-all hover:bg-[--hl-xs] focus:ring-inset focus:ring-[--hl-md] aria-pressed:bg-[--hl-sm]",children:jsxRuntimeExports.jsx(Icon,{icon:"plus-circle"})}),jsxRuntimeExports.jsx($07b14b47974efb58$export$5b6b19405a83ff9d,{className:"flex min-w-max flex-col overflow-y-hidden",children:jsxRuntimeExports.jsx($3674c52c6b3c5bce$export$d9b273488cd8ce6f,{"aria-label":"Create a new request",selectionMode:"single",onAction:Gt=>ur.find(Lt=>Lt.items.find(Vt=>Vt.id===Gt))?.items.find(Lt=>Lt.id===Gt)?.action(),items:ur,className:"min-w-max select-none overflow-y-auto rounded-md border border-solid border-[--hl-sm] bg-[--color-bg] py-2 text-sm shadow-lg focus:outline-none",children:Gt=>jsxRuntimeExports.jsxs($3674c52c6b3c5bce$export$4b1545b4f2016d26,{className:"flex flex-1 flex-col",children:[jsxRuntimeExports.jsxs($72a5793c14baf454$export$8b251419efc915eb,{className:"flex items-center gap-2 py-1 pl-2 text-xs uppercase text-[--hl]",children:[jsxRuntimeExports.jsx(Icon,{icon:Gt.icon})," ",jsxRuntimeExports.jsx("span",{children:Gt.name})]}),jsxRuntimeExports.jsx($e1995378a142960e$export$fb8073518f34e6ec,{items:Gt.items,children:Lt=>jsxRuntimeExports.jsxs($3674c52c6b3c5bce$export$2ce376c2cc3355c8,{id:Lt.id,className:"flex h-[--line-height-xs] w-full items-center gap-2 whitespace-nowrap bg-transparent px-[--padding-md] text-[--color-font] transition-colors hover:bg-[--hl-sm] focus:bg-[--hl-xs] focus:outline-none disabled:cursor-not-allowed aria-selected:font-bold","aria-label":Lt.name,children:[jsxRuntimeExports.jsx(Icon,{icon:Lt.icon}),jsxRuntimeExports.jsx("span",{children:Lt.name}),Lt.hint&&jsxRuntimeExports.jsx(DropdownHint,{keyBindings:Lt.hint})]},Lt.id)})]})})})]})]}),jsxRuntimeExports.jsx($72e60046c03fbe42$export$a7bfbda1311ca015,{id:"sidebar-pinned-request-gridlist",className:"max-h-[50%] overflow-y-auto border-b border-t border-solid border-[--hl-sm] py-[--padding-sm] data-[empty]:border-none data-[empty]:py-0",items:jt.filter(Gt=>Gt.pinned),"aria-label":"Pinned Requests",disallowEmptySelection:!0,selectedKeys:vt?[vt]:[],selectionMode:"single",onSelectionChange:Gt=>{if(Gt!=="all"){const Lt=Gt.values().next().value;nr(`/organization/${dt}/project/${ht}/workspace/${xt}/debug/request/${Lt}?${Jt.toString()}`)}},children:Gt=>jsxRuntimeExports.jsx($72e60046c03fbe42$export$e96fc9a8407faa6b,{id:Gt.doc._id,className:"group select-none outline-none",textValue:Gt.doc.name,"data-testid":Gt.doc.name,children:jsxRuntimeExports.jsxs("div",{className:"relative flex h-[--line-height-xs] w-full select-none items-center gap-2 overflow-hidden px-4 text-[--hl] outline-none transition-colors group-hover:bg-[--hl-xs] group-focus:bg-[--hl-sm] group-aria-selected:text-[--color-font]",children:[jsxRuntimeExports.jsx("span",{className:"absolute left-0 top-0 h-full w-[2px] bg-transparent transition-colors group-aria-selected:bg-[--color-surprise]"}),isRequest(Gt.doc)&&jsxRuntimeExports.jsx("span",{className:`flex w-10 flex-shrink-0 items-center justify-center rounded-sm border border-solid border-[--hl-sm] text-[0.65rem] ${{GET:"bg-[rgba(var(--color-surprise-rgb),0.5)] text-[--color-font-surprise]",POST:"bg-[rgba(var(--color-success-rgb),0.5)] text-[--color-font-success]",HEAD:"bg-[rgba(var(--color-info-rgb),0.5)] text-[--color-font-info]",OPTIONS:"bg-[rgba(var(--color-info-rgb),0.5)] text-[--color-font-info]",DELETE:"bg-[rgba(var(--color-danger-rgb),0.5)] text-[--color-font-danger]",PUT:"bg-[rgba(var(--color-warning-rgb),0.5)] text-[--color-font-warning]",PATCH:"bg-[rgba(var(--color-notice-rgb),0.5)] text-[--color-font-notice]"}[Gt.doc.method]||"bg-[--hl-md] text-[--color-font]"}`,children:getMethodShortHand(Gt.doc)}),isWebSocketRequest(Gt.doc)&&jsxRuntimeExports.jsx("span",{className:"flex w-10 flex-shrink-0 items-center justify-center rounded-sm border border-solid border-[--hl-sm] bg-[rgba(var(--color-notice-rgb),0.5)] text-[0.65rem] text-[--color-font-notice]",children:"WS"}),isSocketIORequest(Gt.doc)&&jsxRuntimeExports.jsx("span",{className:"flex w-10 flex-shrink-0 items-center justify-center rounded-sm border border-solid border-[--hl-sm] bg-[rgba(var(--color-notice-rgb),0.5)] text-[0.65rem] text-[--color-font-notice]",children:"IO"}),isGrpcRequest(Gt.doc)&&jsxRuntimeExports.jsx("span",{className:"flex w-10 flex-shrink-0 items-center justify-center rounded-sm border border-solid border-[--hl-sm] bg-[rgba(var(--color-info-rgb),0.5)] text-[0.65rem] text-[--color-font-info]",children:"gRPC"}),jsxRuntimeExports.jsx(EditableInput,{value:getRequestNameOrFallback(Gt.doc),name:"request name",ariaLabel:"request name",className:"flex-1 px-1",onSubmit:Lt=>{isRequestGroup(Gt.doc)?qt(Gt.doc._id,{name:Lt}):Kt(Gt.doc._id,{name:Lt})}}),Gt.pinned&&jsxRuntimeExports.jsx(Icon,{className:"text-[--font-size-sm]",icon:"thumb-tack",onDoubleClick:()=>Bt(Gt.doc._id,{pinned:!Gt.pinned})})]})},Gt.doc._id)}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto",ref:br,children:jsxRuntimeExports.jsx($72e60046c03fbe42$export$a7bfbda1311ca015,{id:"sidebar-request-gridlist",style:{height:Er.getTotalSize()},items:Er.getVirtualItems(),className:"relative","aria-label":"Request Collection",dragAndDropHooks:Yt==="type-manual"?cr.dragAndDropHooks:void 0,onAction:Gt=>{const Lt=Gt.toString();if(isRequestGroupId(Lt)){const Vt=jt.find(Wt=>Wt.doc._id===Lt);if(Vt){dr(Vt.doc._id,{collapsed:!Vt.collapsed}),nr(`/organization/${dt}/project/${ht}/workspace/${xt}/debug/request-group/${Lt}?${Jt.toString()}`);return}}nr(`/organization/${dt}/project/${ht}/workspace/${xt}/debug/request/${Lt}?${Jt.toString()}`)},children:Gt=>{const Lt=pr[Gt.index];let Vt=Lt.doc.name;return isRequest(Lt.doc)?Vt=`${getMethodShortHand(Lt.doc)} ${Vt}`:isWebSocketRequest(Lt.doc)?Vt=`WS ${Vt}`:isGrpcRequest(Lt.doc)&&(Vt=`gRPC ${Vt}`),jsxRuntimeExports.jsx(CollectionGridListItem,{label:Vt,style:{height:`${Gt.size}`,transform:`translateY(${Gt.start}px)`},item:Lt,navigate:nr,organizationId:dt,projectId:ht,workspaceId:xt,searchParams:Jt,groupMetaPatcher:dr,patchGroup:qt,patchRequest:Kt,activeEnvironment:Ke,activeProject:t})}},Yt)})]}),isScratchpadOrganizationId(dt)&&jsxRuntimeExports.jsx(ScratchPadTutorialPanel,{}),jsxRuntimeExports.jsx(WorkspaceSyncDropdown,{}),wt&&jsxRuntimeExports.jsx(WorkspaceEnvironmentsEditModal,{onClose:()=>$t(!1)}),Tt&&jsxRuntimeExports.jsx(ImportModal,{onHide:()=>At(!1),from:{type:"file"},projectName:t.name??getProductName(),workspaceName:e.name,organizationId:dt,defaultProjectId:ht,defaultWorkspaceId:xt}),pt&&jsxRuntimeExports.jsx(CookiesModal,{setIsOpen:mt}),Ot&&jsxRuntimeExports.jsx(CertificatesModal,{onClose:()=>Mt(!1)}),lt&&jsxRuntimeExports.jsx(PasteCurlModal,{onImport:Gt=>{rr({requestType:"From Curl",parentId:xt,req:Gt})},defaultValue:ft,onHide:()=>ut(!1)})]})}),jsxRuntimeExports.jsx(PanelResizeHandle,{className:"h-full w-[1px] bg-[--hl-md]"}),jsxRuntimeExports.jsxs(Panel,{className:"flex flex-col",children:[!_t&&jsxRuntimeExports.jsx(OrganizationTabList,{currentPage:"debug"}),jsxRuntimeExports.jsx(PanelGroup,{autoSaveId:"insomnia-panels",id:"insomnia-panels",direction:vr,children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Panel,{id:"pane-one",order:1,minSize:10,className:"pane-one theme--pane",children:xt?jsxRuntimeExports.jsxs(ErrorBoundary,{showAlert:!0,children:[isRequestGroupId(bt)&&jsxRuntimeExports.jsx(RequestGroupPane,{settings:kt}),isGrpcRequestId(vt)&&Nt&&jsxRuntimeExports.jsx(GrpcRequestPane,{grpcState:Nt,setGrpcState:Pt,reloadRequests:Ft},Nt.requestId),isWebSocketRequestId(vt)&&jsxRuntimeExports.jsx(WebSocketRequestPane,{environment:Ke}),isSocketIORequestId(vt)&&jsxRuntimeExports.jsx(SocketIORequestPane,{environment:Ke}),isRequestId(vt)&&jsxRuntimeExports.jsx(RequestPane,{environmentId:Ke?Ke._id:"",settings:kt,onPaste:Gt=>{ct(Gt),ut(!0)}}),!vt&&!bt&&jsxRuntimeExports.jsx(PlaceholderRequestPane,{}),gt&&st&&jsxRuntimeExports.jsx(RequestSettingsModal,{request:st,onHide:()=>St(!1)})]}):null}),st?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(PanelResizeHandle,{className:vr==="horizontal"?"h-full w-[1px] bg-[--hl-md]":"h-[1px] w-full bg-[--hl-md]"}),jsxRuntimeExports.jsx(Panel,{id:"pane-two",order:2,minSize:10,className:"pane-two theme--pane",children:jsxRuntimeExports.jsxs(ErrorBoundary,{showAlert:!0,children:[st&&isGrpcRequest(st)&&Nt&&jsxRuntimeExports.jsx(GrpcResponsePane,{grpcState:Nt}),Zt&&jsxRuntimeExports.jsx(RealtimeResponsePane,{requestId:st._id}),st&&isRequest(st)&&!Zt&&jsxRuntimeExports.jsx(ResponsePane,{activeRequestId:st._id})]})})]}):null]})}),jsxRuntimeExports.jsx(Route,{path:"runner",element:jsxRuntimeExports.jsx(Runner,{})}),jsxRuntimeExports.jsx(Route,{path:"tutorial/:panel",element:jsxRuntimeExports.jsx(Tutorial,{})})]})})]})]})},organization_$organizationId_project_$projectId_workspace_$workspaceId_debug=withComponentProps(DebugEntry),ScratchPadTutorialPanel=()=>{const[e,t]=useLocalStorage$1("scratchpad-sign-up-tip-dismissed",{dismissed:!1,dismissedAt:0}),Ke=()=>{t({dismissed:!0,dismissedAt:Date.now()})},{organizationId:Ye,projectId:Je,workspaceId:Xe,panel:et="all"}=useParams(),tt=useNavigate(),rt=()=>{tt(href("/auth/login"))},st=reactExports.useMemo(()=>{if(!e||!e.dismissed)return!0;const at=336*60*60*1e3;return Date.now()-e.dismissedAt>=at},[e]);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[st?jsxRuntimeExports.jsx("div",{className:"m-2 rounded-lg !border border-solid border-[--hl-sm] bg-[--color-bg] p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex w-full justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"mb-2 text-lg font-semibold text-[--color-font]",children:"Unlock full features"}),jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{onPress:Ke,className:"ml-4 flex h-6 w-6 items-center justify-center rounded-sm text-[--color-font-secondary] transition-colors hover:bg-[--hl-xs] hover:text-[--color-font] focus:outline-none","aria-label":"Dismiss tutorial",children:jsxRuntimeExports.jsx(Icon,{icon:"times",className:"h-3 w-3"})})]}),jsxRuntimeExports.jsx("p",{className:"mb-4 text-sm text-[--color-font-secondary]",children:"Create multiple collections, design APIs, MCP clients, manage projects, and collaborate with your team."}),jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{onPress:rt,className:"rounded-md bg-[--color-surprise] px-4 py-2 text-sm font-medium text-white transition-colors",children:"Sign up for free"})]})}):null,jsxRuntimeExports.jsx($72e60046c03fbe42$export$a7bfbda1311ca015,{"aria-label":"Scope filter",items:scratchPadTutorialList,className:"flex-shrink-0 overflow-y-auto py-[--padding-sm] data-[empty]:py-0",disallowEmptySelection:!0,selectedKeys:[et],selectionMode:"single",onSelectionChange:at=>{if(at!=="all"){const nt=Array.from(at.values())[0].toString();tt(`/organization/${Ye}/project/${Je}/workspace/${Xe}/debug/tutorial/${nt}`)}},children:at=>jsxRuntimeExports.jsx($72e60046c03fbe42$export$e96fc9a8407faa6b,{textValue:at.title,className:"group select-none outline-none",children:jsxRuntimeExports.jsxs("div",{className:"relative flex h-12 w-full select-none items-center gap-2 overflow-hidden px-4 text-[--hl] outline-none transition-colors group-hover:bg-[--hl-xs] group-focus:bg-[--hl-sm] group-aria-selected:bg-[--hl-sm] group-aria-selected:text-[--color-font]",children:[jsxRuntimeExports.jsx("span",{className:"flex h-6 w-6 items-center justify-center",children:jsxRuntimeExports.jsx(Icon,{icon:at.icon,className:"w-6"})}),jsxRuntimeExports.jsx("span",{className:"truncate",children:at.title})]})})})]})},CollectionGridListItem=({label:e,activeEnvironment:t,activeProject:Ke,item:Ye,organizationId:Je,patchGroup:Xe,patchRequest:et,projectId:tt,workspaceId:rt,style:st})=>{const[at,nt]=reactExports.useState(!1),[it,ot]=reactExports.useState(!1),lt=reactExports.useRef(null),ut=useRequestMetaPatcher(),ft=isRequestGroup(Ye.doc)?`/organization/${Je}/project/${tt}/workspace/${rt}/debug/request-group/${Ye.doc._id}/update`:`/organization/${Je}/project/${tt}/workspace/${rt}/debug/request/${Ye.doc._id}/update`,ct=useFetchers().find(bt=>bt.formAction===ft),dt=ct?.json&&typeof ct.json=="object"&&"name"in ct.json&&typeof ct.json.name=="string"?ct.json.name:Ye.doc.name,ht=useParams(),xt=Ye.doc._id===ht.requestId||Ye.doc._id===ht.requestGroupId,vt=reactExports.useCallback(bt=>{xt&&bt&&scrollElementIntoView(bt,{behavior:"instant"})},[xt]);return jsxRuntimeExports.jsx($72e60046c03fbe42$export$e96fc9a8407faa6b,{id:Ye.doc._id,className:`group absolute left-0 top-0 w-full select-none outline-none ${isRequestGroup(Ye.doc)?"data-[drop-target]:bg-[--hl-md]":"border-solid data-[drop-target]:border-b data-[drop-target]:border-[--color-surprise]"}`,textValue:e,"data-testid":Ye.doc.name,style:st,ref:lt,children:jsxRuntimeExports.jsxs("div",{ref:vt,onContextMenu:bt=>{bt.preventDefault(),ot(!0)},onDoubleClick:()=>nt(!0),"data-selected":xt,className:"relative flex h-[--line-height-xs] w-full select-none items-center gap-2 overflow-hidden pl-4 pr-2 text-[--hl] outline-none transition-colors group-hover:bg-[--hl-xs] group-focus:bg-[--hl-sm] data-[selected=true]:text-[--color-font]",style:{paddingLeft:`${Ye.level+1}rem`},children:[jsxRuntimeExports.jsx("span",{"data-selected":xt,className:"absolute left-0 top-0 h-full w-[2px] bg-transparent transition-colors data-[selected=true]:bg-[--color-surprise]"}),jsxRuntimeExports.jsx($d2b4bc8c273e7be6$export$353f5b6fc5456de1,{slot:"drag",className:"hidden"}),isRequest(Ye.doc)&&jsxRuntimeExports.jsx("span",{"aria-hidden":!0,role:"presentation",className:`flex w-10 flex-shrink-0 items-center justify-center rounded-sm border border-solid border-[--hl-sm] text-[0.65rem] ${{GET:"bg-[rgba(var(--color-surprise-rgb),0.5)] text-[--color-font-surprise]",POST:"bg-[rgba(var(--color-success-rgb),0.5)] text-[--color-font-success]",HEAD:"bg-[rgba(var(--color-info-rgb),0.5)] text-[--color-font-info]",OPTIONS:"bg-[rgba(var(--color-info-rgb),0.5)] text-[--color-font-info]",DELETE:"bg-[rgba(var(--color-danger-rgb),0.5)] text-[--color-font-danger]",PUT:"bg-[rgba(var(--color-warning-rgb),0.5)] text-[--color-font-warning]",PATCH:"bg-[rgba(var(--color-notice-rgb),0.5)] text-[--color-font-notice]"}[Ye.doc.method]||"bg-[--hl-md] text-[--color-font]"}`,children:getMethodShortHand(Ye.doc)}),isWebSocketRequest(Ye.doc)&&jsxRuntimeExports.jsx("span",{"aria-hidden":!0,role:"presentation",className:"flex w-10 flex-shrink-0 items-center justify-center rounded-sm border border-solid border-[--hl-sm] bg-[rgba(var(--color-notice-rgb),0.5)] text-[0.65rem] text-[--color-font-notice]",children:"WS"}),isSocketIORequest(Ye.doc)&&jsxRuntimeExports.jsx("span",{"aria-hidden":!0,role:"presentation",className:"flex w-10 flex-shrink-0 items-center justify-center rounded-sm border border-solid border-[--hl-sm] bg-[rgba(var(--color-notice-rgb),0.5)] text-[0.65rem] text-[--color-font-notice]",children:"IO"}),isGrpcRequest(Ye.doc)&&jsxRuntimeExports.jsx("span",{"aria-hidden":!0,role:"presentation",className:"flex w-10 flex-shrink-0 items-center justify-center rounded-sm border border-solid border-[--hl-sm] bg-[rgba(var(--color-info-rgb),0.5)] text-[0.65rem] text-[--color-font-info]",children:"gRPC"}),isRequestGroup(Ye.doc)&&jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsx(Icon,{className:"w-6 flex-shrink-0",icon:Ye.collapsed?"folder":"folder-open"})}),jsxRuntimeExports.jsx(EditableInput,{editable:at,onEditableChange:nt,value:getRequestNameOrFallback({...Ye.doc,name:dt}),name:"request name",ariaLabel:e,className:"flex-1 hover:!bg-transparent",onSubmit:bt=>{isRequestGroup(Ye.doc)?Xe(Ye.doc._id,{name:bt}):et(Ye.doc._id,{name:bt})}}),isWebSocketRequest(Ye.doc)&&jsxRuntimeExports.jsx(WebSocketSpinner,{requestId:Ye.doc._id}),isSocketIORequest(Ye.doc)&&jsxRuntimeExports.jsx(SocketIOSpinner,{requestId:Ye.doc._id}),isGraphqlSubscriptionRequest(Ye.doc)&&jsxRuntimeExports.jsx(WebSocketSpinner,{requestId:Ye.doc._id}),isRequest(Ye.doc)&&jsxRuntimeExports.jsx(RequestTiming,{requestId:Ye.doc._id}),isEventStreamRequest(Ye.doc)&&jsxRuntimeExports.jsx(EventStreamSpinner,{requestId:Ye.doc._id}),Ye.pinned&&jsxRuntimeExports.jsx(Icon,{className:"text-[--font-size-sm]",icon:"thumb-tack",onDoubleClick:()=>ut(Ye.doc._id,{pinned:!Ye.pinned})}),isRequestGroup(Ye.doc)?jsxRuntimeExports.jsx(RequestGroupActionsDropdown,{requestGroup:Ye.doc,onRename:()=>nt(!0),isOpen:it,onOpenChange:ot,triggerRef:lt}):jsxRuntimeExports.jsx(RequestActionsDropdown,{activeEnvironment:t,activeProject:Ke,request:Ye.doc,onRename:()=>nt(!0),isPinned:Ye.pinned,isOpen:it,onOpenChange:ot,triggerRef:lt})]})})};export{clientLoader,organization_$organizationId_project_$projectId_workspace_$workspaceId_debug as default};
//# sourceMappingURL=organization._organizationId.project._projectId.workspace._workspaceId.debug-DBhTXNUK.js.map
