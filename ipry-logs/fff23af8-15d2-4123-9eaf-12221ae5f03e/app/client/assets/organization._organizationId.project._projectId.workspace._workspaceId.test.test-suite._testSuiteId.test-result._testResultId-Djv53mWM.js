import{w as d,D as o}from"./chunk-OIYGIGL5-BYynBxW5.js";import{j as e}from"./jsx-runtime-cpqHEc2t.js";import{$ as n}from"./Heading-CJLhoRaQ.js";import{b as c,d6 as u}from"./index-BnTlsbFl.js";import{I as f}from"./icon-pbM3MSP9.js";import{i as m}from"./invariant-DVddvGrP.js";async function I({params:a}){const{testResultId:s}=a,r=await c.findOne(u.type,{_id:s});return m(r,"Test Result not found"),{testResult:r}}function x(){return o("routes/organization.$organizationId.project.$projectId.workspace.$workspaceId.test.test-suite.$testSuiteId.test-result.$testResultId")}const p=()=>{const{testResult:a}=x();if(!a)return null;const{stats:s,tests:r}=a.results;return e.jsxs("div",{className:"flex h-full w-full flex-1 flex-col divide-y divide-solid divide-[--hl-md]",children:[e.jsxs(n,{className:`flex h-[--line-height-sm] w-full flex-shrink-0 items-center gap-2 p-[--padding-md] text-lg ${s.failures>0?"text-[--color-danger]":"text-[--color-success]"}`,children:[e.jsx(f,{icon:s.failures>0?"exclamation-triangle":"check-square"}),e.jsxs("span",{className:"truncate",children:[s.failures>0?"Tests failed":"Tests passed"," "]}),s.failures>0?s.failures:s.passes,"/",s.tests]}),e.jsx("div",{className:"flex w-full flex-1 flex-col divide-y divide-solid divide-[--hl-md] overflow-y-auto","aria-label":"Test results",children:r.map((t,l)=>{const i="message"in t.err?t.err.message:"";return e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2 p-[--padding-sm]",children:[e.jsx("div",{className:"flex flex-shrink-0",children:e.jsx("span",{className:`flex w-20 flex-shrink-0 rounded-sm border border-solid border-current ${i?"text-[--color-danger]":"text-[--color-success]"} items-center justify-center`,children:i?"Failed":"Passed"})}),e.jsx("div",{className:"flex-1 truncate",title:t.title,children:t.title}),e.jsxs("div",{className:"flex flex-shrink-0",children:[t.duration," ms"]})]}),i&&e.jsx("div",{className:"w-full px-[--padding-sm] pb-[--padding-sm]",children:e.jsx("code",{className:"w-full",children:i})})]},t.id||l)})})]},a._id)},N=d(p);export{p as T,I as c,N as o};
//# sourceMappingURL=organization._organizationId.project._projectId.workspace._workspaceId.test.test-suite._testSuiteId.test-result._testResultId-Djv53mWM.js.map
