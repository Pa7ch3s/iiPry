import{R as p,e as w}from"./index-wZAP8gf2.js";import"./index-BnTlsbFl.js";import"./_commonjsHelpers-CE1G-McA.js";import"./invariant-DVddvGrP.js";import"./import-DfaWnrdO.js";import"./sax-DTOkft0z.js";import"./format-i_2FlR3N.js";import"./event-bus-gjQB7sSy.js";const n=new Worker(new URL("/assets/templating-worker-CMbe9A3x.js",import.meta.url),{type:"module"});n.addEventListener("error",t=>{console.error("Error from worker:",t.message)});function L({input:t,context:e,path:g,ignoreUndefinedEnvVariable:l}){const a={...e,serializedFunctions:{requestId:e.getMeta().requestId,workspaceId:e.getMeta().workspaceId,environmentId:e.getEnvironmentId(),extraInfo:e.getExtraInfo(),globalEnvironmentId:e.getGlobalEnvironmentId(),keysContext:e.getKeysContext(),projectId:e.getProjectId(),purpose:e.getPurpose(),settings:e.getSettings()}},i=window.crypto.randomUUID(),I=JSON.stringify({id:i,input:t,context:a,path:g,ignoreUndefinedEnvVariable:l});return n.postMessage(I),new Promise((f,u)=>{const d=s=>{if(s.data.id===i){n.removeEventListener("message",d);const o=s.data.err;if(o){const r=new p(o.message);r instanceof p&&(r.path=o.path||"",r.location=o.location),r.type="render";const m=w(t,a);return m.length>0&&(r.extraInfo={subType:"environmentVariable",undefinedEnvironmentVariables:m}),u(r)}return f(s.data.result)}};n.addEventListener("message",d)})}export{L as renderInWorker};
//# sourceMappingURL=templating-handler-Bbt7nL8C.js.map
