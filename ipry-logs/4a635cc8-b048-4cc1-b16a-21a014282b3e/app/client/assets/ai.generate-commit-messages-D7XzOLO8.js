import{r as j,h as Le}from"./chunk-WY5IRSCW-1dc6FieG.js";import{S as Pe}from"./analytics-fpOjxorv.js";import{j as h}from"./jsx-runtime-cpqHEc2t.js";import{F as B}from"./index-DkUPaXby.js";import{r as a,R as x}from"./index-b8gibUUP.js";import{a as Ce,$ as N}from"./Text-CNZDhubC.js";import{n as L,o as P,l as T,E as w,m as Fe,x as H,u as Ie,R as Ae}from"./Button-Pc6dXscm.js";import{a as M,d as Be,f as Ne,e as Se,b as C,c as Re,k as _,g as F,j as De,o as S,$ as je}from"./utils-BWA8Q1_N.js";import{$ as He}from"./PortalProvider-CgpNn0eI.js";import{s as V,$ as z}from"./index-BBURUpBQ.js";import{f as Me}from"./format-i_2FlR3N.js";import{c as _e}from"./router-BoVIwh1i.js";const U=1,y=Symbol.for("react-aria-landmark-manager");function Ve(t){return document.addEventListener("react-aria-landmark-manager-change",t),()=>document.removeEventListener("react-aria-landmark-manager-change",t)}function R(){if(typeof document>"u")return null;let t=document[y];return t&&t.version>=U?t:(document[y]=new Ue,document.dispatchEvent(new CustomEvent("react-aria-landmark-manager-change")),document[y])}function ze(){return V.useSyncExternalStore(Ve,R,R)}class Ue{setupIfNeeded(){this.isListening||(document.addEventListener("keydown",this.f6Handler,{capture:!0}),document.addEventListener("focusin",this.focusinHandler,{capture:!0}),document.addEventListener("focusout",this.focusoutHandler,{capture:!0}),this.isListening=!0)}teardownIfNeeded(){!this.isListening||this.landmarks.length>0||this.refCount>0||(document.removeEventListener("keydown",this.f6Handler,{capture:!0}),document.removeEventListener("focusin",this.focusinHandler,{capture:!0}),document.removeEventListener("focusout",this.focusoutHandler,{capture:!0}),this.isListening=!1)}focusLandmark(e,n){var r,i;(i=this.landmarks.find(o=>o.ref.current===e))===null||i===void 0||(r=i.focus)===null||r===void 0||r.call(i,n)}getLandmarksByRole(e){return new Set(this.landmarks.filter(n=>n.role===e))}getLandmarkByRole(e){return this.landmarks.find(n=>n.role===e)}addLandmark(e){if(this.setupIfNeeded(),this.landmarks.find(i=>i.ref===e.ref)||!e.ref.current)return;if(this.landmarks.filter(i=>i.role==="main").length>1,this.landmarks.length===0){this.landmarks=[e],this.checkLabels(e.role);return}let n=0,r=this.landmarks.length-1;for(;n<=r;){let i=Math.floor((n+r)/2),o=e.ref.current.compareDocumentPosition(this.landmarks[i].ref.current);!!(o&Node.DOCUMENT_POSITION_PRECEDING||o&Node.DOCUMENT_POSITION_CONTAINS)?n=i+1:r=i-1}this.landmarks.splice(n,0,e),this.checkLabels(e.role)}updateLandmark(e){let n=this.landmarks.findIndex(r=>r.ref===e.ref);n>=0&&(this.landmarks[n]={...this.landmarks[n],...e},this.checkLabels(this.landmarks[n].role))}removeLandmark(e){this.landmarks=this.landmarks.filter(n=>n.ref!==e),this.teardownIfNeeded()}checkLabels(e){let n=this.getLandmarksByRole(e);n.size>1&&[...n].filter(r=>!r.label)}closestLandmark(e){let n=new Map(this.landmarks.map(i=>[i.ref.current,i])),r=e;for(;r&&!n.has(r)&&r!==document.body&&r.parentElement;)r=r.parentElement;return n.get(r)}getNextLandmark(e,{backward:n}){var r;let i=this.closestLandmark(e),o=n?this.landmarks.length-1:0;i&&(o=this.landmarks.indexOf(i)+(n?-1:1));let l=()=>{if(o<0){if(!e.dispatchEvent(new CustomEvent("react-aria-landmark-navigation",{detail:{direction:"backward"},bubbles:!0,cancelable:!0})))return!0;o=this.landmarks.length-1}else if(o>=this.landmarks.length){if(!e.dispatchEvent(new CustomEvent("react-aria-landmark-navigation",{detail:{direction:"forward"},bubbles:!0,cancelable:!0})))return!0;o=0}return o<0||o>=this.landmarks.length};if(l())return;let d=o;for(;!((r=this.landmarks[o].ref.current)===null||r===void 0)&&r.closest("[aria-hidden=true]");){if(o+=n?-1:1,l())return;if(o===d)break}return this.landmarks[o]}f6Handler(e){e.key==="F6"&&(e.altKey?this.focusMain():this.navigate(e.target,e.shiftKey))&&(e.preventDefault(),e.stopPropagation())}focusMain(){let e=this.getLandmarkByRole("main");return e&&e.ref.current&&document.contains(e.ref.current)?(this.focusLandmark(e.ref.current,"forward"),!0):!1}navigate(e,n){let r=this.getNextLandmark(e,{backward:n});if(!r)return!1;if(r.lastFocused){let i=r.lastFocused;if(document.body.contains(i))return i.focus(),!0}return r.ref.current&&document.contains(r.ref.current)?(this.focusLandmark(r.ref.current,n?"backward":"forward"),!0):!1}focusinHandler(e){let n=this.closestLandmark(e.target);n&&n.ref.current!==e.target&&this.updateLandmark({ref:n.ref,lastFocused:e.target});let r=e.relatedTarget;if(r){let i=this.closestLandmark(r);i&&i.ref.current===r&&i.blur()}}focusoutHandler(e){let n=e.target,r=e.relatedTarget;if(!r||r===document){let i=this.closestLandmark(n);i&&i.ref.current===n&&i.blur()}}createLandmarkController(){let e=this;return e.refCount++,e.setupIfNeeded(),{navigate(n,r){let i=r?.from||document.activeElement;return e.navigate(i,n==="backward")},focusNext(n){let r=n?.from||document.activeElement;return e.navigate(r,!1)},focusPrevious(n){let r=n?.from||document.activeElement;return e.navigate(r,!0)},focusMain(){return e.focusMain()},dispose(){e&&(e.refCount--,e.teardownIfNeeded(),e=null)}}}registerLandmark(e){return this.landmarks.find(n=>n.ref===e.ref)?this.updateLandmark(e):this.addLandmark(e),()=>this.removeLandmark(e.ref)}constructor(){this.landmarks=[],this.isListening=!1,this.refCount=0,this.version=U,this.f6Handler=this.f6Handler.bind(this),this.focusinHandler=this.focusinHandler.bind(this),this.focusoutHandler=this.focusoutHandler.bind(this)}}function Oe(t,e){const{role:n,"aria-label":r,"aria-labelledby":i,focus:o}=t;let l=ze(),d=r||i,[m,s]=a.useState(!1),u=a.useCallback(()=>{s(!0)},[s]),$=a.useCallback(()=>{s(!1)},[s]);return M(()=>{if(l)return l.registerLandmark({ref:e,label:d,role:n,focus:o||u,blur:$})},[l,d,e,n,o,u,$]),a.useEffect(()=>{var f;m&&((f=e.current)===null||f===void 0||f.focus())},[m,e]),{landmarkProps:{role:n,tabIndex:m?-1:void 0,"aria-label":r,"aria-labelledby":i}}}var O={};O={close:"إغلاق",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} إشعار`,other:()=>`${e.number(t.count)} إشعارات`})}.`};var W={};W={close:"Затвори",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} известие`,other:()=>`${e.number(t.count)} известия`})}.`};var K={};K={close:"Zavřít",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} oznámení`,other:()=>`${e.number(t.count)} oznámení`})}.`};var Z={};Z={close:"Luk",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} besked`,other:()=>`${e.number(t.count)} beskeder`})}.`};var G={};G={close:"Schließen",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} Benachrichtigung`,other:()=>`${e.number(t.count)} Benachrichtigungen`})}.`};var q={};q={close:"Κλείσιμο",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} ειδοποίηση`,other:()=>`${e.number(t.count)} ειδοποιήσεις`})}.`};var J={};J={close:"Close",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} notification`,other:()=>`${e.number(t.count)} notifications`})}.`};var Y={};Y={close:"Cerrar",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} notificación`,other:()=>`${e.number(t.count)} notificaciones`})}.`};var Q={};Q={close:"Sule",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} teatis`,other:()=>`${e.number(t.count)} teatist`})}.`};var X={};X={close:"Sulje",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} ilmoitus`,other:()=>`${e.number(t.count)} ilmoitusta`})}.`};var ee={};ee={close:"Fermer",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} notification`,other:()=>`${e.number(t.count)} notifications`})}.`};var te={};te={close:"סגור",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} התראה`,other:()=>`${e.number(t.count)} התראות`})}.`};var ne={};ne={close:"Zatvori",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} obavijest`,other:()=>`${e.number(t.count)} obavijesti`})}.`};var re={};re={close:"Bezárás",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} értesítés`,other:()=>`${e.number(t.count)} értesítés`})}.`};var ie={};ie={close:"Chiudi",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} notifica`,other:()=>`${e.number(t.count)} notifiche`})}.`};var oe={};oe={close:"閉じる",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} 個の通知`,other:()=>`${e.number(t.count)} 個の通知`})}。`};var ae={};ae={close:"닫기",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)}개 알림`,other:()=>`${e.number(t.count)}개 알림`})}.`};var se={};se={close:"Uždaryti",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} pranešimas`,other:()=>`${e.number(t.count)} pranešimai`})}.`};var ue={};ue={close:"Aizvērt",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} paziņojums`,other:()=>`${e.number(t.count)} paziņojumi`})}.`};var ce={};ce={close:"Lukk",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} varsling`,other:()=>`${e.number(t.count)} varsler`})}.`};var le={};le={close:"Sluiten",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} melding`,other:()=>`${e.number(t.count)} meldingen`})}.`};var de={};de={close:"Zamknij",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} powiadomienie`,few:()=>`${e.number(t.count)} powiadomienia`,many:()=>`${e.number(t.count)} powiadomień`,other:()=>`${e.number(t.count)} powiadomienia`})}.`};var fe={};fe={close:"Fechar",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} notificação`,other:()=>`${e.number(t.count)} notificações`})}.`};var be={};be={close:"Fechar",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} notificação`,other:()=>`${e.number(t.count)} notificações`})}.`};var me={};me={close:"Închideţi",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} notificare`,other:()=>`${e.number(t.count)} notificări`})}.`};var $e={};$e={close:"Закрыть",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} уведомление`,other:()=>`${e.number(t.count)} уведомления`})}.`};var he={};he={close:"Zatvoriť",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} oznámenie`,few:()=>`${e.number(t.count)} oznámenia`,other:()=>`${e.number(t.count)} oznámení`})}.`};var pe={};pe={close:"Zapri",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} obvestilo`,two:()=>`${e.number(t.count)} obvestili`,few:()=>`${e.number(t.count)} obvestila`,other:()=>`${e.number(t.count)} obvestil`})}.`};var ve={};ve={close:"Zatvori",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} obaveštenje`,other:()=>`${e.number(t.count)} obaveštenja`})}.`};var xe={};xe={close:"Stäng",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} meddelande`,other:()=>`${e.number(t.count)} meddelanden`})}.`};var ke={};ke={close:"Kapat",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} bildirim`,other:()=>`${e.number(t.count)} bildirim`})}.`};var ge={};ge={close:"Закрити",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} сповіщення`,other:()=>`${e.number(t.count)} сповіщення`})}.`};var Ee={};Ee={close:"关闭",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} 个通知`,other:()=>`${e.number(t.count)} 个通知`})}。`};var we={};we={close:"關閉",notifications:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} 個通知`,other:()=>`${e.number(t.count)} 個通知`})}。`};var I={};I={"ar-AE":O,"bg-BG":W,"cs-CZ":K,"da-DK":Z,"de-DE":G,"el-GR":q,"en-US":J,"es-ES":Y,"et-EE":Q,"fi-FI":X,"fr-FR":ee,"he-IL":te,"hr-HR":ne,"hu-HU":re,"it-IT":ie,"ja-JP":oe,"ko-KR":ae,"lt-LT":se,"lv-LV":ue,"nb-NO":ce,"nl-NL":le,"pl-PL":de,"pt-BR":fe,"pt-PT":be,"ro-RO":me,"ru-RU":$e,"sk-SK":he,"sl-SI":pe,"sr-SP":ve,"sv-SE":xe,"tr-TR":ke,"uk-UA":ge,"zh-CN":Ee,"zh-TW":we};function We(t){return t&&t.__esModule?t.default:t}function Ke(t,e,n){let{key:r,timer:i,timeout:o}=t.toast;a.useEffect(()=>{if(!(i==null||o==null))return i.reset(o),()=>{i.pause()}},[i,o]);let l=Be(),d=Ne(),m=z(We(I),"@react-aria/toast"),[s,u]=a.useState(!1);return a.useEffect(()=>{u(!0)},[]),{toastProps:{...L(t,{labelable:!0}),role:"alertdialog","aria-modal":"false","aria-labelledby":t["aria-labelledby"]||l,"aria-describedby":t["aria-describedby"]||d,tabIndex:0},contentProps:{role:"alert","aria-atomic":"true","aria-hidden":s?void 0:"true"},titleProps:{id:l},descriptionProps:{id:d},closeButtonProps:{"aria-label":m.format("close"),onPress:()=>e.close(r)}}}function Ze(t){return t&&t.__esModule?t.default:t}function Ge(t,e,n){let r=z(Ze(I),"@react-aria/toast"),{landmarkProps:i}=Oe({role:"region","aria-label":t["aria-label"]||r.format("notifications",{count:e.visibleToasts.length})},n),o=a.useRef(!1),l=a.useRef(!1),d=Se(()=>{o.current||l.current?e.pauseAll():e.resumeAll()}),{hoverProps:m}=P({onHoverStart:()=>{o.current=!0,d()},onHoverEnd:()=>{o.current=!1,d()}}),s=a.useRef([]),u=a.useRef(e.visibleToasts),$=a.useRef(null);M(()=>{if($.current===-1||e.visibleToasts.length===0||!n.current){s.current=[],u.current=e.visibleToasts;return}if(s.current=[...n.current.querySelectorAll('[role="alertdialog"]')],u.current.length===e.visibleToasts.length&&e.visibleToasts.every((b,p)=>b.key===u.current[p].key)){u.current=e.visibleToasts;return}let c=u.current.map((b,p)=>({...b,i:p,isRemoved:!e.visibleToasts.some(v=>b.key===v.key)})),k=c.findIndex(b=>b.i===$.current&&b.isRemoved);if(k>-1){var g;if(T()==="pointer"&&(!((g=f.current)===null||g===void 0)&&g.isConnected))w(f.current);else{let b=0,p,v;for(;b<=k;)c[b].isRemoved||(v=Math.max(0,b-1)),b++;for(;b<c.length;){if(!c[b].isRemoved){p=b-1;break}b++}v===void 0&&p===void 0&&(v=0),v>=0&&v<s.current.length?w(s.current[v]):p>=0&&p<s.current.length&&w(s.current[p])}}u.current=e.visibleToasts},[e.visibleToasts,n,d]);let f=a.useRef(null),{focusWithinProps:E}=Fe({onFocusWithin:c=>{l.current=!0,f.current=c.relatedTarget,d()},onBlurWithin:()=>{l.current=!1,f.current=null,d()}});return a.useEffect(()=>{var c;e.visibleToasts.length===0&&(!((c=f.current)===null||c===void 0)&&c.isConnected)&&(T()==="pointer"?w(f.current):f.current.focus(),f.current=null)},[n,e.visibleToasts.length]),a.useEffect(()=>()=>{var c;!((c=f.current)===null||c===void 0)&&c.isConnected&&(T()==="pointer"?w(f.current):f.current.focus(),f.current=null)},[n]),{regionProps:C(i,m,E,{tabIndex:-1,"data-react-aria-top-layer":!0,onFocus:c=>{let k=c.target.closest('[role="alertdialog"]');$.current=s.current.findIndex(g=>g===k)},onBlur:()=>{$.current=-1}})}}function qe(t){let e=a.useCallback(i=>t.subscribe(i),[t]),n=a.useCallback(()=>t.visibleToasts,[t]);return{visibleToasts:V.useSyncExternalStore(e,n,n),add:(i,o)=>t.add(i,o),close:i=>t.close(i),pauseAll:()=>t.pauseAll(),resumeAll:()=>t.resumeAll()}}class Je{runWithWrapUpdate(e,n){this.wrapUpdate?this.wrapUpdate(e,n):e()}subscribe(e){return this.subscriptions.add(e),()=>this.subscriptions.delete(e)}add(e,n={}){let r="_"+Math.random().toString(36).slice(2),i={...n,content:e,key:r,timer:n.timeout?new Ye(()=>this.close(r),n.timeout):void 0};return this.queue.unshift(i),this.updateVisibleToasts("add"),r}close(e){let n=this.queue.findIndex(o=>o.key===e);if(n>=0){var r,i;(r=(i=this.queue[n]).onClose)===null||r===void 0||r.call(i),this.queue.splice(n,1)}this.updateVisibleToasts("remove")}updateVisibleToasts(e){this.visibleToasts=this.queue.slice(0,this.maxVisibleToasts),this.runWithWrapUpdate(()=>{for(let n of this.subscriptions)n()},e)}pauseAll(){for(let e of this.visibleToasts)e.timer&&e.timer.pause()}resumeAll(){for(let e of this.visibleToasts)e.timer&&e.timer.resume()}clear(){this.queue=[],this.updateVisibleToasts("clear")}constructor(e){this.queue=[],this.subscriptions=new Set,this.visibleToasts=[];var n;this.maxVisibleToasts=(n=e?.maxVisibleToasts)!==null&&n!==void 0?n:1/0,this.wrapUpdate=e?.wrapUpdate}}class Ye{reset(e){this.remaining=e,this.resume()}pause(){this.timerId!=null&&(clearTimeout(this.timerId),this.timerId=null,this.remaining-=Date.now()-this.startTime)}resume(){this.remaining<=0||(this.startTime=Date.now(),this.timerId=setTimeout(()=>{this.timerId=null,this.remaining=0,this.callback()},this.remaining))}constructor(e,n){this.startTime=null,this.remaining=n,this.callback=e}}const A=a.createContext(null),Qe=a.forwardRef(function(e,n){let r=Re(),i=qe(e.queue),o=_(n),{regionProps:l}=Ge(e,i,o),{focusProps:d,isFocused:m,isFocusVisible:s}=H(),{hoverProps:u,isHovered:$}=P({}),f=F({...e,children:void 0,defaultClassName:"react-aria-ToastRegion",values:{visibleToasts:i.visibleToasts,isHovered:$,isFocused:m,isFocusVisible:s}}),{direction:E}=Ie(),c,{getContainer:k}=He();r||(c=document.body,k&&(c=k()));let g=L(e,{global:!0}),b=x.createElement(A.Provider,{value:i},x.createElement("div",{...C(g,f,l,d,u),dir:E,ref:o,"data-hovered":$||void 0,"data-focused":m||void 0,"data-focus-visible":s||void 0},typeof e.children=="function"?x.createElement(Xe,{...e,className:void 0,style:{display:"contents"}},e.children):e.children));return i.visibleToasts.length>0&&c?j.createPortal(b,c):null}),Xe=a.forwardRef(function(e,n){let r=a.useContext(A),{hoverProps:i,isHovered:o}=P({}),l=F({...e,children:void 0,defaultClassName:"react-aria-ToastList",values:{visibleToasts:r.visibleToasts,isFocused:!1,isFocusVisible:!1,isHovered:o}});return x.createElement("ol",{...i,...l,ref:n},r.visibleToasts.map(d=>x.createElement("li",{key:d.key,style:{display:"contents"}},e.children({toast:d}))))}),et=a.forwardRef(function(e,n){let r=a.useContext(A),i=_(n),{toastProps:o,contentProps:l,titleProps:d,descriptionProps:m,closeButtonProps:s}=Ke(e,r,i),{focusProps:u,isFocused:$,isFocusVisible:f}=H(),E=F({...e,defaultClassName:"react-aria-Toast",values:{toast:e.toast,isFocused:$,isFocusVisible:f}}),c=L(e,{global:!0});return x.createElement("div",{...C(c,E,o,u),ref:i,"data-focused":$||void 0,"data-focus-visible":f||void 0},x.createElement(De,{values:[[Te,l],[Ce,{slots:{[S]:{},title:d,description:m}}],[Ae,{slots:{[S]:{},close:s}}]]},E.children))}),Te=a.createContext({}),tt=a.forwardRef(function(e,n){return[e,n]=je(e,n,Te),x.createElement("div",{className:"react-aria-ToastContent",...e,ref:n},e.children)}),ye=new Je({wrapUpdate(t){"startViewTransition"in document?document.startViewTransition(()=>{j.flushSync(t)}):t()}}),D=(t,e)=>(t.time||(t.time=Me(new Date,"HH:mm:ss aa")),ye.add(t,{timeout:e?.timeout??3e3})),nt={info:"border-[--color-bg]",success:"border-[rgba(var(--color-success-rgb),1)]",warning:"border-[rgba(var(--color-warning-rgb),1)]",error:"border-[rgba(var(--color-danger-rgb),1)]"},rt={info:"text-[--color-font]",success:"text-[rgba(var(--color-success-rgb),1)]",warning:"text-[rgba(var(--color-warning-rgb),1)]",error:"text-[rgba(var(--color-danger-rgb),1)]"},it={info:"info-circle",success:"check-circle",warning:"exclamation-triangle",error:"exclamation-triangle"},pt=()=>h.jsx(Qe,{queue:ye,className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 rounded-lg outline-none",children:({toast:t})=>h.jsx(et,{toast:t,style:{viewTransitionName:t.key},className:"flex items-center gap-4 rounded-lg border border-solid border-[--hl-sm] bg-[--color-bg] px-3 py-2 text-sm text-[--color-font] shadow-lg outline-none [view-transition-name:toast]",children:h.jsx(tt,{className:"flex min-w-0 flex-1 flex-col",children:h.jsxs("div",{className:"flex items-center gap-2",children:[t.content.icon&&h.jsxs("span",{className:`relative flex size-6 shrink-0 items-center justify-center rounded-full border border-dashed border-[--hl-sm] bg-[--color-bg] text-[--color-font] ${nt[t.content.status||"info"]}`,children:[h.jsx(B,{icon:t.content.icon,className:"size-5"}),t.content.status&&t.content.status!=="info"&&h.jsx(B,{icon:it[t.content.status],className:`absolute bottom-0 right-0 size-3 translate-x-1/2 translate-y-1/2 transform ${rt[t.content.status]}`})]}),h.jsxs("div",{className:"flex w-full flex-col gap-1",children:[h.jsxs(N,{slot:"title",className:"flex w-full items-center gap-1",children:[h.jsx("span",{className:"flex-1",children:t.content.title}),t.content.time&&h.jsx("span",{className:"text-xs text-[--hl]",children:t.content.time})]}),t.content.description&&h.jsx(N,{slot:"description",className:"text-xs",children:t.content.description})]})]})})})});async function vt(t){const{projectId:e}=await t.request.json();try{const n=await window.main.llm.getAIFeatureEnabled("aiCommitMessages"),r=await window.main.llm.getCurrentConfig()!==null;if(!n||!r)return{error:"Enable generating commit messages with AI in Insomnia Preferences → AI Settings to use this feature."};const{changes:i}=await window.main.git.gitChangesLoader({projectId:e});if(i.staged.length>0)return{error:"You have staged changes. Please commit or unstage them and try again."};const o=await window.main.git.diff(),{log:l}=await window.main.git.gitLogLoader({projectId:e}),d=performance.now(),{error:m,commits:s}=await window.main.generateCommitsFromDiff({diff:o,recent_commits:l.slice(0,5).map(({commit:u})=>u.message).join(`
`)});return window.main.trackSegmentEvent({event:Pe.recommendCommitsGenerated,properties:{file_count:s?.map(u=>u.files?.length||0)?.reduce((u,$)=>u+$,0),group_count:s?.length||0,time_to_generate_in_seconds:(performance.now()-d)/1e3,has_error:!!m}}),m||!s?(D({title:"Failed to generate commit messages",icon:"star",status:"error",description:`The AI service returned invalid data. Please try again. ${m}`}),{error:`The AI service returned invalid data. Please try again. ${m}`}):{commits:s.map(u=>({id:crypto.randomUUID(),...u}))}}catch(n){const r=n instanceof Error?n.message:String(n);return D({title:"Failed to generate commit messages",icon:"star",status:"error",description:`There was an error communicating with the AI service. Please try again. ${r}`}),{error:`There was an error communicating with the AI service. Please try again. ${r}`}}}const xt=_e(t=>e=>{t(e,{action:Le("/ai/generate-commit-messages"),method:"POST",encType:"application/json"})});export{pt as T,vt as c,D as s,xt as u};
//# sourceMappingURL=ai.generate-commit-messages-D7XzOLO8.js.map
