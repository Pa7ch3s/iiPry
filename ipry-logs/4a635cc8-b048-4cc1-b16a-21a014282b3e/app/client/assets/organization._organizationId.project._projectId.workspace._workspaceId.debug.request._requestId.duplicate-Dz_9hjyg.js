import{h as q}from"./chunk-WY5IRSCW-1dc6FieG.js";import{r as l}from"./chunk-OIYGIGL5-BYynBxW5.js";import{cH as f,k as g,cT as p,ad as m}from"./index-BnTlsbFl.js";import{i as r}from"./invariant-DVddvGrP.js";import{c as k}from"./router-BoVIwh1i.js";async function F({params:a,request:o}){const{organizationId:s,projectId:i,workspaceId:n,requestId:c}=a,{name:t,parentId:e}=await o.json(),d=await f(c);if(r(d,"Request not found"),e){const I=await g.getById(e);r(I,"Workspace is required");const w=await p(d,{name:t,parentId:e,metaSortKey:-1e9});return r(w,"Failed to duplicate request"),m.incrementCreatedRequests(),null}const u=await p(d,{name:t});return r(u,"Failed to duplicate request"),m.incrementCreatedRequests(),l(q("/organization/:organizationId/project/:projectId/workspace/:workspaceId/debug/request/:requestId",{organizationId:s,projectId:i,workspaceId:n,requestId:u._id}))}const S=k(a=>({organizationId:o,projectId:s,workspaceId:i,requestId:n,name:c,parentId:t})=>{const e=q("/organization/:organizationId/project/:projectId/workspace/:workspaceId/debug/request/:requestId/duplicate",{organizationId:o,projectId:s,workspaceId:i,requestId:n});return a(JSON.stringify({name:c,parentId:t}),{action:e,method:"POST",encType:"application/json"})});export{F as c,S as u};
//# sourceMappingURL=organization._organizationId.project._projectId.workspace._workspaceId.debug.request._requestId.duplicate-Dz_9hjyg.js.map
